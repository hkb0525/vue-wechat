{
  "version": 3,
  "sources": ["browser-external:crypto", "browser-external:util", "browser-external:node:fs", "browser-external:node:perf_hooks", "browser-external:tty", "browser-external:child_process", "browser-external:worker_threads", "../../esbuild/lib/main.js", "browser-external:events", "browser-external:assert", "browser-external:net", "browser-external:http", "browser-external:stream", "browser-external:node:os", "browser-external:node:crypto", "browser-external:node:util", "browser-external:node:dns", "browser-external:buffer", "browser-external:module", "browser-external:zlib", "browser-external:https", "browser-external:tls", "browser-external:querystring", "browser-external:node:readline", "browser-external:node:child_process", "browser-external:node:zlib", "../../vite/dist/node/chunks/dep-0fc8e132.js", "../../vite/dist/node/constants.js"],
  "sourcesContent": ["module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"crypto\" has been externalized for browser compatibility. Cannot access \"crypto.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"util\" has been externalized for browser compatibility. Cannot access \"util.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:fs\" has been externalized for browser compatibility. Cannot access \"node:fs.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:perf_hooks\" has been externalized for browser compatibility. Cannot access \"node:perf_hooks.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"tty\" has been externalized for browser compatibility. Cannot access \"tty.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"child_process\" has been externalized for browser compatibility. Cannot access \"child_process.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"worker_threads\" has been externalized for browser compatibility. Cannot access \"worker_threads.${key}\" in client code.`)\n    }\n  }\n}))", "\"use strict\";\r\nvar __create = Object.create;\r\nvar __defProp = Object.defineProperty;\r\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\r\nvar __getOwnPropNames = Object.getOwnPropertyNames;\r\nvar __getProtoOf = Object.getPrototypeOf;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __export = (target, all) => {\r\n  for (var name in all)\r\n    __defProp(target, name, { get: all[name], enumerable: true });\r\n};\r\nvar __copyProps = (to, from, except, desc) => {\r\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\r\n    for (let key of __getOwnPropNames(from))\r\n      if (!__hasOwnProp.call(to, key) && key !== except)\r\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\r\n  }\r\n  return to;\r\n};\r\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\r\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\r\n  mod\r\n));\r\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\r\n\r\n// lib/npm/node.ts\r\nvar node_exports = {};\r\n__export(node_exports, {\r\n  analyzeMetafile: () => analyzeMetafile,\r\n  analyzeMetafileSync: () => analyzeMetafileSync,\r\n  build: () => build,\r\n  buildSync: () => buildSync,\r\n  default: () => node_default,\r\n  formatMessages: () => formatMessages,\r\n  formatMessagesSync: () => formatMessagesSync,\r\n  initialize: () => initialize,\r\n  serve: () => serve,\r\n  transform: () => transform,\r\n  transformSync: () => transformSync,\r\n  version: () => version\r\n});\r\nmodule.exports = __toCommonJS(node_exports);\r\n\r\n// lib/shared/stdio_protocol.ts\r\nfunction encodePacket(packet) {\r\n  let visit = (value) => {\r\n    if (value === null) {\r\n      bb.write8(0);\r\n    } else if (typeof value === \"boolean\") {\r\n      bb.write8(1);\r\n      bb.write8(+value);\r\n    } else if (typeof value === \"number\") {\r\n      bb.write8(2);\r\n      bb.write32(value | 0);\r\n    } else if (typeof value === \"string\") {\r\n      bb.write8(3);\r\n      bb.write(encodeUTF8(value));\r\n    } else if (value instanceof Uint8Array) {\r\n      bb.write8(4);\r\n      bb.write(value);\r\n    } else if (value instanceof Array) {\r\n      bb.write8(5);\r\n      bb.write32(value.length);\r\n      for (let item of value) {\r\n        visit(item);\r\n      }\r\n    } else {\r\n      let keys = Object.keys(value);\r\n      bb.write8(6);\r\n      bb.write32(keys.length);\r\n      for (let key of keys) {\r\n        bb.write(encodeUTF8(key));\r\n        visit(value[key]);\r\n      }\r\n    }\r\n  };\r\n  let bb = new ByteBuffer();\r\n  bb.write32(0);\r\n  bb.write32(packet.id << 1 | +!packet.isRequest);\r\n  visit(packet.value);\r\n  writeUInt32LE(bb.buf, bb.len - 4, 0);\r\n  return bb.buf.subarray(0, bb.len);\r\n}\r\nfunction decodePacket(bytes) {\r\n  let visit = () => {\r\n    switch (bb.read8()) {\r\n      case 0:\r\n        return null;\r\n      case 1:\r\n        return !!bb.read8();\r\n      case 2:\r\n        return bb.read32();\r\n      case 3:\r\n        return decodeUTF8(bb.read());\r\n      case 4:\r\n        return bb.read();\r\n      case 5: {\r\n        let count = bb.read32();\r\n        let value2 = [];\r\n        for (let i = 0; i < count; i++) {\r\n          value2.push(visit());\r\n        }\r\n        return value2;\r\n      }\r\n      case 6: {\r\n        let count = bb.read32();\r\n        let value2 = {};\r\n        for (let i = 0; i < count; i++) {\r\n          value2[decodeUTF8(bb.read())] = visit();\r\n        }\r\n        return value2;\r\n      }\r\n      default:\r\n        throw new Error(\"Invalid packet\");\r\n    }\r\n  };\r\n  let bb = new ByteBuffer(bytes);\r\n  let id = bb.read32();\r\n  let isRequest = (id & 1) === 0;\r\n  id >>>= 1;\r\n  let value = visit();\r\n  if (bb.ptr !== bytes.length) {\r\n    throw new Error(\"Invalid packet\");\r\n  }\r\n  return { id, isRequest, value };\r\n}\r\nvar ByteBuffer = class {\r\n  constructor(buf = new Uint8Array(1024)) {\r\n    this.buf = buf;\r\n    this.len = 0;\r\n    this.ptr = 0;\r\n  }\r\n  _write(delta) {\r\n    if (this.len + delta > this.buf.length) {\r\n      let clone = new Uint8Array((this.len + delta) * 2);\r\n      clone.set(this.buf);\r\n      this.buf = clone;\r\n    }\r\n    this.len += delta;\r\n    return this.len - delta;\r\n  }\r\n  write8(value) {\r\n    let offset = this._write(1);\r\n    this.buf[offset] = value;\r\n  }\r\n  write32(value) {\r\n    let offset = this._write(4);\r\n    writeUInt32LE(this.buf, value, offset);\r\n  }\r\n  write(bytes) {\r\n    let offset = this._write(4 + bytes.length);\r\n    writeUInt32LE(this.buf, bytes.length, offset);\r\n    this.buf.set(bytes, offset + 4);\r\n  }\r\n  _read(delta) {\r\n    if (this.ptr + delta > this.buf.length) {\r\n      throw new Error(\"Invalid packet\");\r\n    }\r\n    this.ptr += delta;\r\n    return this.ptr - delta;\r\n  }\r\n  read8() {\r\n    return this.buf[this._read(1)];\r\n  }\r\n  read32() {\r\n    return readUInt32LE(this.buf, this._read(4));\r\n  }\r\n  read() {\r\n    let length = this.read32();\r\n    let bytes = new Uint8Array(length);\r\n    let ptr = this._read(bytes.length);\r\n    bytes.set(this.buf.subarray(ptr, ptr + length));\r\n    return bytes;\r\n  }\r\n};\r\nvar encodeUTF8;\r\nvar decodeUTF8;\r\nif (typeof TextEncoder !== \"undefined\" && typeof TextDecoder !== \"undefined\") {\r\n  let encoder = new TextEncoder();\r\n  let decoder = new TextDecoder();\r\n  encodeUTF8 = (text) => encoder.encode(text);\r\n  decodeUTF8 = (bytes) => decoder.decode(bytes);\r\n} else if (typeof Buffer !== \"undefined\") {\r\n  encodeUTF8 = (text) => {\r\n    let buffer = Buffer.from(text);\r\n    if (!(buffer instanceof Uint8Array)) {\r\n      buffer = new Uint8Array(buffer);\r\n    }\r\n    return buffer;\r\n  };\r\n  decodeUTF8 = (bytes) => {\r\n    let { buffer, byteOffset, byteLength } = bytes;\r\n    return Buffer.from(buffer, byteOffset, byteLength).toString();\r\n  };\r\n} else {\r\n  throw new Error(\"No UTF-8 codec found\");\r\n}\r\nfunction readUInt32LE(buffer, offset) {\r\n  return buffer[offset++] | buffer[offset++] << 8 | buffer[offset++] << 16 | buffer[offset++] << 24;\r\n}\r\nfunction writeUInt32LE(buffer, value, offset) {\r\n  buffer[offset++] = value;\r\n  buffer[offset++] = value >> 8;\r\n  buffer[offset++] = value >> 16;\r\n  buffer[offset++] = value >> 24;\r\n}\r\n\r\n// lib/shared/common.ts\r\nfunction validateTarget(target) {\r\n  target += \"\";\r\n  if (target.indexOf(\",\") >= 0)\r\n    throw new Error(`Invalid target: ${target}`);\r\n  return target;\r\n}\r\nvar canBeAnything = () => null;\r\nvar mustBeBoolean = (value) => typeof value === \"boolean\" ? null : \"a boolean\";\r\nvar mustBeBooleanOrObject = (value) => typeof value === \"boolean\" || typeof value === \"object\" && !Array.isArray(value) ? null : \"a boolean or an object\";\r\nvar mustBeString = (value) => typeof value === \"string\" ? null : \"a string\";\r\nvar mustBeRegExp = (value) => value instanceof RegExp ? null : \"a RegExp object\";\r\nvar mustBeInteger = (value) => typeof value === \"number\" && value === (value | 0) ? null : \"an integer\";\r\nvar mustBeFunction = (value) => typeof value === \"function\" ? null : \"a function\";\r\nvar mustBeArray = (value) => Array.isArray(value) ? null : \"an array\";\r\nvar mustBeObject = (value) => typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"an object\";\r\nvar mustBeWebAssemblyModule = (value) => value instanceof WebAssembly.Module ? null : \"a WebAssembly.Module\";\r\nvar mustBeArrayOrRecord = (value) => typeof value === \"object\" && value !== null ? null : \"an array or an object\";\r\nvar mustBeObjectOrNull = (value) => typeof value === \"object\" && !Array.isArray(value) ? null : \"an object or null\";\r\nvar mustBeStringOrBoolean = (value) => typeof value === \"string\" || typeof value === \"boolean\" ? null : \"a string or a boolean\";\r\nvar mustBeStringOrObject = (value) => typeof value === \"string\" || typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"a string or an object\";\r\nvar mustBeStringOrArray = (value) => typeof value === \"string\" || Array.isArray(value) ? null : \"a string or an array\";\r\nvar mustBeStringOrUint8Array = (value) => typeof value === \"string\" || value instanceof Uint8Array ? null : \"a string or a Uint8Array\";\r\nfunction getFlag(object, keys, key, mustBeFn) {\r\n  let value = object[key];\r\n  keys[key + \"\"] = true;\r\n  if (value === void 0)\r\n    return void 0;\r\n  let mustBe = mustBeFn(value);\r\n  if (mustBe !== null)\r\n    throw new Error(`\"${key}\" must be ${mustBe}`);\r\n  return value;\r\n}\r\nfunction checkForInvalidFlags(object, keys, where) {\r\n  for (let key in object) {\r\n    if (!(key in keys)) {\r\n      throw new Error(`Invalid option ${where}: \"${key}\"`);\r\n    }\r\n  }\r\n}\r\nfunction validateInitializeOptions(options) {\r\n  let keys = /* @__PURE__ */ Object.create(null);\r\n  let wasmURL = getFlag(options, keys, \"wasmURL\", mustBeString);\r\n  let wasmModule = getFlag(options, keys, \"wasmModule\", mustBeWebAssemblyModule);\r\n  let worker = getFlag(options, keys, \"worker\", mustBeBoolean);\r\n  checkForInvalidFlags(options, keys, \"in initialize() call\");\r\n  return {\r\n    wasmURL,\r\n    wasmModule,\r\n    worker\r\n  };\r\n}\r\nfunction validateMangleCache(mangleCache) {\r\n  let validated;\r\n  if (mangleCache !== void 0) {\r\n    validated = /* @__PURE__ */ Object.create(null);\r\n    for (let key of Object.keys(mangleCache)) {\r\n      let value = mangleCache[key];\r\n      if (typeof value === \"string\" || value === false) {\r\n        validated[key] = value;\r\n      } else {\r\n        throw new Error(`Expected ${JSON.stringify(key)} in mangle cache to map to either a string or false`);\r\n      }\r\n    }\r\n  }\r\n  return validated;\r\n}\r\nfunction pushLogFlags(flags, options, keys, isTTY2, logLevelDefault) {\r\n  let color = getFlag(options, keys, \"color\", mustBeBoolean);\r\n  let logLevel = getFlag(options, keys, \"logLevel\", mustBeString);\r\n  let logLimit = getFlag(options, keys, \"logLimit\", mustBeInteger);\r\n  if (color !== void 0)\r\n    flags.push(`--color=${color}`);\r\n  else if (isTTY2)\r\n    flags.push(`--color=true`);\r\n  flags.push(`--log-level=${logLevel || logLevelDefault}`);\r\n  flags.push(`--log-limit=${logLimit || 0}`);\r\n}\r\nfunction pushCommonFlags(flags, options, keys) {\r\n  let legalComments = getFlag(options, keys, \"legalComments\", mustBeString);\r\n  let sourceRoot = getFlag(options, keys, \"sourceRoot\", mustBeString);\r\n  let sourcesContent = getFlag(options, keys, \"sourcesContent\", mustBeBoolean);\r\n  let target = getFlag(options, keys, \"target\", mustBeStringOrArray);\r\n  let format = getFlag(options, keys, \"format\", mustBeString);\r\n  let globalName = getFlag(options, keys, \"globalName\", mustBeString);\r\n  let mangleProps = getFlag(options, keys, \"mangleProps\", mustBeRegExp);\r\n  let reserveProps = getFlag(options, keys, \"reserveProps\", mustBeRegExp);\r\n  let mangleQuoted = getFlag(options, keys, \"mangleQuoted\", mustBeBoolean);\r\n  let minify = getFlag(options, keys, \"minify\", mustBeBoolean);\r\n  let minifySyntax = getFlag(options, keys, \"minifySyntax\", mustBeBoolean);\r\n  let minifyWhitespace = getFlag(options, keys, \"minifyWhitespace\", mustBeBoolean);\r\n  let minifyIdentifiers = getFlag(options, keys, \"minifyIdentifiers\", mustBeBoolean);\r\n  let drop = getFlag(options, keys, \"drop\", mustBeArray);\r\n  let charset = getFlag(options, keys, \"charset\", mustBeString);\r\n  let treeShaking = getFlag(options, keys, \"treeShaking\", mustBeBoolean);\r\n  let ignoreAnnotations = getFlag(options, keys, \"ignoreAnnotations\", mustBeBoolean);\r\n  let jsx = getFlag(options, keys, \"jsx\", mustBeString);\r\n  let jsxFactory = getFlag(options, keys, \"jsxFactory\", mustBeString);\r\n  let jsxFragment = getFlag(options, keys, \"jsxFragment\", mustBeString);\r\n  let jsxImportSource = getFlag(options, keys, \"jsxImportSource\", mustBeString);\r\n  let jsxDev = getFlag(options, keys, \"jsxDev\", mustBeBoolean);\r\n  let define = getFlag(options, keys, \"define\", mustBeObject);\r\n  let logOverride = getFlag(options, keys, \"logOverride\", mustBeObject);\r\n  let supported = getFlag(options, keys, \"supported\", mustBeObject);\r\n  let pure = getFlag(options, keys, \"pure\", mustBeArray);\r\n  let keepNames = getFlag(options, keys, \"keepNames\", mustBeBoolean);\r\n  let platform = getFlag(options, keys, \"platform\", mustBeString);\r\n  if (legalComments)\r\n    flags.push(`--legal-comments=${legalComments}`);\r\n  if (sourceRoot !== void 0)\r\n    flags.push(`--source-root=${sourceRoot}`);\r\n  if (sourcesContent !== void 0)\r\n    flags.push(`--sources-content=${sourcesContent}`);\r\n  if (target) {\r\n    if (Array.isArray(target))\r\n      flags.push(`--target=${Array.from(target).map(validateTarget).join(\",\")}`);\r\n    else\r\n      flags.push(`--target=${validateTarget(target)}`);\r\n  }\r\n  if (format)\r\n    flags.push(`--format=${format}`);\r\n  if (globalName)\r\n    flags.push(`--global-name=${globalName}`);\r\n  if (platform)\r\n    flags.push(`--platform=${platform}`);\r\n  if (minify)\r\n    flags.push(\"--minify\");\r\n  if (minifySyntax)\r\n    flags.push(\"--minify-syntax\");\r\n  if (minifyWhitespace)\r\n    flags.push(\"--minify-whitespace\");\r\n  if (minifyIdentifiers)\r\n    flags.push(\"--minify-identifiers\");\r\n  if (charset)\r\n    flags.push(`--charset=${charset}`);\r\n  if (treeShaking !== void 0)\r\n    flags.push(`--tree-shaking=${treeShaking}`);\r\n  if (ignoreAnnotations)\r\n    flags.push(`--ignore-annotations`);\r\n  if (drop)\r\n    for (let what of drop)\r\n      flags.push(`--drop:${what}`);\r\n  if (mangleProps)\r\n    flags.push(`--mangle-props=${mangleProps.source}`);\r\n  if (reserveProps)\r\n    flags.push(`--reserve-props=${reserveProps.source}`);\r\n  if (mangleQuoted !== void 0)\r\n    flags.push(`--mangle-quoted=${mangleQuoted}`);\r\n  if (jsx)\r\n    flags.push(`--jsx=${jsx}`);\r\n  if (jsxFactory)\r\n    flags.push(`--jsx-factory=${jsxFactory}`);\r\n  if (jsxFragment)\r\n    flags.push(`--jsx-fragment=${jsxFragment}`);\r\n  if (jsxImportSource)\r\n    flags.push(`--jsx-import-source=${jsxImportSource}`);\r\n  if (jsxDev)\r\n    flags.push(`--jsx-dev`);\r\n  if (define) {\r\n    for (let key in define) {\r\n      if (key.indexOf(\"=\") >= 0)\r\n        throw new Error(`Invalid define: ${key}`);\r\n      flags.push(`--define:${key}=${define[key]}`);\r\n    }\r\n  }\r\n  if (logOverride) {\r\n    for (let key in logOverride) {\r\n      if (key.indexOf(\"=\") >= 0)\r\n        throw new Error(`Invalid log override: ${key}`);\r\n      flags.push(`--log-override:${key}=${logOverride[key]}`);\r\n    }\r\n  }\r\n  if (supported) {\r\n    for (let key in supported) {\r\n      if (key.indexOf(\"=\") >= 0)\r\n        throw new Error(`Invalid supported: ${key}`);\r\n      flags.push(`--supported:${key}=${supported[key]}`);\r\n    }\r\n  }\r\n  if (pure)\r\n    for (let fn of pure)\r\n      flags.push(`--pure:${fn}`);\r\n  if (keepNames)\r\n    flags.push(`--keep-names`);\r\n}\r\nfunction flagsForBuildOptions(callName, options, isTTY2, logLevelDefault, writeDefault) {\r\n  var _a2;\r\n  let flags = [];\r\n  let entries = [];\r\n  let keys = /* @__PURE__ */ Object.create(null);\r\n  let stdinContents = null;\r\n  let stdinResolveDir = null;\r\n  let watchMode = null;\r\n  pushLogFlags(flags, options, keys, isTTY2, logLevelDefault);\r\n  pushCommonFlags(flags, options, keys);\r\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\r\n  let bundle = getFlag(options, keys, \"bundle\", mustBeBoolean);\r\n  let watch = getFlag(options, keys, \"watch\", mustBeBooleanOrObject);\r\n  let splitting = getFlag(options, keys, \"splitting\", mustBeBoolean);\r\n  let preserveSymlinks = getFlag(options, keys, \"preserveSymlinks\", mustBeBoolean);\r\n  let metafile = getFlag(options, keys, \"metafile\", mustBeBoolean);\r\n  let outfile = getFlag(options, keys, \"outfile\", mustBeString);\r\n  let outdir = getFlag(options, keys, \"outdir\", mustBeString);\r\n  let outbase = getFlag(options, keys, \"outbase\", mustBeString);\r\n  let tsconfig = getFlag(options, keys, \"tsconfig\", mustBeString);\r\n  let resolveExtensions = getFlag(options, keys, \"resolveExtensions\", mustBeArray);\r\n  let nodePathsInput = getFlag(options, keys, \"nodePaths\", mustBeArray);\r\n  let mainFields = getFlag(options, keys, \"mainFields\", mustBeArray);\r\n  let conditions = getFlag(options, keys, \"conditions\", mustBeArray);\r\n  let external = getFlag(options, keys, \"external\", mustBeArray);\r\n  let loader = getFlag(options, keys, \"loader\", mustBeObject);\r\n  let outExtension = getFlag(options, keys, \"outExtension\", mustBeObject);\r\n  let publicPath = getFlag(options, keys, \"publicPath\", mustBeString);\r\n  let entryNames = getFlag(options, keys, \"entryNames\", mustBeString);\r\n  let chunkNames = getFlag(options, keys, \"chunkNames\", mustBeString);\r\n  let assetNames = getFlag(options, keys, \"assetNames\", mustBeString);\r\n  let inject = getFlag(options, keys, \"inject\", mustBeArray);\r\n  let banner = getFlag(options, keys, \"banner\", mustBeObject);\r\n  let footer = getFlag(options, keys, \"footer\", mustBeObject);\r\n  let entryPoints = getFlag(options, keys, \"entryPoints\", mustBeArrayOrRecord);\r\n  let absWorkingDir = getFlag(options, keys, \"absWorkingDir\", mustBeString);\r\n  let stdin = getFlag(options, keys, \"stdin\", mustBeObject);\r\n  let write = (_a2 = getFlag(options, keys, \"write\", mustBeBoolean)) != null ? _a2 : writeDefault;\r\n  let allowOverwrite = getFlag(options, keys, \"allowOverwrite\", mustBeBoolean);\r\n  let incremental = getFlag(options, keys, \"incremental\", mustBeBoolean) === true;\r\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\r\n  keys.plugins = true;\r\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n  if (sourcemap)\r\n    flags.push(`--sourcemap${sourcemap === true ? \"\" : `=${sourcemap}`}`);\r\n  if (bundle)\r\n    flags.push(\"--bundle\");\r\n  if (allowOverwrite)\r\n    flags.push(\"--allow-overwrite\");\r\n  if (watch) {\r\n    flags.push(\"--watch\");\r\n    if (typeof watch === \"boolean\") {\r\n      watchMode = {};\r\n    } else {\r\n      let watchKeys = /* @__PURE__ */ Object.create(null);\r\n      let onRebuild = getFlag(watch, watchKeys, \"onRebuild\", mustBeFunction);\r\n      checkForInvalidFlags(watch, watchKeys, `on \"watch\" in ${callName}() call`);\r\n      watchMode = { onRebuild };\r\n    }\r\n  }\r\n  if (splitting)\r\n    flags.push(\"--splitting\");\r\n  if (preserveSymlinks)\r\n    flags.push(\"--preserve-symlinks\");\r\n  if (metafile)\r\n    flags.push(`--metafile`);\r\n  if (outfile)\r\n    flags.push(`--outfile=${outfile}`);\r\n  if (outdir)\r\n    flags.push(`--outdir=${outdir}`);\r\n  if (outbase)\r\n    flags.push(`--outbase=${outbase}`);\r\n  if (tsconfig)\r\n    flags.push(`--tsconfig=${tsconfig}`);\r\n  if (resolveExtensions) {\r\n    let values = [];\r\n    for (let value of resolveExtensions) {\r\n      value += \"\";\r\n      if (value.indexOf(\",\") >= 0)\r\n        throw new Error(`Invalid resolve extension: ${value}`);\r\n      values.push(value);\r\n    }\r\n    flags.push(`--resolve-extensions=${values.join(\",\")}`);\r\n  }\r\n  if (publicPath)\r\n    flags.push(`--public-path=${publicPath}`);\r\n  if (entryNames)\r\n    flags.push(`--entry-names=${entryNames}`);\r\n  if (chunkNames)\r\n    flags.push(`--chunk-names=${chunkNames}`);\r\n  if (assetNames)\r\n    flags.push(`--asset-names=${assetNames}`);\r\n  if (mainFields) {\r\n    let values = [];\r\n    for (let value of mainFields) {\r\n      value += \"\";\r\n      if (value.indexOf(\",\") >= 0)\r\n        throw new Error(`Invalid main field: ${value}`);\r\n      values.push(value);\r\n    }\r\n    flags.push(`--main-fields=${values.join(\",\")}`);\r\n  }\r\n  if (conditions) {\r\n    let values = [];\r\n    for (let value of conditions) {\r\n      value += \"\";\r\n      if (value.indexOf(\",\") >= 0)\r\n        throw new Error(`Invalid condition: ${value}`);\r\n      values.push(value);\r\n    }\r\n    flags.push(`--conditions=${values.join(\",\")}`);\r\n  }\r\n  if (external)\r\n    for (let name of external)\r\n      flags.push(`--external:${name}`);\r\n  if (banner) {\r\n    for (let type in banner) {\r\n      if (type.indexOf(\"=\") >= 0)\r\n        throw new Error(`Invalid banner file type: ${type}`);\r\n      flags.push(`--banner:${type}=${banner[type]}`);\r\n    }\r\n  }\r\n  if (footer) {\r\n    for (let type in footer) {\r\n      if (type.indexOf(\"=\") >= 0)\r\n        throw new Error(`Invalid footer file type: ${type}`);\r\n      flags.push(`--footer:${type}=${footer[type]}`);\r\n    }\r\n  }\r\n  if (inject)\r\n    for (let path3 of inject)\r\n      flags.push(`--inject:${path3}`);\r\n  if (loader) {\r\n    for (let ext in loader) {\r\n      if (ext.indexOf(\"=\") >= 0)\r\n        throw new Error(`Invalid loader extension: ${ext}`);\r\n      flags.push(`--loader:${ext}=${loader[ext]}`);\r\n    }\r\n  }\r\n  if (outExtension) {\r\n    for (let ext in outExtension) {\r\n      if (ext.indexOf(\"=\") >= 0)\r\n        throw new Error(`Invalid out extension: ${ext}`);\r\n      flags.push(`--out-extension:${ext}=${outExtension[ext]}`);\r\n    }\r\n  }\r\n  if (entryPoints) {\r\n    if (Array.isArray(entryPoints)) {\r\n      for (let entryPoint of entryPoints) {\r\n        entries.push([\"\", entryPoint + \"\"]);\r\n      }\r\n    } else {\r\n      for (let [key, value] of Object.entries(entryPoints)) {\r\n        entries.push([key + \"\", value + \"\"]);\r\n      }\r\n    }\r\n  }\r\n  if (stdin) {\r\n    let stdinKeys = /* @__PURE__ */ Object.create(null);\r\n    let contents = getFlag(stdin, stdinKeys, \"contents\", mustBeStringOrUint8Array);\r\n    let resolveDir = getFlag(stdin, stdinKeys, \"resolveDir\", mustBeString);\r\n    let sourcefile = getFlag(stdin, stdinKeys, \"sourcefile\", mustBeString);\r\n    let loader2 = getFlag(stdin, stdinKeys, \"loader\", mustBeString);\r\n    checkForInvalidFlags(stdin, stdinKeys, 'in \"stdin\" object');\r\n    if (sourcefile)\r\n      flags.push(`--sourcefile=${sourcefile}`);\r\n    if (loader2)\r\n      flags.push(`--loader=${loader2}`);\r\n    if (resolveDir)\r\n      stdinResolveDir = resolveDir + \"\";\r\n    if (typeof contents === \"string\")\r\n      stdinContents = encodeUTF8(contents);\r\n    else if (contents instanceof Uint8Array)\r\n      stdinContents = contents;\r\n  }\r\n  let nodePaths = [];\r\n  if (nodePathsInput) {\r\n    for (let value of nodePathsInput) {\r\n      value += \"\";\r\n      nodePaths.push(value);\r\n    }\r\n  }\r\n  return {\r\n    entries,\r\n    flags,\r\n    write,\r\n    stdinContents,\r\n    stdinResolveDir,\r\n    absWorkingDir,\r\n    incremental,\r\n    nodePaths,\r\n    watch: watchMode,\r\n    mangleCache: validateMangleCache(mangleCache)\r\n  };\r\n}\r\nfunction flagsForTransformOptions(callName, options, isTTY2, logLevelDefault) {\r\n  let flags = [];\r\n  let keys = /* @__PURE__ */ Object.create(null);\r\n  pushLogFlags(flags, options, keys, isTTY2, logLevelDefault);\r\n  pushCommonFlags(flags, options, keys);\r\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\r\n  let tsconfigRaw = getFlag(options, keys, \"tsconfigRaw\", mustBeStringOrObject);\r\n  let sourcefile = getFlag(options, keys, \"sourcefile\", mustBeString);\r\n  let loader = getFlag(options, keys, \"loader\", mustBeString);\r\n  let banner = getFlag(options, keys, \"banner\", mustBeString);\r\n  let footer = getFlag(options, keys, \"footer\", mustBeString);\r\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\r\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n  if (sourcemap)\r\n    flags.push(`--sourcemap=${sourcemap === true ? \"external\" : sourcemap}`);\r\n  if (tsconfigRaw)\r\n    flags.push(`--tsconfig-raw=${typeof tsconfigRaw === \"string\" ? tsconfigRaw : JSON.stringify(tsconfigRaw)}`);\r\n  if (sourcefile)\r\n    flags.push(`--sourcefile=${sourcefile}`);\r\n  if (loader)\r\n    flags.push(`--loader=${loader}`);\r\n  if (banner)\r\n    flags.push(`--banner=${banner}`);\r\n  if (footer)\r\n    flags.push(`--footer=${footer}`);\r\n  return {\r\n    flags,\r\n    mangleCache: validateMangleCache(mangleCache)\r\n  };\r\n}\r\nfunction createChannel(streamIn) {\r\n  let responseCallbacks = /* @__PURE__ */ new Map();\r\n  let pluginCallbacks = /* @__PURE__ */ new Map();\r\n  let watchCallbacks = /* @__PURE__ */ new Map();\r\n  let serveCallbacks = /* @__PURE__ */ new Map();\r\n  let closeData = null;\r\n  let nextRequestID = 0;\r\n  let nextBuildKey = 0;\r\n  let stdout = new Uint8Array(16 * 1024);\r\n  let stdoutUsed = 0;\r\n  let readFromStdout = (chunk) => {\r\n    let limit = stdoutUsed + chunk.length;\r\n    if (limit > stdout.length) {\r\n      let swap = new Uint8Array(limit * 2);\r\n      swap.set(stdout);\r\n      stdout = swap;\r\n    }\r\n    stdout.set(chunk, stdoutUsed);\r\n    stdoutUsed += chunk.length;\r\n    let offset = 0;\r\n    while (offset + 4 <= stdoutUsed) {\r\n      let length = readUInt32LE(stdout, offset);\r\n      if (offset + 4 + length > stdoutUsed) {\r\n        break;\r\n      }\r\n      offset += 4;\r\n      handleIncomingPacket(stdout.subarray(offset, offset + length));\r\n      offset += length;\r\n    }\r\n    if (offset > 0) {\r\n      stdout.copyWithin(0, offset, stdoutUsed);\r\n      stdoutUsed -= offset;\r\n    }\r\n  };\r\n  let afterClose = (error) => {\r\n    closeData = { reason: error ? \": \" + (error.message || error) : \"\" };\r\n    const text = \"The service was stopped\" + closeData.reason;\r\n    for (let callback of responseCallbacks.values()) {\r\n      callback(text, null);\r\n    }\r\n    responseCallbacks.clear();\r\n    for (let callbacks of serveCallbacks.values()) {\r\n      callbacks.onWait(text);\r\n    }\r\n    serveCallbacks.clear();\r\n    for (let callback of watchCallbacks.values()) {\r\n      try {\r\n        callback(new Error(text), null);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n    watchCallbacks.clear();\r\n  };\r\n  let sendRequest = (refs, value, callback) => {\r\n    if (closeData)\r\n      return callback(\"The service is no longer running\" + closeData.reason, null);\r\n    let id = nextRequestID++;\r\n    responseCallbacks.set(id, (error, response) => {\r\n      try {\r\n        callback(error, response);\r\n      } finally {\r\n        if (refs)\r\n          refs.unref();\r\n      }\r\n    });\r\n    if (refs)\r\n      refs.ref();\r\n    streamIn.writeToStdin(encodePacket({ id, isRequest: true, value }));\r\n  };\r\n  let sendResponse = (id, value) => {\r\n    if (closeData)\r\n      throw new Error(\"The service is no longer running\" + closeData.reason);\r\n    streamIn.writeToStdin(encodePacket({ id, isRequest: false, value }));\r\n  };\r\n  let handleRequest = async (id, request) => {\r\n    try {\r\n      switch (request.command) {\r\n        case \"ping\": {\r\n          sendResponse(id, {});\r\n          break;\r\n        }\r\n        case \"on-start\": {\r\n          let callback = pluginCallbacks.get(request.key);\r\n          if (!callback)\r\n            sendResponse(id, {});\r\n          else\r\n            sendResponse(id, await callback(request));\r\n          break;\r\n        }\r\n        case \"on-resolve\": {\r\n          let callback = pluginCallbacks.get(request.key);\r\n          if (!callback)\r\n            sendResponse(id, {});\r\n          else\r\n            sendResponse(id, await callback(request));\r\n          break;\r\n        }\r\n        case \"on-load\": {\r\n          let callback = pluginCallbacks.get(request.key);\r\n          if (!callback)\r\n            sendResponse(id, {});\r\n          else\r\n            sendResponse(id, await callback(request));\r\n          break;\r\n        }\r\n        case \"serve-request\": {\r\n          let callbacks = serveCallbacks.get(request.key);\r\n          if (callbacks && callbacks.onRequest)\r\n            callbacks.onRequest(request.args);\r\n          sendResponse(id, {});\r\n          break;\r\n        }\r\n        case \"serve-wait\": {\r\n          let callbacks = serveCallbacks.get(request.key);\r\n          if (callbacks)\r\n            callbacks.onWait(request.error);\r\n          sendResponse(id, {});\r\n          break;\r\n        }\r\n        case \"watch-rebuild\": {\r\n          let callback = watchCallbacks.get(request.key);\r\n          try {\r\n            if (callback)\r\n              callback(null, request.args);\r\n          } catch (err) {\r\n            console.error(err);\r\n          }\r\n          sendResponse(id, {});\r\n          break;\r\n        }\r\n        default:\r\n          throw new Error(`Invalid command: ` + request.command);\r\n      }\r\n    } catch (e) {\r\n      sendResponse(id, { errors: [extractErrorMessageV8(e, streamIn, null, void 0, \"\")] });\r\n    }\r\n  };\r\n  let isFirstPacket = true;\r\n  let handleIncomingPacket = (bytes) => {\r\n    if (isFirstPacket) {\r\n      isFirstPacket = false;\r\n      let binaryVersion = String.fromCharCode(...bytes);\r\n      if (binaryVersion !== \"0.14.54\") {\r\n        throw new Error(`Cannot start service: Host version \"${\"0.14.54\"}\" does not match binary version ${JSON.stringify(binaryVersion)}`);\r\n      }\r\n      return;\r\n    }\r\n    let packet = decodePacket(bytes);\r\n    if (packet.isRequest) {\r\n      handleRequest(packet.id, packet.value);\r\n    } else {\r\n      let callback = responseCallbacks.get(packet.id);\r\n      responseCallbacks.delete(packet.id);\r\n      if (packet.value.error)\r\n        callback(packet.value.error, {});\r\n      else\r\n        callback(null, packet.value);\r\n    }\r\n  };\r\n  let handlePlugins = async (initialOptions, plugins, buildKey, stash, refs) => {\r\n    let onStartCallbacks = [];\r\n    let onEndCallbacks = [];\r\n    let onResolveCallbacks = {};\r\n    let onLoadCallbacks = {};\r\n    let nextCallbackID = 0;\r\n    let i = 0;\r\n    let requestPlugins = [];\r\n    let isSetupDone = false;\r\n    plugins = [...plugins];\r\n    for (let item of plugins) {\r\n      let keys = {};\r\n      if (typeof item !== \"object\")\r\n        throw new Error(`Plugin at index ${i} must be an object`);\r\n      const name = getFlag(item, keys, \"name\", mustBeString);\r\n      if (typeof name !== \"string\" || name === \"\")\r\n        throw new Error(`Plugin at index ${i} is missing a name`);\r\n      try {\r\n        let setup = getFlag(item, keys, \"setup\", mustBeFunction);\r\n        if (typeof setup !== \"function\")\r\n          throw new Error(`Plugin is missing a setup function`);\r\n        checkForInvalidFlags(item, keys, `on plugin ${JSON.stringify(name)}`);\r\n        let plugin = {\r\n          name,\r\n          onResolve: [],\r\n          onLoad: []\r\n        };\r\n        i++;\r\n        let resolve = (path3, options = {}) => {\r\n          if (!isSetupDone)\r\n            throw new Error('Cannot call \"resolve\" before plugin setup has completed');\r\n          if (typeof path3 !== \"string\")\r\n            throw new Error(`The path to resolve must be a string`);\r\n          let keys2 = /* @__PURE__ */ Object.create(null);\r\n          let pluginName = getFlag(options, keys2, \"pluginName\", mustBeString);\r\n          let importer = getFlag(options, keys2, \"importer\", mustBeString);\r\n          let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\r\n          let resolveDir = getFlag(options, keys2, \"resolveDir\", mustBeString);\r\n          let kind = getFlag(options, keys2, \"kind\", mustBeString);\r\n          let pluginData = getFlag(options, keys2, \"pluginData\", canBeAnything);\r\n          checkForInvalidFlags(options, keys2, \"in resolve() call\");\r\n          return new Promise((resolve2, reject) => {\r\n            const request = {\r\n              command: \"resolve\",\r\n              path: path3,\r\n              key: buildKey,\r\n              pluginName: name\r\n            };\r\n            if (pluginName != null)\r\n              request.pluginName = pluginName;\r\n            if (importer != null)\r\n              request.importer = importer;\r\n            if (namespace != null)\r\n              request.namespace = namespace;\r\n            if (resolveDir != null)\r\n              request.resolveDir = resolveDir;\r\n            if (kind != null)\r\n              request.kind = kind;\r\n            if (pluginData != null)\r\n              request.pluginData = stash.store(pluginData);\r\n            sendRequest(refs, request, (error, response) => {\r\n              if (error !== null)\r\n                reject(new Error(error));\r\n              else\r\n                resolve2({\r\n                  errors: replaceDetailsInMessages(response.errors, stash),\r\n                  warnings: replaceDetailsInMessages(response.warnings, stash),\r\n                  path: response.path,\r\n                  external: response.external,\r\n                  sideEffects: response.sideEffects,\r\n                  namespace: response.namespace,\r\n                  suffix: response.suffix,\r\n                  pluginData: stash.load(response.pluginData)\r\n                });\r\n            });\r\n          });\r\n        };\r\n        let promise = setup({\r\n          initialOptions,\r\n          resolve,\r\n          onStart(callback2) {\r\n            let registeredText = `This error came from the \"onStart\" callback registered here:`;\r\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onStart\");\r\n            onStartCallbacks.push({ name, callback: callback2, note: registeredNote });\r\n          },\r\n          onEnd(callback2) {\r\n            let registeredText = `This error came from the \"onEnd\" callback registered here:`;\r\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onEnd\");\r\n            onEndCallbacks.push({ name, callback: callback2, note: registeredNote });\r\n          },\r\n          onResolve(options, callback2) {\r\n            let registeredText = `This error came from the \"onResolve\" callback registered here:`;\r\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onResolve\");\r\n            let keys2 = {};\r\n            let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\r\n            let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\r\n            checkForInvalidFlags(options, keys2, `in onResolve() call for plugin ${JSON.stringify(name)}`);\r\n            if (filter == null)\r\n              throw new Error(`onResolve() call is missing a filter`);\r\n            let id = nextCallbackID++;\r\n            onResolveCallbacks[id] = { name, callback: callback2, note: registeredNote };\r\n            plugin.onResolve.push({ id, filter: filter.source, namespace: namespace || \"\" });\r\n          },\r\n          onLoad(options, callback2) {\r\n            let registeredText = `This error came from the \"onLoad\" callback registered here:`;\r\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onLoad\");\r\n            let keys2 = {};\r\n            let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\r\n            let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\r\n            checkForInvalidFlags(options, keys2, `in onLoad() call for plugin ${JSON.stringify(name)}`);\r\n            if (filter == null)\r\n              throw new Error(`onLoad() call is missing a filter`);\r\n            let id = nextCallbackID++;\r\n            onLoadCallbacks[id] = { name, callback: callback2, note: registeredNote };\r\n            plugin.onLoad.push({ id, filter: filter.source, namespace: namespace || \"\" });\r\n          },\r\n          esbuild: streamIn.esbuild\r\n        });\r\n        if (promise)\r\n          await promise;\r\n        requestPlugins.push(plugin);\r\n      } catch (e) {\r\n        return { ok: false, error: e, pluginName: name };\r\n      }\r\n    }\r\n    const callback = async (request) => {\r\n      switch (request.command) {\r\n        case \"on-start\": {\r\n          let response = { errors: [], warnings: [] };\r\n          await Promise.all(onStartCallbacks.map(async ({ name, callback: callback2, note }) => {\r\n            try {\r\n              let result = await callback2();\r\n              if (result != null) {\r\n                if (typeof result !== \"object\")\r\n                  throw new Error(`Expected onStart() callback in plugin ${JSON.stringify(name)} to return an object`);\r\n                let keys = {};\r\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\r\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\r\n                checkForInvalidFlags(result, keys, `from onStart() callback in plugin ${JSON.stringify(name)}`);\r\n                if (errors != null)\r\n                  response.errors.push(...sanitizeMessages(errors, \"errors\", stash, name));\r\n                if (warnings != null)\r\n                  response.warnings.push(...sanitizeMessages(warnings, \"warnings\", stash, name));\r\n              }\r\n            } catch (e) {\r\n              response.errors.push(extractErrorMessageV8(e, streamIn, stash, note && note(), name));\r\n            }\r\n          }));\r\n          return response;\r\n        }\r\n        case \"on-resolve\": {\r\n          let response = {}, name = \"\", callback2, note;\r\n          for (let id of request.ids) {\r\n            try {\r\n              ({ name, callback: callback2, note } = onResolveCallbacks[id]);\r\n              let result = await callback2({\r\n                path: request.path,\r\n                importer: request.importer,\r\n                namespace: request.namespace,\r\n                resolveDir: request.resolveDir,\r\n                kind: request.kind,\r\n                pluginData: stash.load(request.pluginData)\r\n              });\r\n              if (result != null) {\r\n                if (typeof result !== \"object\")\r\n                  throw new Error(`Expected onResolve() callback in plugin ${JSON.stringify(name)} to return an object`);\r\n                let keys = {};\r\n                let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\r\n                let path3 = getFlag(result, keys, \"path\", mustBeString);\r\n                let namespace = getFlag(result, keys, \"namespace\", mustBeString);\r\n                let suffix = getFlag(result, keys, \"suffix\", mustBeString);\r\n                let external = getFlag(result, keys, \"external\", mustBeBoolean);\r\n                let sideEffects = getFlag(result, keys, \"sideEffects\", mustBeBoolean);\r\n                let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\r\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\r\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\r\n                let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\r\n                let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\r\n                checkForInvalidFlags(result, keys, `from onResolve() callback in plugin ${JSON.stringify(name)}`);\r\n                response.id = id;\r\n                if (pluginName != null)\r\n                  response.pluginName = pluginName;\r\n                if (path3 != null)\r\n                  response.path = path3;\r\n                if (namespace != null)\r\n                  response.namespace = namespace;\r\n                if (suffix != null)\r\n                  response.suffix = suffix;\r\n                if (external != null)\r\n                  response.external = external;\r\n                if (sideEffects != null)\r\n                  response.sideEffects = sideEffects;\r\n                if (pluginData != null)\r\n                  response.pluginData = stash.store(pluginData);\r\n                if (errors != null)\r\n                  response.errors = sanitizeMessages(errors, \"errors\", stash, name);\r\n                if (warnings != null)\r\n                  response.warnings = sanitizeMessages(warnings, \"warnings\", stash, name);\r\n                if (watchFiles != null)\r\n                  response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\r\n                if (watchDirs != null)\r\n                  response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\r\n                break;\r\n              }\r\n            } catch (e) {\r\n              return { id, errors: [extractErrorMessageV8(e, streamIn, stash, note && note(), name)] };\r\n            }\r\n          }\r\n          return response;\r\n        }\r\n        case \"on-load\": {\r\n          let response = {}, name = \"\", callback2, note;\r\n          for (let id of request.ids) {\r\n            try {\r\n              ({ name, callback: callback2, note } = onLoadCallbacks[id]);\r\n              let result = await callback2({\r\n                path: request.path,\r\n                namespace: request.namespace,\r\n                suffix: request.suffix,\r\n                pluginData: stash.load(request.pluginData)\r\n              });\r\n              if (result != null) {\r\n                if (typeof result !== \"object\")\r\n                  throw new Error(`Expected onLoad() callback in plugin ${JSON.stringify(name)} to return an object`);\r\n                let keys = {};\r\n                let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\r\n                let contents = getFlag(result, keys, \"contents\", mustBeStringOrUint8Array);\r\n                let resolveDir = getFlag(result, keys, \"resolveDir\", mustBeString);\r\n                let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\r\n                let loader = getFlag(result, keys, \"loader\", mustBeString);\r\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\r\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\r\n                let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\r\n                let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\r\n                checkForInvalidFlags(result, keys, `from onLoad() callback in plugin ${JSON.stringify(name)}`);\r\n                response.id = id;\r\n                if (pluginName != null)\r\n                  response.pluginName = pluginName;\r\n                if (contents instanceof Uint8Array)\r\n                  response.contents = contents;\r\n                else if (contents != null)\r\n                  response.contents = encodeUTF8(contents);\r\n                if (resolveDir != null)\r\n                  response.resolveDir = resolveDir;\r\n                if (pluginData != null)\r\n                  response.pluginData = stash.store(pluginData);\r\n                if (loader != null)\r\n                  response.loader = loader;\r\n                if (errors != null)\r\n                  response.errors = sanitizeMessages(errors, \"errors\", stash, name);\r\n                if (warnings != null)\r\n                  response.warnings = sanitizeMessages(warnings, \"warnings\", stash, name);\r\n                if (watchFiles != null)\r\n                  response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\r\n                if (watchDirs != null)\r\n                  response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\r\n                break;\r\n              }\r\n            } catch (e) {\r\n              return { id, errors: [extractErrorMessageV8(e, streamIn, stash, note && note(), name)] };\r\n            }\r\n          }\r\n          return response;\r\n        }\r\n        default:\r\n          throw new Error(`Invalid command: ` + request.command);\r\n      }\r\n    };\r\n    let runOnEndCallbacks = (result, logPluginError, done) => done();\r\n    if (onEndCallbacks.length > 0) {\r\n      runOnEndCallbacks = (result, logPluginError, done) => {\r\n        (async () => {\r\n          for (const { name, callback: callback2, note } of onEndCallbacks) {\r\n            try {\r\n              await callback2(result);\r\n            } catch (e) {\r\n              result.errors.push(await new Promise((resolve) => logPluginError(e, name, note && note(), resolve)));\r\n            }\r\n          }\r\n        })().then(done);\r\n      };\r\n    }\r\n    isSetupDone = true;\r\n    let refCount = 0;\r\n    return {\r\n      ok: true,\r\n      requestPlugins,\r\n      runOnEndCallbacks,\r\n      pluginRefs: {\r\n        ref() {\r\n          if (++refCount === 1)\r\n            pluginCallbacks.set(buildKey, callback);\r\n        },\r\n        unref() {\r\n          if (--refCount === 0)\r\n            pluginCallbacks.delete(buildKey);\r\n        }\r\n      }\r\n    };\r\n  };\r\n  let buildServeData = (refs, options, request, key) => {\r\n    let keys = {};\r\n    let port = getFlag(options, keys, \"port\", mustBeInteger);\r\n    let host = getFlag(options, keys, \"host\", mustBeString);\r\n    let servedir = getFlag(options, keys, \"servedir\", mustBeString);\r\n    let onRequest = getFlag(options, keys, \"onRequest\", mustBeFunction);\r\n    let onWait;\r\n    let wait = new Promise((resolve, reject) => {\r\n      onWait = (error) => {\r\n        serveCallbacks.delete(key);\r\n        if (error !== null)\r\n          reject(new Error(error));\r\n        else\r\n          resolve();\r\n      };\r\n    });\r\n    request.serve = {};\r\n    checkForInvalidFlags(options, keys, `in serve() call`);\r\n    if (port !== void 0)\r\n      request.serve.port = port;\r\n    if (host !== void 0)\r\n      request.serve.host = host;\r\n    if (servedir !== void 0)\r\n      request.serve.servedir = servedir;\r\n    serveCallbacks.set(key, {\r\n      onRequest,\r\n      onWait\r\n    });\r\n    return {\r\n      wait,\r\n      stop() {\r\n        sendRequest(refs, { command: \"serve-stop\", key }, () => {\r\n        });\r\n      }\r\n    };\r\n  };\r\n  const buildLogLevelDefault = \"warning\";\r\n  const transformLogLevelDefault = \"silent\";\r\n  let buildOrServe = (args) => {\r\n    let key = nextBuildKey++;\r\n    const details = createObjectStash();\r\n    let plugins;\r\n    let { refs, options, isTTY: isTTY2, callback } = args;\r\n    if (typeof options === \"object\") {\r\n      let value = options.plugins;\r\n      if (value !== void 0) {\r\n        if (!Array.isArray(value))\r\n          throw new Error(`\"plugins\" must be an array`);\r\n        plugins = value;\r\n      }\r\n    }\r\n    let logPluginError = (e, pluginName, note, done) => {\r\n      let flags = [];\r\n      try {\r\n        pushLogFlags(flags, options, {}, isTTY2, buildLogLevelDefault);\r\n      } catch {\r\n      }\r\n      const message = extractErrorMessageV8(e, streamIn, details, note, pluginName);\r\n      sendRequest(refs, { command: \"error\", flags, error: message }, () => {\r\n        message.detail = details.load(message.detail);\r\n        done(message);\r\n      });\r\n    };\r\n    let handleError = (e, pluginName) => {\r\n      logPluginError(e, pluginName, void 0, (error) => {\r\n        callback(failureErrorWithLog(\"Build failed\", [error], []), null);\r\n      });\r\n    };\r\n    if (plugins && plugins.length > 0) {\r\n      if (streamIn.isSync)\r\n        return handleError(new Error(\"Cannot use plugins in synchronous API calls\"), \"\");\r\n      handlePlugins(options, plugins, key, details, refs).then(\r\n        (result) => {\r\n          if (!result.ok) {\r\n            handleError(result.error, result.pluginName);\r\n          } else {\r\n            try {\r\n              buildOrServeContinue({\r\n                ...args,\r\n                key,\r\n                details,\r\n                logPluginError,\r\n                requestPlugins: result.requestPlugins,\r\n                runOnEndCallbacks: result.runOnEndCallbacks,\r\n                pluginRefs: result.pluginRefs\r\n              });\r\n            } catch (e) {\r\n              handleError(e, \"\");\r\n            }\r\n          }\r\n        },\r\n        (e) => handleError(e, \"\")\r\n      );\r\n    } else {\r\n      try {\r\n        buildOrServeContinue({\r\n          ...args,\r\n          key,\r\n          details,\r\n          logPluginError,\r\n          requestPlugins: null,\r\n          runOnEndCallbacks: (result, logPluginError2, done) => done(),\r\n          pluginRefs: null\r\n        });\r\n      } catch (e) {\r\n        handleError(e, \"\");\r\n      }\r\n    }\r\n  };\r\n  let buildOrServeContinue = ({\r\n    callName,\r\n    refs: callerRefs,\r\n    serveOptions,\r\n    options,\r\n    isTTY: isTTY2,\r\n    defaultWD: defaultWD2,\r\n    callback,\r\n    key,\r\n    details,\r\n    logPluginError,\r\n    requestPlugins,\r\n    runOnEndCallbacks,\r\n    pluginRefs\r\n  }) => {\r\n    const refs = {\r\n      ref() {\r\n        if (pluginRefs)\r\n          pluginRefs.ref();\r\n        if (callerRefs)\r\n          callerRefs.ref();\r\n      },\r\n      unref() {\r\n        if (pluginRefs)\r\n          pluginRefs.unref();\r\n        if (callerRefs)\r\n          callerRefs.unref();\r\n      }\r\n    };\r\n    let writeDefault = !streamIn.isWriteUnavailable;\r\n    let {\r\n      entries,\r\n      flags,\r\n      write,\r\n      stdinContents,\r\n      stdinResolveDir,\r\n      absWorkingDir,\r\n      incremental,\r\n      nodePaths,\r\n      watch,\r\n      mangleCache\r\n    } = flagsForBuildOptions(callName, options, isTTY2, buildLogLevelDefault, writeDefault);\r\n    let request = {\r\n      command: \"build\",\r\n      key,\r\n      entries,\r\n      flags,\r\n      write,\r\n      stdinContents,\r\n      stdinResolveDir,\r\n      absWorkingDir: absWorkingDir || defaultWD2,\r\n      incremental,\r\n      nodePaths\r\n    };\r\n    if (requestPlugins)\r\n      request.plugins = requestPlugins;\r\n    if (mangleCache)\r\n      request.mangleCache = mangleCache;\r\n    let serve2 = serveOptions && buildServeData(refs, serveOptions, request, key);\r\n    let rebuild;\r\n    let stop;\r\n    let copyResponseToResult = (response, result) => {\r\n      if (response.outputFiles)\r\n        result.outputFiles = response.outputFiles.map(convertOutputFiles);\r\n      if (response.metafile)\r\n        result.metafile = JSON.parse(response.metafile);\r\n      if (response.mangleCache)\r\n        result.mangleCache = response.mangleCache;\r\n      if (response.writeToStdout !== void 0)\r\n        console.log(decodeUTF8(response.writeToStdout).replace(/\\n$/, \"\"));\r\n    };\r\n    let buildResponseToResult = (response, callback2) => {\r\n      let result = {\r\n        errors: replaceDetailsInMessages(response.errors, details),\r\n        warnings: replaceDetailsInMessages(response.warnings, details)\r\n      };\r\n      copyResponseToResult(response, result);\r\n      runOnEndCallbacks(result, logPluginError, () => {\r\n        if (result.errors.length > 0) {\r\n          return callback2(failureErrorWithLog(\"Build failed\", result.errors, result.warnings), null);\r\n        }\r\n        if (response.rebuild) {\r\n          if (!rebuild) {\r\n            let isDisposed = false;\r\n            rebuild = () => new Promise((resolve, reject) => {\r\n              if (isDisposed || closeData)\r\n                throw new Error(\"Cannot rebuild\");\r\n              sendRequest(\r\n                refs,\r\n                { command: \"rebuild\", key },\r\n                (error2, response2) => {\r\n                  if (error2) {\r\n                    const message = { id: \"\", pluginName: \"\", text: error2, location: null, notes: [], detail: void 0 };\r\n                    return callback2(failureErrorWithLog(\"Build failed\", [message], []), null);\r\n                  }\r\n                  buildResponseToResult(response2, (error3, result3) => {\r\n                    if (error3)\r\n                      reject(error3);\r\n                    else\r\n                      resolve(result3);\r\n                  });\r\n                }\r\n              );\r\n            });\r\n            refs.ref();\r\n            rebuild.dispose = () => {\r\n              if (isDisposed)\r\n                return;\r\n              isDisposed = true;\r\n              sendRequest(refs, { command: \"rebuild-dispose\", key }, () => {\r\n              });\r\n              refs.unref();\r\n            };\r\n          }\r\n          result.rebuild = rebuild;\r\n        }\r\n        if (response.watch) {\r\n          if (!stop) {\r\n            let isStopped = false;\r\n            refs.ref();\r\n            stop = () => {\r\n              if (isStopped)\r\n                return;\r\n              isStopped = true;\r\n              watchCallbacks.delete(key);\r\n              sendRequest(refs, { command: \"watch-stop\", key }, () => {\r\n              });\r\n              refs.unref();\r\n            };\r\n            if (watch) {\r\n              watchCallbacks.set(key, (serviceStopError, watchResponse) => {\r\n                if (serviceStopError) {\r\n                  if (watch.onRebuild)\r\n                    watch.onRebuild(serviceStopError, null);\r\n                  return;\r\n                }\r\n                let result2 = {\r\n                  errors: replaceDetailsInMessages(watchResponse.errors, details),\r\n                  warnings: replaceDetailsInMessages(watchResponse.warnings, details)\r\n                };\r\n                copyResponseToResult(watchResponse, result2);\r\n                runOnEndCallbacks(result2, logPluginError, () => {\r\n                  if (result2.errors.length > 0) {\r\n                    if (watch.onRebuild)\r\n                      watch.onRebuild(failureErrorWithLog(\"Build failed\", result2.errors, result2.warnings), null);\r\n                    return;\r\n                  }\r\n                  if (watchResponse.rebuildID !== void 0)\r\n                    result2.rebuild = rebuild;\r\n                  result2.stop = stop;\r\n                  if (watch.onRebuild)\r\n                    watch.onRebuild(null, result2);\r\n                });\r\n              });\r\n            }\r\n          }\r\n          result.stop = stop;\r\n        }\r\n        callback2(null, result);\r\n      });\r\n    };\r\n    if (write && streamIn.isWriteUnavailable)\r\n      throw new Error(`The \"write\" option is unavailable in this environment`);\r\n    if (incremental && streamIn.isSync)\r\n      throw new Error(`Cannot use \"incremental\" with a synchronous build`);\r\n    if (watch && streamIn.isSync)\r\n      throw new Error(`Cannot use \"watch\" with a synchronous build`);\r\n    sendRequest(refs, request, (error, response) => {\r\n      if (error)\r\n        return callback(new Error(error), null);\r\n      if (serve2) {\r\n        let serveResponse = response;\r\n        let isStopped = false;\r\n        refs.ref();\r\n        let result = {\r\n          port: serveResponse.port,\r\n          host: serveResponse.host,\r\n          wait: serve2.wait,\r\n          stop() {\r\n            if (isStopped)\r\n              return;\r\n            isStopped = true;\r\n            serve2.stop();\r\n            refs.unref();\r\n          }\r\n        };\r\n        refs.ref();\r\n        serve2.wait.then(refs.unref, refs.unref);\r\n        return callback(null, result);\r\n      }\r\n      return buildResponseToResult(response, callback);\r\n    });\r\n  };\r\n  let transform2 = ({ callName, refs, input, options, isTTY: isTTY2, fs: fs3, callback }) => {\r\n    const details = createObjectStash();\r\n    let start = (inputPath) => {\r\n      try {\r\n        if (typeof input !== \"string\" && !(input instanceof Uint8Array))\r\n          throw new Error('The input to \"transform\" must be a string or a Uint8Array');\r\n        let {\r\n          flags,\r\n          mangleCache\r\n        } = flagsForTransformOptions(callName, options, isTTY2, transformLogLevelDefault);\r\n        let request = {\r\n          command: \"transform\",\r\n          flags,\r\n          inputFS: inputPath !== null,\r\n          input: inputPath !== null ? encodeUTF8(inputPath) : typeof input === \"string\" ? encodeUTF8(input) : input\r\n        };\r\n        if (mangleCache)\r\n          request.mangleCache = mangleCache;\r\n        sendRequest(refs, request, (error, response) => {\r\n          if (error)\r\n            return callback(new Error(error), null);\r\n          let errors = replaceDetailsInMessages(response.errors, details);\r\n          let warnings = replaceDetailsInMessages(response.warnings, details);\r\n          let outstanding = 1;\r\n          let next = () => {\r\n            if (--outstanding === 0) {\r\n              let result = { warnings, code: response.code, map: response.map };\r\n              if (response.mangleCache)\r\n                result.mangleCache = response == null ? void 0 : response.mangleCache;\r\n              callback(null, result);\r\n            }\r\n          };\r\n          if (errors.length > 0)\r\n            return callback(failureErrorWithLog(\"Transform failed\", errors, warnings), null);\r\n          if (response.codeFS) {\r\n            outstanding++;\r\n            fs3.readFile(response.code, (err, contents) => {\r\n              if (err !== null) {\r\n                callback(err, null);\r\n              } else {\r\n                response.code = contents;\r\n                next();\r\n              }\r\n            });\r\n          }\r\n          if (response.mapFS) {\r\n            outstanding++;\r\n            fs3.readFile(response.map, (err, contents) => {\r\n              if (err !== null) {\r\n                callback(err, null);\r\n              } else {\r\n                response.map = contents;\r\n                next();\r\n              }\r\n            });\r\n          }\r\n          next();\r\n        });\r\n      } catch (e) {\r\n        let flags = [];\r\n        try {\r\n          pushLogFlags(flags, options, {}, isTTY2, transformLogLevelDefault);\r\n        } catch {\r\n        }\r\n        const error = extractErrorMessageV8(e, streamIn, details, void 0, \"\");\r\n        sendRequest(refs, { command: \"error\", flags, error }, () => {\r\n          error.detail = details.load(error.detail);\r\n          callback(failureErrorWithLog(\"Transform failed\", [error], []), null);\r\n        });\r\n      }\r\n    };\r\n    if ((typeof input === \"string\" || input instanceof Uint8Array) && input.length > 1024 * 1024) {\r\n      let next = start;\r\n      start = () => fs3.writeFile(input, next);\r\n    }\r\n    start(null);\r\n  };\r\n  let formatMessages2 = ({ callName, refs, messages, options, callback }) => {\r\n    let result = sanitizeMessages(messages, \"messages\", null, \"\");\r\n    if (!options)\r\n      throw new Error(`Missing second argument in ${callName}() call`);\r\n    let keys = {};\r\n    let kind = getFlag(options, keys, \"kind\", mustBeString);\r\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\r\n    let terminalWidth = getFlag(options, keys, \"terminalWidth\", mustBeInteger);\r\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n    if (kind === void 0)\r\n      throw new Error(`Missing \"kind\" in ${callName}() call`);\r\n    if (kind !== \"error\" && kind !== \"warning\")\r\n      throw new Error(`Expected \"kind\" to be \"error\" or \"warning\" in ${callName}() call`);\r\n    let request = {\r\n      command: \"format-msgs\",\r\n      messages: result,\r\n      isWarning: kind === \"warning\"\r\n    };\r\n    if (color !== void 0)\r\n      request.color = color;\r\n    if (terminalWidth !== void 0)\r\n      request.terminalWidth = terminalWidth;\r\n    sendRequest(refs, request, (error, response) => {\r\n      if (error)\r\n        return callback(new Error(error), null);\r\n      callback(null, response.messages);\r\n    });\r\n  };\r\n  let analyzeMetafile2 = ({ callName, refs, metafile, options, callback }) => {\r\n    if (options === void 0)\r\n      options = {};\r\n    let keys = {};\r\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\r\n    let verbose = getFlag(options, keys, \"verbose\", mustBeBoolean);\r\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n    let request = {\r\n      command: \"analyze-metafile\",\r\n      metafile\r\n    };\r\n    if (color !== void 0)\r\n      request.color = color;\r\n    if (verbose !== void 0)\r\n      request.verbose = verbose;\r\n    sendRequest(refs, request, (error, response) => {\r\n      if (error)\r\n        return callback(new Error(error), null);\r\n      callback(null, response.result);\r\n    });\r\n  };\r\n  return {\r\n    readFromStdout,\r\n    afterClose,\r\n    service: {\r\n      buildOrServe,\r\n      transform: transform2,\r\n      formatMessages: formatMessages2,\r\n      analyzeMetafile: analyzeMetafile2\r\n    }\r\n  };\r\n}\r\nfunction createObjectStash() {\r\n  const map = /* @__PURE__ */ new Map();\r\n  let nextID = 0;\r\n  return {\r\n    load(id) {\r\n      return map.get(id);\r\n    },\r\n    store(value) {\r\n      if (value === void 0)\r\n        return -1;\r\n      const id = nextID++;\r\n      map.set(id, value);\r\n      return id;\r\n    }\r\n  };\r\n}\r\nfunction extractCallerV8(e, streamIn, ident) {\r\n  let note;\r\n  let tried = false;\r\n  return () => {\r\n    if (tried)\r\n      return note;\r\n    tried = true;\r\n    try {\r\n      let lines = (e.stack + \"\").split(\"\\n\");\r\n      lines.splice(1, 1);\r\n      let location = parseStackLinesV8(streamIn, lines, ident);\r\n      if (location) {\r\n        note = { text: e.message, location };\r\n        return note;\r\n      }\r\n    } catch {\r\n    }\r\n  };\r\n}\r\nfunction extractErrorMessageV8(e, streamIn, stash, note, pluginName) {\r\n  let text = \"Internal error\";\r\n  let location = null;\r\n  try {\r\n    text = (e && e.message || e) + \"\";\r\n  } catch {\r\n  }\r\n  try {\r\n    location = parseStackLinesV8(streamIn, (e.stack + \"\").split(\"\\n\"), \"\");\r\n  } catch {\r\n  }\r\n  return { id: \"\", pluginName, text, location, notes: note ? [note] : [], detail: stash ? stash.store(e) : -1 };\r\n}\r\nfunction parseStackLinesV8(streamIn, lines, ident) {\r\n  let at = \"    at \";\r\n  if (streamIn.readFileSync && !lines[0].startsWith(at) && lines[1].startsWith(at)) {\r\n    for (let i = 1; i < lines.length; i++) {\r\n      let line = lines[i];\r\n      if (!line.startsWith(at))\r\n        continue;\r\n      line = line.slice(at.length);\r\n      while (true) {\r\n        let match = /^(?:new |async )?\\S+ \\((.*)\\)$/.exec(line);\r\n        if (match) {\r\n          line = match[1];\r\n          continue;\r\n        }\r\n        match = /^eval at \\S+ \\((.*)\\)(?:, \\S+:\\d+:\\d+)?$/.exec(line);\r\n        if (match) {\r\n          line = match[1];\r\n          continue;\r\n        }\r\n        match = /^(\\S+):(\\d+):(\\d+)$/.exec(line);\r\n        if (match) {\r\n          let contents;\r\n          try {\r\n            contents = streamIn.readFileSync(match[1], \"utf8\");\r\n          } catch {\r\n            break;\r\n          }\r\n          let lineText = contents.split(/\\r\\n|\\r|\\n|\\u2028|\\u2029/)[+match[2] - 1] || \"\";\r\n          let column = +match[3] - 1;\r\n          let length = lineText.slice(column, column + ident.length) === ident ? ident.length : 0;\r\n          return {\r\n            file: match[1],\r\n            namespace: \"file\",\r\n            line: +match[2],\r\n            column: encodeUTF8(lineText.slice(0, column)).length,\r\n            length: encodeUTF8(lineText.slice(column, column + length)).length,\r\n            lineText: lineText + \"\\n\" + lines.slice(1).join(\"\\n\"),\r\n            suggestion: \"\"\r\n          };\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\nfunction failureErrorWithLog(text, errors, warnings) {\r\n  let limit = 5;\r\n  let summary = errors.length < 1 ? \"\" : ` with ${errors.length} error${errors.length < 2 ? \"\" : \"s\"}:` + errors.slice(0, limit + 1).map((e, i) => {\r\n    if (i === limit)\r\n      return \"\\n...\";\r\n    if (!e.location)\r\n      return `\r\nerror: ${e.text}`;\r\n    let { file, line, column } = e.location;\r\n    let pluginText = e.pluginName ? `[plugin: ${e.pluginName}] ` : \"\";\r\n    return `\r\n${file}:${line}:${column}: ERROR: ${pluginText}${e.text}`;\r\n  }).join(\"\");\r\n  let error = new Error(`${text}${summary}`);\r\n  error.errors = errors;\r\n  error.warnings = warnings;\r\n  return error;\r\n}\r\nfunction replaceDetailsInMessages(messages, stash) {\r\n  for (const message of messages) {\r\n    message.detail = stash.load(message.detail);\r\n  }\r\n  return messages;\r\n}\r\nfunction sanitizeLocation(location, where) {\r\n  if (location == null)\r\n    return null;\r\n  let keys = {};\r\n  let file = getFlag(location, keys, \"file\", mustBeString);\r\n  let namespace = getFlag(location, keys, \"namespace\", mustBeString);\r\n  let line = getFlag(location, keys, \"line\", mustBeInteger);\r\n  let column = getFlag(location, keys, \"column\", mustBeInteger);\r\n  let length = getFlag(location, keys, \"length\", mustBeInteger);\r\n  let lineText = getFlag(location, keys, \"lineText\", mustBeString);\r\n  let suggestion = getFlag(location, keys, \"suggestion\", mustBeString);\r\n  checkForInvalidFlags(location, keys, where);\r\n  return {\r\n    file: file || \"\",\r\n    namespace: namespace || \"\",\r\n    line: line || 0,\r\n    column: column || 0,\r\n    length: length || 0,\r\n    lineText: lineText || \"\",\r\n    suggestion: suggestion || \"\"\r\n  };\r\n}\r\nfunction sanitizeMessages(messages, property, stash, fallbackPluginName) {\r\n  let messagesClone = [];\r\n  let index = 0;\r\n  for (const message of messages) {\r\n    let keys = {};\r\n    let id = getFlag(message, keys, \"id\", mustBeString);\r\n    let pluginName = getFlag(message, keys, \"pluginName\", mustBeString);\r\n    let text = getFlag(message, keys, \"text\", mustBeString);\r\n    let location = getFlag(message, keys, \"location\", mustBeObjectOrNull);\r\n    let notes = getFlag(message, keys, \"notes\", mustBeArray);\r\n    let detail = getFlag(message, keys, \"detail\", canBeAnything);\r\n    let where = `in element ${index} of \"${property}\"`;\r\n    checkForInvalidFlags(message, keys, where);\r\n    let notesClone = [];\r\n    if (notes) {\r\n      for (const note of notes) {\r\n        let noteKeys = {};\r\n        let noteText = getFlag(note, noteKeys, \"text\", mustBeString);\r\n        let noteLocation = getFlag(note, noteKeys, \"location\", mustBeObjectOrNull);\r\n        checkForInvalidFlags(note, noteKeys, where);\r\n        notesClone.push({\r\n          text: noteText || \"\",\r\n          location: sanitizeLocation(noteLocation, where)\r\n        });\r\n      }\r\n    }\r\n    messagesClone.push({\r\n      id: id || \"\",\r\n      pluginName: pluginName || fallbackPluginName,\r\n      text: text || \"\",\r\n      location: sanitizeLocation(location, where),\r\n      notes: notesClone,\r\n      detail: stash ? stash.store(detail) : -1\r\n    });\r\n    index++;\r\n  }\r\n  return messagesClone;\r\n}\r\nfunction sanitizeStringArray(values, property) {\r\n  const result = [];\r\n  for (const value of values) {\r\n    if (typeof value !== \"string\")\r\n      throw new Error(`${JSON.stringify(property)} must be an array of strings`);\r\n    result.push(value);\r\n  }\r\n  return result;\r\n}\r\nfunction convertOutputFiles({ path: path3, contents }) {\r\n  let text = null;\r\n  return {\r\n    path: path3,\r\n    contents,\r\n    get text() {\r\n      const binary = this.contents;\r\n      if (text === null || binary !== contents) {\r\n        contents = binary;\r\n        text = decodeUTF8(binary);\r\n      }\r\n      return text;\r\n    }\r\n  };\r\n}\r\n\r\n// lib/npm/node-platform.ts\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar ESBUILD_BINARY_PATH = process.env.ESBUILD_BINARY_PATH || ESBUILD_BINARY_PATH;\r\nvar knownWindowsPackages = {\r\n  \"win32 arm64 LE\": \"esbuild-windows-arm64\",\r\n  \"win32 ia32 LE\": \"esbuild-windows-32\",\r\n  \"win32 x64 LE\": \"esbuild-windows-64\"\r\n};\r\nvar knownUnixlikePackages = {\r\n  \"android arm64 LE\": \"esbuild-android-arm64\",\r\n  \"darwin arm64 LE\": \"esbuild-darwin-arm64\",\r\n  \"darwin x64 LE\": \"esbuild-darwin-64\",\r\n  \"freebsd arm64 LE\": \"esbuild-freebsd-arm64\",\r\n  \"freebsd x64 LE\": \"esbuild-freebsd-64\",\r\n  \"linux arm LE\": \"esbuild-linux-arm\",\r\n  \"linux arm64 LE\": \"esbuild-linux-arm64\",\r\n  \"linux ia32 LE\": \"esbuild-linux-32\",\r\n  \"linux mips64el LE\": \"esbuild-linux-mips64le\",\r\n  \"linux ppc64 LE\": \"esbuild-linux-ppc64le\",\r\n  \"linux riscv64 LE\": \"esbuild-linux-riscv64\",\r\n  \"linux s390x BE\": \"esbuild-linux-s390x\",\r\n  \"linux x64 LE\": \"esbuild-linux-64\",\r\n  \"linux loong64 LE\": \"@esbuild/linux-loong64\",\r\n  \"netbsd x64 LE\": \"esbuild-netbsd-64\",\r\n  \"openbsd x64 LE\": \"esbuild-openbsd-64\",\r\n  \"sunos x64 LE\": \"esbuild-sunos-64\"\r\n};\r\nvar knownWebAssemblyFallbackPackages = {\r\n  \"android x64 LE\": \"esbuild-android-64\"\r\n};\r\nfunction pkgAndSubpathForCurrentPlatform() {\r\n  let pkg;\r\n  let subpath;\r\n  let isWASM = false;\r\n  let platformKey = `${process.platform} ${os.arch()} ${os.endianness()}`;\r\n  if (platformKey in knownWindowsPackages) {\r\n    pkg = knownWindowsPackages[platformKey];\r\n    subpath = \"esbuild.exe\";\r\n  } else if (platformKey in knownUnixlikePackages) {\r\n    pkg = knownUnixlikePackages[platformKey];\r\n    subpath = \"bin/esbuild\";\r\n  } else if (platformKey in knownWebAssemblyFallbackPackages) {\r\n    pkg = knownWebAssemblyFallbackPackages[platformKey];\r\n    subpath = \"bin/esbuild\";\r\n    isWASM = true;\r\n  } else {\r\n    throw new Error(`Unsupported platform: ${platformKey}`);\r\n  }\r\n  return { pkg, subpath, isWASM };\r\n}\r\nfunction pkgForSomeOtherPlatform() {\r\n  const libMainJS = require.resolve(\"esbuild\");\r\n  const nodeModulesDirectory = path.dirname(path.dirname(path.dirname(libMainJS)));\r\n  if (path.basename(nodeModulesDirectory) === \"node_modules\") {\r\n    for (const unixKey in knownUnixlikePackages) {\r\n      try {\r\n        const pkg = knownUnixlikePackages[unixKey];\r\n        if (fs.existsSync(path.join(nodeModulesDirectory, pkg)))\r\n          return pkg;\r\n      } catch {\r\n      }\r\n    }\r\n    for (const windowsKey in knownWindowsPackages) {\r\n      try {\r\n        const pkg = knownWindowsPackages[windowsKey];\r\n        if (fs.existsSync(path.join(nodeModulesDirectory, pkg)))\r\n          return pkg;\r\n      } catch {\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\nfunction downloadedBinPath(pkg, subpath) {\r\n  const esbuildLibDir = path.dirname(require.resolve(\"esbuild\"));\r\n  return path.join(esbuildLibDir, `downloaded-${pkg}-${path.basename(subpath)}`);\r\n}\r\nfunction generateBinPath() {\r\n  if (ESBUILD_BINARY_PATH) {\r\n    return { binPath: ESBUILD_BINARY_PATH, isWASM: false };\r\n  }\r\n  const { pkg, subpath, isWASM } = pkgAndSubpathForCurrentPlatform();\r\n  let binPath;\r\n  try {\r\n    binPath = require.resolve(`${pkg}/${subpath}`);\r\n  } catch (e) {\r\n    binPath = downloadedBinPath(pkg, subpath);\r\n    if (!fs.existsSync(binPath)) {\r\n      try {\r\n        require.resolve(pkg);\r\n      } catch {\r\n        const otherPkg = pkgForSomeOtherPlatform();\r\n        if (otherPkg) {\r\n          throw new Error(`\r\nYou installed esbuild on another platform than the one you're currently using.\r\nThis won't work because esbuild is written with native code and needs to\r\ninstall a platform-specific binary executable.\r\n\r\nSpecifically the \"${otherPkg}\" package is present but this platform\r\nneeds the \"${pkg}\" package instead. People often get into this\r\nsituation by installing esbuild on Windows or macOS and copying \"node_modules\"\r\ninto a Docker image that runs Linux, or by copying \"node_modules\" between\r\nWindows and WSL environments.\r\n\r\nIf you are installing with npm, you can try not copying the \"node_modules\"\r\ndirectory when you copy the files over, and running \"npm ci\" or \"npm install\"\r\non the destination platform after the copy. Or you could consider using yarn\r\ninstead which has built-in support for installing a package on multiple\r\nplatforms simultaneously.\r\n\r\nIf you are installing with yarn, you can try listing both this platform and the\r\nother platform in your \".yarnrc.yml\" file using the \"supportedArchitectures\"\r\nfeature: https://yarnpkg.com/configuration/yarnrc/#supportedArchitectures\r\nKeep in mind that this means multiple copies of esbuild will be present.\r\n\r\nAnother alternative is to use the \"esbuild-wasm\" package instead, which works\r\nthe same way on all platforms. But it comes with a heavy performance cost and\r\ncan sometimes be 10x slower than the \"esbuild\" package, so you may also not\r\nwant to do that.\r\n`);\r\n        }\r\n        throw new Error(`The package \"${pkg}\" could not be found, and is needed by esbuild.\r\n\r\nIf you are installing esbuild with npm, make sure that you don't specify the\r\n\"--no-optional\" flag. The \"optionalDependencies\" package.json feature is used\r\nby esbuild to install the correct binary executable for your current platform.`);\r\n      }\r\n      throw e;\r\n    }\r\n  }\r\n  let isYarnPnP = false;\r\n  try {\r\n    require(\"pnpapi\");\r\n    isYarnPnP = true;\r\n  } catch (e) {\r\n  }\r\n  if (isYarnPnP) {\r\n    const esbuildLibDir = path.dirname(require.resolve(\"esbuild\"));\r\n    const binTargetPath = path.join(esbuildLibDir, `pnpapi-${pkg}-${path.basename(subpath)}`);\r\n    if (!fs.existsSync(binTargetPath)) {\r\n      fs.copyFileSync(binPath, binTargetPath);\r\n      fs.chmodSync(binTargetPath, 493);\r\n    }\r\n    return { binPath: binTargetPath, isWASM };\r\n  }\r\n  return { binPath, isWASM };\r\n}\r\n\r\n// lib/npm/node.ts\r\nvar child_process = require(\"child_process\");\r\nvar crypto = require(\"crypto\");\r\nvar path2 = require(\"path\");\r\nvar fs2 = require(\"fs\");\r\nvar os2 = require(\"os\");\r\nvar tty = require(\"tty\");\r\nvar worker_threads;\r\nif (process.env.ESBUILD_WORKER_THREADS !== \"0\") {\r\n  try {\r\n    worker_threads = require(\"worker_threads\");\r\n  } catch {\r\n  }\r\n  let [major, minor] = process.versions.node.split(\".\");\r\n  if (+major < 12 || +major === 12 && +minor < 17 || +major === 13 && +minor < 13) {\r\n    worker_threads = void 0;\r\n  }\r\n}\r\nvar _a;\r\nvar isInternalWorkerThread = ((_a = worker_threads == null ? void 0 : worker_threads.workerData) == null ? void 0 : _a.esbuildVersion) === \"0.14.54\";\r\nvar esbuildCommandAndArgs = () => {\r\n  if ((!ESBUILD_BINARY_PATH || false) && (path2.basename(__filename) !== \"main.js\" || path2.basename(__dirname) !== \"lib\")) {\r\n    throw new Error(\r\n      `The esbuild JavaScript API cannot be bundled. Please mark the \"esbuild\" package as external so it's not included in the bundle.\r\n\r\nMore information: The file containing the code for esbuild's JavaScript API (${__filename}) does not appear to be inside the esbuild package on the file system, which usually means that the esbuild package was bundled into another file. This is problematic because the API needs to run a binary executable inside the esbuild package which is located using a relative path from the API code to the executable. If the esbuild package is bundled, the relative path will be incorrect and the executable won't be found.`\r\n    );\r\n  }\r\n  if (false) {\r\n    return [\"node\", [path2.join(__dirname, \"..\", \"bin\", \"esbuild\")]];\r\n  }\r\n  const { binPath, isWASM } = generateBinPath();\r\n  if (isWASM) {\r\n    return [\"node\", [binPath]];\r\n  } else {\r\n    return [binPath, []];\r\n  }\r\n};\r\nvar isTTY = () => tty.isatty(2);\r\nvar fsSync = {\r\n  readFile(tempFile, callback) {\r\n    try {\r\n      let contents = fs2.readFileSync(tempFile, \"utf8\");\r\n      try {\r\n        fs2.unlinkSync(tempFile);\r\n      } catch {\r\n      }\r\n      callback(null, contents);\r\n    } catch (err) {\r\n      callback(err, null);\r\n    }\r\n  },\r\n  writeFile(contents, callback) {\r\n    try {\r\n      let tempFile = randomFileName();\r\n      fs2.writeFileSync(tempFile, contents);\r\n      callback(tempFile);\r\n    } catch {\r\n      callback(null);\r\n    }\r\n  }\r\n};\r\nvar fsAsync = {\r\n  readFile(tempFile, callback) {\r\n    try {\r\n      fs2.readFile(tempFile, \"utf8\", (err, contents) => {\r\n        try {\r\n          fs2.unlink(tempFile, () => callback(err, contents));\r\n        } catch {\r\n          callback(err, contents);\r\n        }\r\n      });\r\n    } catch (err) {\r\n      callback(err, null);\r\n    }\r\n  },\r\n  writeFile(contents, callback) {\r\n    try {\r\n      let tempFile = randomFileName();\r\n      fs2.writeFile(tempFile, contents, (err) => err !== null ? callback(null) : callback(tempFile));\r\n    } catch {\r\n      callback(null);\r\n    }\r\n  }\r\n};\r\nvar version = \"0.14.54\";\r\nvar build = (options) => ensureServiceIsRunning().build(options);\r\nvar serve = (serveOptions, buildOptions) => ensureServiceIsRunning().serve(serveOptions, buildOptions);\r\nvar transform = (input, options) => ensureServiceIsRunning().transform(input, options);\r\nvar formatMessages = (messages, options) => ensureServiceIsRunning().formatMessages(messages, options);\r\nvar analyzeMetafile = (messages, options) => ensureServiceIsRunning().analyzeMetafile(messages, options);\r\nvar buildSync = (options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService)\r\n      workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.buildSync(options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.buildOrServe({\r\n    callName: \"buildSync\",\r\n    refs: null,\r\n    serveOptions: null,\r\n    options,\r\n    isTTY: isTTY(),\r\n    defaultWD,\r\n    callback: (err, res) => {\r\n      if (err)\r\n        throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar transformSync = (input, options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService)\r\n      workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.transformSync(input, options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.transform({\r\n    callName: \"transformSync\",\r\n    refs: null,\r\n    input,\r\n    options: options || {},\r\n    isTTY: isTTY(),\r\n    fs: fsSync,\r\n    callback: (err, res) => {\r\n      if (err)\r\n        throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar formatMessagesSync = (messages, options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService)\r\n      workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.formatMessagesSync(messages, options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.formatMessages({\r\n    callName: \"formatMessagesSync\",\r\n    refs: null,\r\n    messages,\r\n    options,\r\n    callback: (err, res) => {\r\n      if (err)\r\n        throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar analyzeMetafileSync = (metafile, options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService)\r\n      workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.analyzeMetafileSync(metafile, options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.analyzeMetafile({\r\n    callName: \"analyzeMetafileSync\",\r\n    refs: null,\r\n    metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\r\n    options,\r\n    callback: (err, res) => {\r\n      if (err)\r\n        throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar initializeWasCalled = false;\r\nvar initialize = (options) => {\r\n  options = validateInitializeOptions(options || {});\r\n  if (options.wasmURL)\r\n    throw new Error(`The \"wasmURL\" option only works in the browser`);\r\n  if (options.wasmModule)\r\n    throw new Error(`The \"wasmModule\" option only works in the browser`);\r\n  if (options.worker)\r\n    throw new Error(`The \"worker\" option only works in the browser`);\r\n  if (initializeWasCalled)\r\n    throw new Error('Cannot call \"initialize\" more than once');\r\n  ensureServiceIsRunning();\r\n  initializeWasCalled = true;\r\n  return Promise.resolve();\r\n};\r\nvar defaultWD = process.cwd();\r\nvar longLivedService;\r\nvar ensureServiceIsRunning = () => {\r\n  if (longLivedService)\r\n    return longLivedService;\r\n  let [command, args] = esbuildCommandAndArgs();\r\n  let child = child_process.spawn(command, args.concat(`--service=${\"0.14.54\"}`, \"--ping\"), {\r\n    windowsHide: true,\r\n    stdio: [\"pipe\", \"pipe\", \"inherit\"],\r\n    cwd: defaultWD\r\n  });\r\n  let { readFromStdout, afterClose, service } = createChannel({\r\n    writeToStdin(bytes) {\r\n      child.stdin.write(bytes, (err) => {\r\n        if (err)\r\n          afterClose(err);\r\n      });\r\n    },\r\n    readFileSync: fs2.readFileSync,\r\n    isSync: false,\r\n    isWriteUnavailable: false,\r\n    esbuild: node_exports\r\n  });\r\n  child.stdin.on(\"error\", afterClose);\r\n  child.on(\"error\", afterClose);\r\n  const stdin = child.stdin;\r\n  const stdout = child.stdout;\r\n  stdout.on(\"data\", readFromStdout);\r\n  stdout.on(\"end\", afterClose);\r\n  let refCount = 0;\r\n  child.unref();\r\n  if (stdin.unref) {\r\n    stdin.unref();\r\n  }\r\n  if (stdout.unref) {\r\n    stdout.unref();\r\n  }\r\n  const refs = {\r\n    ref() {\r\n      if (++refCount === 1)\r\n        child.ref();\r\n    },\r\n    unref() {\r\n      if (--refCount === 0)\r\n        child.unref();\r\n    }\r\n  };\r\n  longLivedService = {\r\n    build: (options) => {\r\n      return new Promise((resolve, reject) => {\r\n        service.buildOrServe({\r\n          callName: \"build\",\r\n          refs,\r\n          serveOptions: null,\r\n          options,\r\n          isTTY: isTTY(),\r\n          defaultWD,\r\n          callback: (err, res) => err ? reject(err) : resolve(res)\r\n        });\r\n      });\r\n    },\r\n    serve: (serveOptions, buildOptions) => {\r\n      if (serveOptions === null || typeof serveOptions !== \"object\")\r\n        throw new Error(\"The first argument must be an object\");\r\n      return new Promise((resolve, reject) => service.buildOrServe({\r\n        callName: \"serve\",\r\n        refs,\r\n        serveOptions,\r\n        options: buildOptions,\r\n        isTTY: isTTY(),\r\n        defaultWD,\r\n        callback: (err, res) => err ? reject(err) : resolve(res)\r\n      }));\r\n    },\r\n    transform: (input, options) => {\r\n      return new Promise((resolve, reject) => service.transform({\r\n        callName: \"transform\",\r\n        refs,\r\n        input,\r\n        options: options || {},\r\n        isTTY: isTTY(),\r\n        fs: fsAsync,\r\n        callback: (err, res) => err ? reject(err) : resolve(res)\r\n      }));\r\n    },\r\n    formatMessages: (messages, options) => {\r\n      return new Promise((resolve, reject) => service.formatMessages({\r\n        callName: \"formatMessages\",\r\n        refs,\r\n        messages,\r\n        options,\r\n        callback: (err, res) => err ? reject(err) : resolve(res)\r\n      }));\r\n    },\r\n    analyzeMetafile: (metafile, options) => {\r\n      return new Promise((resolve, reject) => service.analyzeMetafile({\r\n        callName: \"analyzeMetafile\",\r\n        refs,\r\n        metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\r\n        options,\r\n        callback: (err, res) => err ? reject(err) : resolve(res)\r\n      }));\r\n    }\r\n  };\r\n  return longLivedService;\r\n};\r\nvar runServiceSync = (callback) => {\r\n  let [command, args] = esbuildCommandAndArgs();\r\n  let stdin = new Uint8Array();\r\n  let { readFromStdout, afterClose, service } = createChannel({\r\n    writeToStdin(bytes) {\r\n      if (stdin.length !== 0)\r\n        throw new Error(\"Must run at most one command\");\r\n      stdin = bytes;\r\n    },\r\n    isSync: true,\r\n    isWriteUnavailable: false,\r\n    esbuild: node_exports\r\n  });\r\n  callback(service);\r\n  let stdout = child_process.execFileSync(command, args.concat(`--service=${\"0.14.54\"}`), {\r\n    cwd: defaultWD,\r\n    windowsHide: true,\r\n    input: stdin,\r\n    maxBuffer: +process.env.ESBUILD_MAX_BUFFER || 16 * 1024 * 1024\r\n  });\r\n  readFromStdout(stdout);\r\n  afterClose(null);\r\n};\r\nvar randomFileName = () => {\r\n  return path2.join(os2.tmpdir(), `esbuild-${crypto.randomBytes(32).toString(\"hex\")}`);\r\n};\r\nvar workerThreadService = null;\r\nvar startWorkerThreadService = (worker_threads2) => {\r\n  let { port1: mainPort, port2: workerPort } = new worker_threads2.MessageChannel();\r\n  let worker = new worker_threads2.Worker(__filename, {\r\n    workerData: { workerPort, defaultWD, esbuildVersion: \"0.14.54\" },\r\n    transferList: [workerPort],\r\n    execArgv: []\r\n  });\r\n  let nextID = 0;\r\n  let fakeBuildError = (text) => {\r\n    let error = new Error(`Build failed with 1 error:\r\nerror: ${text}`);\r\n    let errors = [{ id: \"\", pluginName: \"\", text, location: null, notes: [], detail: void 0 }];\r\n    error.errors = errors;\r\n    error.warnings = [];\r\n    return error;\r\n  };\r\n  let validateBuildSyncOptions = (options) => {\r\n    if (!options)\r\n      return;\r\n    let plugins = options.plugins;\r\n    let incremental = options.incremental;\r\n    let watch = options.watch;\r\n    if (plugins && plugins.length > 0)\r\n      throw fakeBuildError(`Cannot use plugins in synchronous API calls`);\r\n    if (incremental)\r\n      throw fakeBuildError(`Cannot use \"incremental\" with a synchronous build`);\r\n    if (watch)\r\n      throw fakeBuildError(`Cannot use \"watch\" with a synchronous build`);\r\n  };\r\n  let applyProperties = (object, properties) => {\r\n    for (let key in properties) {\r\n      object[key] = properties[key];\r\n    }\r\n  };\r\n  let runCallSync = (command, args) => {\r\n    let id = nextID++;\r\n    let sharedBuffer = new SharedArrayBuffer(8);\r\n    let sharedBufferView = new Int32Array(sharedBuffer);\r\n    let msg = { sharedBuffer, id, command, args };\r\n    worker.postMessage(msg);\r\n    let status = Atomics.wait(sharedBufferView, 0, 0);\r\n    if (status !== \"ok\" && status !== \"not-equal\")\r\n      throw new Error(\"Internal error: Atomics.wait() failed: \" + status);\r\n    let { message: { id: id2, resolve, reject, properties } } = worker_threads2.receiveMessageOnPort(mainPort);\r\n    if (id !== id2)\r\n      throw new Error(`Internal error: Expected id ${id} but got id ${id2}`);\r\n    if (reject) {\r\n      applyProperties(reject, properties);\r\n      throw reject;\r\n    }\r\n    return resolve;\r\n  };\r\n  worker.unref();\r\n  return {\r\n    buildSync(options) {\r\n      validateBuildSyncOptions(options);\r\n      return runCallSync(\"build\", [options]);\r\n    },\r\n    transformSync(input, options) {\r\n      return runCallSync(\"transform\", [input, options]);\r\n    },\r\n    formatMessagesSync(messages, options) {\r\n      return runCallSync(\"formatMessages\", [messages, options]);\r\n    },\r\n    analyzeMetafileSync(metafile, options) {\r\n      return runCallSync(\"analyzeMetafile\", [metafile, options]);\r\n    }\r\n  };\r\n};\r\nvar startSyncServiceWorker = () => {\r\n  let workerPort = worker_threads.workerData.workerPort;\r\n  let parentPort = worker_threads.parentPort;\r\n  let extractProperties = (object) => {\r\n    let properties = {};\r\n    if (object && typeof object === \"object\") {\r\n      for (let key in object) {\r\n        properties[key] = object[key];\r\n      }\r\n    }\r\n    return properties;\r\n  };\r\n  try {\r\n    let service = ensureServiceIsRunning();\r\n    defaultWD = worker_threads.workerData.defaultWD;\r\n    parentPort.on(\"message\", (msg) => {\r\n      (async () => {\r\n        let { sharedBuffer, id, command, args } = msg;\r\n        let sharedBufferView = new Int32Array(sharedBuffer);\r\n        try {\r\n          switch (command) {\r\n            case \"build\":\r\n              workerPort.postMessage({ id, resolve: await service.build(args[0]) });\r\n              break;\r\n            case \"transform\":\r\n              workerPort.postMessage({ id, resolve: await service.transform(args[0], args[1]) });\r\n              break;\r\n            case \"formatMessages\":\r\n              workerPort.postMessage({ id, resolve: await service.formatMessages(args[0], args[1]) });\r\n              break;\r\n            case \"analyzeMetafile\":\r\n              workerPort.postMessage({ id, resolve: await service.analyzeMetafile(args[0], args[1]) });\r\n              break;\r\n            default:\r\n              throw new Error(`Invalid command: ${command}`);\r\n          }\r\n        } catch (reject) {\r\n          workerPort.postMessage({ id, reject, properties: extractProperties(reject) });\r\n        }\r\n        Atomics.add(sharedBufferView, 0, 1);\r\n        Atomics.notify(sharedBufferView, 0, Infinity);\r\n      })();\r\n    });\r\n  } catch (reject) {\r\n    parentPort.on(\"message\", (msg) => {\r\n      let { sharedBuffer, id } = msg;\r\n      let sharedBufferView = new Int32Array(sharedBuffer);\r\n      workerPort.postMessage({ id, reject, properties: extractProperties(reject) });\r\n      Atomics.add(sharedBufferView, 0, 1);\r\n      Atomics.notify(sharedBufferView, 0, Infinity);\r\n    });\r\n  }\r\n};\r\nif (isInternalWorkerThread) {\r\n  startSyncServiceWorker();\r\n}\r\nvar node_default = node_exports;\r\n// Annotate the CommonJS export names for ESM import in node:\r\n0 && (module.exports = {\r\n  analyzeMetafile,\r\n  analyzeMetafileSync,\r\n  build,\r\n  buildSync,\r\n  formatMessages,\r\n  formatMessagesSync,\r\n  initialize,\r\n  serve,\r\n  transform,\r\n  transformSync,\r\n  version\r\n});\r\n", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"events\" has been externalized for browser compatibility. Cannot access \"events.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"assert\" has been externalized for browser compatibility. Cannot access \"assert.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"net\" has been externalized for browser compatibility. Cannot access \"net.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"http\" has been externalized for browser compatibility. Cannot access \"http.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"stream\" has been externalized for browser compatibility. Cannot access \"stream.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:os\" has been externalized for browser compatibility. Cannot access \"node:os.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:crypto\" has been externalized for browser compatibility. Cannot access \"node:crypto.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:util\" has been externalized for browser compatibility. Cannot access \"node:util.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:dns\" has been externalized for browser compatibility. Cannot access \"node:dns.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"buffer\" has been externalized for browser compatibility. Cannot access \"buffer.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"module\" has been externalized for browser compatibility. Cannot access \"module.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"zlib\" has been externalized for browser compatibility. Cannot access \"zlib.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"https\" has been externalized for browser compatibility. Cannot access \"https.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"tls\" has been externalized for browser compatibility. Cannot access \"tls.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"querystring\" has been externalized for browser compatibility. Cannot access \"querystring.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:readline\" has been externalized for browser compatibility. Cannot access \"node:readline.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:child_process\" has been externalized for browser compatibility. Cannot access \"node:child_process.${key}\" in client code.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      throw new Error(`Module \"node:zlib\" has been externalized for browser compatibility. Cannot access \"node:zlib.${key}\" in client code.`)\n    }\n  }\n}))", "import fs$l, { promises as promises$2 } from 'node:fs';\r\nimport path$n, { resolve as resolve$6, join as join$2, posix as posix$2, isAbsolute as isAbsolute$2, relative as relative$2, dirname as dirname$2, basename as basename$2, extname as extname$1 } from 'node:path';\r\nimport { URL as URL$3, pathToFileURL, URLSearchParams, parse as parse$k } from 'node:url';\r\nimport { performance } from 'node:perf_hooks';\r\nimport { createRequire as createRequire$1, builtinModules } from 'node:module';\r\nimport require$$0$3 from 'tty';\r\nimport { transform as transform$2, build as build$3, formatMessages } from 'esbuild';\r\nimport require$$0$4, { sep, resolve as resolve$4, posix as posix$1, relative as relative$1, basename as basename$1, extname, dirname as dirname$1, join as join$1, win32 as win32$1, isAbsolute as isAbsolute$1, normalize } from 'path';\r\nimport * as require$$0$2 from 'fs';\r\nimport require$$0__default, { existsSync, readFileSync, statSync as statSync$1, promises as promises$1, readdirSync } from 'fs';\r\nimport require$$0$5 from 'events';\r\nimport assert$1 from 'assert';\r\nimport require$$0$6, { format as format$2, inspect } from 'util';\r\nimport require$$3$1 from 'net';\r\nimport require$$0$9, { pathToFileURL as pathToFileURL$1 } from 'url';\r\nimport require$$1$2 from 'http';\r\nimport require$$0$7 from 'stream';\r\nimport require$$1 from 'os';\r\nimport require$$2 from 'child_process';\r\nimport os$3 from 'node:os';\r\nimport { createHash as createHash$2 } from 'node:crypto';\r\nimport { promisify as promisify$4 } from 'node:util';\r\nimport { promises } from 'node:dns';\r\nimport resolve$5 from 'resolve';\r\nimport { CLIENT_ENTRY, OPTIMIZABLE_ENTRY_RE, DEFAULT_EXTENSIONS as DEFAULT_EXTENSIONS$1, wildcardHosts, loopbackHosts, VALID_ID_PREFIX, FS_PREFIX, CLIENT_PUBLIC_PATH, ENV_PUBLIC_PATH, DEFAULT_MAIN_FIELDS, DEP_VERSION_RE, SPECIAL_QUERY_RE, KNOWN_ASSET_TYPES, JS_TYPES_RE, ESBUILD_MODULES_TARGET, CLIENT_DIR, NULL_BYTE_PLACEHOLDER, VERSION, VITE_PACKAGE_DIR, ENV_ENTRY, DEFAULT_ASSETS_RE, DEFAULT_CONFIG_FILES } from '../constants.js';\r\nimport require$$5 from 'crypto';\r\nimport require$$0$a from 'buffer';\r\nimport require$$0$8, { createRequire as createRequire$2 } from 'module';\r\nimport require$$0$b from 'zlib';\r\nimport require$$1$3 from 'https';\r\nimport require$$4 from 'tls';\r\nimport { STATUS_CODES } from 'node:http';\r\nimport { createServer as createServer$2 } from 'node:https';\r\nimport require$$1$1 from 'worker_threads';\r\nimport * as qs from 'querystring';\r\nimport readline from 'node:readline';\r\nimport { execSync } from 'node:child_process';\r\nimport zlib$1, { gzip } from 'node:zlib';\r\n\r\nimport { fileURLToPath as __cjs_fileURLToPath } from 'node:url';\r\nimport { dirname as __cjs_dirname } from 'node:path';\r\nimport { createRequire as __cjs_createRequire } from 'node:module';\r\n\r\nconst __filename = __cjs_fileURLToPath(import.meta.url);\r\nconst __dirname = __cjs_dirname(__filename);\r\nconst require = __cjs_createRequire(import.meta.url);\r\nconst __require = require;\r\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\nfunction getDefaultExportFromCjs (x) {\r\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\r\n}\r\n\r\nfunction getAugmentedNamespace(n) {\r\n  var f = n.default;\r\n\tif (typeof f == \"function\") {\r\n\t\tvar a = function () {\r\n\t\t\treturn f.apply(this, arguments);\r\n\t\t};\r\n\t\ta.prototype = f.prototype;\r\n  } else a = {};\r\n  Object.defineProperty(a, '__esModule', {value: true});\r\n\tObject.keys(n).forEach(function (k) {\r\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\r\n\t\tObject.defineProperty(a, k, d.get ? d : {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\treturn n[k];\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\treturn a;\r\n}\r\n\r\nvar picocolors = {exports: {}};\r\n\r\nlet tty = require$$0$3;\r\n\r\nlet isColorSupported =\r\n\t!(\"NO_COLOR\" in process.env || process.argv.includes(\"--no-color\")) &&\r\n\t(\"FORCE_COLOR\" in process.env ||\r\n\t\tprocess.argv.includes(\"--color\") ||\r\n\t\tprocess.platform === \"win32\" ||\r\n\t\t(tty.isatty(1) && process.env.TERM !== \"dumb\") ||\r\n\t\t\"CI\" in process.env);\r\n\r\nlet formatter =\r\n\t(open, close, replace = open) =>\r\n\tinput => {\r\n\t\tlet string = \"\" + input;\r\n\t\tlet index = string.indexOf(close, open.length);\r\n\t\treturn ~index\r\n\t\t\t? open + replaceClose(string, close, replace, index) + close\r\n\t\t\t: open + string + close\r\n\t};\r\n\r\nlet replaceClose = (string, close, replace, index) => {\r\n\tlet start = string.substring(0, index) + replace;\r\n\tlet end = string.substring(index + close.length);\r\n\tlet nextIndex = end.indexOf(close);\r\n\treturn ~nextIndex ? start + replaceClose(end, close, replace, nextIndex) : start + end\r\n};\r\n\r\nlet createColors = (enabled = isColorSupported) => ({\r\n\tisColorSupported: enabled,\r\n\treset: enabled ? s => `\\x1b[0m${s}\\x1b[0m` : String,\r\n\tbold: enabled ? formatter(\"\\x1b[1m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[1m\") : String,\r\n\tdim: enabled ? formatter(\"\\x1b[2m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[2m\") : String,\r\n\titalic: enabled ? formatter(\"\\x1b[3m\", \"\\x1b[23m\") : String,\r\n\tunderline: enabled ? formatter(\"\\x1b[4m\", \"\\x1b[24m\") : String,\r\n\tinverse: enabled ? formatter(\"\\x1b[7m\", \"\\x1b[27m\") : String,\r\n\thidden: enabled ? formatter(\"\\x1b[8m\", \"\\x1b[28m\") : String,\r\n\tstrikethrough: enabled ? formatter(\"\\x1b[9m\", \"\\x1b[29m\") : String,\r\n\tblack: enabled ? formatter(\"\\x1b[30m\", \"\\x1b[39m\") : String,\r\n\tred: enabled ? formatter(\"\\x1b[31m\", \"\\x1b[39m\") : String,\r\n\tgreen: enabled ? formatter(\"\\x1b[32m\", \"\\x1b[39m\") : String,\r\n\tyellow: enabled ? formatter(\"\\x1b[33m\", \"\\x1b[39m\") : String,\r\n\tblue: enabled ? formatter(\"\\x1b[34m\", \"\\x1b[39m\") : String,\r\n\tmagenta: enabled ? formatter(\"\\x1b[35m\", \"\\x1b[39m\") : String,\r\n\tcyan: enabled ? formatter(\"\\x1b[36m\", \"\\x1b[39m\") : String,\r\n\twhite: enabled ? formatter(\"\\x1b[37m\", \"\\x1b[39m\") : String,\r\n\tgray: enabled ? formatter(\"\\x1b[90m\", \"\\x1b[39m\") : String,\r\n\tbgBlack: enabled ? formatter(\"\\x1b[40m\", \"\\x1b[49m\") : String,\r\n\tbgRed: enabled ? formatter(\"\\x1b[41m\", \"\\x1b[49m\") : String,\r\n\tbgGreen: enabled ? formatter(\"\\x1b[42m\", \"\\x1b[49m\") : String,\r\n\tbgYellow: enabled ? formatter(\"\\x1b[43m\", \"\\x1b[49m\") : String,\r\n\tbgBlue: enabled ? formatter(\"\\x1b[44m\", \"\\x1b[49m\") : String,\r\n\tbgMagenta: enabled ? formatter(\"\\x1b[45m\", \"\\x1b[49m\") : String,\r\n\tbgCyan: enabled ? formatter(\"\\x1b[46m\", \"\\x1b[49m\") : String,\r\n\tbgWhite: enabled ? formatter(\"\\x1b[47m\", \"\\x1b[49m\") : String,\r\n});\r\n\r\npicocolors.exports = createColors();\r\npicocolors.exports.createColors = createColors;\r\n\r\nfunction matches$1(pattern, importee) {\r\n    if (pattern instanceof RegExp) {\r\n        return pattern.test(importee);\r\n    }\r\n    if (importee.length < pattern.length) {\r\n        return false;\r\n    }\r\n    if (importee === pattern) {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line prefer-template\r\n    return importee.startsWith(pattern + '/');\r\n}\r\nfunction getEntries({ entries, customResolver }) {\r\n    if (!entries) {\r\n        return [];\r\n    }\r\n    const resolverFunctionFromOptions = resolveCustomResolver(customResolver);\r\n    if (Array.isArray(entries)) {\r\n        return entries.map((entry) => {\r\n            return {\r\n                find: entry.find,\r\n                replacement: entry.replacement,\r\n                resolverFunction: resolveCustomResolver(entry.customResolver) || resolverFunctionFromOptions\r\n            };\r\n        });\r\n    }\r\n    return Object.entries(entries).map(([key, value]) => {\r\n        return { find: key, replacement: value, resolverFunction: resolverFunctionFromOptions };\r\n    });\r\n}\r\nfunction resolveCustomResolver(customResolver) {\r\n    if (customResolver) {\r\n        if (typeof customResolver === 'function') {\r\n            return customResolver;\r\n        }\r\n        if (typeof customResolver.resolveId === 'function') {\r\n            return customResolver.resolveId;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction alias$1(options = {}) {\r\n    const entries = getEntries(options);\r\n    if (entries.length === 0) {\r\n        return {\r\n            name: 'alias',\r\n            resolveId: () => null\r\n        };\r\n    }\r\n    return {\r\n        name: 'alias',\r\n        async buildStart(inputOptions) {\r\n            await Promise.all([...(Array.isArray(options.entries) ? options.entries : []), options].map(({ customResolver }) => customResolver &&\r\n                typeof customResolver === 'object' &&\r\n                typeof customResolver.buildStart === 'function' &&\r\n                customResolver.buildStart.call(this, inputOptions)));\r\n        },\r\n        resolveId(importee, importer, resolveOptions) {\r\n            if (!importer) {\r\n                return null;\r\n            }\r\n            // First match is supposed to be the correct one\r\n            const matchedEntry = entries.find((entry) => matches$1(entry.find, importee));\r\n            if (!matchedEntry) {\r\n                return null;\r\n            }\r\n            const updatedId = importee.replace(matchedEntry.find, matchedEntry.replacement);\r\n            if (matchedEntry.resolverFunction) {\r\n                return matchedEntry.resolverFunction.call(this, updatedId, importer, resolveOptions);\r\n            }\r\n            return this.resolve(updatedId, importer, Object.assign({ skipSelf: true }, resolveOptions)).then((resolved) => resolved || { id: updatedId });\r\n        }\r\n    };\r\n}\r\n\r\nvar picomatch$4 = {exports: {}};\r\n\r\nvar utils$k = {};\r\n\r\nconst path$m = require$$0$4;\r\nconst WIN_SLASH = '\\\\\\\\/';\r\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\r\n\r\n/**\r\n * Posix glob regex\r\n */\r\n\r\nconst DOT_LITERAL = '\\\\.';\r\nconst PLUS_LITERAL = '\\\\+';\r\nconst QMARK_LITERAL = '\\\\?';\r\nconst SLASH_LITERAL = '\\\\/';\r\nconst ONE_CHAR = '(?=.)';\r\nconst QMARK = '[^/]';\r\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\r\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\r\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\r\nconst NO_DOT = `(?!${DOT_LITERAL})`;\r\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\r\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\r\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\r\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\r\nconst STAR$1 = `${QMARK}*?`;\r\n\r\nconst POSIX_CHARS = {\r\n  DOT_LITERAL,\r\n  PLUS_LITERAL,\r\n  QMARK_LITERAL,\r\n  SLASH_LITERAL,\r\n  ONE_CHAR,\r\n  QMARK,\r\n  END_ANCHOR,\r\n  DOTS_SLASH,\r\n  NO_DOT,\r\n  NO_DOTS,\r\n  NO_DOT_SLASH,\r\n  NO_DOTS_SLASH,\r\n  QMARK_NO_DOT,\r\n  STAR: STAR$1,\r\n  START_ANCHOR\r\n};\r\n\r\n/**\r\n * Windows glob regex\r\n */\r\n\r\nconst WINDOWS_CHARS = {\r\n  ...POSIX_CHARS,\r\n\r\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\r\n  QMARK: WIN_NO_SLASH,\r\n  STAR: `${WIN_NO_SLASH}*?`,\r\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\r\n  NO_DOT: `(?!${DOT_LITERAL})`,\r\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\r\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\r\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\r\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\r\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\r\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\r\n};\r\n\r\n/**\r\n * POSIX Bracket Regex\r\n */\r\n\r\nconst POSIX_REGEX_SOURCE$1 = {\r\n  alnum: 'a-zA-Z0-9',\r\n  alpha: 'a-zA-Z',\r\n  ascii: '\\\\x00-\\\\x7F',\r\n  blank: ' \\\\t',\r\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\r\n  digit: '0-9',\r\n  graph: '\\\\x21-\\\\x7E',\r\n  lower: 'a-z',\r\n  print: '\\\\x20-\\\\x7E ',\r\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\r\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\r\n  upper: 'A-Z',\r\n  word: 'A-Za-z0-9_',\r\n  xdigit: 'A-Fa-f0-9'\r\n};\r\n\r\nvar constants$6 = {\r\n  MAX_LENGTH: 1024 * 64,\r\n  POSIX_REGEX_SOURCE: POSIX_REGEX_SOURCE$1,\r\n\r\n  // regular expressions\r\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\r\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\r\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\r\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\r\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\r\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\r\n\r\n  // Replace globs with equivalent patterns to reduce parsing time.\r\n  REPLACEMENTS: {\r\n    '***': '*',\r\n    '**/**': '**',\r\n    '**/**/**': '**'\r\n  },\r\n\r\n  // Digits\r\n  CHAR_0: 48, /* 0 */\r\n  CHAR_9: 57, /* 9 */\r\n\r\n  // Alphabet chars.\r\n  CHAR_UPPERCASE_A: 65, /* A */\r\n  CHAR_LOWERCASE_A: 97, /* a */\r\n  CHAR_UPPERCASE_Z: 90, /* Z */\r\n  CHAR_LOWERCASE_Z: 122, /* z */\r\n\r\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\r\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\r\n\r\n  CHAR_ASTERISK: 42, /* * */\r\n\r\n  // Non-alphabetic chars.\r\n  CHAR_AMPERSAND: 38, /* & */\r\n  CHAR_AT: 64, /* @ */\r\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\r\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\r\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\r\n  CHAR_COLON: 58, /* : */\r\n  CHAR_COMMA: 44, /* , */\r\n  CHAR_DOT: 46, /* . */\r\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\r\n  CHAR_EQUAL: 61, /* = */\r\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\r\n  CHAR_FORM_FEED: 12, /* \\f */\r\n  CHAR_FORWARD_SLASH: 47, /* / */\r\n  CHAR_GRAVE_ACCENT: 96, /* ` */\r\n  CHAR_HASH: 35, /* # */\r\n  CHAR_HYPHEN_MINUS: 45, /* - */\r\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\r\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\r\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\r\n  CHAR_LINE_FEED: 10, /* \\n */\r\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\r\n  CHAR_PERCENT: 37, /* % */\r\n  CHAR_PLUS: 43, /* + */\r\n  CHAR_QUESTION_MARK: 63, /* ? */\r\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\r\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\r\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\r\n  CHAR_SEMICOLON: 59, /* ; */\r\n  CHAR_SINGLE_QUOTE: 39, /* ' */\r\n  CHAR_SPACE: 32, /*   */\r\n  CHAR_TAB: 9, /* \\t */\r\n  CHAR_UNDERSCORE: 95, /* _ */\r\n  CHAR_VERTICAL_LINE: 124, /* | */\r\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\r\n\r\n  SEP: path$m.sep,\r\n\r\n  /**\r\n   * Create EXTGLOB_CHARS\r\n   */\r\n\r\n  extglobChars(chars) {\r\n    return {\r\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\r\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\r\n      '+': { type: 'plus', open: '(?:', close: ')+' },\r\n      '*': { type: 'star', open: '(?:', close: ')*' },\r\n      '@': { type: 'at', open: '(?:', close: ')' }\r\n    };\r\n  },\r\n\r\n  /**\r\n   * Create GLOB_CHARS\r\n   */\r\n\r\n  globChars(win32) {\r\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\r\n  }\r\n};\r\n\r\n(function (exports) {\r\n\r\n\tconst path = require$$0$4;\r\n\tconst win32 = process.platform === 'win32';\r\n\tconst {\r\n\t  REGEX_BACKSLASH,\r\n\t  REGEX_REMOVE_BACKSLASH,\r\n\t  REGEX_SPECIAL_CHARS,\r\n\t  REGEX_SPECIAL_CHARS_GLOBAL\r\n\t} = constants$6;\r\n\r\n\texports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\r\n\texports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\r\n\texports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\r\n\texports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\r\n\texports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\r\n\r\n\texports.removeBackslashes = str => {\r\n\t  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\r\n\t    return match === '\\\\' ? '' : match;\r\n\t  });\r\n\t};\r\n\r\n\texports.supportsLookbehinds = () => {\r\n\t  const segs = process.version.slice(1).split('.').map(Number);\r\n\t  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\r\n\t    return true;\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\texports.isWindows = options => {\r\n\t  if (options && typeof options.windows === 'boolean') {\r\n\t    return options.windows;\r\n\t  }\r\n\t  return win32 === true || path.sep === '\\\\';\r\n\t};\r\n\r\n\texports.escapeLast = (input, char, lastIdx) => {\r\n\t  const idx = input.lastIndexOf(char, lastIdx);\r\n\t  if (idx === -1) return input;\r\n\t  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\r\n\t  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\r\n\t};\r\n\r\n\texports.removePrefix = (input, state = {}) => {\r\n\t  let output = input;\r\n\t  if (output.startsWith('./')) {\r\n\t    output = output.slice(2);\r\n\t    state.prefix = './';\r\n\t  }\r\n\t  return output;\r\n\t};\r\n\r\n\texports.wrapOutput = (input, state = {}, options = {}) => {\r\n\t  const prepend = options.contains ? '' : '^';\r\n\t  const append = options.contains ? '' : '$';\r\n\r\n\t  let output = `${prepend}(?:${input})${append}`;\r\n\t  if (state.negated === true) {\r\n\t    output = `(?:^(?!${output}).*$)`;\r\n\t  }\r\n\t  return output;\r\n\t};\r\n} (utils$k));\r\n\r\nconst utils$j = utils$k;\r\nconst {\r\n  CHAR_ASTERISK,             /* * */\r\n  CHAR_AT,                   /* @ */\r\n  CHAR_BACKWARD_SLASH,       /* \\ */\r\n  CHAR_COMMA: CHAR_COMMA$1,                /* , */\r\n  CHAR_DOT: CHAR_DOT$1,                  /* . */\r\n  CHAR_EXCLAMATION_MARK,     /* ! */\r\n  CHAR_FORWARD_SLASH,        /* / */\r\n  CHAR_LEFT_CURLY_BRACE: CHAR_LEFT_CURLY_BRACE$1,     /* { */\r\n  CHAR_LEFT_PARENTHESES: CHAR_LEFT_PARENTHESES$1,     /* ( */\r\n  CHAR_LEFT_SQUARE_BRACKET: CHAR_LEFT_SQUARE_BRACKET$1,  /* [ */\r\n  CHAR_PLUS,                 /* + */\r\n  CHAR_QUESTION_MARK,        /* ? */\r\n  CHAR_RIGHT_CURLY_BRACE: CHAR_RIGHT_CURLY_BRACE$1,    /* } */\r\n  CHAR_RIGHT_PARENTHESES: CHAR_RIGHT_PARENTHESES$1,    /* ) */\r\n  CHAR_RIGHT_SQUARE_BRACKET: CHAR_RIGHT_SQUARE_BRACKET$1  /* ] */\r\n} = constants$6;\r\n\r\nconst isPathSeparator = code => {\r\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\r\n};\r\n\r\nconst depth = token => {\r\n  if (token.isPrefix !== true) {\r\n    token.depth = token.isGlobstar ? Infinity : 1;\r\n  }\r\n};\r\n\r\n/**\r\n * Quickly scans a glob pattern and returns an object with a handful of\r\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\r\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\r\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\r\n *\r\n * ```js\r\n * const pm = require('picomatch');\r\n * console.log(pm.scan('foo/bar/*.js'));\r\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\r\n * ```\r\n * @param {String} `str`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with tokens and regex source string.\r\n * @api public\r\n */\r\n\r\nconst scan$2 = (input, options) => {\r\n  const opts = options || {};\r\n\r\n  const length = input.length - 1;\r\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\r\n  const slashes = [];\r\n  const tokens = [];\r\n  const parts = [];\r\n\r\n  let str = input;\r\n  let index = -1;\r\n  let start = 0;\r\n  let lastIndex = 0;\r\n  let isBrace = false;\r\n  let isBracket = false;\r\n  let isGlob = false;\r\n  let isExtglob = false;\r\n  let isGlobstar = false;\r\n  let braceEscaped = false;\r\n  let backslashes = false;\r\n  let negated = false;\r\n  let negatedExtglob = false;\r\n  let finished = false;\r\n  let braces = 0;\r\n  let prev;\r\n  let code;\r\n  let token = { value: '', depth: 0, isGlob: false };\r\n\r\n  const eos = () => index >= length;\r\n  const peek = () => str.charCodeAt(index + 1);\r\n  const advance = () => {\r\n    prev = code;\r\n    return str.charCodeAt(++index);\r\n  };\r\n\r\n  while (index < length) {\r\n    code = advance();\r\n    let next;\r\n\r\n    if (code === CHAR_BACKWARD_SLASH) {\r\n      backslashes = token.backslashes = true;\r\n      code = advance();\r\n\r\n      if (code === CHAR_LEFT_CURLY_BRACE$1) {\r\n        braceEscaped = true;\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE$1) {\r\n      braces++;\r\n\r\n      while (eos() !== true && (code = advance())) {\r\n        if (code === CHAR_BACKWARD_SLASH) {\r\n          backslashes = token.backslashes = true;\r\n          advance();\r\n          continue;\r\n        }\r\n\r\n        if (code === CHAR_LEFT_CURLY_BRACE$1) {\r\n          braces++;\r\n          continue;\r\n        }\r\n\r\n        if (braceEscaped !== true && code === CHAR_DOT$1 && (code = advance()) === CHAR_DOT$1) {\r\n          isBrace = token.isBrace = true;\r\n          isGlob = token.isGlob = true;\r\n          finished = true;\r\n\r\n          if (scanToEnd === true) {\r\n            continue;\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n        if (braceEscaped !== true && code === CHAR_COMMA$1) {\r\n          isBrace = token.isBrace = true;\r\n          isGlob = token.isGlob = true;\r\n          finished = true;\r\n\r\n          if (scanToEnd === true) {\r\n            continue;\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n        if (code === CHAR_RIGHT_CURLY_BRACE$1) {\r\n          braces--;\r\n\r\n          if (braces === 0) {\r\n            braceEscaped = false;\r\n            isBrace = token.isBrace = true;\r\n            finished = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    if (code === CHAR_FORWARD_SLASH) {\r\n      slashes.push(index);\r\n      tokens.push(token);\r\n      token = { value: '', depth: 0, isGlob: false };\r\n\r\n      if (finished === true) continue;\r\n      if (prev === CHAR_DOT$1 && index === (start + 1)) {\r\n        start += 2;\r\n        continue;\r\n      }\r\n\r\n      lastIndex = index + 1;\r\n      continue;\r\n    }\r\n\r\n    if (opts.noext !== true) {\r\n      const isExtglobChar = code === CHAR_PLUS\r\n        || code === CHAR_AT\r\n        || code === CHAR_ASTERISK\r\n        || code === CHAR_QUESTION_MARK\r\n        || code === CHAR_EXCLAMATION_MARK;\r\n\r\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES$1) {\r\n        isGlob = token.isGlob = true;\r\n        isExtglob = token.isExtglob = true;\r\n        finished = true;\r\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\r\n          negatedExtglob = true;\r\n        }\r\n\r\n        if (scanToEnd === true) {\r\n          while (eos() !== true && (code = advance())) {\r\n            if (code === CHAR_BACKWARD_SLASH) {\r\n              backslashes = token.backslashes = true;\r\n              code = advance();\r\n              continue;\r\n            }\r\n\r\n            if (code === CHAR_RIGHT_PARENTHESES$1) {\r\n              isGlob = token.isGlob = true;\r\n              finished = true;\r\n              break;\r\n            }\r\n          }\r\n          continue;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (code === CHAR_ASTERISK) {\r\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\r\n      isGlob = token.isGlob = true;\r\n      finished = true;\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n\r\n    if (code === CHAR_QUESTION_MARK) {\r\n      isGlob = token.isGlob = true;\r\n      finished = true;\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n\r\n    if (code === CHAR_LEFT_SQUARE_BRACKET$1) {\r\n      while (eos() !== true && (next = advance())) {\r\n        if (next === CHAR_BACKWARD_SLASH) {\r\n          backslashes = token.backslashes = true;\r\n          advance();\r\n          continue;\r\n        }\r\n\r\n        if (next === CHAR_RIGHT_SQUARE_BRACKET$1) {\r\n          isBracket = token.isBracket = true;\r\n          isGlob = token.isGlob = true;\r\n          finished = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\r\n      negated = token.negated = true;\r\n      start++;\r\n      continue;\r\n    }\r\n\r\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES$1) {\r\n      isGlob = token.isGlob = true;\r\n\r\n      if (scanToEnd === true) {\r\n        while (eos() !== true && (code = advance())) {\r\n          if (code === CHAR_LEFT_PARENTHESES$1) {\r\n            backslashes = token.backslashes = true;\r\n            code = advance();\r\n            continue;\r\n          }\r\n\r\n          if (code === CHAR_RIGHT_PARENTHESES$1) {\r\n            finished = true;\r\n            break;\r\n          }\r\n        }\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n\r\n    if (isGlob === true) {\r\n      finished = true;\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (opts.noext === true) {\r\n    isExtglob = false;\r\n    isGlob = false;\r\n  }\r\n\r\n  let base = str;\r\n  let prefix = '';\r\n  let glob = '';\r\n\r\n  if (start > 0) {\r\n    prefix = str.slice(0, start);\r\n    str = str.slice(start);\r\n    lastIndex -= start;\r\n  }\r\n\r\n  if (base && isGlob === true && lastIndex > 0) {\r\n    base = str.slice(0, lastIndex);\r\n    glob = str.slice(lastIndex);\r\n  } else if (isGlob === true) {\r\n    base = '';\r\n    glob = str;\r\n  } else {\r\n    base = str;\r\n  }\r\n\r\n  if (base && base !== '' && base !== '/' && base !== str) {\r\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\r\n      base = base.slice(0, -1);\r\n    }\r\n  }\r\n\r\n  if (opts.unescape === true) {\r\n    if (glob) glob = utils$j.removeBackslashes(glob);\r\n\r\n    if (base && backslashes === true) {\r\n      base = utils$j.removeBackslashes(base);\r\n    }\r\n  }\r\n\r\n  const state = {\r\n    prefix,\r\n    input,\r\n    start,\r\n    base,\r\n    glob,\r\n    isBrace,\r\n    isBracket,\r\n    isGlob,\r\n    isExtglob,\r\n    isGlobstar,\r\n    negated,\r\n    negatedExtglob\r\n  };\r\n\r\n  if (opts.tokens === true) {\r\n    state.maxDepth = 0;\r\n    if (!isPathSeparator(code)) {\r\n      tokens.push(token);\r\n    }\r\n    state.tokens = tokens;\r\n  }\r\n\r\n  if (opts.parts === true || opts.tokens === true) {\r\n    let prevIndex;\r\n\r\n    for (let idx = 0; idx < slashes.length; idx++) {\r\n      const n = prevIndex ? prevIndex + 1 : start;\r\n      const i = slashes[idx];\r\n      const value = input.slice(n, i);\r\n      if (opts.tokens) {\r\n        if (idx === 0 && start !== 0) {\r\n          tokens[idx].isPrefix = true;\r\n          tokens[idx].value = prefix;\r\n        } else {\r\n          tokens[idx].value = value;\r\n        }\r\n        depth(tokens[idx]);\r\n        state.maxDepth += tokens[idx].depth;\r\n      }\r\n      if (idx !== 0 || value !== '') {\r\n        parts.push(value);\r\n      }\r\n      prevIndex = i;\r\n    }\r\n\r\n    if (prevIndex && prevIndex + 1 < input.length) {\r\n      const value = input.slice(prevIndex + 1);\r\n      parts.push(value);\r\n\r\n      if (opts.tokens) {\r\n        tokens[tokens.length - 1].value = value;\r\n        depth(tokens[tokens.length - 1]);\r\n        state.maxDepth += tokens[tokens.length - 1].depth;\r\n      }\r\n    }\r\n\r\n    state.slashes = slashes;\r\n    state.parts = parts;\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nvar scan_1 = scan$2;\r\n\r\nconst constants$5 = constants$6;\r\nconst utils$i = utils$k;\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nconst {\r\n  MAX_LENGTH: MAX_LENGTH$1,\r\n  POSIX_REGEX_SOURCE,\r\n  REGEX_NON_SPECIAL_CHARS,\r\n  REGEX_SPECIAL_CHARS_BACKREF,\r\n  REPLACEMENTS\r\n} = constants$5;\r\n\r\n/**\r\n * Helpers\r\n */\r\n\r\nconst expandRange = (args, options) => {\r\n  if (typeof options.expandRange === 'function') {\r\n    return options.expandRange(...args, options);\r\n  }\r\n\r\n  args.sort();\r\n  const value = `[${args.join('-')}]`;\r\n\r\n  return value;\r\n};\r\n\r\n/**\r\n * Create the message for a syntax error\r\n */\r\n\r\nconst syntaxError$1 = (type, char) => {\r\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\r\n};\r\n\r\n/**\r\n * Parse the given input string.\r\n * @param {String} input\r\n * @param {Object} options\r\n * @return {Object}\r\n */\r\n\r\nconst parse$j = (input, options) => {\r\n  if (typeof input !== 'string') {\r\n    throw new TypeError('Expected a string');\r\n  }\r\n\r\n  input = REPLACEMENTS[input] || input;\r\n\r\n  const opts = { ...options };\r\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH$1, opts.maxLength) : MAX_LENGTH$1;\r\n\r\n  let len = input.length;\r\n  if (len > max) {\r\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\r\n  }\r\n\r\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\r\n  const tokens = [bos];\r\n\r\n  const capture = opts.capture ? '' : '?:';\r\n  const win32 = utils$i.isWindows(options);\r\n\r\n  // create constants based on platform, for windows or posix\r\n  const PLATFORM_CHARS = constants$5.globChars(win32);\r\n  const EXTGLOB_CHARS = constants$5.extglobChars(PLATFORM_CHARS);\r\n\r\n  const {\r\n    DOT_LITERAL,\r\n    PLUS_LITERAL,\r\n    SLASH_LITERAL,\r\n    ONE_CHAR,\r\n    DOTS_SLASH,\r\n    NO_DOT,\r\n    NO_DOT_SLASH,\r\n    NO_DOTS_SLASH,\r\n    QMARK,\r\n    QMARK_NO_DOT,\r\n    STAR,\r\n    START_ANCHOR\r\n  } = PLATFORM_CHARS;\r\n\r\n  const globstar = opts => {\r\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\r\n  };\r\n\r\n  const nodot = opts.dot ? '' : NO_DOT;\r\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\r\n  let star = opts.bash === true ? globstar(opts) : STAR;\r\n\r\n  if (opts.capture) {\r\n    star = `(${star})`;\r\n  }\r\n\r\n  // minimatch options support\r\n  if (typeof opts.noext === 'boolean') {\r\n    opts.noextglob = opts.noext;\r\n  }\r\n\r\n  const state = {\r\n    input,\r\n    index: -1,\r\n    start: 0,\r\n    dot: opts.dot === true,\r\n    consumed: '',\r\n    output: '',\r\n    prefix: '',\r\n    backtrack: false,\r\n    negated: false,\r\n    brackets: 0,\r\n    braces: 0,\r\n    parens: 0,\r\n    quotes: 0,\r\n    globstar: false,\r\n    tokens\r\n  };\r\n\r\n  input = utils$i.removePrefix(input, state);\r\n  len = input.length;\r\n\r\n  const extglobs = [];\r\n  const braces = [];\r\n  const stack = [];\r\n  let prev = bos;\r\n  let value;\r\n\r\n  /**\r\n   * Tokenizing helpers\r\n   */\r\n\r\n  const eos = () => state.index === len - 1;\r\n  const peek = state.peek = (n = 1) => input[state.index + n];\r\n  const advance = state.advance = () => input[++state.index] || '';\r\n  const remaining = () => input.slice(state.index + 1);\r\n  const consume = (value = '', num = 0) => {\r\n    state.consumed += value;\r\n    state.index += num;\r\n  };\r\n\r\n  const append = token => {\r\n    state.output += token.output != null ? token.output : token.value;\r\n    consume(token.value);\r\n  };\r\n\r\n  const negate = () => {\r\n    let count = 1;\r\n\r\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\r\n      advance();\r\n      state.start++;\r\n      count++;\r\n    }\r\n\r\n    if (count % 2 === 0) {\r\n      return false;\r\n    }\r\n\r\n    state.negated = true;\r\n    state.start++;\r\n    return true;\r\n  };\r\n\r\n  const increment = type => {\r\n    state[type]++;\r\n    stack.push(type);\r\n  };\r\n\r\n  const decrement = type => {\r\n    state[type]--;\r\n    stack.pop();\r\n  };\r\n\r\n  /**\r\n   * Push tokens onto the tokens array. This helper speeds up\r\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\r\n   * and 2) helping us avoid creating extra tokens when consecutive\r\n   * characters are plain text. This improves performance and simplifies\r\n   * lookbehinds.\r\n   */\r\n\r\n  const push = tok => {\r\n    if (prev.type === 'globstar') {\r\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\r\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\r\n\r\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\r\n        state.output = state.output.slice(0, -prev.output.length);\r\n        prev.type = 'star';\r\n        prev.value = '*';\r\n        prev.output = star;\r\n        state.output += prev.output;\r\n      }\r\n    }\r\n\r\n    if (extglobs.length && tok.type !== 'paren') {\r\n      extglobs[extglobs.length - 1].inner += tok.value;\r\n    }\r\n\r\n    if (tok.value || tok.output) append(tok);\r\n    if (prev && prev.type === 'text' && tok.type === 'text') {\r\n      prev.value += tok.value;\r\n      prev.output = (prev.output || '') + tok.value;\r\n      return;\r\n    }\r\n\r\n    tok.prev = prev;\r\n    tokens.push(tok);\r\n    prev = tok;\r\n  };\r\n\r\n  const extglobOpen = (type, value) => {\r\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\r\n\r\n    token.prev = prev;\r\n    token.parens = state.parens;\r\n    token.output = state.output;\r\n    const output = (opts.capture ? '(' : '') + token.open;\r\n\r\n    increment('parens');\r\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\r\n    push({ type: 'paren', extglob: true, value: advance(), output });\r\n    extglobs.push(token);\r\n  };\r\n\r\n  const extglobClose = token => {\r\n    let output = token.close + (opts.capture ? ')' : '');\r\n    let rest;\r\n\r\n    if (token.type === 'negate') {\r\n      let extglobStar = star;\r\n\r\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\r\n        extglobStar = globstar(opts);\r\n      }\r\n\r\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\r\n        output = token.close = `)$))${extglobStar}`;\r\n      }\r\n\r\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\r\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\r\n        // In this case, we need to parse the string and use it in the output of the original pattern.\r\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\r\n        //\r\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\r\n        const expression = parse$j(rest, { ...options, fastpaths: false }).output;\r\n\r\n        output = token.close = `)${expression})${extglobStar})`;\r\n      }\r\n\r\n      if (token.prev.type === 'bos') {\r\n        state.negatedExtglob = true;\r\n      }\r\n    }\r\n\r\n    push({ type: 'paren', extglob: true, value, output });\r\n    decrement('parens');\r\n  };\r\n\r\n  /**\r\n   * Fast paths\r\n   */\r\n\r\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\r\n    let backslashes = false;\r\n\r\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\r\n      if (first === '\\\\') {\r\n        backslashes = true;\r\n        return m;\r\n      }\r\n\r\n      if (first === '?') {\r\n        if (esc) {\r\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\r\n        }\r\n        if (index === 0) {\r\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\r\n        }\r\n        return QMARK.repeat(chars.length);\r\n      }\r\n\r\n      if (first === '.') {\r\n        return DOT_LITERAL.repeat(chars.length);\r\n      }\r\n\r\n      if (first === '*') {\r\n        if (esc) {\r\n          return esc + first + (rest ? star : '');\r\n        }\r\n        return star;\r\n      }\r\n      return esc ? m : `\\\\${m}`;\r\n    });\r\n\r\n    if (backslashes === true) {\r\n      if (opts.unescape === true) {\r\n        output = output.replace(/\\\\/g, '');\r\n      } else {\r\n        output = output.replace(/\\\\+/g, m => {\r\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\r\n        });\r\n      }\r\n    }\r\n\r\n    if (output === input && opts.contains === true) {\r\n      state.output = input;\r\n      return state;\r\n    }\r\n\r\n    state.output = utils$i.wrapOutput(output, state, options);\r\n    return state;\r\n  }\r\n\r\n  /**\r\n   * Tokenize input until we reach end-of-string\r\n   */\r\n\r\n  while (!eos()) {\r\n    value = advance();\r\n\r\n    if (value === '\\u0000') {\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Escaped characters\r\n     */\r\n\r\n    if (value === '\\\\') {\r\n      const next = peek();\r\n\r\n      if (next === '/' && opts.bash !== true) {\r\n        continue;\r\n      }\r\n\r\n      if (next === '.' || next === ';') {\r\n        continue;\r\n      }\r\n\r\n      if (!next) {\r\n        value += '\\\\';\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n\r\n      // collapse slashes to reduce potential for exploits\r\n      const match = /^\\\\+/.exec(remaining());\r\n      let slashes = 0;\r\n\r\n      if (match && match[0].length > 2) {\r\n        slashes = match[0].length;\r\n        state.index += slashes;\r\n        if (slashes % 2 !== 0) {\r\n          value += '\\\\';\r\n        }\r\n      }\r\n\r\n      if (opts.unescape === true) {\r\n        value = advance();\r\n      } else {\r\n        value += advance();\r\n      }\r\n\r\n      if (state.brackets === 0) {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * If we're inside a regex character class, continue\r\n     * until we reach the closing bracket.\r\n     */\r\n\r\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\r\n      if (opts.posix !== false && value === ':') {\r\n        const inner = prev.value.slice(1);\r\n        if (inner.includes('[')) {\r\n          prev.posix = true;\r\n\r\n          if (inner.includes(':')) {\r\n            const idx = prev.value.lastIndexOf('[');\r\n            const pre = prev.value.slice(0, idx);\r\n            const rest = prev.value.slice(idx + 2);\r\n            const posix = POSIX_REGEX_SOURCE[rest];\r\n            if (posix) {\r\n              prev.value = pre + posix;\r\n              state.backtrack = true;\r\n              advance();\r\n\r\n              if (!bos.output && tokens.indexOf(prev) === 1) {\r\n                bos.output = ONE_CHAR;\r\n              }\r\n              continue;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\r\n        value = `\\\\${value}`;\r\n      }\r\n\r\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\r\n        value = `\\\\${value}`;\r\n      }\r\n\r\n      if (opts.posix === true && value === '!' && prev.value === '[') {\r\n        value = '^';\r\n      }\r\n\r\n      prev.value += value;\r\n      append({ value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * If we're inside a quoted string, continue\r\n     * until we reach the closing double quote.\r\n     */\r\n\r\n    if (state.quotes === 1 && value !== '\"') {\r\n      value = utils$i.escapeRegex(value);\r\n      prev.value += value;\r\n      append({ value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Double quotes\r\n     */\r\n\r\n    if (value === '\"') {\r\n      state.quotes = state.quotes === 1 ? 0 : 1;\r\n      if (opts.keepQuotes === true) {\r\n        push({ type: 'text', value });\r\n      }\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Parentheses\r\n     */\r\n\r\n    if (value === '(') {\r\n      increment('parens');\r\n      push({ type: 'paren', value });\r\n      continue;\r\n    }\r\n\r\n    if (value === ')') {\r\n      if (state.parens === 0 && opts.strictBrackets === true) {\r\n        throw new SyntaxError(syntaxError$1('opening', '('));\r\n      }\r\n\r\n      const extglob = extglobs[extglobs.length - 1];\r\n      if (extglob && state.parens === extglob.parens + 1) {\r\n        extglobClose(extglobs.pop());\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\r\n      decrement('parens');\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Square brackets\r\n     */\r\n\r\n    if (value === '[') {\r\n      if (opts.nobracket === true || !remaining().includes(']')) {\r\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\r\n          throw new SyntaxError(syntaxError$1('closing', ']'));\r\n        }\r\n\r\n        value = `\\\\${value}`;\r\n      } else {\r\n        increment('brackets');\r\n      }\r\n\r\n      push({ type: 'bracket', value });\r\n      continue;\r\n    }\r\n\r\n    if (value === ']') {\r\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\r\n        push({ type: 'text', value, output: `\\\\${value}` });\r\n        continue;\r\n      }\r\n\r\n      if (state.brackets === 0) {\r\n        if (opts.strictBrackets === true) {\r\n          throw new SyntaxError(syntaxError$1('opening', '['));\r\n        }\r\n\r\n        push({ type: 'text', value, output: `\\\\${value}` });\r\n        continue;\r\n      }\r\n\r\n      decrement('brackets');\r\n\r\n      const prevValue = prev.value.slice(1);\r\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\r\n        value = `/${value}`;\r\n      }\r\n\r\n      prev.value += value;\r\n      append({ value });\r\n\r\n      // when literal brackets are explicitly disabled\r\n      // assume we should match with a regex character class\r\n      if (opts.literalBrackets === false || utils$i.hasRegexChars(prevValue)) {\r\n        continue;\r\n      }\r\n\r\n      const escaped = utils$i.escapeRegex(prev.value);\r\n      state.output = state.output.slice(0, -prev.value.length);\r\n\r\n      // when literal brackets are explicitly enabled\r\n      // assume we should escape the brackets to match literal characters\r\n      if (opts.literalBrackets === true) {\r\n        state.output += escaped;\r\n        prev.value = escaped;\r\n        continue;\r\n      }\r\n\r\n      // when the user specifies nothing, try to match both\r\n      prev.value = `(${capture}${escaped}|${prev.value})`;\r\n      state.output += prev.value;\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Braces\r\n     */\r\n\r\n    if (value === '{' && opts.nobrace !== true) {\r\n      increment('braces');\r\n\r\n      const open = {\r\n        type: 'brace',\r\n        value,\r\n        output: '(',\r\n        outputIndex: state.output.length,\r\n        tokensIndex: state.tokens.length\r\n      };\r\n\r\n      braces.push(open);\r\n      push(open);\r\n      continue;\r\n    }\r\n\r\n    if (value === '}') {\r\n      const brace = braces[braces.length - 1];\r\n\r\n      if (opts.nobrace === true || !brace) {\r\n        push({ type: 'text', value, output: value });\r\n        continue;\r\n      }\r\n\r\n      let output = ')';\r\n\r\n      if (brace.dots === true) {\r\n        const arr = tokens.slice();\r\n        const range = [];\r\n\r\n        for (let i = arr.length - 1; i >= 0; i--) {\r\n          tokens.pop();\r\n          if (arr[i].type === 'brace') {\r\n            break;\r\n          }\r\n          if (arr[i].type !== 'dots') {\r\n            range.unshift(arr[i].value);\r\n          }\r\n        }\r\n\r\n        output = expandRange(range, opts);\r\n        state.backtrack = true;\r\n      }\r\n\r\n      if (brace.comma !== true && brace.dots !== true) {\r\n        const out = state.output.slice(0, brace.outputIndex);\r\n        const toks = state.tokens.slice(brace.tokensIndex);\r\n        brace.value = brace.output = '\\\\{';\r\n        value = output = '\\\\}';\r\n        state.output = out;\r\n        for (const t of toks) {\r\n          state.output += (t.output || t.value);\r\n        }\r\n      }\r\n\r\n      push({ type: 'brace', value, output });\r\n      decrement('braces');\r\n      braces.pop();\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Pipes\r\n     */\r\n\r\n    if (value === '|') {\r\n      if (extglobs.length > 0) {\r\n        extglobs[extglobs.length - 1].conditions++;\r\n      }\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Commas\r\n     */\r\n\r\n    if (value === ',') {\r\n      let output = value;\r\n\r\n      const brace = braces[braces.length - 1];\r\n      if (brace && stack[stack.length - 1] === 'braces') {\r\n        brace.comma = true;\r\n        output = '|';\r\n      }\r\n\r\n      push({ type: 'comma', value, output });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Slashes\r\n     */\r\n\r\n    if (value === '/') {\r\n      // if the beginning of the glob is \"./\", advance the start\r\n      // to the current index, and don't add the \"./\" characters\r\n      // to the state. This greatly simplifies lookbehinds when\r\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\r\n      if (prev.type === 'dot' && state.index === state.start + 1) {\r\n        state.start = state.index + 1;\r\n        state.consumed = '';\r\n        state.output = '';\r\n        tokens.pop();\r\n        prev = bos; // reset \"prev\" to the first token\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'slash', value, output: SLASH_LITERAL });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Dots\r\n     */\r\n\r\n    if (value === '.') {\r\n      if (state.braces > 0 && prev.type === 'dot') {\r\n        if (prev.value === '.') prev.output = DOT_LITERAL;\r\n        const brace = braces[braces.length - 1];\r\n        prev.type = 'dots';\r\n        prev.output += value;\r\n        prev.value += value;\r\n        brace.dots = true;\r\n        continue;\r\n      }\r\n\r\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\r\n        push({ type: 'text', value, output: DOT_LITERAL });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'dot', value, output: DOT_LITERAL });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Question marks\r\n     */\r\n\r\n    if (value === '?') {\r\n      const isGroup = prev && prev.value === '(';\r\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\r\n        extglobOpen('qmark', value);\r\n        continue;\r\n      }\r\n\r\n      if (prev && prev.type === 'paren') {\r\n        const next = peek();\r\n        let output = value;\r\n\r\n        if (next === '<' && !utils$i.supportsLookbehinds()) {\r\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\r\n        }\r\n\r\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\r\n          output = `\\\\${value}`;\r\n        }\r\n\r\n        push({ type: 'text', value, output });\r\n        continue;\r\n      }\r\n\r\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\r\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'qmark', value, output: QMARK });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Exclamation\r\n     */\r\n\r\n    if (value === '!') {\r\n      if (opts.noextglob !== true && peek() === '(') {\r\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\r\n          extglobOpen('negate', value);\r\n          continue;\r\n        }\r\n      }\r\n\r\n      if (opts.nonegate !== true && state.index === 0) {\r\n        negate();\r\n        continue;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Plus\r\n     */\r\n\r\n    if (value === '+') {\r\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\r\n        extglobOpen('plus', value);\r\n        continue;\r\n      }\r\n\r\n      if ((prev && prev.value === '(') || opts.regex === false) {\r\n        push({ type: 'plus', value, output: PLUS_LITERAL });\r\n        continue;\r\n      }\r\n\r\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\r\n        push({ type: 'plus', value });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'plus', value: PLUS_LITERAL });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Plain text\r\n     */\r\n\r\n    if (value === '@') {\r\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\r\n        push({ type: 'at', extglob: true, value, output: '' });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Plain text\r\n     */\r\n\r\n    if (value !== '*') {\r\n      if (value === '$' || value === '^') {\r\n        value = `\\\\${value}`;\r\n      }\r\n\r\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\r\n      if (match) {\r\n        value += match[0];\r\n        state.index += match[0].length;\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Stars\r\n     */\r\n\r\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\r\n      prev.type = 'star';\r\n      prev.star = true;\r\n      prev.value += value;\r\n      prev.output = star;\r\n      state.backtrack = true;\r\n      state.globstar = true;\r\n      consume(value);\r\n      continue;\r\n    }\r\n\r\n    let rest = remaining();\r\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\r\n      extglobOpen('star', value);\r\n      continue;\r\n    }\r\n\r\n    if (prev.type === 'star') {\r\n      if (opts.noglobstar === true) {\r\n        consume(value);\r\n        continue;\r\n      }\r\n\r\n      const prior = prev.prev;\r\n      const before = prior.prev;\r\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\r\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\r\n\r\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\r\n        push({ type: 'star', value, output: '' });\r\n        continue;\r\n      }\r\n\r\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\r\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\r\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\r\n        push({ type: 'star', value, output: '' });\r\n        continue;\r\n      }\r\n\r\n      // strip consecutive `/**/`\r\n      while (rest.slice(0, 3) === '/**') {\r\n        const after = input[state.index + 4];\r\n        if (after && after !== '/') {\r\n          break;\r\n        }\r\n        rest = rest.slice(3);\r\n        consume('/**', 3);\r\n      }\r\n\r\n      if (prior.type === 'bos' && eos()) {\r\n        prev.type = 'globstar';\r\n        prev.value += value;\r\n        prev.output = globstar(opts);\r\n        state.output = prev.output;\r\n        state.globstar = true;\r\n        consume(value);\r\n        continue;\r\n      }\r\n\r\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\r\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\r\n        prior.output = `(?:${prior.output}`;\r\n\r\n        prev.type = 'globstar';\r\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\r\n        prev.value += value;\r\n        state.globstar = true;\r\n        state.output += prior.output + prev.output;\r\n        consume(value);\r\n        continue;\r\n      }\r\n\r\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\r\n        const end = rest[1] !== void 0 ? '|$' : '';\r\n\r\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\r\n        prior.output = `(?:${prior.output}`;\r\n\r\n        prev.type = 'globstar';\r\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\r\n        prev.value += value;\r\n\r\n        state.output += prior.output + prev.output;\r\n        state.globstar = true;\r\n\r\n        consume(value + advance());\r\n\r\n        push({ type: 'slash', value: '/', output: '' });\r\n        continue;\r\n      }\r\n\r\n      if (prior.type === 'bos' && rest[0] === '/') {\r\n        prev.type = 'globstar';\r\n        prev.value += value;\r\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\r\n        state.output = prev.output;\r\n        state.globstar = true;\r\n        consume(value + advance());\r\n        push({ type: 'slash', value: '/', output: '' });\r\n        continue;\r\n      }\r\n\r\n      // remove single star from output\r\n      state.output = state.output.slice(0, -prev.output.length);\r\n\r\n      // reset previous token to globstar\r\n      prev.type = 'globstar';\r\n      prev.output = globstar(opts);\r\n      prev.value += value;\r\n\r\n      // reset output with globstar\r\n      state.output += prev.output;\r\n      state.globstar = true;\r\n      consume(value);\r\n      continue;\r\n    }\r\n\r\n    const token = { type: 'star', value, output: star };\r\n\r\n    if (opts.bash === true) {\r\n      token.output = '.*?';\r\n      if (prev.type === 'bos' || prev.type === 'slash') {\r\n        token.output = nodot + token.output;\r\n      }\r\n      push(token);\r\n      continue;\r\n    }\r\n\r\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\r\n      token.output = value;\r\n      push(token);\r\n      continue;\r\n    }\r\n\r\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\r\n      if (prev.type === 'dot') {\r\n        state.output += NO_DOT_SLASH;\r\n        prev.output += NO_DOT_SLASH;\r\n\r\n      } else if (opts.dot === true) {\r\n        state.output += NO_DOTS_SLASH;\r\n        prev.output += NO_DOTS_SLASH;\r\n\r\n      } else {\r\n        state.output += nodot;\r\n        prev.output += nodot;\r\n      }\r\n\r\n      if (peek() !== '*') {\r\n        state.output += ONE_CHAR;\r\n        prev.output += ONE_CHAR;\r\n      }\r\n    }\r\n\r\n    push(token);\r\n  }\r\n\r\n  while (state.brackets > 0) {\r\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError$1('closing', ']'));\r\n    state.output = utils$i.escapeLast(state.output, '[');\r\n    decrement('brackets');\r\n  }\r\n\r\n  while (state.parens > 0) {\r\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError$1('closing', ')'));\r\n    state.output = utils$i.escapeLast(state.output, '(');\r\n    decrement('parens');\r\n  }\r\n\r\n  while (state.braces > 0) {\r\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError$1('closing', '}'));\r\n    state.output = utils$i.escapeLast(state.output, '{');\r\n    decrement('braces');\r\n  }\r\n\r\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\r\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\r\n  }\r\n\r\n  // rebuild the output if we had to backtrack at any point\r\n  if (state.backtrack === true) {\r\n    state.output = '';\r\n\r\n    for (const token of state.tokens) {\r\n      state.output += token.output != null ? token.output : token.value;\r\n\r\n      if (token.suffix) {\r\n        state.output += token.suffix;\r\n      }\r\n    }\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\n/**\r\n * Fast paths for creating regular expressions for common glob patterns.\r\n * This can significantly speed up processing and has very little downside\r\n * impact when none of the fast paths match.\r\n */\r\n\r\nparse$j.fastpaths = (input, options) => {\r\n  const opts = { ...options };\r\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH$1, opts.maxLength) : MAX_LENGTH$1;\r\n  const len = input.length;\r\n  if (len > max) {\r\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\r\n  }\r\n\r\n  input = REPLACEMENTS[input] || input;\r\n  const win32 = utils$i.isWindows(options);\r\n\r\n  // create constants based on platform, for windows or posix\r\n  const {\r\n    DOT_LITERAL,\r\n    SLASH_LITERAL,\r\n    ONE_CHAR,\r\n    DOTS_SLASH,\r\n    NO_DOT,\r\n    NO_DOTS,\r\n    NO_DOTS_SLASH,\r\n    STAR,\r\n    START_ANCHOR\r\n  } = constants$5.globChars(win32);\r\n\r\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\r\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\r\n  const capture = opts.capture ? '' : '?:';\r\n  const state = { negated: false, prefix: '' };\r\n  let star = opts.bash === true ? '.*?' : STAR;\r\n\r\n  if (opts.capture) {\r\n    star = `(${star})`;\r\n  }\r\n\r\n  const globstar = opts => {\r\n    if (opts.noglobstar === true) return star;\r\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\r\n  };\r\n\r\n  const create = str => {\r\n    switch (str) {\r\n      case '*':\r\n        return `${nodot}${ONE_CHAR}${star}`;\r\n\r\n      case '.*':\r\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      case '*.*':\r\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      case '*/*':\r\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\r\n\r\n      case '**':\r\n        return nodot + globstar(opts);\r\n\r\n      case '**/*':\r\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\r\n\r\n      case '**/*.*':\r\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      case '**/.*':\r\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      default: {\r\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\r\n        if (!match) return;\r\n\r\n        const source = create(match[1]);\r\n        if (!source) return;\r\n\r\n        return source + DOT_LITERAL + match[2];\r\n      }\r\n    }\r\n  };\r\n\r\n  const output = utils$i.removePrefix(input, state);\r\n  let source = create(output);\r\n\r\n  if (source && opts.strictSlashes !== true) {\r\n    source += `${SLASH_LITERAL}?`;\r\n  }\r\n\r\n  return source;\r\n};\r\n\r\nvar parse_1$2 = parse$j;\r\n\r\nconst path$l = require$$0$4;\r\nconst scan$1 = scan_1;\r\nconst parse$i = parse_1$2;\r\nconst utils$h = utils$k;\r\nconst constants$4 = constants$6;\r\nconst isObject$4 = val => val && typeof val === 'object' && !Array.isArray(val);\r\n\r\n/**\r\n * Creates a matcher function from one or more glob patterns. The\r\n * returned function takes a string to match as its first argument,\r\n * and returns true if the string is a match. The returned matcher\r\n * function also takes a boolean as the second argument that, when true,\r\n * returns an object with additional information.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch(glob[, options]);\r\n *\r\n * const isMatch = picomatch('*.!(*a)');\r\n * console.log(isMatch('a.a')); //=> false\r\n * console.log(isMatch('a.b')); //=> true\r\n * ```\r\n * @name picomatch\r\n * @param {String|Array} `globs` One or more glob patterns.\r\n * @param {Object=} `options`\r\n * @return {Function=} Returns a matcher function.\r\n * @api public\r\n */\r\n\r\nconst picomatch$3 = (glob, options, returnState = false) => {\r\n  if (Array.isArray(glob)) {\r\n    const fns = glob.map(input => picomatch$3(input, options, returnState));\r\n    const arrayMatcher = str => {\r\n      for (const isMatch of fns) {\r\n        const state = isMatch(str);\r\n        if (state) return state;\r\n      }\r\n      return false;\r\n    };\r\n    return arrayMatcher;\r\n  }\r\n\r\n  const isState = isObject$4(glob) && glob.tokens && glob.input;\r\n\r\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\r\n    throw new TypeError('Expected pattern to be a non-empty string');\r\n  }\r\n\r\n  const opts = options || {};\r\n  const posix = utils$h.isWindows(options);\r\n  const regex = isState\r\n    ? picomatch$3.compileRe(glob, options)\r\n    : picomatch$3.makeRe(glob, options, false, true);\r\n\r\n  const state = regex.state;\r\n  delete regex.state;\r\n\r\n  let isIgnored = () => false;\r\n  if (opts.ignore) {\r\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\r\n    isIgnored = picomatch$3(opts.ignore, ignoreOpts, returnState);\r\n  }\r\n\r\n  const matcher = (input, returnObject = false) => {\r\n    const { isMatch, match, output } = picomatch$3.test(input, regex, options, { glob, posix });\r\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\r\n\r\n    if (typeof opts.onResult === 'function') {\r\n      opts.onResult(result);\r\n    }\r\n\r\n    if (isMatch === false) {\r\n      result.isMatch = false;\r\n      return returnObject ? result : false;\r\n    }\r\n\r\n    if (isIgnored(input)) {\r\n      if (typeof opts.onIgnore === 'function') {\r\n        opts.onIgnore(result);\r\n      }\r\n      result.isMatch = false;\r\n      return returnObject ? result : false;\r\n    }\r\n\r\n    if (typeof opts.onMatch === 'function') {\r\n      opts.onMatch(result);\r\n    }\r\n    return returnObject ? result : true;\r\n  };\r\n\r\n  if (returnState) {\r\n    matcher.state = state;\r\n  }\r\n\r\n  return matcher;\r\n};\r\n\r\n/**\r\n * Test `input` with the given `regex`. This is used by the main\r\n * `picomatch()` function to test the input string.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.test(input, regex[, options]);\r\n *\r\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\r\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\r\n * ```\r\n * @param {String} `input` String to test.\r\n * @param {RegExp} `regex`\r\n * @return {Object} Returns an object with matching info.\r\n * @api public\r\n */\r\n\r\npicomatch$3.test = (input, regex, options, { glob, posix } = {}) => {\r\n  if (typeof input !== 'string') {\r\n    throw new TypeError('Expected input to be a string');\r\n  }\r\n\r\n  if (input === '') {\r\n    return { isMatch: false, output: '' };\r\n  }\r\n\r\n  const opts = options || {};\r\n  const format = opts.format || (posix ? utils$h.toPosixSlashes : null);\r\n  let match = input === glob;\r\n  let output = (match && format) ? format(input) : input;\r\n\r\n  if (match === false) {\r\n    output = format ? format(input) : input;\r\n    match = output === glob;\r\n  }\r\n\r\n  if (match === false || opts.capture === true) {\r\n    if (opts.matchBase === true || opts.basename === true) {\r\n      match = picomatch$3.matchBase(input, regex, options, posix);\r\n    } else {\r\n      match = regex.exec(output);\r\n    }\r\n  }\r\n\r\n  return { isMatch: Boolean(match), match, output };\r\n};\r\n\r\n/**\r\n * Match the basename of a filepath.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.matchBase(input, glob[, options]);\r\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\r\n * ```\r\n * @param {String} `input` String to test.\r\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\npicomatch$3.matchBase = (input, glob, options, posix = utils$h.isWindows(options)) => {\r\n  const regex = glob instanceof RegExp ? glob : picomatch$3.makeRe(glob, options);\r\n  return regex.test(path$l.basename(input));\r\n};\r\n\r\n/**\r\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.isMatch(string, patterns[, options]);\r\n *\r\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\r\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\r\n * ```\r\n * @param {String|Array} str The string to test.\r\n * @param {String|Array} patterns One or more glob patterns to use for matching.\r\n * @param {Object} [options] See available [options](#options).\r\n * @return {Boolean} Returns true if any patterns match `str`\r\n * @api public\r\n */\r\n\r\npicomatch$3.isMatch = (str, patterns, options) => picomatch$3(patterns, options)(str);\r\n\r\n/**\r\n * Parse a glob pattern to create the source string for a regular\r\n * expression.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * const result = picomatch.parse(pattern[, options]);\r\n * ```\r\n * @param {String} `pattern`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\r\n * @api public\r\n */\r\n\r\npicomatch$3.parse = (pattern, options) => {\r\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch$3.parse(p, options));\r\n  return parse$i(pattern, { ...options, fastpaths: false });\r\n};\r\n\r\n/**\r\n * Scan a glob pattern to separate the pattern into segments.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.scan(input[, options]);\r\n *\r\n * const result = picomatch.scan('!./foo/*.js');\r\n * console.log(result);\r\n * { prefix: '!./',\r\n *   input: '!./foo/*.js',\r\n *   start: 3,\r\n *   base: 'foo',\r\n *   glob: '*.js',\r\n *   isBrace: false,\r\n *   isBracket: false,\r\n *   isGlob: true,\r\n *   isExtglob: false,\r\n *   isGlobstar: false,\r\n *   negated: true }\r\n * ```\r\n * @param {String} `input` Glob pattern to scan.\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with\r\n * @api public\r\n */\r\n\r\npicomatch$3.scan = (input, options) => scan$1(input, options);\r\n\r\n/**\r\n * Compile a regular expression from the `state` object returned by the\r\n * [parse()](#parse) method.\r\n *\r\n * @param {Object} `state`\r\n * @param {Object} `options`\r\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\r\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\r\n * @return {RegExp}\r\n * @api public\r\n */\r\n\r\npicomatch$3.compileRe = (state, options, returnOutput = false, returnState = false) => {\r\n  if (returnOutput === true) {\r\n    return state.output;\r\n  }\r\n\r\n  const opts = options || {};\r\n  const prepend = opts.contains ? '' : '^';\r\n  const append = opts.contains ? '' : '$';\r\n\r\n  let source = `${prepend}(?:${state.output})${append}`;\r\n  if (state && state.negated === true) {\r\n    source = `^(?!${source}).*$`;\r\n  }\r\n\r\n  const regex = picomatch$3.toRegex(source, options);\r\n  if (returnState === true) {\r\n    regex.state = state;\r\n  }\r\n\r\n  return regex;\r\n};\r\n\r\n/**\r\n * Create a regular expression from a parsed glob pattern.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * const state = picomatch.parse('*.js');\r\n * // picomatch.compileRe(state[, options]);\r\n *\r\n * console.log(picomatch.compileRe(state));\r\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\r\n * ```\r\n * @param {String} `state` The object returned from the `.parse` method.\r\n * @param {Object} `options`\r\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\r\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\r\n * @return {RegExp} Returns a regex created from the given pattern.\r\n * @api public\r\n */\r\n\r\npicomatch$3.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\r\n  if (!input || typeof input !== 'string') {\r\n    throw new TypeError('Expected a non-empty string');\r\n  }\r\n\r\n  let parsed = { negated: false, fastpaths: true };\r\n\r\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\r\n    parsed.output = parse$i.fastpaths(input, options);\r\n  }\r\n\r\n  if (!parsed.output) {\r\n    parsed = parse$i(input, options);\r\n  }\r\n\r\n  return picomatch$3.compileRe(parsed, options, returnOutput, returnState);\r\n};\r\n\r\n/**\r\n * Create a regular expression from the given regex source string.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.toRegex(source[, options]);\r\n *\r\n * const { output } = picomatch.parse('*.js');\r\n * console.log(picomatch.toRegex(output));\r\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\r\n * ```\r\n * @param {String} `source` Regular expression source string.\r\n * @param {Object} `options`\r\n * @return {RegExp}\r\n * @api public\r\n */\r\n\r\npicomatch$3.toRegex = (source, options) => {\r\n  try {\r\n    const opts = options || {};\r\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\r\n  } catch (err) {\r\n    if (options && options.debug === true) throw err;\r\n    return /$^/;\r\n  }\r\n};\r\n\r\n/**\r\n * Picomatch constants.\r\n * @return {Object}\r\n */\r\n\r\npicomatch$3.constants = constants$4;\r\n\r\n/**\r\n * Expose \"picomatch\"\r\n */\r\n\r\nvar picomatch_1 = picomatch$3;\r\n\r\n(function (module) {\r\n\r\n\tmodule.exports = picomatch_1;\r\n} (picomatch$4));\r\n\r\nvar pm = /*@__PURE__*/getDefaultExportFromCjs(picomatch$4.exports);\r\n\r\nfunction walk$4(ast, { enter, leave }) {\r\n\treturn visit$2(ast, null, enter, leave);\r\n}\r\n\r\nlet should_skip = false;\r\nlet should_remove = false;\r\nlet replacement = null;\r\nconst context = {\r\n\tskip: () => should_skip = true,\r\n\tremove: () => should_remove = true,\r\n\treplace: (node) => replacement = node\r\n};\r\n\r\nfunction replace(parent, prop, index, node) {\r\n\tif (parent) {\r\n\t\tif (index !== null) {\r\n\t\t\tparent[prop][index] = node;\r\n\t\t} else {\r\n\t\t\tparent[prop] = node;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction remove(parent, prop, index) {\r\n\tif (parent) {\r\n\t\tif (index !== null) {\r\n\t\t\tparent[prop].splice(index, 1);\r\n\t\t} else {\r\n\t\t\tdelete parent[prop];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction visit$2(\r\n\tnode,\r\n\tparent,\r\n\tenter,\r\n\tleave,\r\n\tprop,\r\n\tindex\r\n) {\r\n\tif (node) {\r\n\t\tif (enter) {\r\n\t\t\tconst _should_skip = should_skip;\r\n\t\t\tconst _should_remove = should_remove;\r\n\t\t\tconst _replacement = replacement;\r\n\t\t\tshould_skip = false;\r\n\t\t\tshould_remove = false;\r\n\t\t\treplacement = null;\r\n\r\n\t\t\tenter.call(context, node, parent, prop, index);\r\n\r\n\t\t\tif (replacement) {\r\n\t\t\t\tnode = replacement;\r\n\t\t\t\treplace(parent, prop, index, node);\r\n\t\t\t}\r\n\r\n\t\t\tif (should_remove) {\r\n\t\t\t\tremove(parent, prop, index);\r\n\t\t\t}\r\n\r\n\t\t\tconst skipped = should_skip;\r\n\t\t\tconst removed = should_remove;\r\n\r\n\t\t\tshould_skip = _should_skip;\r\n\t\t\tshould_remove = _should_remove;\r\n\t\t\treplacement = _replacement;\r\n\r\n\t\t\tif (skipped) return node;\r\n\t\t\tif (removed) return null;\r\n\t\t}\r\n\r\n\t\tfor (const key in node) {\r\n\t\t\tconst value = (node )[key];\r\n\r\n\t\t\tif (typeof value !== 'object') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\telse if (Array.isArray(value)) {\r\n\t\t\t\tfor (let j = 0, k = 0; j < value.length; j += 1, k += 1) {\r\n\t\t\t\t\tif (value[j] !== null && typeof value[j].type === 'string') {\r\n\t\t\t\t\t\tif (!visit$2(value[j], node, enter, leave, key, k)) {\r\n\t\t\t\t\t\t\t// removed\r\n\t\t\t\t\t\t\tj--;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\telse if (value !== null && typeof value.type === 'string') {\r\n\t\t\t\tvisit$2(value, node, enter, leave, key, null);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (leave) {\r\n\t\t\tconst _replacement = replacement;\r\n\t\t\tconst _should_remove = should_remove;\r\n\t\t\treplacement = null;\r\n\t\t\tshould_remove = false;\r\n\r\n\t\t\tleave.call(context, node, parent, prop, index);\r\n\r\n\t\t\tif (replacement) {\r\n\t\t\t\tnode = replacement;\r\n\t\t\t\treplace(parent, prop, index, node);\r\n\t\t\t}\r\n\r\n\t\t\tif (should_remove) {\r\n\t\t\t\tremove(parent, prop, index);\r\n\t\t\t}\r\n\r\n\t\t\tconst removed = should_remove;\r\n\r\n\t\t\treplacement = _replacement;\r\n\t\t\tshould_remove = _should_remove;\r\n\r\n\t\t\tif (removed) return null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn node;\r\n}\r\n\r\nconst extractors = {\r\n    ArrayPattern(names, param) {\r\n        for (const element of param.elements) {\r\n            if (element)\r\n                extractors[element.type](names, element);\r\n        }\r\n    },\r\n    AssignmentPattern(names, param) {\r\n        extractors[param.left.type](names, param.left);\r\n    },\r\n    Identifier(names, param) {\r\n        names.push(param.name);\r\n    },\r\n    MemberExpression() { },\r\n    ObjectPattern(names, param) {\r\n        for (const prop of param.properties) {\r\n            // @ts-ignore Typescript reports that this is not a valid type\r\n            if (prop.type === 'RestElement') {\r\n                extractors.RestElement(names, prop);\r\n            }\r\n            else {\r\n                extractors[prop.value.type](names, prop.value);\r\n            }\r\n        }\r\n    },\r\n    RestElement(names, param) {\r\n        extractors[param.argument.type](names, param.argument);\r\n    }\r\n};\r\nconst extractAssignedNames = function extractAssignedNames(param) {\r\n    const names = [];\r\n    extractors[param.type](names, param);\r\n    return names;\r\n};\r\n\r\nconst blockDeclarations = {\r\n    const: true,\r\n    let: true\r\n};\r\nclass Scope$1 {\r\n    constructor(options = {}) {\r\n        this.parent = options.parent;\r\n        this.isBlockScope = !!options.block;\r\n        this.declarations = Object.create(null);\r\n        if (options.params) {\r\n            options.params.forEach((param) => {\r\n                extractAssignedNames(param).forEach((name) => {\r\n                    this.declarations[name] = true;\r\n                });\r\n            });\r\n        }\r\n    }\r\n    addDeclaration(node, isBlockDeclaration, isVar) {\r\n        if (!isBlockDeclaration && this.isBlockScope) {\r\n            // it's a `var` or function node, and this\r\n            // is a block scope, so we need to go up\r\n            this.parent.addDeclaration(node, isBlockDeclaration, isVar);\r\n        }\r\n        else if (node.id) {\r\n            extractAssignedNames(node.id).forEach((name) => {\r\n                this.declarations[name] = true;\r\n            });\r\n        }\r\n    }\r\n    contains(name) {\r\n        return this.declarations[name] || (this.parent ? this.parent.contains(name) : false);\r\n    }\r\n}\r\nconst attachScopes = function attachScopes(ast, propertyName = 'scope') {\r\n    let scope = new Scope$1();\r\n    walk$4(ast, {\r\n        enter(n, parent) {\r\n            const node = n;\r\n            // function foo () {...}\r\n            // class Foo {...}\r\n            if (/(Function|Class)Declaration/.test(node.type)) {\r\n                scope.addDeclaration(node, false, false);\r\n            }\r\n            // var foo = 1\r\n            if (node.type === 'VariableDeclaration') {\r\n                const { kind } = node;\r\n                const isBlockDeclaration = blockDeclarations[kind];\r\n                // don't add const/let declarations in the body of a for loop #113\r\n                const parentType = parent ? parent.type : '';\r\n                if (!(isBlockDeclaration && /ForOfStatement/.test(parentType))) {\r\n                    node.declarations.forEach((declaration) => {\r\n                        scope.addDeclaration(declaration, isBlockDeclaration, true);\r\n                    });\r\n                }\r\n            }\r\n            let newScope;\r\n            // create new function scope\r\n            if (/Function/.test(node.type)) {\r\n                const func = node;\r\n                newScope = new Scope$1({\r\n                    parent: scope,\r\n                    block: false,\r\n                    params: func.params\r\n                });\r\n                // named function expressions - the name is considered\r\n                // part of the function's scope\r\n                if (func.type === 'FunctionExpression' && func.id) {\r\n                    newScope.addDeclaration(func, false, false);\r\n                }\r\n            }\r\n            // create new block scope\r\n            if (node.type === 'BlockStatement' && !/Function/.test(parent.type)) {\r\n                newScope = new Scope$1({\r\n                    parent: scope,\r\n                    block: true\r\n                });\r\n            }\r\n            // catch clause has its own block scope\r\n            if (node.type === 'CatchClause') {\r\n                newScope = new Scope$1({\r\n                    parent: scope,\r\n                    params: node.param ? [node.param] : [],\r\n                    block: true\r\n                });\r\n            }\r\n            if (newScope) {\r\n                Object.defineProperty(node, propertyName, {\r\n                    value: newScope,\r\n                    configurable: true\r\n                });\r\n                scope = newScope;\r\n            }\r\n        },\r\n        leave(n) {\r\n            const node = n;\r\n            if (node[propertyName])\r\n                scope = scope.parent;\r\n        }\r\n    });\r\n    return scope;\r\n};\r\n\r\n// Helper since Typescript can't detect readonly arrays with Array.isArray\r\nfunction isArray$3(arg) {\r\n    return Array.isArray(arg);\r\n}\r\nfunction ensureArray$1(thing) {\r\n    if (isArray$3(thing))\r\n        return thing;\r\n    if (thing == null)\r\n        return [];\r\n    return [thing];\r\n}\r\n\r\nfunction getMatcherString$1(id, resolutionBase) {\r\n    if (resolutionBase === false) {\r\n        return id;\r\n    }\r\n    // resolve('') is valid and will default to process.cwd()\r\n    const basePath = resolve$4(resolutionBase || '')\r\n        .split(sep)\r\n        .join('/')\r\n        // escape all possible (posix + win) path characters that might interfere with regex\r\n        .replace(/[-^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n    // Note that we use posix.join because:\r\n    // 1. the basePath has been normalized to use /\r\n    // 2. the incoming glob (id) matcher, also uses /\r\n    // otherwise Node will force backslash (\\) on windows\r\n    return posix$1.join(basePath, id);\r\n}\r\nconst createFilter$2 = function createFilter(include, exclude, options) {\r\n    const resolutionBase = options && options.resolve;\r\n    const getMatcher = (id) => id instanceof RegExp\r\n        ? id\r\n        : {\r\n            test: (what) => {\r\n                // this refactor is a tad overly verbose but makes for easy debugging\r\n                const pattern = getMatcherString$1(id, resolutionBase);\r\n                const fn = pm(pattern, { dot: true });\r\n                const result = fn(what);\r\n                return result;\r\n            }\r\n        };\r\n    const includeMatchers = ensureArray$1(include).map(getMatcher);\r\n    const excludeMatchers = ensureArray$1(exclude).map(getMatcher);\r\n    return function result(id) {\r\n        if (typeof id !== 'string')\r\n            return false;\r\n        if (/\\0/.test(id))\r\n            return false;\r\n        const pathId = id.split(sep).join('/');\r\n        for (let i = 0; i < excludeMatchers.length; ++i) {\r\n            const matcher = excludeMatchers[i];\r\n            if (matcher.test(pathId))\r\n                return false;\r\n        }\r\n        for (let i = 0; i < includeMatchers.length; ++i) {\r\n            const matcher = includeMatchers[i];\r\n            if (matcher.test(pathId))\r\n                return true;\r\n        }\r\n        return !includeMatchers.length;\r\n    };\r\n};\r\n\r\nconst reservedWords$2 = 'break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public';\r\nconst builtins$2 = 'arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl';\r\nconst forbiddenIdentifiers$1 = new Set(`${reservedWords$2} ${builtins$2}`.split(' '));\r\nforbiddenIdentifiers$1.add('');\r\nconst makeLegalIdentifier$1 = function makeLegalIdentifier(str) {\r\n    let identifier = str\r\n        .replace(/-(\\w)/g, (_, letter) => letter.toUpperCase())\r\n        .replace(/[^$_a-zA-Z0-9]/g, '_');\r\n    if (/\\d/.test(identifier[0]) || forbiddenIdentifiers$1.has(identifier)) {\r\n        identifier = `_${identifier}`;\r\n    }\r\n    return identifier || '_';\r\n};\r\n\r\nvar path$k = require$$0$4;\r\n\r\nvar commondir = function (basedir, relfiles) {\r\n    if (relfiles) {\r\n        var files = relfiles.map(function (r) {\r\n            return path$k.resolve(basedir, r);\r\n        });\r\n    }\r\n    else {\r\n        var files = basedir;\r\n    }\r\n    \r\n    var res = files.slice(1).reduce(function (ps, file) {\r\n        if (!file.match(/^([A-Za-z]:)?\\/|\\\\/)) {\r\n            throw new Error('relative path without a basedir');\r\n        }\r\n        \r\n        var xs = file.split(/\\/+|\\\\+/);\r\n        for (\r\n            var i = 0;\r\n            ps[i] === xs[i] && i < Math.min(ps.length, xs.length);\r\n            i++\r\n        );\r\n        return ps.slice(0, i);\r\n    }, files[0].split(/\\/+|\\\\+/));\r\n    \r\n    // Windows correctly handles paths with forward-slashes\r\n    return res.length > 1 ? res.join('/') : '/'\r\n};\r\n\r\nvar old$1 = {};\r\n\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nvar pathModule = require$$0$4;\r\nvar isWindows$5 = process.platform === 'win32';\r\nvar fs$k = require$$0__default;\r\n\r\n// JavaScript implementation of realpath, ported from node pre-v6\r\n\r\nvar DEBUG$1 = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\r\n\r\nfunction rethrow() {\r\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\r\n  // is fairly slow to generate.\r\n  var callback;\r\n  if (DEBUG$1) {\r\n    var backtrace = new Error;\r\n    callback = debugCallback;\r\n  } else\r\n    callback = missingCallback;\r\n\r\n  return callback;\r\n\r\n  function debugCallback(err) {\r\n    if (err) {\r\n      backtrace.message = err.message;\r\n      err = backtrace;\r\n      missingCallback(err);\r\n    }\r\n  }\r\n\r\n  function missingCallback(err) {\r\n    if (err) {\r\n      if (process.throwDeprecation)\r\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\r\n      else if (!process.noDeprecation) {\r\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\r\n        if (process.traceDeprecation)\r\n          console.trace(msg);\r\n        else\r\n          console.error(msg);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction maybeCallback(cb) {\r\n  return typeof cb === 'function' ? cb : rethrow();\r\n}\r\n\r\n// Regexp that finds the next partion of a (partial) path\r\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\r\nif (isWindows$5) {\r\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\r\n} else {\r\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\r\n}\r\n\r\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\r\nif (isWindows$5) {\r\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\r\n} else {\r\n  var splitRootRe = /^[\\/]*/;\r\n}\r\n\r\nold$1.realpathSync = function realpathSync(p, cache) {\r\n  // make p is absolute\r\n  p = pathModule.resolve(p);\r\n\r\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\r\n    return cache[p];\r\n  }\r\n\r\n  var original = p,\r\n      seenLinks = {},\r\n      knownHard = {};\r\n\r\n  // current character position in p\r\n  var pos;\r\n  // the partial path so far, including a trailing slash if any\r\n  var current;\r\n  // the partial path without a trailing slash (except when pointing at a root)\r\n  var base;\r\n  // the partial path scanned in the previous round, with slash\r\n  var previous;\r\n\r\n  start();\r\n\r\n  function start() {\r\n    // Skip over roots\r\n    var m = splitRootRe.exec(p);\r\n    pos = m[0].length;\r\n    current = m[0];\r\n    base = m[0];\r\n    previous = '';\r\n\r\n    // On windows, check that the root exists. On unix there is no need.\r\n    if (isWindows$5 && !knownHard[base]) {\r\n      fs$k.lstatSync(base);\r\n      knownHard[base] = true;\r\n    }\r\n  }\r\n\r\n  // walk down the path, swapping out linked pathparts for their real\r\n  // values\r\n  // NB: p.length changes.\r\n  while (pos < p.length) {\r\n    // find the next part\r\n    nextPartRe.lastIndex = pos;\r\n    var result = nextPartRe.exec(p);\r\n    previous = current;\r\n    current += result[0];\r\n    base = previous + result[1];\r\n    pos = nextPartRe.lastIndex;\r\n\r\n    // continue if not a symlink\r\n    if (knownHard[base] || (cache && cache[base] === base)) {\r\n      continue;\r\n    }\r\n\r\n    var resolvedLink;\r\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\r\n      // some known symbolic link.  no need to stat again.\r\n      resolvedLink = cache[base];\r\n    } else {\r\n      var stat = fs$k.lstatSync(base);\r\n      if (!stat.isSymbolicLink()) {\r\n        knownHard[base] = true;\r\n        if (cache) cache[base] = base;\r\n        continue;\r\n      }\r\n\r\n      // read the link if it wasn't read before\r\n      // dev/ino always return 0 on windows, so skip the check.\r\n      var linkTarget = null;\r\n      if (!isWindows$5) {\r\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\r\n        if (seenLinks.hasOwnProperty(id)) {\r\n          linkTarget = seenLinks[id];\r\n        }\r\n      }\r\n      if (linkTarget === null) {\r\n        fs$k.statSync(base);\r\n        linkTarget = fs$k.readlinkSync(base);\r\n      }\r\n      resolvedLink = pathModule.resolve(previous, linkTarget);\r\n      // track this, if given a cache.\r\n      if (cache) cache[base] = resolvedLink;\r\n      if (!isWindows$5) seenLinks[id] = linkTarget;\r\n    }\r\n\r\n    // resolve the link, then start over\r\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\r\n    start();\r\n  }\r\n\r\n  if (cache) cache[original] = p;\r\n\r\n  return p;\r\n};\r\n\r\n\r\nold$1.realpath = function realpath(p, cache, cb) {\r\n  if (typeof cb !== 'function') {\r\n    cb = maybeCallback(cache);\r\n    cache = null;\r\n  }\r\n\r\n  // make p is absolute\r\n  p = pathModule.resolve(p);\r\n\r\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\r\n    return process.nextTick(cb.bind(null, null, cache[p]));\r\n  }\r\n\r\n  var original = p,\r\n      seenLinks = {},\r\n      knownHard = {};\r\n\r\n  // current character position in p\r\n  var pos;\r\n  // the partial path so far, including a trailing slash if any\r\n  var current;\r\n  // the partial path without a trailing slash (except when pointing at a root)\r\n  var base;\r\n  // the partial path scanned in the previous round, with slash\r\n  var previous;\r\n\r\n  start();\r\n\r\n  function start() {\r\n    // Skip over roots\r\n    var m = splitRootRe.exec(p);\r\n    pos = m[0].length;\r\n    current = m[0];\r\n    base = m[0];\r\n    previous = '';\r\n\r\n    // On windows, check that the root exists. On unix there is no need.\r\n    if (isWindows$5 && !knownHard[base]) {\r\n      fs$k.lstat(base, function(err) {\r\n        if (err) return cb(err);\r\n        knownHard[base] = true;\r\n        LOOP();\r\n      });\r\n    } else {\r\n      process.nextTick(LOOP);\r\n    }\r\n  }\r\n\r\n  // walk down the path, swapping out linked pathparts for their real\r\n  // values\r\n  function LOOP() {\r\n    // stop if scanned past end of path\r\n    if (pos >= p.length) {\r\n      if (cache) cache[original] = p;\r\n      return cb(null, p);\r\n    }\r\n\r\n    // find the next part\r\n    nextPartRe.lastIndex = pos;\r\n    var result = nextPartRe.exec(p);\r\n    previous = current;\r\n    current += result[0];\r\n    base = previous + result[1];\r\n    pos = nextPartRe.lastIndex;\r\n\r\n    // continue if not a symlink\r\n    if (knownHard[base] || (cache && cache[base] === base)) {\r\n      return process.nextTick(LOOP);\r\n    }\r\n\r\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\r\n      // known symbolic link.  no need to stat again.\r\n      return gotResolvedLink(cache[base]);\r\n    }\r\n\r\n    return fs$k.lstat(base, gotStat);\r\n  }\r\n\r\n  function gotStat(err, stat) {\r\n    if (err) return cb(err);\r\n\r\n    // if not a symlink, skip to the next path part\r\n    if (!stat.isSymbolicLink()) {\r\n      knownHard[base] = true;\r\n      if (cache) cache[base] = base;\r\n      return process.nextTick(LOOP);\r\n    }\r\n\r\n    // stat & read the link if not read before\r\n    // call gotTarget as soon as the link target is known\r\n    // dev/ino always return 0 on windows, so skip the check.\r\n    if (!isWindows$5) {\r\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\r\n      if (seenLinks.hasOwnProperty(id)) {\r\n        return gotTarget(null, seenLinks[id], base);\r\n      }\r\n    }\r\n    fs$k.stat(base, function(err) {\r\n      if (err) return cb(err);\r\n\r\n      fs$k.readlink(base, function(err, target) {\r\n        if (!isWindows$5) seenLinks[id] = target;\r\n        gotTarget(err, target);\r\n      });\r\n    });\r\n  }\r\n\r\n  function gotTarget(err, target, base) {\r\n    if (err) return cb(err);\r\n\r\n    var resolvedLink = pathModule.resolve(previous, target);\r\n    if (cache) cache[base] = resolvedLink;\r\n    gotResolvedLink(resolvedLink);\r\n  }\r\n\r\n  function gotResolvedLink(resolvedLink) {\r\n    // resolve the link, then start over\r\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\r\n    start();\r\n  }\r\n};\r\n\r\nvar fs_realpath = realpath$2;\r\nrealpath$2.realpath = realpath$2;\r\nrealpath$2.sync = realpathSync;\r\nrealpath$2.realpathSync = realpathSync;\r\nrealpath$2.monkeypatch = monkeypatch;\r\nrealpath$2.unmonkeypatch = unmonkeypatch;\r\n\r\nvar fs$j = require$$0__default;\r\nvar origRealpath = fs$j.realpath;\r\nvar origRealpathSync = fs$j.realpathSync;\r\n\r\nvar version$2 = process.version;\r\nvar ok = /^v[0-5]\\./.test(version$2);\r\nvar old = old$1;\r\n\r\nfunction newError (er) {\r\n  return er && er.syscall === 'realpath' && (\r\n    er.code === 'ELOOP' ||\r\n    er.code === 'ENOMEM' ||\r\n    er.code === 'ENAMETOOLONG'\r\n  )\r\n}\r\n\r\nfunction realpath$2 (p, cache, cb) {\r\n  if (ok) {\r\n    return origRealpath(p, cache, cb)\r\n  }\r\n\r\n  if (typeof cache === 'function') {\r\n    cb = cache;\r\n    cache = null;\r\n  }\r\n  origRealpath(p, cache, function (er, result) {\r\n    if (newError(er)) {\r\n      old.realpath(p, cache, cb);\r\n    } else {\r\n      cb(er, result);\r\n    }\r\n  });\r\n}\r\n\r\nfunction realpathSync (p, cache) {\r\n  if (ok) {\r\n    return origRealpathSync(p, cache)\r\n  }\r\n\r\n  try {\r\n    return origRealpathSync(p, cache)\r\n  } catch (er) {\r\n    if (newError(er)) {\r\n      return old.realpathSync(p, cache)\r\n    } else {\r\n      throw er\r\n    }\r\n  }\r\n}\r\n\r\nfunction monkeypatch () {\r\n  fs$j.realpath = realpath$2;\r\n  fs$j.realpathSync = realpathSync;\r\n}\r\n\r\nfunction unmonkeypatch () {\r\n  fs$j.realpath = origRealpath;\r\n  fs$j.realpathSync = origRealpathSync;\r\n}\r\n\r\nvar concatMap$1 = function (xs, fn) {\r\n    var res = [];\r\n    for (var i = 0; i < xs.length; i++) {\r\n        var x = fn(xs[i], i);\r\n        if (isArray$2(x)) res.push.apply(res, x);\r\n        else res.push(x);\r\n    }\r\n    return res;\r\n};\r\n\r\nvar isArray$2 = Array.isArray || function (xs) {\r\n    return Object.prototype.toString.call(xs) === '[object Array]';\r\n};\r\n\r\nvar balancedMatch = balanced$1;\r\nfunction balanced$1(a, b, str) {\r\n  if (a instanceof RegExp) a = maybeMatch(a, str);\r\n  if (b instanceof RegExp) b = maybeMatch(b, str);\r\n\r\n  var r = range$1(a, b, str);\r\n\r\n  return r && {\r\n    start: r[0],\r\n    end: r[1],\r\n    pre: str.slice(0, r[0]),\r\n    body: str.slice(r[0] + a.length, r[1]),\r\n    post: str.slice(r[1] + b.length)\r\n  };\r\n}\r\n\r\nfunction maybeMatch(reg, str) {\r\n  var m = str.match(reg);\r\n  return m ? m[0] : null;\r\n}\r\n\r\nbalanced$1.range = range$1;\r\nfunction range$1(a, b, str) {\r\n  var begs, beg, left, right, result;\r\n  var ai = str.indexOf(a);\r\n  var bi = str.indexOf(b, ai + 1);\r\n  var i = ai;\r\n\r\n  if (ai >= 0 && bi > 0) {\r\n    if(a===b) {\r\n      return [ai, bi];\r\n    }\r\n    begs = [];\r\n    left = str.length;\r\n\r\n    while (i >= 0 && !result) {\r\n      if (i == ai) {\r\n        begs.push(i);\r\n        ai = str.indexOf(a, i + 1);\r\n      } else if (begs.length == 1) {\r\n        result = [ begs.pop(), bi ];\r\n      } else {\r\n        beg = begs.pop();\r\n        if (beg < left) {\r\n          left = beg;\r\n          right = bi;\r\n        }\r\n\r\n        bi = str.indexOf(b, i + 1);\r\n      }\r\n\r\n      i = ai < bi && ai >= 0 ? ai : bi;\r\n    }\r\n\r\n    if (begs.length) {\r\n      result = [ left, right ];\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nvar concatMap = concatMap$1;\r\nvar balanced = balancedMatch;\r\n\r\nvar braceExpansion = expandTop;\r\n\r\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\r\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\r\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\r\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\r\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\r\n\r\nfunction numeric(str) {\r\n  return parseInt(str, 10) == str\r\n    ? parseInt(str, 10)\r\n    : str.charCodeAt(0);\r\n}\r\n\r\nfunction escapeBraces(str) {\r\n  return str.split('\\\\\\\\').join(escSlash)\r\n            .split('\\\\{').join(escOpen)\r\n            .split('\\\\}').join(escClose)\r\n            .split('\\\\,').join(escComma)\r\n            .split('\\\\.').join(escPeriod);\r\n}\r\n\r\nfunction unescapeBraces(str) {\r\n  return str.split(escSlash).join('\\\\')\r\n            .split(escOpen).join('{')\r\n            .split(escClose).join('}')\r\n            .split(escComma).join(',')\r\n            .split(escPeriod).join('.');\r\n}\r\n\r\n\r\n// Basically just str.split(\",\"), but handling cases\r\n// where we have nested braced sections, which should be\r\n// treated as individual members, like {a,{b,c},d}\r\nfunction parseCommaParts(str) {\r\n  if (!str)\r\n    return [''];\r\n\r\n  var parts = [];\r\n  var m = balanced('{', '}', str);\r\n\r\n  if (!m)\r\n    return str.split(',');\r\n\r\n  var pre = m.pre;\r\n  var body = m.body;\r\n  var post = m.post;\r\n  var p = pre.split(',');\r\n\r\n  p[p.length-1] += '{' + body + '}';\r\n  var postParts = parseCommaParts(post);\r\n  if (post.length) {\r\n    p[p.length-1] += postParts.shift();\r\n    p.push.apply(p, postParts);\r\n  }\r\n\r\n  parts.push.apply(parts, p);\r\n\r\n  return parts;\r\n}\r\n\r\nfunction expandTop(str) {\r\n  if (!str)\r\n    return [];\r\n\r\n  // I don't know why Bash 4.3 does this, but it does.\r\n  // Anything starting with {} will have the first two bytes preserved\r\n  // but *only* at the top level, so {},a}b will not expand to anything,\r\n  // but a{},b}c will be expanded to [a}c,abc].\r\n  // One could argue that this is a bug in Bash, but since the goal of\r\n  // this module is to match Bash's rules, we escape a leading {}\r\n  if (str.substr(0, 2) === '{}') {\r\n    str = '\\\\{\\\\}' + str.substr(2);\r\n  }\r\n\r\n  return expand$3(escapeBraces(str), true).map(unescapeBraces);\r\n}\r\n\r\nfunction embrace(str) {\r\n  return '{' + str + '}';\r\n}\r\nfunction isPadded(el) {\r\n  return /^-?0\\d/.test(el);\r\n}\r\n\r\nfunction lte(i, y) {\r\n  return i <= y;\r\n}\r\nfunction gte(i, y) {\r\n  return i >= y;\r\n}\r\n\r\nfunction expand$3(str, isTop) {\r\n  var expansions = [];\r\n\r\n  var m = balanced('{', '}', str);\r\n  if (!m || /\\$$/.test(m.pre)) return [str];\r\n\r\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\r\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\r\n  var isSequence = isNumericSequence || isAlphaSequence;\r\n  var isOptions = m.body.indexOf(',') >= 0;\r\n  if (!isSequence && !isOptions) {\r\n    // {a},b}\r\n    if (m.post.match(/,.*\\}/)) {\r\n      str = m.pre + '{' + m.body + escClose + m.post;\r\n      return expand$3(str);\r\n    }\r\n    return [str];\r\n  }\r\n\r\n  var n;\r\n  if (isSequence) {\r\n    n = m.body.split(/\\.\\./);\r\n  } else {\r\n    n = parseCommaParts(m.body);\r\n    if (n.length === 1) {\r\n      // x{{a,b}}y ==> x{a}y x{b}y\r\n      n = expand$3(n[0], false).map(embrace);\r\n      if (n.length === 1) {\r\n        var post = m.post.length\r\n          ? expand$3(m.post, false)\r\n          : [''];\r\n        return post.map(function(p) {\r\n          return m.pre + n[0] + p;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // at this point, n is the parts, and we know it's not a comma set\r\n  // with a single entry.\r\n\r\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\r\n  var pre = m.pre;\r\n  var post = m.post.length\r\n    ? expand$3(m.post, false)\r\n    : [''];\r\n\r\n  var N;\r\n\r\n  if (isSequence) {\r\n    var x = numeric(n[0]);\r\n    var y = numeric(n[1]);\r\n    var width = Math.max(n[0].length, n[1].length);\r\n    var incr = n.length == 3\r\n      ? Math.abs(numeric(n[2]))\r\n      : 1;\r\n    var test = lte;\r\n    var reverse = y < x;\r\n    if (reverse) {\r\n      incr *= -1;\r\n      test = gte;\r\n    }\r\n    var pad = n.some(isPadded);\r\n\r\n    N = [];\r\n\r\n    for (var i = x; test(i, y); i += incr) {\r\n      var c;\r\n      if (isAlphaSequence) {\r\n        c = String.fromCharCode(i);\r\n        if (c === '\\\\')\r\n          c = '';\r\n      } else {\r\n        c = String(i);\r\n        if (pad) {\r\n          var need = width - c.length;\r\n          if (need > 0) {\r\n            var z = new Array(need + 1).join('0');\r\n            if (i < 0)\r\n              c = '-' + z + c.slice(1);\r\n            else\r\n              c = z + c;\r\n          }\r\n        }\r\n      }\r\n      N.push(c);\r\n    }\r\n  } else {\r\n    N = concatMap(n, function(el) { return expand$3(el, false) });\r\n  }\r\n\r\n  for (var j = 0; j < N.length; j++) {\r\n    for (var k = 0; k < post.length; k++) {\r\n      var expansion = pre + N[j] + post[k];\r\n      if (!isTop || isSequence || expansion)\r\n        expansions.push(expansion);\r\n    }\r\n  }\r\n\r\n  return expansions;\r\n}\r\n\r\nvar minimatch_1 = minimatch$1;\r\nminimatch$1.Minimatch = Minimatch$1;\r\n\r\nvar path$j = (function () { try { return require('path') } catch (e) {}}()) || {\r\n  sep: '/'\r\n};\r\nminimatch$1.sep = path$j.sep;\r\n\r\nvar GLOBSTAR$2 = minimatch$1.GLOBSTAR = Minimatch$1.GLOBSTAR = {};\r\nvar expand$2 = braceExpansion;\r\n\r\nvar plTypes = {\r\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\r\n  '?': { open: '(?:', close: ')?' },\r\n  '+': { open: '(?:', close: ')+' },\r\n  '*': { open: '(?:', close: ')*' },\r\n  '@': { open: '(?:', close: ')' }\r\n};\r\n\r\n// any single thing other than /\r\n// don't need to escape / when using new RegExp()\r\nvar qmark = '[^/]';\r\n\r\n// * => any number of characters\r\nvar star = qmark + '*?';\r\n\r\n// ** when dots are allowed.  Anything goes, except .. and .\r\n// not (^ or / followed by one or two dots followed by $ or /),\r\n// followed by anything, any number of times.\r\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?';\r\n\r\n// not a ^ or / followed by a dot,\r\n// followed by anything, any number of times.\r\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?';\r\n\r\n// characters that need to be escaped in RegExp.\r\nvar reSpecials = charSet('().*{}+?[]^$\\\\!');\r\n\r\n// \"abc\" -> { a:true, b:true, c:true }\r\nfunction charSet (s) {\r\n  return s.split('').reduce(function (set, c) {\r\n    set[c] = true;\r\n    return set\r\n  }, {})\r\n}\r\n\r\n// normalizes slashes.\r\nvar slashSplit = /\\/+/;\r\n\r\nminimatch$1.filter = filter$1;\r\nfunction filter$1 (pattern, options) {\r\n  options = options || {};\r\n  return function (p, i, list) {\r\n    return minimatch$1(p, pattern, options)\r\n  }\r\n}\r\n\r\nfunction ext (a, b) {\r\n  b = b || {};\r\n  var t = {};\r\n  Object.keys(a).forEach(function (k) {\r\n    t[k] = a[k];\r\n  });\r\n  Object.keys(b).forEach(function (k) {\r\n    t[k] = b[k];\r\n  });\r\n  return t\r\n}\r\n\r\nminimatch$1.defaults = function (def) {\r\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\r\n    return minimatch$1\r\n  }\r\n\r\n  var orig = minimatch$1;\r\n\r\n  var m = function minimatch (p, pattern, options) {\r\n    return orig(p, pattern, ext(def, options))\r\n  };\r\n\r\n  m.Minimatch = function Minimatch (pattern, options) {\r\n    return new orig.Minimatch(pattern, ext(def, options))\r\n  };\r\n  m.Minimatch.defaults = function defaults (options) {\r\n    return orig.defaults(ext(def, options)).Minimatch\r\n  };\r\n\r\n  m.filter = function filter (pattern, options) {\r\n    return orig.filter(pattern, ext(def, options))\r\n  };\r\n\r\n  m.defaults = function defaults (options) {\r\n    return orig.defaults(ext(def, options))\r\n  };\r\n\r\n  m.makeRe = function makeRe (pattern, options) {\r\n    return orig.makeRe(pattern, ext(def, options))\r\n  };\r\n\r\n  m.braceExpand = function braceExpand (pattern, options) {\r\n    return orig.braceExpand(pattern, ext(def, options))\r\n  };\r\n\r\n  m.match = function (list, pattern, options) {\r\n    return orig.match(list, pattern, ext(def, options))\r\n  };\r\n\r\n  return m\r\n};\r\n\r\nMinimatch$1.defaults = function (def) {\r\n  return minimatch$1.defaults(def).Minimatch\r\n};\r\n\r\nfunction minimatch$1 (p, pattern, options) {\r\n  assertValidPattern(pattern);\r\n\r\n  if (!options) options = {};\r\n\r\n  // shortcut: comments match nothing.\r\n  if (!options.nocomment && pattern.charAt(0) === '#') {\r\n    return false\r\n  }\r\n\r\n  return new Minimatch$1(pattern, options).match(p)\r\n}\r\n\r\nfunction Minimatch$1 (pattern, options) {\r\n  if (!(this instanceof Minimatch$1)) {\r\n    return new Minimatch$1(pattern, options)\r\n  }\r\n\r\n  assertValidPattern(pattern);\r\n\r\n  if (!options) options = {};\r\n\r\n  pattern = pattern.trim();\r\n\r\n  // windows support: need to use /, not \\\r\n  if (!options.allowWindowsEscape && path$j.sep !== '/') {\r\n    pattern = pattern.split(path$j.sep).join('/');\r\n  }\r\n\r\n  this.options = options;\r\n  this.set = [];\r\n  this.pattern = pattern;\r\n  this.regexp = null;\r\n  this.negate = false;\r\n  this.comment = false;\r\n  this.empty = false;\r\n  this.partial = !!options.partial;\r\n\r\n  // make the set of regexps etc.\r\n  this.make();\r\n}\r\n\r\nMinimatch$1.prototype.debug = function () {};\r\n\r\nMinimatch$1.prototype.make = make;\r\nfunction make () {\r\n  var pattern = this.pattern;\r\n  var options = this.options;\r\n\r\n  // empty patterns and comments match nothing.\r\n  if (!options.nocomment && pattern.charAt(0) === '#') {\r\n    this.comment = true;\r\n    return\r\n  }\r\n  if (!pattern) {\r\n    this.empty = true;\r\n    return\r\n  }\r\n\r\n  // step 1: figure out negation, etc.\r\n  this.parseNegate();\r\n\r\n  // step 2: expand braces\r\n  var set = this.globSet = this.braceExpand();\r\n\r\n  if (options.debug) this.debug = function debug() { console.error.apply(console, arguments); };\r\n\r\n  this.debug(this.pattern, set);\r\n\r\n  // step 3: now we have a set, so turn each one into a series of path-portion\r\n  // matching patterns.\r\n  // These will be regexps, except in the case of \"**\", which is\r\n  // set to the GLOBSTAR object for globstar behavior,\r\n  // and will not contain any / characters\r\n  set = this.globParts = set.map(function (s) {\r\n    return s.split(slashSplit)\r\n  });\r\n\r\n  this.debug(this.pattern, set);\r\n\r\n  // glob --> regexps\r\n  set = set.map(function (s, si, set) {\r\n    return s.map(this.parse, this)\r\n  }, this);\r\n\r\n  this.debug(this.pattern, set);\r\n\r\n  // filter out everything that didn't compile properly.\r\n  set = set.filter(function (s) {\r\n    return s.indexOf(false) === -1\r\n  });\r\n\r\n  this.debug(this.pattern, set);\r\n\r\n  this.set = set;\r\n}\r\n\r\nMinimatch$1.prototype.parseNegate = parseNegate;\r\nfunction parseNegate () {\r\n  var pattern = this.pattern;\r\n  var negate = false;\r\n  var options = this.options;\r\n  var negateOffset = 0;\r\n\r\n  if (options.nonegate) return\r\n\r\n  for (var i = 0, l = pattern.length\r\n    ; i < l && pattern.charAt(i) === '!'\r\n    ; i++) {\r\n    negate = !negate;\r\n    negateOffset++;\r\n  }\r\n\r\n  if (negateOffset) this.pattern = pattern.substr(negateOffset);\r\n  this.negate = negate;\r\n}\r\n\r\n// Brace expansion:\r\n// a{b,c}d -> abd acd\r\n// a{b,}c -> abc ac\r\n// a{0..3}d -> a0d a1d a2d a3d\r\n// a{b,c{d,e}f}g -> abg acdfg acefg\r\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\r\n//\r\n// Invalid sets are not expanded.\r\n// a{2..}b -> a{2..}b\r\n// a{b}c -> a{b}c\r\nminimatch$1.braceExpand = function (pattern, options) {\r\n  return braceExpand(pattern, options)\r\n};\r\n\r\nMinimatch$1.prototype.braceExpand = braceExpand;\r\n\r\nfunction braceExpand (pattern, options) {\r\n  if (!options) {\r\n    if (this instanceof Minimatch$1) {\r\n      options = this.options;\r\n    } else {\r\n      options = {};\r\n    }\r\n  }\r\n\r\n  pattern = typeof pattern === 'undefined'\r\n    ? this.pattern : pattern;\r\n\r\n  assertValidPattern(pattern);\r\n\r\n  // Thanks to Yeting Li <https://github.com/yetingli> for\r\n  // improving this regexp to avoid a ReDOS vulnerability.\r\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\r\n    // shortcut. no need to expand.\r\n    return [pattern]\r\n  }\r\n\r\n  return expand$2(pattern)\r\n}\r\n\r\nvar MAX_PATTERN_LENGTH = 1024 * 64;\r\nvar assertValidPattern = function (pattern) {\r\n  if (typeof pattern !== 'string') {\r\n    throw new TypeError('invalid pattern')\r\n  }\r\n\r\n  if (pattern.length > MAX_PATTERN_LENGTH) {\r\n    throw new TypeError('pattern is too long')\r\n  }\r\n};\r\n\r\n// parse a component of the expanded set.\r\n// At this point, no pattern may contain \"/\" in it\r\n// so we're going to return a 2d array, where each entry is the full\r\n// pattern, split on '/', and then turned into a regular expression.\r\n// A regexp is made at the end which joins each array with an\r\n// escaped /, and another full one which joins each regexp with |.\r\n//\r\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\r\n// when it is the *only* thing in a path portion.  Otherwise, any series\r\n// of * is equivalent to a single *.  Globstar behavior is enabled by\r\n// default, and can be disabled by setting options.noglobstar.\r\nMinimatch$1.prototype.parse = parse$h;\r\nvar SUBPARSE = {};\r\nfunction parse$h (pattern, isSub) {\r\n  assertValidPattern(pattern);\r\n\r\n  var options = this.options;\r\n\r\n  // shortcuts\r\n  if (pattern === '**') {\r\n    if (!options.noglobstar)\r\n      return GLOBSTAR$2\r\n    else\r\n      pattern = '*';\r\n  }\r\n  if (pattern === '') return ''\r\n\r\n  var re = '';\r\n  var hasMagic = !!options.nocase;\r\n  var escaping = false;\r\n  // ? => one single character\r\n  var patternListStack = [];\r\n  var negativeLists = [];\r\n  var stateChar;\r\n  var inClass = false;\r\n  var reClassStart = -1;\r\n  var classStart = -1;\r\n  // . and .. never match anything that doesn't start with .,\r\n  // even when options.dot is set.\r\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\r\n  // not (start or / followed by . or .. followed by / or end)\r\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\r\n  : '(?!\\\\.)';\r\n  var self = this;\r\n\r\n  function clearStateChar () {\r\n    if (stateChar) {\r\n      // we had some state-tracking character\r\n      // that wasn't consumed by this pass.\r\n      switch (stateChar) {\r\n        case '*':\r\n          re += star;\r\n          hasMagic = true;\r\n        break\r\n        case '?':\r\n          re += qmark;\r\n          hasMagic = true;\r\n        break\r\n        default:\r\n          re += '\\\\' + stateChar;\r\n        break\r\n      }\r\n      self.debug('clearStateChar %j %j', stateChar, re);\r\n      stateChar = false;\r\n    }\r\n  }\r\n\r\n  for (var i = 0, len = pattern.length, c\r\n    ; (i < len) && (c = pattern.charAt(i))\r\n    ; i++) {\r\n    this.debug('%s\\t%s %s %j', pattern, i, re, c);\r\n\r\n    // skip over any that are escaped.\r\n    if (escaping && reSpecials[c]) {\r\n      re += '\\\\' + c;\r\n      escaping = false;\r\n      continue\r\n    }\r\n\r\n    switch (c) {\r\n      /* istanbul ignore next */\r\n      case '/': {\r\n        // completely not allowed, even escaped.\r\n        // Should already be path-split by now.\r\n        return false\r\n      }\r\n\r\n      case '\\\\':\r\n        clearStateChar();\r\n        escaping = true;\r\n      continue\r\n\r\n      // the various stateChar values\r\n      // for the \"extglob\" stuff.\r\n      case '?':\r\n      case '*':\r\n      case '+':\r\n      case '@':\r\n      case '!':\r\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c);\r\n\r\n        // all of those are literals inside a class, except that\r\n        // the glob [!a] means [^a] in regexp\r\n        if (inClass) {\r\n          this.debug('  in class');\r\n          if (c === '!' && i === classStart + 1) c = '^';\r\n          re += c;\r\n          continue\r\n        }\r\n\r\n        // if we already have a stateChar, then it means\r\n        // that there was something like ** or +? in there.\r\n        // Handle the stateChar, then proceed with this one.\r\n        self.debug('call clearStateChar %j', stateChar);\r\n        clearStateChar();\r\n        stateChar = c;\r\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\r\n        // just clear the statechar *now*, rather than even diving into\r\n        // the patternList stuff.\r\n        if (options.noext) clearStateChar();\r\n      continue\r\n\r\n      case '(':\r\n        if (inClass) {\r\n          re += '(';\r\n          continue\r\n        }\r\n\r\n        if (!stateChar) {\r\n          re += '\\\\(';\r\n          continue\r\n        }\r\n\r\n        patternListStack.push({\r\n          type: stateChar,\r\n          start: i - 1,\r\n          reStart: re.length,\r\n          open: plTypes[stateChar].open,\r\n          close: plTypes[stateChar].close\r\n        });\r\n        // negation is (?:(?!js)[^/]*)\r\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:';\r\n        this.debug('plType %j %j', stateChar, re);\r\n        stateChar = false;\r\n      continue\r\n\r\n      case ')':\r\n        if (inClass || !patternListStack.length) {\r\n          re += '\\\\)';\r\n          continue\r\n        }\r\n\r\n        clearStateChar();\r\n        hasMagic = true;\r\n        var pl = patternListStack.pop();\r\n        // negation is (?:(?!js)[^/]*)\r\n        // The others are (?:<pattern>)<type>\r\n        re += pl.close;\r\n        if (pl.type === '!') {\r\n          negativeLists.push(pl);\r\n        }\r\n        pl.reEnd = re.length;\r\n      continue\r\n\r\n      case '|':\r\n        if (inClass || !patternListStack.length || escaping) {\r\n          re += '\\\\|';\r\n          escaping = false;\r\n          continue\r\n        }\r\n\r\n        clearStateChar();\r\n        re += '|';\r\n      continue\r\n\r\n      // these are mostly the same in regexp and glob\r\n      case '[':\r\n        // swallow any state-tracking char before the [\r\n        clearStateChar();\r\n\r\n        if (inClass) {\r\n          re += '\\\\' + c;\r\n          continue\r\n        }\r\n\r\n        inClass = true;\r\n        classStart = i;\r\n        reClassStart = re.length;\r\n        re += c;\r\n      continue\r\n\r\n      case ']':\r\n        //  a right bracket shall lose its special\r\n        //  meaning and represent itself in\r\n        //  a bracket expression if it occurs\r\n        //  first in the list.  -- POSIX.2 2.8.3.2\r\n        if (i === classStart + 1 || !inClass) {\r\n          re += '\\\\' + c;\r\n          escaping = false;\r\n          continue\r\n        }\r\n\r\n        // handle the case where we left a class open.\r\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\r\n        // split where the last [ was, make sure we don't have\r\n        // an invalid re. if so, re-walk the contents of the\r\n        // would-be class to re-translate any characters that\r\n        // were passed through as-is\r\n        // TODO: It would probably be faster to determine this\r\n        // without a try/catch and a new RegExp, but it's tricky\r\n        // to do safely.  For now, this is safe and works.\r\n        var cs = pattern.substring(classStart + 1, i);\r\n        try {\r\n        } catch (er) {\r\n          // not a valid class!\r\n          var sp = this.parse(cs, SUBPARSE);\r\n          re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]';\r\n          hasMagic = hasMagic || sp[1];\r\n          inClass = false;\r\n          continue\r\n        }\r\n\r\n        // finish up the class.\r\n        hasMagic = true;\r\n        inClass = false;\r\n        re += c;\r\n      continue\r\n\r\n      default:\r\n        // swallow any state char that wasn't consumed\r\n        clearStateChar();\r\n\r\n        if (escaping) {\r\n          // no need\r\n          escaping = false;\r\n        } else if (reSpecials[c]\r\n          && !(c === '^' && inClass)) {\r\n          re += '\\\\';\r\n        }\r\n\r\n        re += c;\r\n\r\n    } // switch\r\n  } // for\r\n\r\n  // handle the case where we left a class open.\r\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\r\n  if (inClass) {\r\n    // split where the last [ was, and escape it\r\n    // this is a huge pita.  We now have to re-walk\r\n    // the contents of the would-be class to re-translate\r\n    // any characters that were passed through as-is\r\n    cs = pattern.substr(classStart + 1);\r\n    sp = this.parse(cs, SUBPARSE);\r\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0];\r\n    hasMagic = hasMagic || sp[1];\r\n  }\r\n\r\n  // handle the case where we had a +( thing at the *end*\r\n  // of the pattern.\r\n  // each pattern list stack adds 3 chars, and we need to go through\r\n  // and escape any | chars that were passed through as-is for the regexp.\r\n  // Go through and escape them, taking care not to double-escape any\r\n  // | chars that were already escaped.\r\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\r\n    var tail = re.slice(pl.reStart + pl.open.length);\r\n    this.debug('setting tail', re, pl);\r\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\r\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\r\n      if (!$2) {\r\n        // the | isn't already escaped, so escape it.\r\n        $2 = '\\\\';\r\n      }\r\n\r\n      // need to escape all those slashes *again*, without escaping the\r\n      // one that we need for escaping the | character.  As it works out,\r\n      // escaping an even number of slashes can be done by simply repeating\r\n      // it exactly after itself.  That's why this trick works.\r\n      //\r\n      // I am sorry that you have to see this.\r\n      return $1 + $1 + $2 + '|'\r\n    });\r\n\r\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re);\r\n    var t = pl.type === '*' ? star\r\n      : pl.type === '?' ? qmark\r\n      : '\\\\' + pl.type;\r\n\r\n    hasMagic = true;\r\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail;\r\n  }\r\n\r\n  // handle trailing things that only matter at the very end.\r\n  clearStateChar();\r\n  if (escaping) {\r\n    // trailing \\\\\r\n    re += '\\\\\\\\';\r\n  }\r\n\r\n  // only need to apply the nodot start if the re starts with\r\n  // something that could conceivably capture a dot\r\n  var addPatternStart = false;\r\n  switch (re.charAt(0)) {\r\n    case '[': case '.': case '(': addPatternStart = true;\r\n  }\r\n\r\n  // Hack to work around lack of negative lookbehind in JS\r\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\r\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\r\n  // lookahead, has to look ALL the way ahead, to the end of\r\n  // the pattern.\r\n  for (var n = negativeLists.length - 1; n > -1; n--) {\r\n    var nl = negativeLists[n];\r\n\r\n    var nlBefore = re.slice(0, nl.reStart);\r\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8);\r\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd);\r\n    var nlAfter = re.slice(nl.reEnd);\r\n\r\n    nlLast += nlAfter;\r\n\r\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\r\n    // mean that we should *not* include the ) in the bit that is considered\r\n    // \"after\" the negated section.\r\n    var openParensBefore = nlBefore.split('(').length - 1;\r\n    var cleanAfter = nlAfter;\r\n    for (i = 0; i < openParensBefore; i++) {\r\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '');\r\n    }\r\n    nlAfter = cleanAfter;\r\n\r\n    var dollar = '';\r\n    if (nlAfter === '' && isSub !== SUBPARSE) {\r\n      dollar = '$';\r\n    }\r\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast;\r\n    re = newRe;\r\n  }\r\n\r\n  // if the re is not \"\" at this point, then we need to make sure\r\n  // it doesn't match against an empty path part.\r\n  // Otherwise a/* will match a/, which it should not.\r\n  if (re !== '' && hasMagic) {\r\n    re = '(?=.)' + re;\r\n  }\r\n\r\n  if (addPatternStart) {\r\n    re = patternStart + re;\r\n  }\r\n\r\n  // parsing just a piece of a larger pattern.\r\n  if (isSub === SUBPARSE) {\r\n    return [re, hasMagic]\r\n  }\r\n\r\n  // skip the regexp for non-magical patterns\r\n  // unescape anything in it, though, so that it'll be\r\n  // an exact match against a file etc.\r\n  if (!hasMagic) {\r\n    return globUnescape(pattern)\r\n  }\r\n\r\n  var flags = options.nocase ? 'i' : '';\r\n  try {\r\n    var regExp = new RegExp('^' + re + '$', flags);\r\n  } catch (er) /* istanbul ignore next - should be impossible */ {\r\n    // If it was an invalid regular expression, then it can't match\r\n    // anything.  This trick looks for a character after the end of\r\n    // the string, which is of course impossible, except in multi-line\r\n    // mode, but it's not a /m regex.\r\n    return new RegExp('$.')\r\n  }\r\n\r\n  regExp._glob = pattern;\r\n  regExp._src = re;\r\n\r\n  return regExp\r\n}\r\n\r\nminimatch$1.makeRe = function (pattern, options) {\r\n  return new Minimatch$1(pattern, options || {}).makeRe()\r\n};\r\n\r\nMinimatch$1.prototype.makeRe = makeRe$1;\r\nfunction makeRe$1 () {\r\n  if (this.regexp || this.regexp === false) return this.regexp\r\n\r\n  // at this point, this.set is a 2d array of partial\r\n  // pattern strings, or \"**\".\r\n  //\r\n  // It's better to use .match().  This function shouldn't\r\n  // be used, really, but it's pretty convenient sometimes,\r\n  // when you just want to work with a regex.\r\n  var set = this.set;\r\n\r\n  if (!set.length) {\r\n    this.regexp = false;\r\n    return this.regexp\r\n  }\r\n  var options = this.options;\r\n\r\n  var twoStar = options.noglobstar ? star\r\n    : options.dot ? twoStarDot\r\n    : twoStarNoDot;\r\n  var flags = options.nocase ? 'i' : '';\r\n\r\n  var re = set.map(function (pattern) {\r\n    return pattern.map(function (p) {\r\n      return (p === GLOBSTAR$2) ? twoStar\r\n      : (typeof p === 'string') ? regExpEscape(p)\r\n      : p._src\r\n    }).join('\\\\\\/')\r\n  }).join('|');\r\n\r\n  // must match entire pattern\r\n  // ending in a * or ** will make it less strict.\r\n  re = '^(?:' + re + ')$';\r\n\r\n  // can match anything, as long as it's not this.\r\n  if (this.negate) re = '^(?!' + re + ').*$';\r\n\r\n  try {\r\n    this.regexp = new RegExp(re, flags);\r\n  } catch (ex) /* istanbul ignore next - should be impossible */ {\r\n    this.regexp = false;\r\n  }\r\n  return this.regexp\r\n}\r\n\r\nminimatch$1.match = function (list, pattern, options) {\r\n  options = options || {};\r\n  var mm = new Minimatch$1(pattern, options);\r\n  list = list.filter(function (f) {\r\n    return mm.match(f)\r\n  });\r\n  if (mm.options.nonull && !list.length) {\r\n    list.push(pattern);\r\n  }\r\n  return list\r\n};\r\n\r\nMinimatch$1.prototype.match = function match (f, partial) {\r\n  if (typeof partial === 'undefined') partial = this.partial;\r\n  this.debug('match', f, this.pattern);\r\n  // short-circuit in the case of busted things.\r\n  // comments, etc.\r\n  if (this.comment) return false\r\n  if (this.empty) return f === ''\r\n\r\n  if (f === '/' && partial) return true\r\n\r\n  var options = this.options;\r\n\r\n  // windows: need to use /, not \\\r\n  if (path$j.sep !== '/') {\r\n    f = f.split(path$j.sep).join('/');\r\n  }\r\n\r\n  // treat the test path as a set of pathparts.\r\n  f = f.split(slashSplit);\r\n  this.debug(this.pattern, 'split', f);\r\n\r\n  // just ONE of the pattern sets in this.set needs to match\r\n  // in order for it to be valid.  If negating, then just one\r\n  // match means that we have failed.\r\n  // Either way, return on the first hit.\r\n\r\n  var set = this.set;\r\n  this.debug(this.pattern, 'set', set);\r\n\r\n  // Find the basename of the path by looking for the last non-empty segment\r\n  var filename;\r\n  var i;\r\n  for (i = f.length - 1; i >= 0; i--) {\r\n    filename = f[i];\r\n    if (filename) break\r\n  }\r\n\r\n  for (i = 0; i < set.length; i++) {\r\n    var pattern = set[i];\r\n    var file = f;\r\n    if (options.matchBase && pattern.length === 1) {\r\n      file = [filename];\r\n    }\r\n    var hit = this.matchOne(file, pattern, partial);\r\n    if (hit) {\r\n      if (options.flipNegate) return true\r\n      return !this.negate\r\n    }\r\n  }\r\n\r\n  // didn't get any hits.  this is success if it's a negative\r\n  // pattern, failure otherwise.\r\n  if (options.flipNegate) return false\r\n  return this.negate\r\n};\r\n\r\n// set partial to true to test if, for example,\r\n// \"/a/b\" matches the start of \"/*/b/*/d\"\r\n// Partial means, if you run out of file before you run\r\n// out of pattern, then that's fine, as long as all\r\n// the parts match.\r\nMinimatch$1.prototype.matchOne = function (file, pattern, partial) {\r\n  var options = this.options;\r\n\r\n  this.debug('matchOne',\r\n    { 'this': this, file: file, pattern: pattern });\r\n\r\n  this.debug('matchOne', file.length, pattern.length);\r\n\r\n  for (var fi = 0,\r\n      pi = 0,\r\n      fl = file.length,\r\n      pl = pattern.length\r\n      ; (fi < fl) && (pi < pl)\r\n      ; fi++, pi++) {\r\n    this.debug('matchOne loop');\r\n    var p = pattern[pi];\r\n    var f = file[fi];\r\n\r\n    this.debug(pattern, p, f);\r\n\r\n    // should be impossible.\r\n    // some invalid regexp stuff in the set.\r\n    /* istanbul ignore if */\r\n    if (p === false) return false\r\n\r\n    if (p === GLOBSTAR$2) {\r\n      this.debug('GLOBSTAR', [pattern, p, f]);\r\n\r\n      // \"**\"\r\n      // a/**/b/**/c would match the following:\r\n      // a/b/x/y/z/c\r\n      // a/x/y/z/b/c\r\n      // a/b/x/b/x/c\r\n      // a/b/c\r\n      // To do this, take the rest of the pattern after\r\n      // the **, and see if it would match the file remainder.\r\n      // If so, return success.\r\n      // If not, the ** \"swallows\" a segment, and try again.\r\n      // This is recursively awful.\r\n      //\r\n      // a/**/b/**/c matching a/b/x/y/z/c\r\n      // - a matches a\r\n      // - doublestar\r\n      //   - matchOne(b/x/y/z/c, b/**/c)\r\n      //     - b matches b\r\n      //     - doublestar\r\n      //       - matchOne(x/y/z/c, c) -> no\r\n      //       - matchOne(y/z/c, c) -> no\r\n      //       - matchOne(z/c, c) -> no\r\n      //       - matchOne(c, c) yes, hit\r\n      var fr = fi;\r\n      var pr = pi + 1;\r\n      if (pr === pl) {\r\n        this.debug('** at the end');\r\n        // a ** at the end will just swallow the rest.\r\n        // We have found a match.\r\n        // however, it will not swallow /.x, unless\r\n        // options.dot is set.\r\n        // . and .. are *never* matched by **, for explosively\r\n        // exponential reasons.\r\n        for (; fi < fl; fi++) {\r\n          if (file[fi] === '.' || file[fi] === '..' ||\r\n            (!options.dot && file[fi].charAt(0) === '.')) return false\r\n        }\r\n        return true\r\n      }\r\n\r\n      // ok, let's see if we can swallow whatever we can.\r\n      while (fr < fl) {\r\n        var swallowee = file[fr];\r\n\r\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee);\r\n\r\n        // XXX remove this slice.  Just pass the start index.\r\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\r\n          this.debug('globstar found match!', fr, fl, swallowee);\r\n          // found a match.\r\n          return true\r\n        } else {\r\n          // can't swallow \".\" or \"..\" ever.\r\n          // can only swallow \".foo\" when explicitly asked.\r\n          if (swallowee === '.' || swallowee === '..' ||\r\n            (!options.dot && swallowee.charAt(0) === '.')) {\r\n            this.debug('dot detected!', file, fr, pattern, pr);\r\n            break\r\n          }\r\n\r\n          // ** swallows a segment, and continue.\r\n          this.debug('globstar swallow a segment, and continue');\r\n          fr++;\r\n        }\r\n      }\r\n\r\n      // no match was found.\r\n      // However, in partial mode, we can't say this is necessarily over.\r\n      // If there's more *pattern* left, then\r\n      /* istanbul ignore if */\r\n      if (partial) {\r\n        // ran out of file\r\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr);\r\n        if (fr === fl) return true\r\n      }\r\n      return false\r\n    }\r\n\r\n    // something other than **\r\n    // non-magic patterns just have to match exactly\r\n    // patterns with magic have been turned into regexps.\r\n    var hit;\r\n    if (typeof p === 'string') {\r\n      hit = f === p;\r\n      this.debug('string match', p, f, hit);\r\n    } else {\r\n      hit = f.match(p);\r\n      this.debug('pattern match', p, f, hit);\r\n    }\r\n\r\n    if (!hit) return false\r\n  }\r\n\r\n  // Note: ending in / means that we'll get a final \"\"\r\n  // at the end of the pattern.  This can only match a\r\n  // corresponding \"\" at the end of the file.\r\n  // If the file ends in /, then it can only match a\r\n  // a pattern that ends in /, unless the pattern just\r\n  // doesn't have any more for it. But, a/b/ should *not*\r\n  // match \"a/b/*\", even though \"\" matches against the\r\n  // [^/]*? pattern, except in partial mode, where it might\r\n  // simply not be reached yet.\r\n  // However, a/b/ should still satisfy a/*\r\n\r\n  // now either we fell off the end of the pattern, or we're done.\r\n  if (fi === fl && pi === pl) {\r\n    // ran out of pattern and filename at the same time.\r\n    // an exact hit!\r\n    return true\r\n  } else if (fi === fl) {\r\n    // ran out of file, but still had pattern left.\r\n    // this is ok if we're doing the match as part of\r\n    // a glob fs traversal.\r\n    return partial\r\n  } else /* istanbul ignore else */ if (pi === pl) {\r\n    // ran out of pattern, still have file left.\r\n    // this is only acceptable if we're on the very last\r\n    // empty segment of a file with a trailing slash.\r\n    // a/* should match a/b/\r\n    return (fi === fl - 1) && (file[fi] === '')\r\n  }\r\n\r\n  // should be unreachable.\r\n  /* istanbul ignore next */\r\n  throw new Error('wtf?')\r\n};\r\n\r\n// replace stuff like \\* with *\r\nfunction globUnescape (s) {\r\n  return s.replace(/\\\\(.)/g, '$1')\r\n}\r\n\r\nfunction regExpEscape (s) {\r\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\r\n}\r\n\r\nvar inherits = {exports: {}};\r\n\r\nvar inherits_browser = {exports: {}};\r\n\r\nvar hasRequiredInherits_browser;\r\n\r\nfunction requireInherits_browser () {\r\n\tif (hasRequiredInherits_browser) return inherits_browser.exports;\r\n\thasRequiredInherits_browser = 1;\r\n\tif (typeof Object.create === 'function') {\r\n\t  // implementation from standard node.js 'util' module\r\n\t  inherits_browser.exports = function inherits(ctor, superCtor) {\r\n\t    if (superCtor) {\r\n\t      ctor.super_ = superCtor;\r\n\t      ctor.prototype = Object.create(superCtor.prototype, {\r\n\t        constructor: {\r\n\t          value: ctor,\r\n\t          enumerable: false,\r\n\t          writable: true,\r\n\t          configurable: true\r\n\t        }\r\n\t      });\r\n\t    }\r\n\t  };\r\n\t} else {\r\n\t  // old school shim for old browsers\r\n\t  inherits_browser.exports = function inherits(ctor, superCtor) {\r\n\t    if (superCtor) {\r\n\t      ctor.super_ = superCtor;\r\n\t      var TempCtor = function () {};\r\n\t      TempCtor.prototype = superCtor.prototype;\r\n\t      ctor.prototype = new TempCtor();\r\n\t      ctor.prototype.constructor = ctor;\r\n\t    }\r\n\t  };\r\n\t}\r\n\treturn inherits_browser.exports;\r\n}\r\n\r\n(function (module) {\r\n\ttry {\r\n\t  var util = require('util');\r\n\t  /* istanbul ignore next */\r\n\t  if (typeof util.inherits !== 'function') throw '';\r\n\t  module.exports = util.inherits;\r\n\t} catch (e) {\r\n\t  /* istanbul ignore next */\r\n\t  module.exports = requireInherits_browser();\r\n\t}\r\n} (inherits));\r\n\r\nvar pathIsAbsolute = {exports: {}};\r\n\r\nfunction posix(path) {\r\n\treturn path.charAt(0) === '/';\r\n}\r\n\r\nfunction win32(path) {\r\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\r\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\r\n\tvar result = splitDeviceRe.exec(path);\r\n\tvar device = result[1] || '';\r\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\r\n\r\n\t// UNC paths are always absolute\r\n\treturn Boolean(result[2] || isUnc);\r\n}\r\n\r\npathIsAbsolute.exports = process.platform === 'win32' ? win32 : posix;\r\npathIsAbsolute.exports.posix = posix;\r\npathIsAbsolute.exports.win32 = win32;\r\n\r\nvar common$c = {};\r\n\r\ncommon$c.setopts = setopts;\r\ncommon$c.ownProp = ownProp;\r\ncommon$c.makeAbs = makeAbs;\r\ncommon$c.finish = finish;\r\ncommon$c.mark = mark;\r\ncommon$c.isIgnored = isIgnored;\r\ncommon$c.childrenIgnored = childrenIgnored;\r\n\r\nfunction ownProp (obj, field) {\r\n  return Object.prototype.hasOwnProperty.call(obj, field)\r\n}\r\n\r\nvar fs$i = require$$0__default;\r\nvar path$i = require$$0$4;\r\nvar minimatch = minimatch_1;\r\nvar isAbsolute = pathIsAbsolute.exports;\r\nvar Minimatch = minimatch.Minimatch;\r\n\r\nfunction alphasort (a, b) {\r\n  return a.localeCompare(b, 'en')\r\n}\r\n\r\nfunction setupIgnores (self, options) {\r\n  self.ignore = options.ignore || [];\r\n\r\n  if (!Array.isArray(self.ignore))\r\n    self.ignore = [self.ignore];\r\n\r\n  if (self.ignore.length) {\r\n    self.ignore = self.ignore.map(ignoreMap);\r\n  }\r\n}\r\n\r\n// ignore patterns are always in dot:true mode.\r\nfunction ignoreMap (pattern) {\r\n  var gmatcher = null;\r\n  if (pattern.slice(-3) === '/**') {\r\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '');\r\n    gmatcher = new Minimatch(gpattern, { dot: true });\r\n  }\r\n\r\n  return {\r\n    matcher: new Minimatch(pattern, { dot: true }),\r\n    gmatcher: gmatcher\r\n  }\r\n}\r\n\r\nfunction setopts (self, pattern, options) {\r\n  if (!options)\r\n    options = {};\r\n\r\n  // base-matching: just use globstar for that.\r\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\r\n    if (options.noglobstar) {\r\n      throw new Error(\"base matching requires globstar\")\r\n    }\r\n    pattern = \"**/\" + pattern;\r\n  }\r\n\r\n  self.silent = !!options.silent;\r\n  self.pattern = pattern;\r\n  self.strict = options.strict !== false;\r\n  self.realpath = !!options.realpath;\r\n  self.realpathCache = options.realpathCache || Object.create(null);\r\n  self.follow = !!options.follow;\r\n  self.dot = !!options.dot;\r\n  self.mark = !!options.mark;\r\n  self.nodir = !!options.nodir;\r\n  if (self.nodir)\r\n    self.mark = true;\r\n  self.sync = !!options.sync;\r\n  self.nounique = !!options.nounique;\r\n  self.nonull = !!options.nonull;\r\n  self.nosort = !!options.nosort;\r\n  self.nocase = !!options.nocase;\r\n  self.stat = !!options.stat;\r\n  self.noprocess = !!options.noprocess;\r\n  self.absolute = !!options.absolute;\r\n  self.fs = options.fs || fs$i;\r\n\r\n  self.maxLength = options.maxLength || Infinity;\r\n  self.cache = options.cache || Object.create(null);\r\n  self.statCache = options.statCache || Object.create(null);\r\n  self.symlinks = options.symlinks || Object.create(null);\r\n\r\n  setupIgnores(self, options);\r\n\r\n  self.changedCwd = false;\r\n  var cwd = process.cwd();\r\n  if (!ownProp(options, \"cwd\"))\r\n    self.cwd = cwd;\r\n  else {\r\n    self.cwd = path$i.resolve(options.cwd);\r\n    self.changedCwd = self.cwd !== cwd;\r\n  }\r\n\r\n  self.root = options.root || path$i.resolve(self.cwd, \"/\");\r\n  self.root = path$i.resolve(self.root);\r\n  if (process.platform === \"win32\")\r\n    self.root = self.root.replace(/\\\\/g, \"/\");\r\n\r\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\r\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\r\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd);\r\n  if (process.platform === \"win32\")\r\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\");\r\n  self.nomount = !!options.nomount;\r\n\r\n  // disable comments and negation in Minimatch.\r\n  // Note that they are not supported in Glob itself anyway.\r\n  options.nonegate = true;\r\n  options.nocomment = true;\r\n\r\n  self.minimatch = new Minimatch(pattern, options);\r\n  self.options = self.minimatch.options;\r\n}\r\n\r\nfunction finish (self) {\r\n  var nou = self.nounique;\r\n  var all = nou ? [] : Object.create(null);\r\n\r\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\r\n    var matches = self.matches[i];\r\n    if (!matches || Object.keys(matches).length === 0) {\r\n      if (self.nonull) {\r\n        // do like the shell, and spit out the literal glob\r\n        var literal = self.minimatch.globSet[i];\r\n        if (nou)\r\n          all.push(literal);\r\n        else\r\n          all[literal] = true;\r\n      }\r\n    } else {\r\n      // had matches\r\n      var m = Object.keys(matches);\r\n      if (nou)\r\n        all.push.apply(all, m);\r\n      else\r\n        m.forEach(function (m) {\r\n          all[m] = true;\r\n        });\r\n    }\r\n  }\r\n\r\n  if (!nou)\r\n    all = Object.keys(all);\r\n\r\n  if (!self.nosort)\r\n    all = all.sort(alphasort);\r\n\r\n  // at *some* point we statted all of these\r\n  if (self.mark) {\r\n    for (var i = 0; i < all.length; i++) {\r\n      all[i] = self._mark(all[i]);\r\n    }\r\n    if (self.nodir) {\r\n      all = all.filter(function (e) {\r\n        var notDir = !(/\\/$/.test(e));\r\n        var c = self.cache[e] || self.cache[makeAbs(self, e)];\r\n        if (notDir && c)\r\n          notDir = c !== 'DIR' && !Array.isArray(c);\r\n        return notDir\r\n      });\r\n    }\r\n  }\r\n\r\n  if (self.ignore.length)\r\n    all = all.filter(function(m) {\r\n      return !isIgnored(self, m)\r\n    });\r\n\r\n  self.found = all;\r\n}\r\n\r\nfunction mark (self, p) {\r\n  var abs = makeAbs(self, p);\r\n  var c = self.cache[abs];\r\n  var m = p;\r\n  if (c) {\r\n    var isDir = c === 'DIR' || Array.isArray(c);\r\n    var slash = p.slice(-1) === '/';\r\n\r\n    if (isDir && !slash)\r\n      m += '/';\r\n    else if (!isDir && slash)\r\n      m = m.slice(0, -1);\r\n\r\n    if (m !== p) {\r\n      var mabs = makeAbs(self, m);\r\n      self.statCache[mabs] = self.statCache[abs];\r\n      self.cache[mabs] = self.cache[abs];\r\n    }\r\n  }\r\n\r\n  return m\r\n}\r\n\r\n// lotta situps...\r\nfunction makeAbs (self, f) {\r\n  var abs = f;\r\n  if (f.charAt(0) === '/') {\r\n    abs = path$i.join(self.root, f);\r\n  } else if (isAbsolute(f) || f === '') {\r\n    abs = f;\r\n  } else if (self.changedCwd) {\r\n    abs = path$i.resolve(self.cwd, f);\r\n  } else {\r\n    abs = path$i.resolve(f);\r\n  }\r\n\r\n  if (process.platform === 'win32')\r\n    abs = abs.replace(/\\\\/g, '/');\r\n\r\n  return abs\r\n}\r\n\r\n\r\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\r\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\r\nfunction isIgnored (self, path) {\r\n  if (!self.ignore.length)\r\n    return false\r\n\r\n  return self.ignore.some(function(item) {\r\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\r\n  })\r\n}\r\n\r\nfunction childrenIgnored (self, path) {\r\n  if (!self.ignore.length)\r\n    return false\r\n\r\n  return self.ignore.some(function(item) {\r\n    return !!(item.gmatcher && item.gmatcher.match(path))\r\n  })\r\n}\r\n\r\nvar sync$9;\r\nvar hasRequiredSync;\r\n\r\nfunction requireSync () {\r\n\tif (hasRequiredSync) return sync$9;\r\n\thasRequiredSync = 1;\r\n\tsync$9 = globSync;\r\n\tglobSync.GlobSync = GlobSync;\r\n\r\n\tvar rp = fs_realpath;\r\n\tvar minimatch = minimatch_1;\r\n\trequireGlob().Glob;\r\n\tvar path = require$$0$4;\r\n\tvar assert = assert$1;\r\n\tvar isAbsolute = pathIsAbsolute.exports;\r\n\tvar common = common$c;\r\n\tvar setopts = common.setopts;\r\n\tvar ownProp = common.ownProp;\r\n\tvar childrenIgnored = common.childrenIgnored;\r\n\tvar isIgnored = common.isIgnored;\r\n\r\n\tfunction globSync (pattern, options) {\r\n\t  if (typeof options === 'function' || arguments.length === 3)\r\n\t    throw new TypeError('callback provided to sync glob\\n'+\r\n\t                        'See: https://github.com/isaacs/node-glob/issues/167')\r\n\r\n\t  return new GlobSync(pattern, options).found\r\n\t}\r\n\r\n\tfunction GlobSync (pattern, options) {\r\n\t  if (!pattern)\r\n\t    throw new Error('must provide pattern')\r\n\r\n\t  if (typeof options === 'function' || arguments.length === 3)\r\n\t    throw new TypeError('callback provided to sync glob\\n'+\r\n\t                        'See: https://github.com/isaacs/node-glob/issues/167')\r\n\r\n\t  if (!(this instanceof GlobSync))\r\n\t    return new GlobSync(pattern, options)\r\n\r\n\t  setopts(this, pattern, options);\r\n\r\n\t  if (this.noprocess)\r\n\t    return this\r\n\r\n\t  var n = this.minimatch.set.length;\r\n\t  this.matches = new Array(n);\r\n\t  for (var i = 0; i < n; i ++) {\r\n\t    this._process(this.minimatch.set[i], i, false);\r\n\t  }\r\n\t  this._finish();\r\n\t}\r\n\r\n\tGlobSync.prototype._finish = function () {\r\n\t  assert(this instanceof GlobSync);\r\n\t  if (this.realpath) {\r\n\t    var self = this;\r\n\t    this.matches.forEach(function (matchset, index) {\r\n\t      var set = self.matches[index] = Object.create(null);\r\n\t      for (var p in matchset) {\r\n\t        try {\r\n\t          p = self._makeAbs(p);\r\n\t          var real = rp.realpathSync(p, self.realpathCache);\r\n\t          set[real] = true;\r\n\t        } catch (er) {\r\n\t          if (er.syscall === 'stat')\r\n\t            set[self._makeAbs(p)] = true;\r\n\t          else\r\n\t            throw er\r\n\t        }\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t  common.finish(this);\r\n\t};\r\n\r\n\r\n\tGlobSync.prototype._process = function (pattern, index, inGlobStar) {\r\n\t  assert(this instanceof GlobSync);\r\n\r\n\t  // Get the first [n] parts of pattern that are all strings.\r\n\t  var n = 0;\r\n\t  while (typeof pattern[n] === 'string') {\r\n\t    n ++;\r\n\t  }\r\n\t  // now n is the index of the first one that is *not* a string.\r\n\r\n\t  // See if there's anything else\r\n\t  var prefix;\r\n\t  switch (n) {\r\n\t    // if not, then this is rather simple\r\n\t    case pattern.length:\r\n\t      this._processSimple(pattern.join('/'), index);\r\n\t      return\r\n\r\n\t    case 0:\r\n\t      // pattern *starts* with some non-trivial item.\r\n\t      // going to readdir(cwd), but not include the prefix in matches.\r\n\t      prefix = null;\r\n\t      break\r\n\r\n\t    default:\r\n\t      // pattern has some string bits in the front.\r\n\t      // whatever it starts with, whether that's 'absolute' like /foo/bar,\r\n\t      // or 'relative' like '../baz'\r\n\t      prefix = pattern.slice(0, n).join('/');\r\n\t      break\r\n\t  }\r\n\r\n\t  var remain = pattern.slice(n);\r\n\r\n\t  // get the list of entries.\r\n\t  var read;\r\n\t  if (prefix === null)\r\n\t    read = '.';\r\n\t  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\r\n\t    if (!prefix || !isAbsolute(prefix))\r\n\t      prefix = '/' + prefix;\r\n\t    read = prefix;\r\n\t  } else\r\n\t    read = prefix;\r\n\r\n\t  var abs = this._makeAbs(read);\r\n\r\n\t  //if ignored, skip processing\r\n\t  if (childrenIgnored(this, read))\r\n\t    return\r\n\r\n\t  var isGlobStar = remain[0] === minimatch.GLOBSTAR;\r\n\t  if (isGlobStar)\r\n\t    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar);\r\n\t  else\r\n\t    this._processReaddir(prefix, read, abs, remain, index, inGlobStar);\r\n\t};\r\n\r\n\r\n\tGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\r\n\t  var entries = this._readdir(abs, inGlobStar);\r\n\r\n\t  // if the abs isn't a dir, then nothing can match!\r\n\t  if (!entries)\r\n\t    return\r\n\r\n\t  // It will only match dot entries if it starts with a dot, or if\r\n\t  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\r\n\t  var pn = remain[0];\r\n\t  var negate = !!this.minimatch.negate;\r\n\t  var rawGlob = pn._glob;\r\n\t  var dotOk = this.dot || rawGlob.charAt(0) === '.';\r\n\r\n\t  var matchedEntries = [];\r\n\t  for (var i = 0; i < entries.length; i++) {\r\n\t    var e = entries[i];\r\n\t    if (e.charAt(0) !== '.' || dotOk) {\r\n\t      var m;\r\n\t      if (negate && !prefix) {\r\n\t        m = !e.match(pn);\r\n\t      } else {\r\n\t        m = e.match(pn);\r\n\t      }\r\n\t      if (m)\r\n\t        matchedEntries.push(e);\r\n\t    }\r\n\t  }\r\n\r\n\t  var len = matchedEntries.length;\r\n\t  // If there are no matched entries, then nothing matches.\r\n\t  if (len === 0)\r\n\t    return\r\n\r\n\t  // if this is the last remaining pattern bit, then no need for\r\n\t  // an additional stat *unless* the user has specified mark or\r\n\t  // stat explicitly.  We know they exist, since readdir returned\r\n\t  // them.\r\n\r\n\t  if (remain.length === 1 && !this.mark && !this.stat) {\r\n\t    if (!this.matches[index])\r\n\t      this.matches[index] = Object.create(null);\r\n\r\n\t    for (var i = 0; i < len; i ++) {\r\n\t      var e = matchedEntries[i];\r\n\t      if (prefix) {\r\n\t        if (prefix.slice(-1) !== '/')\r\n\t          e = prefix + '/' + e;\r\n\t        else\r\n\t          e = prefix + e;\r\n\t      }\r\n\r\n\t      if (e.charAt(0) === '/' && !this.nomount) {\r\n\t        e = path.join(this.root, e);\r\n\t      }\r\n\t      this._emitMatch(index, e);\r\n\t    }\r\n\t    // This was the last one, and no stats were needed\r\n\t    return\r\n\t  }\r\n\r\n\t  // now test all matched entries as stand-ins for that part\r\n\t  // of the pattern.\r\n\t  remain.shift();\r\n\t  for (var i = 0; i < len; i ++) {\r\n\t    var e = matchedEntries[i];\r\n\t    var newPattern;\r\n\t    if (prefix)\r\n\t      newPattern = [prefix, e];\r\n\t    else\r\n\t      newPattern = [e];\r\n\t    this._process(newPattern.concat(remain), index, inGlobStar);\r\n\t  }\r\n\t};\r\n\r\n\r\n\tGlobSync.prototype._emitMatch = function (index, e) {\r\n\t  if (isIgnored(this, e))\r\n\t    return\r\n\r\n\t  var abs = this._makeAbs(e);\r\n\r\n\t  if (this.mark)\r\n\t    e = this._mark(e);\r\n\r\n\t  if (this.absolute) {\r\n\t    e = abs;\r\n\t  }\r\n\r\n\t  if (this.matches[index][e])\r\n\t    return\r\n\r\n\t  if (this.nodir) {\r\n\t    var c = this.cache[abs];\r\n\t    if (c === 'DIR' || Array.isArray(c))\r\n\t      return\r\n\t  }\r\n\r\n\t  this.matches[index][e] = true;\r\n\r\n\t  if (this.stat)\r\n\t    this._stat(e);\r\n\t};\r\n\r\n\r\n\tGlobSync.prototype._readdirInGlobStar = function (abs) {\r\n\t  // follow all symlinked directories forever\r\n\t  // just proceed as if this is a non-globstar situation\r\n\t  if (this.follow)\r\n\t    return this._readdir(abs, false)\r\n\r\n\t  var entries;\r\n\t  var lstat;\r\n\t  try {\r\n\t    lstat = this.fs.lstatSync(abs);\r\n\t  } catch (er) {\r\n\t    if (er.code === 'ENOENT') {\r\n\t      // lstat failed, doesn't exist\r\n\t      return null\r\n\t    }\r\n\t  }\r\n\r\n\t  var isSym = lstat && lstat.isSymbolicLink();\r\n\t  this.symlinks[abs] = isSym;\r\n\r\n\t  // If it's not a symlink or a dir, then it's definitely a regular file.\r\n\t  // don't bother doing a readdir in that case.\r\n\t  if (!isSym && lstat && !lstat.isDirectory())\r\n\t    this.cache[abs] = 'FILE';\r\n\t  else\r\n\t    entries = this._readdir(abs, false);\r\n\r\n\t  return entries\r\n\t};\r\n\r\n\tGlobSync.prototype._readdir = function (abs, inGlobStar) {\r\n\r\n\t  if (inGlobStar && !ownProp(this.symlinks, abs))\r\n\t    return this._readdirInGlobStar(abs)\r\n\r\n\t  if (ownProp(this.cache, abs)) {\r\n\t    var c = this.cache[abs];\r\n\t    if (!c || c === 'FILE')\r\n\t      return null\r\n\r\n\t    if (Array.isArray(c))\r\n\t      return c\r\n\t  }\r\n\r\n\t  try {\r\n\t    return this._readdirEntries(abs, this.fs.readdirSync(abs))\r\n\t  } catch (er) {\r\n\t    this._readdirError(abs, er);\r\n\t    return null\r\n\t  }\r\n\t};\r\n\r\n\tGlobSync.prototype._readdirEntries = function (abs, entries) {\r\n\t  // if we haven't asked to stat everything, then just\r\n\t  // assume that everything in there exists, so we can avoid\r\n\t  // having to stat it a second time.\r\n\t  if (!this.mark && !this.stat) {\r\n\t    for (var i = 0; i < entries.length; i ++) {\r\n\t      var e = entries[i];\r\n\t      if (abs === '/')\r\n\t        e = abs + e;\r\n\t      else\r\n\t        e = abs + '/' + e;\r\n\t      this.cache[e] = true;\r\n\t    }\r\n\t  }\r\n\r\n\t  this.cache[abs] = entries;\r\n\r\n\t  // mark and cache dir-ness\r\n\t  return entries\r\n\t};\r\n\r\n\tGlobSync.prototype._readdirError = function (f, er) {\r\n\t  // handle errors, and cache the information\r\n\t  switch (er.code) {\r\n\t    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\r\n\t    case 'ENOTDIR': // totally normal. means it *does* exist.\r\n\t      var abs = this._makeAbs(f);\r\n\t      this.cache[abs] = 'FILE';\r\n\t      if (abs === this.cwdAbs) {\r\n\t        var error = new Error(er.code + ' invalid cwd ' + this.cwd);\r\n\t        error.path = this.cwd;\r\n\t        error.code = er.code;\r\n\t        throw error\r\n\t      }\r\n\t      break\r\n\r\n\t    case 'ENOENT': // not terribly unusual\r\n\t    case 'ELOOP':\r\n\t    case 'ENAMETOOLONG':\r\n\t    case 'UNKNOWN':\r\n\t      this.cache[this._makeAbs(f)] = false;\r\n\t      break\r\n\r\n\t    default: // some unusual error.  Treat as failure.\r\n\t      this.cache[this._makeAbs(f)] = false;\r\n\t      if (this.strict)\r\n\t        throw er\r\n\t      if (!this.silent)\r\n\t        console.error('glob error', er);\r\n\t      break\r\n\t  }\r\n\t};\r\n\r\n\tGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\r\n\r\n\t  var entries = this._readdir(abs, inGlobStar);\r\n\r\n\t  // no entries means not a dir, so it can never have matches\r\n\t  // foo.txt/** doesn't match foo.txt\r\n\t  if (!entries)\r\n\t    return\r\n\r\n\t  // test without the globstar, and with every child both below\r\n\t  // and replacing the globstar.\r\n\t  var remainWithoutGlobStar = remain.slice(1);\r\n\t  var gspref = prefix ? [ prefix ] : [];\r\n\t  var noGlobStar = gspref.concat(remainWithoutGlobStar);\r\n\r\n\t  // the noGlobStar pattern exits the inGlobStar state\r\n\t  this._process(noGlobStar, index, false);\r\n\r\n\t  var len = entries.length;\r\n\t  var isSym = this.symlinks[abs];\r\n\r\n\t  // If it's a symlink, and we're in a globstar, then stop\r\n\t  if (isSym && inGlobStar)\r\n\t    return\r\n\r\n\t  for (var i = 0; i < len; i++) {\r\n\t    var e = entries[i];\r\n\t    if (e.charAt(0) === '.' && !this.dot)\r\n\t      continue\r\n\r\n\t    // these two cases enter the inGlobStar state\r\n\t    var instead = gspref.concat(entries[i], remainWithoutGlobStar);\r\n\t    this._process(instead, index, true);\r\n\r\n\t    var below = gspref.concat(entries[i], remain);\r\n\t    this._process(below, index, true);\r\n\t  }\r\n\t};\r\n\r\n\tGlobSync.prototype._processSimple = function (prefix, index) {\r\n\t  // XXX review this.  Shouldn't it be doing the mounting etc\r\n\t  // before doing stat?  kinda weird?\r\n\t  var exists = this._stat(prefix);\r\n\r\n\t  if (!this.matches[index])\r\n\t    this.matches[index] = Object.create(null);\r\n\r\n\t  // If it doesn't exist, then just mark the lack of results\r\n\t  if (!exists)\r\n\t    return\r\n\r\n\t  if (prefix && isAbsolute(prefix) && !this.nomount) {\r\n\t    var trail = /[\\/\\\\]$/.test(prefix);\r\n\t    if (prefix.charAt(0) === '/') {\r\n\t      prefix = path.join(this.root, prefix);\r\n\t    } else {\r\n\t      prefix = path.resolve(this.root, prefix);\r\n\t      if (trail)\r\n\t        prefix += '/';\r\n\t    }\r\n\t  }\r\n\r\n\t  if (process.platform === 'win32')\r\n\t    prefix = prefix.replace(/\\\\/g, '/');\r\n\r\n\t  // Mark this as a match\r\n\t  this._emitMatch(index, prefix);\r\n\t};\r\n\r\n\t// Returns either 'DIR', 'FILE', or false\r\n\tGlobSync.prototype._stat = function (f) {\r\n\t  var abs = this._makeAbs(f);\r\n\t  var needDir = f.slice(-1) === '/';\r\n\r\n\t  if (f.length > this.maxLength)\r\n\t    return false\r\n\r\n\t  if (!this.stat && ownProp(this.cache, abs)) {\r\n\t    var c = this.cache[abs];\r\n\r\n\t    if (Array.isArray(c))\r\n\t      c = 'DIR';\r\n\r\n\t    // It exists, but maybe not how we need it\r\n\t    if (!needDir || c === 'DIR')\r\n\t      return c\r\n\r\n\t    if (needDir && c === 'FILE')\r\n\t      return false\r\n\r\n\t    // otherwise we have to stat, because maybe c=true\r\n\t    // if we know it exists, but not what it is.\r\n\t  }\r\n\t  var stat = this.statCache[abs];\r\n\t  if (!stat) {\r\n\t    var lstat;\r\n\t    try {\r\n\t      lstat = this.fs.lstatSync(abs);\r\n\t    } catch (er) {\r\n\t      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\r\n\t        this.statCache[abs] = false;\r\n\t        return false\r\n\t      }\r\n\t    }\r\n\r\n\t    if (lstat && lstat.isSymbolicLink()) {\r\n\t      try {\r\n\t        stat = this.fs.statSync(abs);\r\n\t      } catch (er) {\r\n\t        stat = lstat;\r\n\t      }\r\n\t    } else {\r\n\t      stat = lstat;\r\n\t    }\r\n\t  }\r\n\r\n\t  this.statCache[abs] = stat;\r\n\r\n\t  var c = true;\r\n\t  if (stat)\r\n\t    c = stat.isDirectory() ? 'DIR' : 'FILE';\r\n\r\n\t  this.cache[abs] = this.cache[abs] || c;\r\n\r\n\t  if (needDir && c === 'FILE')\r\n\t    return false\r\n\r\n\t  return c\r\n\t};\r\n\r\n\tGlobSync.prototype._mark = function (p) {\r\n\t  return common.mark(this, p)\r\n\t};\r\n\r\n\tGlobSync.prototype._makeAbs = function (f) {\r\n\t  return common.makeAbs(this, f)\r\n\t};\r\n\treturn sync$9;\r\n}\r\n\r\n// Returns a wrapper function that returns a wrapped callback\r\n// The wrapper function should do some stuff, and return a\r\n// presumably different callback function.\r\n// This makes sure that own properties are retained, so that\r\n// decorations and such are not lost along the way.\r\nvar wrappy_1 = wrappy$2;\r\nfunction wrappy$2 (fn, cb) {\r\n  if (fn && cb) return wrappy$2(fn)(cb)\r\n\r\n  if (typeof fn !== 'function')\r\n    throw new TypeError('need wrapper function')\r\n\r\n  Object.keys(fn).forEach(function (k) {\r\n    wrapper[k] = fn[k];\r\n  });\r\n\r\n  return wrapper\r\n\r\n  function wrapper() {\r\n    var args = new Array(arguments.length);\r\n    for (var i = 0; i < args.length; i++) {\r\n      args[i] = arguments[i];\r\n    }\r\n    var ret = fn.apply(this, args);\r\n    var cb = args[args.length-1];\r\n    if (typeof ret === 'function' && ret !== cb) {\r\n      Object.keys(cb).forEach(function (k) {\r\n        ret[k] = cb[k];\r\n      });\r\n    }\r\n    return ret\r\n  }\r\n}\r\n\r\nvar once$2 = {exports: {}};\r\n\r\nvar wrappy$1 = wrappy_1;\r\nonce$2.exports = wrappy$1(once$1);\r\nonce$2.exports.strict = wrappy$1(onceStrict);\r\n\r\nonce$1.proto = once$1(function () {\r\n  Object.defineProperty(Function.prototype, 'once', {\r\n    value: function () {\r\n      return once$1(this)\r\n    },\r\n    configurable: true\r\n  });\r\n\r\n  Object.defineProperty(Function.prototype, 'onceStrict', {\r\n    value: function () {\r\n      return onceStrict(this)\r\n    },\r\n    configurable: true\r\n  });\r\n});\r\n\r\nfunction once$1 (fn) {\r\n  var f = function () {\r\n    if (f.called) return f.value\r\n    f.called = true;\r\n    return f.value = fn.apply(this, arguments)\r\n  };\r\n  f.called = false;\r\n  return f\r\n}\r\n\r\nfunction onceStrict (fn) {\r\n  var f = function () {\r\n    if (f.called)\r\n      throw new Error(f.onceError)\r\n    f.called = true;\r\n    return f.value = fn.apply(this, arguments)\r\n  };\r\n  var name = fn.name || 'Function wrapped with `once`';\r\n  f.onceError = name + \" shouldn't be called more than once\";\r\n  f.called = false;\r\n  return f\r\n}\r\n\r\nvar wrappy = wrappy_1;\r\nvar reqs = Object.create(null);\r\nvar once = once$2.exports;\r\n\r\nvar inflight_1 = wrappy(inflight);\r\n\r\nfunction inflight (key, cb) {\r\n  if (reqs[key]) {\r\n    reqs[key].push(cb);\r\n    return null\r\n  } else {\r\n    reqs[key] = [cb];\r\n    return makeres(key)\r\n  }\r\n}\r\n\r\nfunction makeres (key) {\r\n  return once(function RES () {\r\n    var cbs = reqs[key];\r\n    var len = cbs.length;\r\n    var args = slice$1(arguments);\r\n\r\n    // XXX It's somewhat ambiguous whether a new callback added in this\r\n    // pass should be queued for later execution if something in the\r\n    // list of callbacks throws, or if it should just be discarded.\r\n    // However, it's such an edge case that it hardly matters, and either\r\n    // choice is likely as surprising as the other.\r\n    // As it happens, we do go ahead and schedule it for later execution.\r\n    try {\r\n      for (var i = 0; i < len; i++) {\r\n        cbs[i].apply(null, args);\r\n      }\r\n    } finally {\r\n      if (cbs.length > len) {\r\n        // added more in the interim.\r\n        // de-zalgo, just in case, but don't call again.\r\n        cbs.splice(0, len);\r\n        process.nextTick(function () {\r\n          RES.apply(null, args);\r\n        });\r\n      } else {\r\n        delete reqs[key];\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nfunction slice$1 (args) {\r\n  var length = args.length;\r\n  var array = [];\r\n\r\n  for (var i = 0; i < length; i++) array[i] = args[i];\r\n  return array\r\n}\r\n\r\nvar glob_1;\r\nvar hasRequiredGlob;\r\n\r\nfunction requireGlob () {\r\n\tif (hasRequiredGlob) return glob_1;\r\n\thasRequiredGlob = 1;\r\n\t// Approach:\r\n\t//\r\n\t// 1. Get the minimatch set\r\n\t// 2. For each pattern in the set, PROCESS(pattern, false)\r\n\t// 3. Store matches per-set, then uniq them\r\n\t//\r\n\t// PROCESS(pattern, inGlobStar)\r\n\t// Get the first [n] items from pattern that are all strings\r\n\t// Join these together.  This is PREFIX.\r\n\t//   If there is no more remaining, then stat(PREFIX) and\r\n\t//   add to matches if it succeeds.  END.\r\n\t//\r\n\t// If inGlobStar and PREFIX is symlink and points to dir\r\n\t//   set ENTRIES = []\r\n\t// else readdir(PREFIX) as ENTRIES\r\n\t//   If fail, END\r\n\t//\r\n\t// with ENTRIES\r\n\t//   If pattern[n] is GLOBSTAR\r\n\t//     // handle the case where the globstar match is empty\r\n\t//     // by pruning it out, and testing the resulting pattern\r\n\t//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\r\n\t//     // handle other cases.\r\n\t//     for ENTRY in ENTRIES (not dotfiles)\r\n\t//       // attach globstar + tail onto the entry\r\n\t//       // Mark that this entry is a globstar match\r\n\t//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\r\n\t//\r\n\t//   else // not globstar\r\n\t//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\r\n\t//       Test ENTRY against pattern[n]\r\n\t//       If fails, continue\r\n\t//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\r\n\t//\r\n\t// Caveat:\r\n\t//   Cache all stats and readdirs results to minimize syscall.  Since all\r\n\t//   we ever care about is existence and directory-ness, we can just keep\r\n\t//   `true` for files, and [children,...] for directories, or `false` for\r\n\t//   things that don't exist.\r\n\r\n\tglob_1 = glob;\r\n\r\n\tvar rp = fs_realpath;\r\n\tvar minimatch = minimatch_1;\r\n\tvar inherits$1 = inherits.exports;\r\n\tvar EE = require$$0$5.EventEmitter;\r\n\tvar path = require$$0$4;\r\n\tvar assert = assert$1;\r\n\tvar isAbsolute = pathIsAbsolute.exports;\r\n\tvar globSync = requireSync();\r\n\tvar common = common$c;\r\n\tvar setopts = common.setopts;\r\n\tvar ownProp = common.ownProp;\r\n\tvar inflight = inflight_1;\r\n\tvar childrenIgnored = common.childrenIgnored;\r\n\tvar isIgnored = common.isIgnored;\r\n\r\n\tvar once = once$2.exports;\r\n\r\n\tfunction glob (pattern, options, cb) {\r\n\t  if (typeof options === 'function') cb = options, options = {};\r\n\t  if (!options) options = {};\r\n\r\n\t  if (options.sync) {\r\n\t    if (cb)\r\n\t      throw new TypeError('callback provided to sync glob')\r\n\t    return globSync(pattern, options)\r\n\t  }\r\n\r\n\t  return new Glob(pattern, options, cb)\r\n\t}\r\n\r\n\tglob.sync = globSync;\r\n\tvar GlobSync = glob.GlobSync = globSync.GlobSync;\r\n\r\n\t// old api surface\r\n\tglob.glob = glob;\r\n\r\n\tfunction extend (origin, add) {\r\n\t  if (add === null || typeof add !== 'object') {\r\n\t    return origin\r\n\t  }\r\n\r\n\t  var keys = Object.keys(add);\r\n\t  var i = keys.length;\r\n\t  while (i--) {\r\n\t    origin[keys[i]] = add[keys[i]];\r\n\t  }\r\n\t  return origin\r\n\t}\r\n\r\n\tglob.hasMagic = function (pattern, options_) {\r\n\t  var options = extend({}, options_);\r\n\t  options.noprocess = true;\r\n\r\n\t  var g = new Glob(pattern, options);\r\n\t  var set = g.minimatch.set;\r\n\r\n\t  if (!pattern)\r\n\t    return false\r\n\r\n\t  if (set.length > 1)\r\n\t    return true\r\n\r\n\t  for (var j = 0; j < set[0].length; j++) {\r\n\t    if (typeof set[0][j] !== 'string')\r\n\t      return true\r\n\t  }\r\n\r\n\t  return false\r\n\t};\r\n\r\n\tglob.Glob = Glob;\r\n\tinherits$1(Glob, EE);\r\n\tfunction Glob (pattern, options, cb) {\r\n\t  if (typeof options === 'function') {\r\n\t    cb = options;\r\n\t    options = null;\r\n\t  }\r\n\r\n\t  if (options && options.sync) {\r\n\t    if (cb)\r\n\t      throw new TypeError('callback provided to sync glob')\r\n\t    return new GlobSync(pattern, options)\r\n\t  }\r\n\r\n\t  if (!(this instanceof Glob))\r\n\t    return new Glob(pattern, options, cb)\r\n\r\n\t  setopts(this, pattern, options);\r\n\t  this._didRealPath = false;\r\n\r\n\t  // process each pattern in the minimatch set\r\n\t  var n = this.minimatch.set.length;\r\n\r\n\t  // The matches are stored as {<filename>: true,...} so that\r\n\t  // duplicates are automagically pruned.\r\n\t  // Later, we do an Object.keys() on these.\r\n\t  // Keep them as a list so we can fill in when nonull is set.\r\n\t  this.matches = new Array(n);\r\n\r\n\t  if (typeof cb === 'function') {\r\n\t    cb = once(cb);\r\n\t    this.on('error', cb);\r\n\t    this.on('end', function (matches) {\r\n\t      cb(null, matches);\r\n\t    });\r\n\t  }\r\n\r\n\t  var self = this;\r\n\t  this._processing = 0;\r\n\r\n\t  this._emitQueue = [];\r\n\t  this._processQueue = [];\r\n\t  this.paused = false;\r\n\r\n\t  if (this.noprocess)\r\n\t    return this\r\n\r\n\t  if (n === 0)\r\n\t    return done()\r\n\r\n\t  var sync = true;\r\n\t  for (var i = 0; i < n; i ++) {\r\n\t    this._process(this.minimatch.set[i], i, false, done);\r\n\t  }\r\n\t  sync = false;\r\n\r\n\t  function done () {\r\n\t    --self._processing;\r\n\t    if (self._processing <= 0) {\r\n\t      if (sync) {\r\n\t        process.nextTick(function () {\r\n\t          self._finish();\r\n\t        });\r\n\t      } else {\r\n\t        self._finish();\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n\tGlob.prototype._finish = function () {\r\n\t  assert(this instanceof Glob);\r\n\t  if (this.aborted)\r\n\t    return\r\n\r\n\t  if (this.realpath && !this._didRealpath)\r\n\t    return this._realpath()\r\n\r\n\t  common.finish(this);\r\n\t  this.emit('end', this.found);\r\n\t};\r\n\r\n\tGlob.prototype._realpath = function () {\r\n\t  if (this._didRealpath)\r\n\t    return\r\n\r\n\t  this._didRealpath = true;\r\n\r\n\t  var n = this.matches.length;\r\n\t  if (n === 0)\r\n\t    return this._finish()\r\n\r\n\t  var self = this;\r\n\t  for (var i = 0; i < this.matches.length; i++)\r\n\t    this._realpathSet(i, next);\r\n\r\n\t  function next () {\r\n\t    if (--n === 0)\r\n\t      self._finish();\r\n\t  }\r\n\t};\r\n\r\n\tGlob.prototype._realpathSet = function (index, cb) {\r\n\t  var matchset = this.matches[index];\r\n\t  if (!matchset)\r\n\t    return cb()\r\n\r\n\t  var found = Object.keys(matchset);\r\n\t  var self = this;\r\n\t  var n = found.length;\r\n\r\n\t  if (n === 0)\r\n\t    return cb()\r\n\r\n\t  var set = this.matches[index] = Object.create(null);\r\n\t  found.forEach(function (p, i) {\r\n\t    // If there's a problem with the stat, then it means that\r\n\t    // one or more of the links in the realpath couldn't be\r\n\t    // resolved.  just return the abs value in that case.\r\n\t    p = self._makeAbs(p);\r\n\t    rp.realpath(p, self.realpathCache, function (er, real) {\r\n\t      if (!er)\r\n\t        set[real] = true;\r\n\t      else if (er.syscall === 'stat')\r\n\t        set[p] = true;\r\n\t      else\r\n\t        self.emit('error', er); // srsly wtf right here\r\n\r\n\t      if (--n === 0) {\r\n\t        self.matches[index] = set;\r\n\t        cb();\r\n\t      }\r\n\t    });\r\n\t  });\r\n\t};\r\n\r\n\tGlob.prototype._mark = function (p) {\r\n\t  return common.mark(this, p)\r\n\t};\r\n\r\n\tGlob.prototype._makeAbs = function (f) {\r\n\t  return common.makeAbs(this, f)\r\n\t};\r\n\r\n\tGlob.prototype.abort = function () {\r\n\t  this.aborted = true;\r\n\t  this.emit('abort');\r\n\t};\r\n\r\n\tGlob.prototype.pause = function () {\r\n\t  if (!this.paused) {\r\n\t    this.paused = true;\r\n\t    this.emit('pause');\r\n\t  }\r\n\t};\r\n\r\n\tGlob.prototype.resume = function () {\r\n\t  if (this.paused) {\r\n\t    this.emit('resume');\r\n\t    this.paused = false;\r\n\t    if (this._emitQueue.length) {\r\n\t      var eq = this._emitQueue.slice(0);\r\n\t      this._emitQueue.length = 0;\r\n\t      for (var i = 0; i < eq.length; i ++) {\r\n\t        var e = eq[i];\r\n\t        this._emitMatch(e[0], e[1]);\r\n\t      }\r\n\t    }\r\n\t    if (this._processQueue.length) {\r\n\t      var pq = this._processQueue.slice(0);\r\n\t      this._processQueue.length = 0;\r\n\t      for (var i = 0; i < pq.length; i ++) {\r\n\t        var p = pq[i];\r\n\t        this._processing--;\r\n\t        this._process(p[0], p[1], p[2], p[3]);\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\tGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\r\n\t  assert(this instanceof Glob);\r\n\t  assert(typeof cb === 'function');\r\n\r\n\t  if (this.aborted)\r\n\t    return\r\n\r\n\t  this._processing++;\r\n\t  if (this.paused) {\r\n\t    this._processQueue.push([pattern, index, inGlobStar, cb]);\r\n\t    return\r\n\t  }\r\n\r\n\t  //console.error('PROCESS %d', this._processing, pattern)\r\n\r\n\t  // Get the first [n] parts of pattern that are all strings.\r\n\t  var n = 0;\r\n\t  while (typeof pattern[n] === 'string') {\r\n\t    n ++;\r\n\t  }\r\n\t  // now n is the index of the first one that is *not* a string.\r\n\r\n\t  // see if there's anything else\r\n\t  var prefix;\r\n\t  switch (n) {\r\n\t    // if not, then this is rather simple\r\n\t    case pattern.length:\r\n\t      this._processSimple(pattern.join('/'), index, cb);\r\n\t      return\r\n\r\n\t    case 0:\r\n\t      // pattern *starts* with some non-trivial item.\r\n\t      // going to readdir(cwd), but not include the prefix in matches.\r\n\t      prefix = null;\r\n\t      break\r\n\r\n\t    default:\r\n\t      // pattern has some string bits in the front.\r\n\t      // whatever it starts with, whether that's 'absolute' like /foo/bar,\r\n\t      // or 'relative' like '../baz'\r\n\t      prefix = pattern.slice(0, n).join('/');\r\n\t      break\r\n\t  }\r\n\r\n\t  var remain = pattern.slice(n);\r\n\r\n\t  // get the list of entries.\r\n\t  var read;\r\n\t  if (prefix === null)\r\n\t    read = '.';\r\n\t  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\r\n\t    if (!prefix || !isAbsolute(prefix))\r\n\t      prefix = '/' + prefix;\r\n\t    read = prefix;\r\n\t  } else\r\n\t    read = prefix;\r\n\r\n\t  var abs = this._makeAbs(read);\r\n\r\n\t  //if ignored, skip _processing\r\n\t  if (childrenIgnored(this, read))\r\n\t    return cb()\r\n\r\n\t  var isGlobStar = remain[0] === minimatch.GLOBSTAR;\r\n\t  if (isGlobStar)\r\n\t    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb);\r\n\t  else\r\n\t    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb);\r\n\t};\r\n\r\n\tGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\r\n\t  var self = this;\r\n\t  this._readdir(abs, inGlobStar, function (er, entries) {\r\n\t    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\r\n\t  });\r\n\t};\r\n\r\n\tGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\r\n\r\n\t  // if the abs isn't a dir, then nothing can match!\r\n\t  if (!entries)\r\n\t    return cb()\r\n\r\n\t  // It will only match dot entries if it starts with a dot, or if\r\n\t  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\r\n\t  var pn = remain[0];\r\n\t  var negate = !!this.minimatch.negate;\r\n\t  var rawGlob = pn._glob;\r\n\t  var dotOk = this.dot || rawGlob.charAt(0) === '.';\r\n\r\n\t  var matchedEntries = [];\r\n\t  for (var i = 0; i < entries.length; i++) {\r\n\t    var e = entries[i];\r\n\t    if (e.charAt(0) !== '.' || dotOk) {\r\n\t      var m;\r\n\t      if (negate && !prefix) {\r\n\t        m = !e.match(pn);\r\n\t      } else {\r\n\t        m = e.match(pn);\r\n\t      }\r\n\t      if (m)\r\n\t        matchedEntries.push(e);\r\n\t    }\r\n\t  }\r\n\r\n\t  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\r\n\r\n\t  var len = matchedEntries.length;\r\n\t  // If there are no matched entries, then nothing matches.\r\n\t  if (len === 0)\r\n\t    return cb()\r\n\r\n\t  // if this is the last remaining pattern bit, then no need for\r\n\t  // an additional stat *unless* the user has specified mark or\r\n\t  // stat explicitly.  We know they exist, since readdir returned\r\n\t  // them.\r\n\r\n\t  if (remain.length === 1 && !this.mark && !this.stat) {\r\n\t    if (!this.matches[index])\r\n\t      this.matches[index] = Object.create(null);\r\n\r\n\t    for (var i = 0; i < len; i ++) {\r\n\t      var e = matchedEntries[i];\r\n\t      if (prefix) {\r\n\t        if (prefix !== '/')\r\n\t          e = prefix + '/' + e;\r\n\t        else\r\n\t          e = prefix + e;\r\n\t      }\r\n\r\n\t      if (e.charAt(0) === '/' && !this.nomount) {\r\n\t        e = path.join(this.root, e);\r\n\t      }\r\n\t      this._emitMatch(index, e);\r\n\t    }\r\n\t    // This was the last one, and no stats were needed\r\n\t    return cb()\r\n\t  }\r\n\r\n\t  // now test all matched entries as stand-ins for that part\r\n\t  // of the pattern.\r\n\t  remain.shift();\r\n\t  for (var i = 0; i < len; i ++) {\r\n\t    var e = matchedEntries[i];\r\n\t    if (prefix) {\r\n\t      if (prefix !== '/')\r\n\t        e = prefix + '/' + e;\r\n\t      else\r\n\t        e = prefix + e;\r\n\t    }\r\n\t    this._process([e].concat(remain), index, inGlobStar, cb);\r\n\t  }\r\n\t  cb();\r\n\t};\r\n\r\n\tGlob.prototype._emitMatch = function (index, e) {\r\n\t  if (this.aborted)\r\n\t    return\r\n\r\n\t  if (isIgnored(this, e))\r\n\t    return\r\n\r\n\t  if (this.paused) {\r\n\t    this._emitQueue.push([index, e]);\r\n\t    return\r\n\t  }\r\n\r\n\t  var abs = isAbsolute(e) ? e : this._makeAbs(e);\r\n\r\n\t  if (this.mark)\r\n\t    e = this._mark(e);\r\n\r\n\t  if (this.absolute)\r\n\t    e = abs;\r\n\r\n\t  if (this.matches[index][e])\r\n\t    return\r\n\r\n\t  if (this.nodir) {\r\n\t    var c = this.cache[abs];\r\n\t    if (c === 'DIR' || Array.isArray(c))\r\n\t      return\r\n\t  }\r\n\r\n\t  this.matches[index][e] = true;\r\n\r\n\t  var st = this.statCache[abs];\r\n\t  if (st)\r\n\t    this.emit('stat', e, st);\r\n\r\n\t  this.emit('match', e);\r\n\t};\r\n\r\n\tGlob.prototype._readdirInGlobStar = function (abs, cb) {\r\n\t  if (this.aborted)\r\n\t    return\r\n\r\n\t  // follow all symlinked directories forever\r\n\t  // just proceed as if this is a non-globstar situation\r\n\t  if (this.follow)\r\n\t    return this._readdir(abs, false, cb)\r\n\r\n\t  var lstatkey = 'lstat\\0' + abs;\r\n\t  var self = this;\r\n\t  var lstatcb = inflight(lstatkey, lstatcb_);\r\n\r\n\t  if (lstatcb)\r\n\t    self.fs.lstat(abs, lstatcb);\r\n\r\n\t  function lstatcb_ (er, lstat) {\r\n\t    if (er && er.code === 'ENOENT')\r\n\t      return cb()\r\n\r\n\t    var isSym = lstat && lstat.isSymbolicLink();\r\n\t    self.symlinks[abs] = isSym;\r\n\r\n\t    // If it's not a symlink or a dir, then it's definitely a regular file.\r\n\t    // don't bother doing a readdir in that case.\r\n\t    if (!isSym && lstat && !lstat.isDirectory()) {\r\n\t      self.cache[abs] = 'FILE';\r\n\t      cb();\r\n\t    } else\r\n\t      self._readdir(abs, false, cb);\r\n\t  }\r\n\t};\r\n\r\n\tGlob.prototype._readdir = function (abs, inGlobStar, cb) {\r\n\t  if (this.aborted)\r\n\t    return\r\n\r\n\t  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb);\r\n\t  if (!cb)\r\n\t    return\r\n\r\n\t  //console.error('RD %j %j', +inGlobStar, abs)\r\n\t  if (inGlobStar && !ownProp(this.symlinks, abs))\r\n\t    return this._readdirInGlobStar(abs, cb)\r\n\r\n\t  if (ownProp(this.cache, abs)) {\r\n\t    var c = this.cache[abs];\r\n\t    if (!c || c === 'FILE')\r\n\t      return cb()\r\n\r\n\t    if (Array.isArray(c))\r\n\t      return cb(null, c)\r\n\t  }\r\n\r\n\t  var self = this;\r\n\t  self.fs.readdir(abs, readdirCb(this, abs, cb));\r\n\t};\r\n\r\n\tfunction readdirCb (self, abs, cb) {\r\n\t  return function (er, entries) {\r\n\t    if (er)\r\n\t      self._readdirError(abs, er, cb);\r\n\t    else\r\n\t      self._readdirEntries(abs, entries, cb);\r\n\t  }\r\n\t}\r\n\r\n\tGlob.prototype._readdirEntries = function (abs, entries, cb) {\r\n\t  if (this.aborted)\r\n\t    return\r\n\r\n\t  // if we haven't asked to stat everything, then just\r\n\t  // assume that everything in there exists, so we can avoid\r\n\t  // having to stat it a second time.\r\n\t  if (!this.mark && !this.stat) {\r\n\t    for (var i = 0; i < entries.length; i ++) {\r\n\t      var e = entries[i];\r\n\t      if (abs === '/')\r\n\t        e = abs + e;\r\n\t      else\r\n\t        e = abs + '/' + e;\r\n\t      this.cache[e] = true;\r\n\t    }\r\n\t  }\r\n\r\n\t  this.cache[abs] = entries;\r\n\t  return cb(null, entries)\r\n\t};\r\n\r\n\tGlob.prototype._readdirError = function (f, er, cb) {\r\n\t  if (this.aborted)\r\n\t    return\r\n\r\n\t  // handle errors, and cache the information\r\n\t  switch (er.code) {\r\n\t    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\r\n\t    case 'ENOTDIR': // totally normal. means it *does* exist.\r\n\t      var abs = this._makeAbs(f);\r\n\t      this.cache[abs] = 'FILE';\r\n\t      if (abs === this.cwdAbs) {\r\n\t        var error = new Error(er.code + ' invalid cwd ' + this.cwd);\r\n\t        error.path = this.cwd;\r\n\t        error.code = er.code;\r\n\t        this.emit('error', error);\r\n\t        this.abort();\r\n\t      }\r\n\t      break\r\n\r\n\t    case 'ENOENT': // not terribly unusual\r\n\t    case 'ELOOP':\r\n\t    case 'ENAMETOOLONG':\r\n\t    case 'UNKNOWN':\r\n\t      this.cache[this._makeAbs(f)] = false;\r\n\t      break\r\n\r\n\t    default: // some unusual error.  Treat as failure.\r\n\t      this.cache[this._makeAbs(f)] = false;\r\n\t      if (this.strict) {\r\n\t        this.emit('error', er);\r\n\t        // If the error is handled, then we abort\r\n\t        // if not, we threw out of here\r\n\t        this.abort();\r\n\t      }\r\n\t      if (!this.silent)\r\n\t        console.error('glob error', er);\r\n\t      break\r\n\t  }\r\n\r\n\t  return cb()\r\n\t};\r\n\r\n\tGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\r\n\t  var self = this;\r\n\t  this._readdir(abs, inGlobStar, function (er, entries) {\r\n\t    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb);\r\n\t  });\r\n\t};\r\n\r\n\r\n\tGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\r\n\t  //console.error('pgs2', prefix, remain[0], entries)\r\n\r\n\t  // no entries means not a dir, so it can never have matches\r\n\t  // foo.txt/** doesn't match foo.txt\r\n\t  if (!entries)\r\n\t    return cb()\r\n\r\n\t  // test without the globstar, and with every child both below\r\n\t  // and replacing the globstar.\r\n\t  var remainWithoutGlobStar = remain.slice(1);\r\n\t  var gspref = prefix ? [ prefix ] : [];\r\n\t  var noGlobStar = gspref.concat(remainWithoutGlobStar);\r\n\r\n\t  // the noGlobStar pattern exits the inGlobStar state\r\n\t  this._process(noGlobStar, index, false, cb);\r\n\r\n\t  var isSym = this.symlinks[abs];\r\n\t  var len = entries.length;\r\n\r\n\t  // If it's a symlink, and we're in a globstar, then stop\r\n\t  if (isSym && inGlobStar)\r\n\t    return cb()\r\n\r\n\t  for (var i = 0; i < len; i++) {\r\n\t    var e = entries[i];\r\n\t    if (e.charAt(0) === '.' && !this.dot)\r\n\t      continue\r\n\r\n\t    // these two cases enter the inGlobStar state\r\n\t    var instead = gspref.concat(entries[i], remainWithoutGlobStar);\r\n\t    this._process(instead, index, true, cb);\r\n\r\n\t    var below = gspref.concat(entries[i], remain);\r\n\t    this._process(below, index, true, cb);\r\n\t  }\r\n\r\n\t  cb();\r\n\t};\r\n\r\n\tGlob.prototype._processSimple = function (prefix, index, cb) {\r\n\t  // XXX review this.  Shouldn't it be doing the mounting etc\r\n\t  // before doing stat?  kinda weird?\r\n\t  var self = this;\r\n\t  this._stat(prefix, function (er, exists) {\r\n\t    self._processSimple2(prefix, index, er, exists, cb);\r\n\t  });\r\n\t};\r\n\tGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\r\n\r\n\t  //console.error('ps2', prefix, exists)\r\n\r\n\t  if (!this.matches[index])\r\n\t    this.matches[index] = Object.create(null);\r\n\r\n\t  // If it doesn't exist, then just mark the lack of results\r\n\t  if (!exists)\r\n\t    return cb()\r\n\r\n\t  if (prefix && isAbsolute(prefix) && !this.nomount) {\r\n\t    var trail = /[\\/\\\\]$/.test(prefix);\r\n\t    if (prefix.charAt(0) === '/') {\r\n\t      prefix = path.join(this.root, prefix);\r\n\t    } else {\r\n\t      prefix = path.resolve(this.root, prefix);\r\n\t      if (trail)\r\n\t        prefix += '/';\r\n\t    }\r\n\t  }\r\n\r\n\t  if (process.platform === 'win32')\r\n\t    prefix = prefix.replace(/\\\\/g, '/');\r\n\r\n\t  // Mark this as a match\r\n\t  this._emitMatch(index, prefix);\r\n\t  cb();\r\n\t};\r\n\r\n\t// Returns either 'DIR', 'FILE', or false\r\n\tGlob.prototype._stat = function (f, cb) {\r\n\t  var abs = this._makeAbs(f);\r\n\t  var needDir = f.slice(-1) === '/';\r\n\r\n\t  if (f.length > this.maxLength)\r\n\t    return cb()\r\n\r\n\t  if (!this.stat && ownProp(this.cache, abs)) {\r\n\t    var c = this.cache[abs];\r\n\r\n\t    if (Array.isArray(c))\r\n\t      c = 'DIR';\r\n\r\n\t    // It exists, but maybe not how we need it\r\n\t    if (!needDir || c === 'DIR')\r\n\t      return cb(null, c)\r\n\r\n\t    if (needDir && c === 'FILE')\r\n\t      return cb()\r\n\r\n\t    // otherwise we have to stat, because maybe c=true\r\n\t    // if we know it exists, but not what it is.\r\n\t  }\r\n\t  var stat = this.statCache[abs];\r\n\t  if (stat !== undefined) {\r\n\t    if (stat === false)\r\n\t      return cb(null, stat)\r\n\t    else {\r\n\t      var type = stat.isDirectory() ? 'DIR' : 'FILE';\r\n\t      if (needDir && type === 'FILE')\r\n\t        return cb()\r\n\t      else\r\n\t        return cb(null, type, stat)\r\n\t    }\r\n\t  }\r\n\r\n\t  var self = this;\r\n\t  var statcb = inflight('stat\\0' + abs, lstatcb_);\r\n\t  if (statcb)\r\n\t    self.fs.lstat(abs, statcb);\r\n\r\n\t  function lstatcb_ (er, lstat) {\r\n\t    if (lstat && lstat.isSymbolicLink()) {\r\n\t      // If it's a symlink, then treat it as the target, unless\r\n\t      // the target does not exist, then treat it as a file.\r\n\t      return self.fs.stat(abs, function (er, stat) {\r\n\t        if (er)\r\n\t          self._stat2(f, abs, null, lstat, cb);\r\n\t        else\r\n\t          self._stat2(f, abs, er, stat, cb);\r\n\t      })\r\n\t    } else {\r\n\t      self._stat2(f, abs, er, lstat, cb);\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\tGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\r\n\t  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\r\n\t    this.statCache[abs] = false;\r\n\t    return cb()\r\n\t  }\r\n\r\n\t  var needDir = f.slice(-1) === '/';\r\n\t  this.statCache[abs] = stat;\r\n\r\n\t  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\r\n\t    return cb(null, false, stat)\r\n\r\n\t  var c = true;\r\n\t  if (stat)\r\n\t    c = stat.isDirectory() ? 'DIR' : 'FILE';\r\n\t  this.cache[abs] = this.cache[abs] || c;\r\n\r\n\t  if (needDir && c === 'FILE')\r\n\t    return cb()\r\n\r\n\t  return cb(null, c, stat)\r\n\t};\r\n\treturn glob_1;\r\n}\r\n\r\nvar globExports = requireGlob();\r\n\r\n// @ts-check\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n\r\n/** @typedef {{\r\n\tskip: () => void;\r\n\tremove: () => void;\r\n\treplace: (node: BaseNode) => void;\r\n}} WalkerContext */\r\n\r\nclass WalkerBase$1 {\r\n\tconstructor() {\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_skip = false;\r\n\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_remove = false;\r\n\r\n\t\t/** @type {BaseNode | null} */\r\n\t\tthis.replacement = null;\r\n\r\n\t\t/** @type {WalkerContext} */\r\n\t\tthis.context = {\r\n\t\t\tskip: () => (this.should_skip = true),\r\n\t\t\tremove: () => (this.should_remove = true),\r\n\t\t\treplace: (node) => (this.replacement = node)\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {any} parent\r\n\t * @param {string} prop\r\n\t * @param {number} index\r\n\t * @param {BaseNode} node\r\n\t */\r\n\treplace(parent, prop, index, node) {\r\n\t\tif (parent) {\r\n\t\t\tif (index !== null) {\r\n\t\t\t\tparent[prop][index] = node;\r\n\t\t\t} else {\r\n\t\t\t\tparent[prop] = node;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {any} parent\r\n\t * @param {string} prop\r\n\t * @param {number} index\r\n\t */\r\n\tremove(parent, prop, index) {\r\n\t\tif (parent) {\r\n\t\t\tif (index !== null) {\r\n\t\t\t\tparent[prop].splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tdelete parent[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// @ts-check\r\n\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n/** @typedef { import('./walker.js').WalkerContext} WalkerContext */\r\n\r\n/** @typedef {(\r\n *    this: WalkerContext,\r\n *    node: BaseNode,\r\n *    parent: BaseNode,\r\n *    key: string,\r\n *    index: number\r\n * ) => void} SyncHandler */\r\n\r\nclass SyncWalker$1 extends WalkerBase$1 {\r\n\t/**\r\n\t *\r\n\t * @param {SyncHandler} enter\r\n\t * @param {SyncHandler} leave\r\n\t */\r\n\tconstructor(enter, leave) {\r\n\t\tsuper();\r\n\r\n\t\t/** @type {SyncHandler} */\r\n\t\tthis.enter = enter;\r\n\r\n\t\t/** @type {SyncHandler} */\r\n\t\tthis.leave = leave;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {BaseNode} node\r\n\t * @param {BaseNode} parent\r\n\t * @param {string} [prop]\r\n\t * @param {number} [index]\r\n\t * @returns {BaseNode}\r\n\t */\r\n\tvisit(node, parent, prop, index) {\r\n\t\tif (node) {\r\n\t\t\tif (this.enter) {\r\n\t\t\t\tconst _should_skip = this.should_skip;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tthis.should_skip = false;\r\n\t\t\t\tthis.should_remove = false;\r\n\t\t\t\tthis.replacement = null;\r\n\r\n\t\t\t\tthis.enter.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst skipped = this.should_skip;\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.should_skip = _should_skip;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\t\t\t\tthis.replacement = _replacement;\r\n\r\n\t\t\t\tif (skipped) return node;\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\r\n\t\t\tfor (const key in node) {\r\n\t\t\t\tconst value = node[key];\r\n\r\n\t\t\t\tif (typeof value !== \"object\") {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else if (Array.isArray(value)) {\r\n\t\t\t\t\tfor (let i = 0; i < value.length; i += 1) {\r\n\t\t\t\t\t\tif (value[i] !== null && typeof value[i].type === 'string') {\r\n\t\t\t\t\t\t\tif (!this.visit(value[i], node, key, i)) {\r\n\t\t\t\t\t\t\t\t// removed\r\n\t\t\t\t\t\t\t\ti--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (value !== null && typeof value.type === \"string\") {\r\n\t\t\t\t\tthis.visit(value, node, key, null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.leave) {\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tthis.replacement = null;\r\n\t\t\t\tthis.should_remove = false;\r\n\r\n\t\t\t\tthis.leave.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.replacement = _replacement;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\t}\r\n}\r\n\r\n// @ts-check\r\n\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n/** @typedef { import('./sync.js').SyncHandler} SyncHandler */\r\n/** @typedef { import('./async.js').AsyncHandler} AsyncHandler */\r\n\r\n/**\r\n *\r\n * @param {BaseNode} ast\r\n * @param {{\r\n *   enter?: SyncHandler\r\n *   leave?: SyncHandler\r\n * }} walker\r\n * @returns {BaseNode}\r\n */\r\nfunction walk$3(ast, { enter, leave }) {\r\n\tconst instance = new SyncWalker$1(enter, leave);\r\n\treturn instance.visit(ast, null);\r\n}\r\n\r\nvar chars$2 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\nfunction encode$2(decoded) {\r\n    var sourceFileIndex = 0; // second field\r\n    var sourceCodeLine = 0; // third field\r\n    var sourceCodeColumn = 0; // fourth field\r\n    var nameIndex = 0; // fifth field\r\n    var mappings = '';\r\n    for (var i = 0; i < decoded.length; i++) {\r\n        var line = decoded[i];\r\n        if (i > 0)\r\n            mappings += ';';\r\n        if (line.length === 0)\r\n            continue;\r\n        var generatedCodeColumn = 0; // first field\r\n        var lineMappings = [];\r\n        for (var _i = 0, line_1 = line; _i < line_1.length; _i++) {\r\n            var segment = line_1[_i];\r\n            var segmentMappings = encodeInteger$1(segment[0] - generatedCodeColumn);\r\n            generatedCodeColumn = segment[0];\r\n            if (segment.length > 1) {\r\n                segmentMappings +=\r\n                    encodeInteger$1(segment[1] - sourceFileIndex) +\r\n                        encodeInteger$1(segment[2] - sourceCodeLine) +\r\n                        encodeInteger$1(segment[3] - sourceCodeColumn);\r\n                sourceFileIndex = segment[1];\r\n                sourceCodeLine = segment[2];\r\n                sourceCodeColumn = segment[3];\r\n            }\r\n            if (segment.length === 5) {\r\n                segmentMappings += encodeInteger$1(segment[4] - nameIndex);\r\n                nameIndex = segment[4];\r\n            }\r\n            lineMappings.push(segmentMappings);\r\n        }\r\n        mappings += lineMappings.join(',');\r\n    }\r\n    return mappings;\r\n}\r\nfunction encodeInteger$1(num) {\r\n    var result = '';\r\n    num = num < 0 ? (-num << 1) | 1 : num << 1;\r\n    do {\r\n        var clamped = num & 31;\r\n        num >>>= 5;\r\n        if (num > 0) {\r\n            clamped |= 32;\r\n        }\r\n        result += chars$2[clamped];\r\n    } while (num > 0);\r\n    return result;\r\n}\r\n\r\nvar BitSet$1 = function BitSet(arg) {\r\n\tthis.bits = arg instanceof BitSet ? arg.bits.slice() : [];\r\n};\r\n\r\nBitSet$1.prototype.add = function add (n) {\r\n\tthis.bits[n >> 5] |= 1 << (n & 31);\r\n};\r\n\r\nBitSet$1.prototype.has = function has (n) {\r\n\treturn !!(this.bits[n >> 5] & (1 << (n & 31)));\r\n};\r\n\r\nvar Chunk$1 = function Chunk(start, end, content) {\r\n\tthis.start = start;\r\n\tthis.end = end;\r\n\tthis.original = content;\r\n\r\n\tthis.intro = '';\r\n\tthis.outro = '';\r\n\r\n\tthis.content = content;\r\n\tthis.storeName = false;\r\n\tthis.edited = false;\r\n\r\n\t// we make these non-enumerable, for sanity while debugging\r\n\tObject.defineProperties(this, {\r\n\t\tprevious: { writable: true, value: null },\r\n\t\tnext: { writable: true, value: null },\r\n\t});\r\n};\r\n\r\nChunk$1.prototype.appendLeft = function appendLeft (content) {\r\n\tthis.outro += content;\r\n};\r\n\r\nChunk$1.prototype.appendRight = function appendRight (content) {\r\n\tthis.intro = this.intro + content;\r\n};\r\n\r\nChunk$1.prototype.clone = function clone () {\r\n\tvar chunk = new Chunk$1(this.start, this.end, this.original);\r\n\r\n\tchunk.intro = this.intro;\r\n\tchunk.outro = this.outro;\r\n\tchunk.content = this.content;\r\n\tchunk.storeName = this.storeName;\r\n\tchunk.edited = this.edited;\r\n\r\n\treturn chunk;\r\n};\r\n\r\nChunk$1.prototype.contains = function contains (index) {\r\n\treturn this.start < index && index < this.end;\r\n};\r\n\r\nChunk$1.prototype.eachNext = function eachNext (fn) {\r\n\tvar chunk = this;\r\n\twhile (chunk) {\r\n\t\tfn(chunk);\r\n\t\tchunk = chunk.next;\r\n\t}\r\n};\r\n\r\nChunk$1.prototype.eachPrevious = function eachPrevious (fn) {\r\n\tvar chunk = this;\r\n\twhile (chunk) {\r\n\t\tfn(chunk);\r\n\t\tchunk = chunk.previous;\r\n\t}\r\n};\r\n\r\nChunk$1.prototype.edit = function edit (content, storeName, contentOnly) {\r\n\tthis.content = content;\r\n\tif (!contentOnly) {\r\n\t\tthis.intro = '';\r\n\t\tthis.outro = '';\r\n\t}\r\n\tthis.storeName = storeName;\r\n\r\n\tthis.edited = true;\r\n\r\n\treturn this;\r\n};\r\n\r\nChunk$1.prototype.prependLeft = function prependLeft (content) {\r\n\tthis.outro = content + this.outro;\r\n};\r\n\r\nChunk$1.prototype.prependRight = function prependRight (content) {\r\n\tthis.intro = content + this.intro;\r\n};\r\n\r\nChunk$1.prototype.split = function split (index) {\r\n\tvar sliceIndex = index - this.start;\r\n\r\n\tvar originalBefore = this.original.slice(0, sliceIndex);\r\n\tvar originalAfter = this.original.slice(sliceIndex);\r\n\r\n\tthis.original = originalBefore;\r\n\r\n\tvar newChunk = new Chunk$1(index, this.end, originalAfter);\r\n\tnewChunk.outro = this.outro;\r\n\tthis.outro = '';\r\n\r\n\tthis.end = index;\r\n\r\n\tif (this.edited) {\r\n\t\t// TODO is this block necessary?...\r\n\t\tnewChunk.edit('', false);\r\n\t\tthis.content = '';\r\n\t} else {\r\n\t\tthis.content = originalBefore;\r\n\t}\r\n\r\n\tnewChunk.next = this.next;\r\n\tif (newChunk.next) { newChunk.next.previous = newChunk; }\r\n\tnewChunk.previous = this;\r\n\tthis.next = newChunk;\r\n\r\n\treturn newChunk;\r\n};\r\n\r\nChunk$1.prototype.toString = function toString () {\r\n\treturn this.intro + this.content + this.outro;\r\n};\r\n\r\nChunk$1.prototype.trimEnd = function trimEnd (rx) {\r\n\tthis.outro = this.outro.replace(rx, '');\r\n\tif (this.outro.length) { return true; }\r\n\r\n\tvar trimmed = this.content.replace(rx, '');\r\n\r\n\tif (trimmed.length) {\r\n\t\tif (trimmed !== this.content) {\r\n\t\t\tthis.split(this.start + trimmed.length).edit('', undefined, true);\r\n\t\t}\r\n\t\treturn true;\r\n\t} else {\r\n\t\tthis.edit('', undefined, true);\r\n\r\n\t\tthis.intro = this.intro.replace(rx, '');\r\n\t\tif (this.intro.length) { return true; }\r\n\t}\r\n};\r\n\r\nChunk$1.prototype.trimStart = function trimStart (rx) {\r\n\tthis.intro = this.intro.replace(rx, '');\r\n\tif (this.intro.length) { return true; }\r\n\r\n\tvar trimmed = this.content.replace(rx, '');\r\n\r\n\tif (trimmed.length) {\r\n\t\tif (trimmed !== this.content) {\r\n\t\t\tthis.split(this.end - trimmed.length);\r\n\t\t\tthis.edit('', undefined, true);\r\n\t\t}\r\n\t\treturn true;\r\n\t} else {\r\n\t\tthis.edit('', undefined, true);\r\n\r\n\t\tthis.outro = this.outro.replace(rx, '');\r\n\t\tif (this.outro.length) { return true; }\r\n\t}\r\n};\r\n\r\nvar btoa$2 = function () {\r\n\tthrow new Error('Unsupported environment: `window.btoa` or `Buffer` should be supported.');\r\n};\r\nif (typeof window !== 'undefined' && typeof window.btoa === 'function') {\r\n\tbtoa$2 = function (str) { return window.btoa(unescape(encodeURIComponent(str))); };\r\n} else if (typeof Buffer === 'function') {\r\n\tbtoa$2 = function (str) { return Buffer.from(str, 'utf-8').toString('base64'); };\r\n}\r\n\r\nvar SourceMap$2 = function SourceMap(properties) {\r\n\tthis.version = 3;\r\n\tthis.file = properties.file;\r\n\tthis.sources = properties.sources;\r\n\tthis.sourcesContent = properties.sourcesContent;\r\n\tthis.names = properties.names;\r\n\tthis.mappings = encode$2(properties.mappings);\r\n};\r\n\r\nSourceMap$2.prototype.toString = function toString () {\r\n\treturn JSON.stringify(this);\r\n};\r\n\r\nSourceMap$2.prototype.toUrl = function toUrl () {\r\n\treturn 'data:application/json;charset=utf-8;base64,' + btoa$2(this.toString());\r\n};\r\n\r\nfunction guessIndent$1(code) {\r\n\tvar lines = code.split('\\n');\r\n\r\n\tvar tabbed = lines.filter(function (line) { return /^\\t+/.test(line); });\r\n\tvar spaced = lines.filter(function (line) { return /^ {2,}/.test(line); });\r\n\r\n\tif (tabbed.length === 0 && spaced.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// More lines tabbed than spaced? Assume tabs, and\r\n\t// default to tabs in the case of a tie (or nothing\r\n\t// to go on)\r\n\tif (tabbed.length >= spaced.length) {\r\n\t\treturn '\\t';\r\n\t}\r\n\r\n\t// Otherwise, we need to guess the multiple\r\n\tvar min = spaced.reduce(function (previous, current) {\r\n\t\tvar numSpaces = /^ +/.exec(current)[0].length;\r\n\t\treturn Math.min(numSpaces, previous);\r\n\t}, Infinity);\r\n\r\n\treturn new Array(min + 1).join(' ');\r\n}\r\n\r\nfunction getRelativePath$1(from, to) {\r\n\tvar fromParts = from.split(/[/\\\\]/);\r\n\tvar toParts = to.split(/[/\\\\]/);\r\n\r\n\tfromParts.pop(); // get dirname\r\n\r\n\twhile (fromParts[0] === toParts[0]) {\r\n\t\tfromParts.shift();\r\n\t\ttoParts.shift();\r\n\t}\r\n\r\n\tif (fromParts.length) {\r\n\t\tvar i = fromParts.length;\r\n\t\twhile (i--) { fromParts[i] = '..'; }\r\n\t}\r\n\r\n\treturn fromParts.concat(toParts).join('/');\r\n}\r\n\r\nvar toString$3 = Object.prototype.toString;\r\n\r\nfunction isObject$3(thing) {\r\n\treturn toString$3.call(thing) === '[object Object]';\r\n}\r\n\r\nfunction getLocator$1(source) {\r\n\tvar originalLines = source.split('\\n');\r\n\tvar lineOffsets = [];\r\n\r\n\tfor (var i = 0, pos = 0; i < originalLines.length; i++) {\r\n\t\tlineOffsets.push(pos);\r\n\t\tpos += originalLines[i].length + 1;\r\n\t}\r\n\r\n\treturn function locate(index) {\r\n\t\tvar i = 0;\r\n\t\tvar j = lineOffsets.length;\r\n\t\twhile (i < j) {\r\n\t\t\tvar m = (i + j) >> 1;\r\n\t\t\tif (index < lineOffsets[m]) {\r\n\t\t\t\tj = m;\r\n\t\t\t} else {\r\n\t\t\t\ti = m + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar line = i - 1;\r\n\t\tvar column = index - lineOffsets[line];\r\n\t\treturn { line: line, column: column };\r\n\t};\r\n}\r\n\r\nvar Mappings$1 = function Mappings(hires) {\r\n\tthis.hires = hires;\r\n\tthis.generatedCodeLine = 0;\r\n\tthis.generatedCodeColumn = 0;\r\n\tthis.raw = [];\r\n\tthis.rawSegments = this.raw[this.generatedCodeLine] = [];\r\n\tthis.pending = null;\r\n};\r\n\r\nMappings$1.prototype.addEdit = function addEdit (sourceIndex, content, loc, nameIndex) {\r\n\tif (content.length) {\r\n\t\tvar segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\r\n\t\tif (nameIndex >= 0) {\r\n\t\t\tsegment.push(nameIndex);\r\n\t\t}\r\n\t\tthis.rawSegments.push(segment);\r\n\t} else if (this.pending) {\r\n\t\tthis.rawSegments.push(this.pending);\r\n\t}\r\n\r\n\tthis.advance(content);\r\n\tthis.pending = null;\r\n};\r\n\r\nMappings$1.prototype.addUneditedChunk = function addUneditedChunk (sourceIndex, chunk, original, loc, sourcemapLocations) {\r\n\tvar originalCharIndex = chunk.start;\r\n\tvar first = true;\r\n\r\n\twhile (originalCharIndex < chunk.end) {\r\n\t\tif (this.hires || first || sourcemapLocations.has(originalCharIndex)) {\r\n\t\t\tthis.rawSegments.push([this.generatedCodeColumn, sourceIndex, loc.line, loc.column]);\r\n\t\t}\r\n\r\n\t\tif (original[originalCharIndex] === '\\n') {\r\n\t\t\tloc.line += 1;\r\n\t\t\tloc.column = 0;\r\n\t\t\tthis.generatedCodeLine += 1;\r\n\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\r\n\t\t\tthis.generatedCodeColumn = 0;\r\n\t\t\tfirst = true;\r\n\t\t} else {\r\n\t\t\tloc.column += 1;\r\n\t\t\tthis.generatedCodeColumn += 1;\r\n\t\t\tfirst = false;\r\n\t\t}\r\n\r\n\t\toriginalCharIndex += 1;\r\n\t}\r\n\r\n\tthis.pending = null;\r\n};\r\n\r\nMappings$1.prototype.advance = function advance (str) {\r\n\tif (!str) { return; }\r\n\r\n\tvar lines = str.split('\\n');\r\n\r\n\tif (lines.length > 1) {\r\n\t\tfor (var i = 0; i < lines.length - 1; i++) {\r\n\t\t\tthis.generatedCodeLine++;\r\n\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\r\n\t\t}\r\n\t\tthis.generatedCodeColumn = 0;\r\n\t}\r\n\r\n\tthis.generatedCodeColumn += lines[lines.length - 1].length;\r\n};\r\n\r\nvar n$1 = '\\n';\r\n\r\nvar warned$1 = {\r\n\tinsertLeft: false,\r\n\tinsertRight: false,\r\n\tstoreName: false,\r\n};\r\n\r\nvar MagicString$1 = function MagicString(string, options) {\r\n\tif ( options === void 0 ) options = {};\r\n\r\n\tvar chunk = new Chunk$1(0, string.length, string);\r\n\r\n\tObject.defineProperties(this, {\r\n\t\toriginal: { writable: true, value: string },\r\n\t\toutro: { writable: true, value: '' },\r\n\t\tintro: { writable: true, value: '' },\r\n\t\tfirstChunk: { writable: true, value: chunk },\r\n\t\tlastChunk: { writable: true, value: chunk },\r\n\t\tlastSearchedChunk: { writable: true, value: chunk },\r\n\t\tbyStart: { writable: true, value: {} },\r\n\t\tbyEnd: { writable: true, value: {} },\r\n\t\tfilename: { writable: true, value: options.filename },\r\n\t\tindentExclusionRanges: { writable: true, value: options.indentExclusionRanges },\r\n\t\tsourcemapLocations: { writable: true, value: new BitSet$1() },\r\n\t\tstoredNames: { writable: true, value: {} },\r\n\t\tindentStr: { writable: true, value: guessIndent$1(string) },\r\n\t});\r\n\r\n\tthis.byStart[0] = chunk;\r\n\tthis.byEnd[string.length] = chunk;\r\n};\r\n\r\nMagicString$1.prototype.addSourcemapLocation = function addSourcemapLocation (char) {\r\n\tthis.sourcemapLocations.add(char);\r\n};\r\n\r\nMagicString$1.prototype.append = function append (content) {\r\n\tif (typeof content !== 'string') { throw new TypeError('outro content must be a string'); }\r\n\r\n\tthis.outro += content;\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.appendLeft = function appendLeft (index, content) {\r\n\tif (typeof content !== 'string') { throw new TypeError('inserted content must be a string'); }\r\n\r\n\tthis._split(index);\r\n\r\n\tvar chunk = this.byEnd[index];\r\n\r\n\tif (chunk) {\r\n\t\tchunk.appendLeft(content);\r\n\t} else {\r\n\t\tthis.intro += content;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.appendRight = function appendRight (index, content) {\r\n\tif (typeof content !== 'string') { throw new TypeError('inserted content must be a string'); }\r\n\r\n\tthis._split(index);\r\n\r\n\tvar chunk = this.byStart[index];\r\n\r\n\tif (chunk) {\r\n\t\tchunk.appendRight(content);\r\n\t} else {\r\n\t\tthis.outro += content;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.clone = function clone () {\r\n\tvar cloned = new MagicString$1(this.original, { filename: this.filename });\r\n\r\n\tvar originalChunk = this.firstChunk;\r\n\tvar clonedChunk = (cloned.firstChunk = cloned.lastSearchedChunk = originalChunk.clone());\r\n\r\n\twhile (originalChunk) {\r\n\t\tcloned.byStart[clonedChunk.start] = clonedChunk;\r\n\t\tcloned.byEnd[clonedChunk.end] = clonedChunk;\r\n\r\n\t\tvar nextOriginalChunk = originalChunk.next;\r\n\t\tvar nextClonedChunk = nextOriginalChunk && nextOriginalChunk.clone();\r\n\r\n\t\tif (nextClonedChunk) {\r\n\t\t\tclonedChunk.next = nextClonedChunk;\r\n\t\t\tnextClonedChunk.previous = clonedChunk;\r\n\r\n\t\t\tclonedChunk = nextClonedChunk;\r\n\t\t}\r\n\r\n\t\toriginalChunk = nextOriginalChunk;\r\n\t}\r\n\r\n\tcloned.lastChunk = clonedChunk;\r\n\r\n\tif (this.indentExclusionRanges) {\r\n\t\tcloned.indentExclusionRanges = this.indentExclusionRanges.slice();\r\n\t}\r\n\r\n\tcloned.sourcemapLocations = new BitSet$1(this.sourcemapLocations);\r\n\r\n\tcloned.intro = this.intro;\r\n\tcloned.outro = this.outro;\r\n\r\n\treturn cloned;\r\n};\r\n\r\nMagicString$1.prototype.generateDecodedMap = function generateDecodedMap (options) {\r\n\t\tvar this$1$1 = this;\r\n\r\n\toptions = options || {};\r\n\r\n\tvar sourceIndex = 0;\r\n\tvar names = Object.keys(this.storedNames);\r\n\tvar mappings = new Mappings$1(options.hires);\r\n\r\n\tvar locate = getLocator$1(this.original);\r\n\r\n\tif (this.intro) {\r\n\t\tmappings.advance(this.intro);\r\n\t}\r\n\r\n\tthis.firstChunk.eachNext(function (chunk) {\r\n\t\tvar loc = locate(chunk.start);\r\n\r\n\t\tif (chunk.intro.length) { mappings.advance(chunk.intro); }\r\n\r\n\t\tif (chunk.edited) {\r\n\t\t\tmappings.addEdit(\r\n\t\t\t\tsourceIndex,\r\n\t\t\t\tchunk.content,\r\n\t\t\t\tloc,\r\n\t\t\t\tchunk.storeName ? names.indexOf(chunk.original) : -1\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tmappings.addUneditedChunk(sourceIndex, chunk, this$1$1.original, loc, this$1$1.sourcemapLocations);\r\n\t\t}\r\n\r\n\t\tif (chunk.outro.length) { mappings.advance(chunk.outro); }\r\n\t});\r\n\r\n\treturn {\r\n\t\tfile: options.file ? options.file.split(/[/\\\\]/).pop() : null,\r\n\t\tsources: [options.source ? getRelativePath$1(options.file || '', options.source) : null],\r\n\t\tsourcesContent: options.includeContent ? [this.original] : [null],\r\n\t\tnames: names,\r\n\t\tmappings: mappings.raw,\r\n\t};\r\n};\r\n\r\nMagicString$1.prototype.generateMap = function generateMap (options) {\r\n\treturn new SourceMap$2(this.generateDecodedMap(options));\r\n};\r\n\r\nMagicString$1.prototype.getIndentString = function getIndentString () {\r\n\treturn this.indentStr === null ? '\\t' : this.indentStr;\r\n};\r\n\r\nMagicString$1.prototype.indent = function indent (indentStr, options) {\r\n\tvar pattern = /^[^\\r\\n]/gm;\r\n\r\n\tif (isObject$3(indentStr)) {\r\n\t\toptions = indentStr;\r\n\t\tindentStr = undefined;\r\n\t}\r\n\r\n\tindentStr = indentStr !== undefined ? indentStr : this.indentStr || '\\t';\r\n\r\n\tif (indentStr === '') { return this; } // noop\r\n\r\n\toptions = options || {};\r\n\r\n\t// Process exclusion ranges\r\n\tvar isExcluded = {};\r\n\r\n\tif (options.exclude) {\r\n\t\tvar exclusions =\r\n\t\t\ttypeof options.exclude[0] === 'number' ? [options.exclude] : options.exclude;\r\n\t\texclusions.forEach(function (exclusion) {\r\n\t\t\tfor (var i = exclusion[0]; i < exclusion[1]; i += 1) {\r\n\t\t\t\tisExcluded[i] = true;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar shouldIndentNextCharacter = options.indentStart !== false;\r\n\tvar replacer = function (match) {\r\n\t\tif (shouldIndentNextCharacter) { return (\"\" + indentStr + match); }\r\n\t\tshouldIndentNextCharacter = true;\r\n\t\treturn match;\r\n\t};\r\n\r\n\tthis.intro = this.intro.replace(pattern, replacer);\r\n\r\n\tvar charIndex = 0;\r\n\tvar chunk = this.firstChunk;\r\n\r\n\twhile (chunk) {\r\n\t\tvar end = chunk.end;\r\n\r\n\t\tif (chunk.edited) {\r\n\t\t\tif (!isExcluded[charIndex]) {\r\n\t\t\t\tchunk.content = chunk.content.replace(pattern, replacer);\r\n\r\n\t\t\t\tif (chunk.content.length) {\r\n\t\t\t\t\tshouldIndentNextCharacter = chunk.content[chunk.content.length - 1] === '\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcharIndex = chunk.start;\r\n\r\n\t\t\twhile (charIndex < end) {\r\n\t\t\t\tif (!isExcluded[charIndex]) {\r\n\t\t\t\t\tvar char = this.original[charIndex];\r\n\r\n\t\t\t\t\tif (char === '\\n') {\r\n\t\t\t\t\t\tshouldIndentNextCharacter = true;\r\n\t\t\t\t\t} else if (char !== '\\r' && shouldIndentNextCharacter) {\r\n\t\t\t\t\t\tshouldIndentNextCharacter = false;\r\n\r\n\t\t\t\t\t\tif (charIndex === chunk.start) {\r\n\t\t\t\t\t\t\tchunk.prependRight(indentStr);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._splitChunk(chunk, charIndex);\r\n\t\t\t\t\t\t\tchunk = chunk.next;\r\n\t\t\t\t\t\t\tchunk.prependRight(indentStr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcharIndex += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcharIndex = chunk.end;\r\n\t\tchunk = chunk.next;\r\n\t}\r\n\r\n\tthis.outro = this.outro.replace(pattern, replacer);\r\n\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.insert = function insert () {\r\n\tthrow new Error(\r\n\t\t'magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)'\r\n\t);\r\n};\r\n\r\nMagicString$1.prototype.insertLeft = function insertLeft (index, content) {\r\n\tif (!warned$1.insertLeft) {\r\n\t\tconsole.warn(\r\n\t\t\t'magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead'\r\n\t\t); // eslint-disable-line no-console\r\n\t\twarned$1.insertLeft = true;\r\n\t}\r\n\r\n\treturn this.appendLeft(index, content);\r\n};\r\n\r\nMagicString$1.prototype.insertRight = function insertRight (index, content) {\r\n\tif (!warned$1.insertRight) {\r\n\t\tconsole.warn(\r\n\t\t\t'magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead'\r\n\t\t); // eslint-disable-line no-console\r\n\t\twarned$1.insertRight = true;\r\n\t}\r\n\r\n\treturn this.prependRight(index, content);\r\n};\r\n\r\nMagicString$1.prototype.move = function move (start, end, index) {\r\n\tif (index >= start && index <= end) { throw new Error('Cannot move a selection inside itself'); }\r\n\r\n\tthis._split(start);\r\n\tthis._split(end);\r\n\tthis._split(index);\r\n\r\n\tvar first = this.byStart[start];\r\n\tvar last = this.byEnd[end];\r\n\r\n\tvar oldLeft = first.previous;\r\n\tvar oldRight = last.next;\r\n\r\n\tvar newRight = this.byStart[index];\r\n\tif (!newRight && last === this.lastChunk) { return this; }\r\n\tvar newLeft = newRight ? newRight.previous : this.lastChunk;\r\n\r\n\tif (oldLeft) { oldLeft.next = oldRight; }\r\n\tif (oldRight) { oldRight.previous = oldLeft; }\r\n\r\n\tif (newLeft) { newLeft.next = first; }\r\n\tif (newRight) { newRight.previous = last; }\r\n\r\n\tif (!first.previous) { this.firstChunk = last.next; }\r\n\tif (!last.next) {\r\n\t\tthis.lastChunk = first.previous;\r\n\t\tthis.lastChunk.next = null;\r\n\t}\r\n\r\n\tfirst.previous = newLeft;\r\n\tlast.next = newRight || null;\r\n\r\n\tif (!newLeft) { this.firstChunk = first; }\r\n\tif (!newRight) { this.lastChunk = last; }\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.overwrite = function overwrite (start, end, content, options) {\r\n\tif (typeof content !== 'string') { throw new TypeError('replacement content must be a string'); }\r\n\r\n\twhile (start < 0) { start += this.original.length; }\r\n\twhile (end < 0) { end += this.original.length; }\r\n\r\n\tif (end > this.original.length) { throw new Error('end is out of bounds'); }\r\n\tif (start === end)\r\n\t\t{ throw new Error(\r\n\t\t\t'Cannot overwrite a zero-length range \u2013 use appendLeft or prependRight instead'\r\n\t\t); }\r\n\r\n\tthis._split(start);\r\n\tthis._split(end);\r\n\r\n\tif (options === true) {\r\n\t\tif (!warned$1.storeName) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t'The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string'\r\n\t\t\t); // eslint-disable-line no-console\r\n\t\t\twarned$1.storeName = true;\r\n\t\t}\r\n\r\n\t\toptions = { storeName: true };\r\n\t}\r\n\tvar storeName = options !== undefined ? options.storeName : false;\r\n\tvar contentOnly = options !== undefined ? options.contentOnly : false;\r\n\r\n\tif (storeName) {\r\n\t\tvar original = this.original.slice(start, end);\r\n\t\tObject.defineProperty(this.storedNames, original, { writable: true, value: true, enumerable: true });\r\n\t}\r\n\r\n\tvar first = this.byStart[start];\r\n\tvar last = this.byEnd[end];\r\n\r\n\tif (first) {\r\n\t\tvar chunk = first;\r\n\t\twhile (chunk !== last) {\r\n\t\t\tif (chunk.next !== this.byStart[chunk.end]) {\r\n\t\t\t\tthrow new Error('Cannot overwrite across a split point');\r\n\t\t\t}\r\n\t\t\tchunk = chunk.next;\r\n\t\t\tchunk.edit('', false);\r\n\t\t}\r\n\r\n\t\tfirst.edit(content, storeName, contentOnly);\r\n\t} else {\r\n\t\t// must be inserting at the end\r\n\t\tvar newChunk = new Chunk$1(start, end, '').edit(content, storeName);\r\n\r\n\t\t// TODO last chunk in the array may not be the last chunk, if it's moved...\r\n\t\tlast.next = newChunk;\r\n\t\tnewChunk.previous = last;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.prepend = function prepend (content) {\r\n\tif (typeof content !== 'string') { throw new TypeError('outro content must be a string'); }\r\n\r\n\tthis.intro = content + this.intro;\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.prependLeft = function prependLeft (index, content) {\r\n\tif (typeof content !== 'string') { throw new TypeError('inserted content must be a string'); }\r\n\r\n\tthis._split(index);\r\n\r\n\tvar chunk = this.byEnd[index];\r\n\r\n\tif (chunk) {\r\n\t\tchunk.prependLeft(content);\r\n\t} else {\r\n\t\tthis.intro = content + this.intro;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.prependRight = function prependRight (index, content) {\r\n\tif (typeof content !== 'string') { throw new TypeError('inserted content must be a string'); }\r\n\r\n\tthis._split(index);\r\n\r\n\tvar chunk = this.byStart[index];\r\n\r\n\tif (chunk) {\r\n\t\tchunk.prependRight(content);\r\n\t} else {\r\n\t\tthis.outro = content + this.outro;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.remove = function remove (start, end) {\r\n\twhile (start < 0) { start += this.original.length; }\r\n\twhile (end < 0) { end += this.original.length; }\r\n\r\n\tif (start === end) { return this; }\r\n\r\n\tif (start < 0 || end > this.original.length) { throw new Error('Character is out of bounds'); }\r\n\tif (start > end) { throw new Error('end must be greater than start'); }\r\n\r\n\tthis._split(start);\r\n\tthis._split(end);\r\n\r\n\tvar chunk = this.byStart[start];\r\n\r\n\twhile (chunk) {\r\n\t\tchunk.intro = '';\r\n\t\tchunk.outro = '';\r\n\t\tchunk.edit('');\r\n\r\n\t\tchunk = end > chunk.end ? this.byStart[chunk.end] : null;\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nMagicString$1.prototype.lastChar = function lastChar () {\r\n\tif (this.outro.length) { return this.outro[this.outro.length - 1]; }\r\n\tvar chunk = this.lastChunk;\r\n\tdo {\r\n\t\tif (chunk.outro.length) { return chunk.outro[chunk.outro.length - 1]; }\r\n\t\tif (chunk.content.length) { return chunk.content[chunk.content.length - 1]; }\r\n\t\tif (chunk.intro.length) { return chunk.intro[chunk.intro.length - 1]; }\r\n\t} while ((chunk = chunk.previous));\r\n\tif (this.intro.length) { return this.intro[this.intro.length - 1]; }\r\n\treturn '';\r\n};\r\n\r\nMagicString$1.prototype.lastLine = function lastLine () {\r\n\tvar lineIndex = this.outro.lastIndexOf(n$1);\r\n\tif (lineIndex !== -1) { return this.outro.substr(lineIndex + 1); }\r\n\tvar lineStr = this.outro;\r\n\tvar chunk = this.lastChunk;\r\n\tdo {\r\n\t\tif (chunk.outro.length > 0) {\r\n\t\t\tlineIndex = chunk.outro.lastIndexOf(n$1);\r\n\t\t\tif (lineIndex !== -1) { return chunk.outro.substr(lineIndex + 1) + lineStr; }\r\n\t\t\tlineStr = chunk.outro + lineStr;\r\n\t\t}\r\n\r\n\t\tif (chunk.content.length > 0) {\r\n\t\t\tlineIndex = chunk.content.lastIndexOf(n$1);\r\n\t\t\tif (lineIndex !== -1) { return chunk.content.substr(lineIndex + 1) + lineStr; }\r\n\t\t\tlineStr = chunk.content + lineStr;\r\n\t\t}\r\n\r\n\t\tif (chunk.intro.length > 0) {\r\n\t\t\tlineIndex = chunk.intro.lastIndexOf(n$1);\r\n\t\t\tif (lineIndex !== -1) { return chunk.intro.substr(lineIndex + 1) + lineStr; }\r\n\t\t\tlineStr = chunk.intro + lineStr;\r\n\t\t}\r\n\t} while ((chunk = chunk.previous));\r\n\tlineIndex = this.intro.lastIndexOf(n$1);\r\n\tif (lineIndex !== -1) { return this.intro.substr(lineIndex + 1) + lineStr; }\r\n\treturn this.intro + lineStr;\r\n};\r\n\r\nMagicString$1.prototype.slice = function slice (start, end) {\r\n\t\tif ( start === void 0 ) start = 0;\r\n\t\tif ( end === void 0 ) end = this.original.length;\r\n\r\n\twhile (start < 0) { start += this.original.length; }\r\n\twhile (end < 0) { end += this.original.length; }\r\n\r\n\tvar result = '';\r\n\r\n\t// find start chunk\r\n\tvar chunk = this.firstChunk;\r\n\twhile (chunk && (chunk.start > start || chunk.end <= start)) {\r\n\t\t// found end chunk before start\r\n\t\tif (chunk.start < end && chunk.end >= end) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tchunk = chunk.next;\r\n\t}\r\n\r\n\tif (chunk && chunk.edited && chunk.start !== start)\r\n\t\t{ throw new Error((\"Cannot use replaced character \" + start + \" as slice start anchor.\")); }\r\n\r\n\tvar startChunk = chunk;\r\n\twhile (chunk) {\r\n\t\tif (chunk.intro && (startChunk !== chunk || chunk.start === start)) {\r\n\t\t\tresult += chunk.intro;\r\n\t\t}\r\n\r\n\t\tvar containsEnd = chunk.start < end && chunk.end >= end;\r\n\t\tif (containsEnd && chunk.edited && chunk.end !== end)\r\n\t\t\t{ throw new Error((\"Cannot use replaced character \" + end + \" as slice end anchor.\")); }\r\n\r\n\t\tvar sliceStart = startChunk === chunk ? start - chunk.start : 0;\r\n\t\tvar sliceEnd = containsEnd ? chunk.content.length + end - chunk.end : chunk.content.length;\r\n\r\n\t\tresult += chunk.content.slice(sliceStart, sliceEnd);\r\n\r\n\t\tif (chunk.outro && (!containsEnd || chunk.end === end)) {\r\n\t\t\tresult += chunk.outro;\r\n\t\t}\r\n\r\n\t\tif (containsEnd) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tchunk = chunk.next;\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\n// TODO deprecate this? not really very useful\r\nMagicString$1.prototype.snip = function snip (start, end) {\r\n\tvar clone = this.clone();\r\n\tclone.remove(0, start);\r\n\tclone.remove(end, clone.original.length);\r\n\r\n\treturn clone;\r\n};\r\n\r\nMagicString$1.prototype._split = function _split (index) {\r\n\tif (this.byStart[index] || this.byEnd[index]) { return; }\r\n\r\n\tvar chunk = this.lastSearchedChunk;\r\n\tvar searchForward = index > chunk.end;\r\n\r\n\twhile (chunk) {\r\n\t\tif (chunk.contains(index)) { return this._splitChunk(chunk, index); }\r\n\r\n\t\tchunk = searchForward ? this.byStart[chunk.end] : this.byEnd[chunk.start];\r\n\t}\r\n};\r\n\r\nMagicString$1.prototype._splitChunk = function _splitChunk (chunk, index) {\r\n\tif (chunk.edited && chunk.content.length) {\r\n\t\t// zero-length edited chunks are a special case (overlapping replacements)\r\n\t\tvar loc = getLocator$1(this.original)(index);\r\n\t\tthrow new Error(\r\n\t\t\t(\"Cannot split a chunk that has already been edited (\" + (loc.line) + \":\" + (loc.column) + \" \u2013 \\\"\" + (chunk.original) + \"\\\")\")\r\n\t\t);\r\n\t}\r\n\r\n\tvar newChunk = chunk.split(index);\r\n\r\n\tthis.byEnd[index] = chunk;\r\n\tthis.byStart[index] = newChunk;\r\n\tthis.byEnd[newChunk.end] = newChunk;\r\n\r\n\tif (chunk === this.lastChunk) { this.lastChunk = newChunk; }\r\n\r\n\tthis.lastSearchedChunk = chunk;\r\n\treturn true;\r\n};\r\n\r\nMagicString$1.prototype.toString = function toString () {\r\n\tvar str = this.intro;\r\n\r\n\tvar chunk = this.firstChunk;\r\n\twhile (chunk) {\r\n\t\tstr += chunk.toString();\r\n\t\tchunk = chunk.next;\r\n\t}\r\n\r\n\treturn str + this.outro;\r\n};\r\n\r\nMagicString$1.prototype.isEmpty = function isEmpty () {\r\n\tvar chunk = this.firstChunk;\r\n\tdo {\r\n\t\tif (\r\n\t\t\t(chunk.intro.length && chunk.intro.trim()) ||\r\n\t\t\t(chunk.content.length && chunk.content.trim()) ||\r\n\t\t\t(chunk.outro.length && chunk.outro.trim())\r\n\t\t)\r\n\t\t\t{ return false; }\r\n\t} while ((chunk = chunk.next));\r\n\treturn true;\r\n};\r\n\r\nMagicString$1.prototype.length = function length () {\r\n\tvar chunk = this.firstChunk;\r\n\tvar length = 0;\r\n\tdo {\r\n\t\tlength += chunk.intro.length + chunk.content.length + chunk.outro.length;\r\n\t} while ((chunk = chunk.next));\r\n\treturn length;\r\n};\r\n\r\nMagicString$1.prototype.trimLines = function trimLines () {\r\n\treturn this.trim('[\\\\r\\\\n]');\r\n};\r\n\r\nMagicString$1.prototype.trim = function trim (charType) {\r\n\treturn this.trimStart(charType).trimEnd(charType);\r\n};\r\n\r\nMagicString$1.prototype.trimEndAborted = function trimEndAborted (charType) {\r\n\tvar rx = new RegExp((charType || '\\\\s') + '+$');\r\n\r\n\tthis.outro = this.outro.replace(rx, '');\r\n\tif (this.outro.length) { return true; }\r\n\r\n\tvar chunk = this.lastChunk;\r\n\r\n\tdo {\r\n\t\tvar end = chunk.end;\r\n\t\tvar aborted = chunk.trimEnd(rx);\r\n\r\n\t\t// if chunk was trimmed, we have a new lastChunk\r\n\t\tif (chunk.end !== end) {\r\n\t\t\tif (this.lastChunk === chunk) {\r\n\t\t\t\tthis.lastChunk = chunk.next;\r\n\t\t\t}\r\n\r\n\t\t\tthis.byEnd[chunk.end] = chunk;\r\n\t\t\tthis.byStart[chunk.next.start] = chunk.next;\r\n\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\r\n\t\t}\r\n\r\n\t\tif (aborted) { return true; }\r\n\t\tchunk = chunk.previous;\r\n\t} while (chunk);\r\n\r\n\treturn false;\r\n};\r\n\r\nMagicString$1.prototype.trimEnd = function trimEnd (charType) {\r\n\tthis.trimEndAborted(charType);\r\n\treturn this;\r\n};\r\nMagicString$1.prototype.trimStartAborted = function trimStartAborted (charType) {\r\n\tvar rx = new RegExp('^' + (charType || '\\\\s') + '+');\r\n\r\n\tthis.intro = this.intro.replace(rx, '');\r\n\tif (this.intro.length) { return true; }\r\n\r\n\tvar chunk = this.firstChunk;\r\n\r\n\tdo {\r\n\t\tvar end = chunk.end;\r\n\t\tvar aborted = chunk.trimStart(rx);\r\n\r\n\t\tif (chunk.end !== end) {\r\n\t\t\t// special case...\r\n\t\t\tif (chunk === this.lastChunk) { this.lastChunk = chunk.next; }\r\n\r\n\t\t\tthis.byEnd[chunk.end] = chunk;\r\n\t\t\tthis.byStart[chunk.next.start] = chunk.next;\r\n\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\r\n\t\t}\r\n\r\n\t\tif (aborted) { return true; }\r\n\t\tchunk = chunk.next;\r\n\t} while (chunk);\r\n\r\n\treturn false;\r\n};\r\n\r\nMagicString$1.prototype.trimStart = function trimStart (charType) {\r\n\tthis.trimStartAborted(charType);\r\n\treturn this;\r\n};\r\n\r\nfunction isReference(node, parent) {\r\n    if (node.type === 'MemberExpression') {\r\n        return !node.computed && isReference(node.object, node);\r\n    }\r\n    if (node.type === 'Identifier') {\r\n        if (!parent)\r\n            return true;\r\n        switch (parent.type) {\r\n            // disregard `bar` in `foo.bar`\r\n            case 'MemberExpression': return parent.computed || node === parent.object;\r\n            // disregard the `foo` in `class {foo(){}}` but keep it in `class {[foo](){}}`\r\n            case 'MethodDefinition': return parent.computed;\r\n            // disregard the `foo` in `class {foo=bar}` but keep it in `class {[foo]=bar}` and `class {bar=foo}`\r\n            case 'FieldDefinition': return parent.computed || node === parent.value;\r\n            // disregard the `bar` in `{ bar: foo }`, but keep it in `{ [bar]: foo }`\r\n            case 'Property': return parent.computed || node === parent.value;\r\n            // disregard the `bar` in `export { foo as bar }` or\r\n            // the foo in `import { foo as bar }`\r\n            case 'ExportSpecifier':\r\n            case 'ImportSpecifier': return node === parent.local;\r\n            // disregard the `foo` in `foo: while (...) { ... break foo; ... continue foo;}`\r\n            case 'LabeledStatement':\r\n            case 'BreakStatement':\r\n            case 'ContinueStatement': return false;\r\n            default: return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nvar version$1 = \"22.0.2\";\r\nvar peerDependencies = {\r\n\trollup: \"^2.68.0\"\r\n};\r\n\r\nfunction tryParse(parse, code, id) {\r\n  try {\r\n    return parse(code, { allowReturnOutsideFunction: true });\r\n  } catch (err) {\r\n    err.message += ` in ${id}`;\r\n    throw err;\r\n  }\r\n}\r\n\r\nconst firstpassGlobal = /\\b(?:require|module|exports|global)\\b/;\r\n\r\nconst firstpassNoGlobal = /\\b(?:require|module|exports)\\b/;\r\n\r\nfunction hasCjsKeywords(code, ignoreGlobal) {\r\n  const firstpass = ignoreGlobal ? firstpassNoGlobal : firstpassGlobal;\r\n  return firstpass.test(code);\r\n}\r\n\r\n/* eslint-disable no-underscore-dangle */\r\n\r\nfunction analyzeTopLevelStatements(parse, code, id) {\r\n  const ast = tryParse(parse, code, id);\r\n\r\n  let isEsModule = false;\r\n  let hasDefaultExport = false;\r\n  let hasNamedExports = false;\r\n\r\n  for (const node of ast.body) {\r\n    switch (node.type) {\r\n      case 'ExportDefaultDeclaration':\r\n        isEsModule = true;\r\n        hasDefaultExport = true;\r\n        break;\r\n      case 'ExportNamedDeclaration':\r\n        isEsModule = true;\r\n        if (node.declaration) {\r\n          hasNamedExports = true;\r\n        } else {\r\n          for (const specifier of node.specifiers) {\r\n            if (specifier.exported.name === 'default') {\r\n              hasDefaultExport = true;\r\n            } else {\r\n              hasNamedExports = true;\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      case 'ExportAllDeclaration':\r\n        isEsModule = true;\r\n        if (node.exported && node.exported.name === 'default') {\r\n          hasDefaultExport = true;\r\n        } else {\r\n          hasNamedExports = true;\r\n        }\r\n        break;\r\n      case 'ImportDeclaration':\r\n        isEsModule = true;\r\n        break;\r\n    }\r\n  }\r\n\r\n  return { isEsModule, hasDefaultExport, hasNamedExports, ast };\r\n}\r\n\r\n/* eslint-disable import/prefer-default-export */\r\n\r\nfunction deconflict(scopes, globals, identifier) {\r\n  let i = 1;\r\n  let deconflicted = makeLegalIdentifier$1(identifier);\r\n  const hasConflicts = () =>\r\n    scopes.some((scope) => scope.contains(deconflicted)) || globals.has(deconflicted);\r\n\r\n  while (hasConflicts()) {\r\n    deconflicted = makeLegalIdentifier$1(`${identifier}_${i}`);\r\n    i += 1;\r\n  }\r\n\r\n  for (const scope of scopes) {\r\n    scope.declarations[deconflicted] = true;\r\n  }\r\n\r\n  return deconflicted;\r\n}\r\n\r\nfunction getName(id) {\r\n  const name = makeLegalIdentifier$1(basename$1(id, extname(id)));\r\n  if (name !== 'index') {\r\n    return name;\r\n  }\r\n  return makeLegalIdentifier$1(basename$1(dirname$1(id)));\r\n}\r\n\r\nfunction normalizePathSlashes(path) {\r\n  return path.replace(/\\\\/g, '/');\r\n}\r\n\r\nconst getVirtualPathForDynamicRequirePath = (path, commonDir) =>\r\n  `/${normalizePathSlashes(relative$1(commonDir, path))}`;\r\n\r\nfunction capitalize(name) {\r\n  return name[0].toUpperCase() + name.slice(1);\r\n}\r\n\r\nfunction getStrictRequiresFilter({ strictRequires }) {\r\n  switch (strictRequires) {\r\n    case true:\r\n      return { strictRequiresFilter: () => true, detectCyclesAndConditional: false };\r\n    // eslint-disable-next-line no-undefined\r\n    case undefined:\r\n    case 'auto':\r\n    case 'debug':\r\n    case null:\r\n      return { strictRequiresFilter: () => false, detectCyclesAndConditional: true };\r\n    case false:\r\n      return { strictRequiresFilter: () => false, detectCyclesAndConditional: false };\r\n    default:\r\n      if (typeof strictRequires === 'string' || Array.isArray(strictRequires)) {\r\n        return {\r\n          strictRequiresFilter: createFilter$2(strictRequires),\r\n          detectCyclesAndConditional: false\r\n        };\r\n      }\r\n      throw new Error('Unexpected value for \"strictRequires\" option.');\r\n  }\r\n}\r\n\r\nfunction getPackageEntryPoint(dirPath) {\r\n  let entryPoint = 'index.js';\r\n\r\n  try {\r\n    if (existsSync(join$1(dirPath, 'package.json'))) {\r\n      entryPoint =\r\n        JSON.parse(readFileSync(join$1(dirPath, 'package.json'), { encoding: 'utf8' })).main ||\r\n        entryPoint;\r\n    }\r\n  } catch (ignored) {\r\n    // ignored\r\n  }\r\n\r\n  return entryPoint;\r\n}\r\n\r\nfunction isDirectory(path) {\r\n  try {\r\n    if (statSync$1(path).isDirectory()) return true;\r\n  } catch (ignored) {\r\n    // Nothing to do here\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction getDynamicRequireModules(patterns, dynamicRequireRoot) {\r\n  const dynamicRequireModules = new Map();\r\n  const dirNames = new Set();\r\n  for (const pattern of !patterns || Array.isArray(patterns) ? patterns || [] : [patterns]) {\r\n    const isNegated = pattern.startsWith('!');\r\n    const modifyMap = (targetPath, resolvedPath) =>\r\n      isNegated\r\n        ? dynamicRequireModules.delete(targetPath)\r\n        : dynamicRequireModules.set(targetPath, resolvedPath);\r\n    for (const path of globExports.sync(isNegated ? pattern.substr(1) : pattern)) {\r\n      const resolvedPath = resolve$4(path);\r\n      const requirePath = normalizePathSlashes(resolvedPath);\r\n      if (isDirectory(resolvedPath)) {\r\n        dirNames.add(resolvedPath);\r\n        const modulePath = resolve$4(join$1(resolvedPath, getPackageEntryPoint(path)));\r\n        modifyMap(requirePath, modulePath);\r\n        modifyMap(normalizePathSlashes(modulePath), modulePath);\r\n      } else {\r\n        dirNames.add(dirname$1(resolvedPath));\r\n        modifyMap(requirePath, resolvedPath);\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    commonDir: dirNames.size ? commondir([...dirNames, dynamicRequireRoot]) : null,\r\n    dynamicRequireModules\r\n  };\r\n}\r\n\r\nconst FAILED_REQUIRE_ERROR = `throw new Error('Could not dynamically require \"' + path + '\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');`;\r\n\r\nconst COMMONJS_REQUIRE_EXPORT = 'commonjsRequire';\r\nconst CREATE_COMMONJS_REQUIRE_EXPORT = 'createCommonjsRequire';\r\n\r\nfunction getDynamicModuleRegistry(\r\n  isDynamicRequireModulesEnabled,\r\n  dynamicRequireModules,\r\n  commonDir,\r\n  ignoreDynamicRequires\r\n) {\r\n  if (!isDynamicRequireModulesEnabled) {\r\n    return `export function ${COMMONJS_REQUIRE_EXPORT}(path) {\r\n\t${FAILED_REQUIRE_ERROR}\r\n}`;\r\n  }\r\n  const dynamicModuleImports = [...dynamicRequireModules.values()]\r\n    .map(\r\n      (id, index) =>\r\n        `import ${\r\n          id.endsWith('.json') ? `json${index}` : `{ __require as require${index} }`\r\n        } from ${JSON.stringify(id)};`\r\n    )\r\n    .join('\\n');\r\n  const dynamicModuleProps = [...dynamicRequireModules.keys()]\r\n    .map(\r\n      (id, index) =>\r\n        `\\t\\t${JSON.stringify(getVirtualPathForDynamicRequirePath(id, commonDir))}: ${\r\n          id.endsWith('.json') ? `function () { return json${index}; }` : `require${index}`\r\n        }`\r\n    )\r\n    .join(',\\n');\r\n  return `${dynamicModuleImports}\r\n\r\nvar dynamicModules;\r\n\r\nfunction getDynamicModules() {\r\n\treturn dynamicModules || (dynamicModules = {\r\n${dynamicModuleProps}\r\n\t});\r\n}\r\n\r\nexport function ${CREATE_COMMONJS_REQUIRE_EXPORT}(originalModuleDir) {\r\n\tfunction handleRequire(path) {\r\n\t\tvar resolvedPath = commonjsResolve(path, originalModuleDir);\r\n\t\tif (resolvedPath !== null) {\r\n\t\t\treturn getDynamicModules()[resolvedPath]();\r\n\t\t}\r\n\t\t${ignoreDynamicRequires ? 'return require(path);' : FAILED_REQUIRE_ERROR}\r\n\t}\r\n\thandleRequire.resolve = function (path) {\r\n\t\tvar resolvedPath = commonjsResolve(path, originalModuleDir);\r\n\t\tif (resolvedPath !== null) {\r\n\t\t\treturn resolvedPath;\r\n\t\t}\r\n\t\treturn require.resolve(path);\r\n\t}\r\n\treturn handleRequire;\r\n}\r\n\r\nfunction commonjsResolve (path, originalModuleDir) {\r\n\tvar shouldTryNodeModules = isPossibleNodeModulesPath(path);\r\n\tpath = normalize(path);\r\n\tvar relPath;\r\n\tif (path[0] === '/') {\r\n\t\toriginalModuleDir = '';\r\n\t}\r\n\tvar modules = getDynamicModules();\r\n\tvar checkedExtensions = ['', '.js', '.json'];\r\n\twhile (true) {\r\n\t\tif (!shouldTryNodeModules) {\r\n\t\t\trelPath = normalize(originalModuleDir + '/' + path);\r\n\t\t} else {\r\n\t\t\trelPath = normalize(originalModuleDir + '/node_modules/' + path);\r\n\t\t}\r\n\r\n\t\tif (relPath.endsWith('/..')) {\r\n\t\t\tbreak; // Travelled too far up, avoid infinite loop\r\n\t\t}\r\n\r\n\t\tfor (var extensionIndex = 0; extensionIndex < checkedExtensions.length; extensionIndex++) {\r\n\t\t\tvar resolvedPath = relPath + checkedExtensions[extensionIndex];\r\n\t\t\tif (modules[resolvedPath]) {\r\n\t\t\t\treturn resolvedPath;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!shouldTryNodeModules) break;\r\n\t\tvar nextDir = normalize(originalModuleDir + '/..');\r\n\t\tif (nextDir === originalModuleDir) break;\r\n\t\toriginalModuleDir = nextDir;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction isPossibleNodeModulesPath (modulePath) {\r\n\tvar c0 = modulePath[0];\r\n\tif (c0 === '/' || c0 === '\\\\\\\\') return false;\r\n\tvar c1 = modulePath[1], c2 = modulePath[2];\r\n\tif ((c0 === '.' && (!c1 || c1 === '/' || c1 === '\\\\\\\\')) ||\r\n\t\t(c0 === '.' && c1 === '.' && (!c2 || c2 === '/' || c2 === '\\\\\\\\'))) return false;\r\n\tif (c1 === ':' && (c2 === '/' || c2 === '\\\\\\\\')) return false;\r\n\treturn true;\r\n}\r\n\r\nfunction normalize (path) {\r\n\tpath = path.replace(/\\\\\\\\/g, '/');\r\n\tvar parts = path.split('/');\r\n\tvar slashed = parts[0] === '';\r\n\tfor (var i = 1; i < parts.length; i++) {\r\n\t\tif (parts[i] === '.' || parts[i] === '') {\r\n\t\t\tparts.splice(i--, 1);\r\n\t\t}\r\n\t}\r\n\tfor (var i = 1; i < parts.length; i++) {\r\n\t\tif (parts[i] !== '..') continue;\r\n\t\tif (i > 0 && parts[i - 1] !== '..' && parts[i - 1] !== '.') {\r\n\t\t\tparts.splice(--i, 2);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\tpath = parts.join('/');\r\n\tif (slashed && path[0] !== '/') path = '/' + path;\r\n\telse if (path.length === 0) path = '.';\r\n\treturn path;\r\n}`;\r\n}\r\n\r\nconst isWrappedId = (id, suffix) => id.endsWith(suffix);\r\nconst wrapId = (id, suffix) => `\\0${id}${suffix}`;\r\nconst unwrapId$1 = (wrappedId, suffix) => wrappedId.slice(1, -suffix.length);\r\n\r\nconst PROXY_SUFFIX = '?commonjs-proxy';\r\nconst WRAPPED_SUFFIX = '?commonjs-wrapped';\r\nconst EXTERNAL_SUFFIX = '?commonjs-external';\r\nconst EXPORTS_SUFFIX = '?commonjs-exports';\r\nconst MODULE_SUFFIX = '?commonjs-module';\r\nconst ENTRY_SUFFIX = '?commonjs-entry';\r\nconst ES_IMPORT_SUFFIX = '?commonjs-es-import';\r\n\r\nconst DYNAMIC_MODULES_ID = '\\0commonjs-dynamic-modules';\r\nconst HELPERS_ID = '\\0commonjsHelpers.js';\r\n\r\nconst IS_WRAPPED_COMMONJS = 'withRequireFunction';\r\n\r\n// `x['default']` is used instead of `x.default` for backward compatibility with ES3 browsers.\r\n// Minifiers like uglify will usually transpile it back if compatibility with ES3 is not enabled.\r\n// This could be improved by inspecting Rollup's \"generatedCode\" option\r\n\r\nconst HELPERS = `\r\nexport var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\nexport function getDefaultExportFromCjs (x) {\r\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\r\n}\r\n\r\nexport function getDefaultExportFromNamespaceIfPresent (n) {\r\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') ? n['default'] : n;\r\n}\r\n\r\nexport function getDefaultExportFromNamespaceIfNotNamed (n) {\r\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') && Object.keys(n).length === 1 ? n['default'] : n;\r\n}\r\n\r\nexport function getAugmentedNamespace(n) {\r\n  var f = n.default;\r\n\tif (typeof f == \"function\") {\r\n\t\tvar a = function () {\r\n\t\t\treturn f.apply(this, arguments);\r\n\t\t};\r\n\t\ta.prototype = f.prototype;\r\n  } else a = {};\r\n  Object.defineProperty(a, '__esModule', {value: true});\r\n\tObject.keys(n).forEach(function (k) {\r\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\r\n\t\tObject.defineProperty(a, k, d.get ? d : {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\treturn n[k];\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\treturn a;\r\n}\r\n`;\r\n\r\nfunction getHelpersModule() {\r\n  return HELPERS;\r\n}\r\n\r\nfunction getUnknownRequireProxy(id, requireReturnsDefault) {\r\n  if (requireReturnsDefault === true || id.endsWith('.json')) {\r\n    return `export { default } from ${JSON.stringify(id)};`;\r\n  }\r\n  const name = getName(id);\r\n  const exported =\r\n    requireReturnsDefault === 'auto'\r\n      ? `import { getDefaultExportFromNamespaceIfNotNamed } from \"${HELPERS_ID}\"; export default /*@__PURE__*/getDefaultExportFromNamespaceIfNotNamed(${name});`\r\n      : requireReturnsDefault === 'preferred'\r\n      ? `import { getDefaultExportFromNamespaceIfPresent } from \"${HELPERS_ID}\"; export default /*@__PURE__*/getDefaultExportFromNamespaceIfPresent(${name});`\r\n      : !requireReturnsDefault\r\n      ? `import { getAugmentedNamespace } from \"${HELPERS_ID}\"; export default /*@__PURE__*/getAugmentedNamespace(${name});`\r\n      : `export default ${name};`;\r\n  return `import * as ${name} from ${JSON.stringify(id)}; ${exported}`;\r\n}\r\n\r\nasync function getStaticRequireProxy(id, requireReturnsDefault, loadModule) {\r\n  const name = getName(id);\r\n  const {\r\n    meta: { commonjs: commonjsMeta }\r\n  } = await loadModule({ id });\r\n  if (!commonjsMeta) {\r\n    return getUnknownRequireProxy(id, requireReturnsDefault);\r\n  } else if (commonjsMeta.isCommonJS) {\r\n    return `export { __moduleExports as default } from ${JSON.stringify(id)};`;\r\n  } else if (!requireReturnsDefault) {\r\n    return `import { getAugmentedNamespace } from \"${HELPERS_ID}\"; import * as ${name} from ${JSON.stringify(\r\n      id\r\n    )}; export default /*@__PURE__*/getAugmentedNamespace(${name});`;\r\n  } else if (\r\n    requireReturnsDefault !== true &&\r\n    (requireReturnsDefault === 'namespace' ||\r\n      !commonjsMeta.hasDefaultExport ||\r\n      (requireReturnsDefault === 'auto' && commonjsMeta.hasNamedExports))\r\n  ) {\r\n    return `import * as ${name} from ${JSON.stringify(id)}; export default ${name};`;\r\n  }\r\n  return `export { default } from ${JSON.stringify(id)};`;\r\n}\r\n\r\nfunction getEntryProxy(id, defaultIsModuleExports, getModuleInfo) {\r\n  const {\r\n    meta: { commonjs: commonjsMeta },\r\n    hasDefaultExport\r\n  } = getModuleInfo(id);\r\n  if (!commonjsMeta || commonjsMeta.isCommonJS !== IS_WRAPPED_COMMONJS) {\r\n    const stringifiedId = JSON.stringify(id);\r\n    let code = `export * from ${stringifiedId};`;\r\n    if (hasDefaultExport) {\r\n      code += `export { default } from ${stringifiedId};`;\r\n    }\r\n    return code;\r\n  }\r\n  return getEsImportProxy(id, defaultIsModuleExports);\r\n}\r\n\r\nfunction getEsImportProxy(id, defaultIsModuleExports) {\r\n  const name = getName(id);\r\n  const exportsName = `${name}Exports`;\r\n  const requireModule = `require${capitalize(name)}`;\r\n  let code =\r\n    `import { getDefaultExportFromCjs } from \"${HELPERS_ID}\";\\n` +\r\n    `import { __require as ${requireModule} } from ${JSON.stringify(id)};\\n` +\r\n    `var ${exportsName} = ${requireModule}();\\n` +\r\n    `export { ${exportsName} as __moduleExports };`;\r\n  if (defaultIsModuleExports) {\r\n    code += `\\nexport { ${exportsName} as default };`;\r\n  } else {\r\n    code += `export default /*@__PURE__*/getDefaultExportFromCjs(${exportsName});`;\r\n  }\r\n  return {\r\n    code,\r\n    syntheticNamedExports: '__moduleExports'\r\n  };\r\n}\r\n\r\n/* eslint-disable no-param-reassign, no-undefined */\r\n\r\nfunction getCandidatesForExtension(resolved, extension) {\r\n  return [resolved + extension, `${resolved}${sep}index${extension}`];\r\n}\r\n\r\nfunction getCandidates(resolved, extensions) {\r\n  return extensions.reduce(\r\n    (paths, extension) => paths.concat(getCandidatesForExtension(resolved, extension)),\r\n    [resolved]\r\n  );\r\n}\r\n\r\nfunction resolveExtensions(importee, importer, extensions) {\r\n  // not our problem\r\n  if (importee[0] !== '.' || !importer) return undefined;\r\n\r\n  const resolved = resolve$4(dirname$1(importer), importee);\r\n  const candidates = getCandidates(resolved, extensions);\r\n\r\n  for (let i = 0; i < candidates.length; i += 1) {\r\n    try {\r\n      const stats = statSync$1(candidates[i]);\r\n      if (stats.isFile()) return { id: candidates[i] };\r\n    } catch (err) {\r\n      /* noop */\r\n    }\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nfunction getResolveId(extensions, isPossibleCjsId) {\r\n  const currentlyResolving = new Map();\r\n\r\n  return {\r\n    /**\r\n     * This is a Maps of importers to Sets of require sources being resolved at\r\n     * the moment by resolveRequireSourcesAndUpdateMeta\r\n     */\r\n    currentlyResolving,\r\n    async resolveId(importee, importer, resolveOptions) {\r\n      const customOptions = resolveOptions.custom;\r\n      // All logic below is specific to ES imports.\r\n      // Also, if we do not skip this logic for requires that are resolved while\r\n      // transforming a commonjs file, it can easily lead to deadlocks.\r\n      if (\r\n        customOptions &&\r\n        customOptions['node-resolve'] &&\r\n        customOptions['node-resolve'].isRequire\r\n      ) {\r\n        return null;\r\n      }\r\n      const currentlyResolvingForParent = currentlyResolving.get(importer);\r\n      if (currentlyResolvingForParent && currentlyResolvingForParent.has(importee)) {\r\n        this.warn({\r\n          code: 'THIS_RESOLVE_WITHOUT_OPTIONS',\r\n          message:\r\n            'It appears a plugin has implemented a \"resolveId\" hook that uses \"this.resolve\" without forwarding the third \"options\" parameter of \"resolveId\". This is problematic as it can lead to wrong module resolutions especially for the node-resolve plugin and in certain cases cause early exit errors for the commonjs plugin.\\nIn rare cases, this warning can appear if the same file is both imported and required from the same mixed ES/CommonJS module, in which case it can be ignored.',\r\n          url: 'https://rollupjs.org/guide/en/#resolveid'\r\n        });\r\n        return null;\r\n      }\r\n\r\n      if (isWrappedId(importee, WRAPPED_SUFFIX)) {\r\n        return unwrapId$1(importee, WRAPPED_SUFFIX);\r\n      }\r\n\r\n      if (\r\n        importee.endsWith(ENTRY_SUFFIX) ||\r\n        isWrappedId(importee, MODULE_SUFFIX) ||\r\n        isWrappedId(importee, EXPORTS_SUFFIX) ||\r\n        isWrappedId(importee, PROXY_SUFFIX) ||\r\n        isWrappedId(importee, ES_IMPORT_SUFFIX) ||\r\n        isWrappedId(importee, EXTERNAL_SUFFIX) ||\r\n        importee.startsWith(HELPERS_ID) ||\r\n        importee === DYNAMIC_MODULES_ID\r\n      ) {\r\n        return importee;\r\n      }\r\n\r\n      if (importer) {\r\n        if (\r\n          importer === DYNAMIC_MODULES_ID ||\r\n          // Proxies are only importing resolved ids, no need to resolve again\r\n          isWrappedId(importer, PROXY_SUFFIX) ||\r\n          isWrappedId(importer, ES_IMPORT_SUFFIX) ||\r\n          importer.endsWith(ENTRY_SUFFIX)\r\n        ) {\r\n          return importee;\r\n        }\r\n        if (isWrappedId(importer, EXTERNAL_SUFFIX)) {\r\n          // We need to return null for unresolved imports so that the proper warning is shown\r\n          if (\r\n            !(await this.resolve(\r\n              importee,\r\n              importer,\r\n              Object.assign({ skipSelf: true }, resolveOptions)\r\n            ))\r\n          ) {\r\n            return null;\r\n          }\r\n          // For other external imports, we need to make sure they are handled as external\r\n          return { id: importee, external: true };\r\n        }\r\n      }\r\n\r\n      if (importee.startsWith('\\0')) {\r\n        return null;\r\n      }\r\n\r\n      // If this is an entry point or ESM import, we need to figure out if the importee is wrapped and\r\n      // if that is the case, we need to add a proxy.\r\n      const resolved =\r\n        (await this.resolve(\r\n          importee,\r\n          importer,\r\n          Object.assign({ skipSelf: true }, resolveOptions)\r\n        )) || resolveExtensions(importee, importer, extensions);\r\n      // Make sure that even if other plugins resolve again, we ignore our own proxies\r\n      if (\r\n        !resolved ||\r\n        resolved.external ||\r\n        resolved.id.endsWith(ENTRY_SUFFIX) ||\r\n        isWrappedId(resolved.id, ES_IMPORT_SUFFIX) ||\r\n        !isPossibleCjsId(resolved.id)\r\n      ) {\r\n        return resolved;\r\n      }\r\n      const moduleInfo = await this.load(resolved);\r\n      const {\r\n        meta: { commonjs: commonjsMeta }\r\n      } = moduleInfo;\r\n      if (commonjsMeta) {\r\n        const { isCommonJS } = commonjsMeta;\r\n        if (isCommonJS) {\r\n          if (resolveOptions.isEntry) {\r\n            moduleInfo.moduleSideEffects = true;\r\n            // We must not precede entry proxies with a `\\0` as that will mess up relative external resolution\r\n            return resolved.id + ENTRY_SUFFIX;\r\n          }\r\n          if (isCommonJS === IS_WRAPPED_COMMONJS) {\r\n            return { id: wrapId(resolved.id, ES_IMPORT_SUFFIX), meta: { commonjs: { resolved } } };\r\n          }\r\n        }\r\n      }\r\n      return resolved;\r\n    }\r\n  };\r\n}\r\n\r\nfunction getRequireResolver(extensions, detectCyclesAndConditional, currentlyResolving) {\r\n  const knownCjsModuleTypes = Object.create(null);\r\n  const requiredIds = Object.create(null);\r\n  const unconditionallyRequiredIds = Object.create(null);\r\n  const dependencies = Object.create(null);\r\n  const getDependencies = (id) => dependencies[id] || (dependencies[id] = new Set());\r\n\r\n  const isCyclic = (id) => {\r\n    const dependenciesToCheck = new Set(getDependencies(id));\r\n    for (const dependency of dependenciesToCheck) {\r\n      if (dependency === id) {\r\n        return true;\r\n      }\r\n      for (const childDependency of getDependencies(dependency)) {\r\n        dependenciesToCheck.add(childDependency);\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // Once a module is listed here, its type (wrapped or not) is fixed and may\r\n  // not change for the rest of the current build, to not break already\r\n  // transformed modules.\r\n  const fullyAnalyzedModules = Object.create(null);\r\n\r\n  const getTypeForFullyAnalyzedModule = (id) => {\r\n    const knownType = knownCjsModuleTypes[id];\r\n    if (knownType !== true || !detectCyclesAndConditional || fullyAnalyzedModules[id]) {\r\n      return knownType;\r\n    }\r\n    if (isCyclic(id)) {\r\n      return (knownCjsModuleTypes[id] = IS_WRAPPED_COMMONJS);\r\n    }\r\n    return knownType;\r\n  };\r\n\r\n  const setInitialParentType = (id, initialCommonJSType) => {\r\n    // Fully analyzed modules may never change type\r\n    if (fullyAnalyzedModules[id]) {\r\n      return;\r\n    }\r\n    knownCjsModuleTypes[id] = initialCommonJSType;\r\n    if (\r\n      detectCyclesAndConditional &&\r\n      knownCjsModuleTypes[id] === true &&\r\n      requiredIds[id] &&\r\n      !unconditionallyRequiredIds[id]\r\n    ) {\r\n      knownCjsModuleTypes[id] = IS_WRAPPED_COMMONJS;\r\n    }\r\n  };\r\n\r\n  const analyzeRequiredModule = async (parentId, resolved, isConditional, loadModule) => {\r\n    const childId = resolved.id;\r\n    requiredIds[childId] = true;\r\n    if (!(isConditional || knownCjsModuleTypes[parentId] === IS_WRAPPED_COMMONJS)) {\r\n      unconditionallyRequiredIds[childId] = true;\r\n    }\r\n\r\n    getDependencies(parentId).add(childId);\r\n    if (!isCyclic(childId)) {\r\n      // This makes sure the current transform handler waits for all direct\r\n      // dependencies to be loaded and transformed and therefore for all\r\n      // transitive CommonJS dependencies to be loaded as well so that all\r\n      // cycles have been found and knownCjsModuleTypes is reliable.\r\n      await loadModule(resolved);\r\n    }\r\n  };\r\n\r\n  const getTypeForImportedModule = async (resolved, loadModule) => {\r\n    if (resolved.id in knownCjsModuleTypes) {\r\n      // This handles cyclic ES dependencies\r\n      return knownCjsModuleTypes[resolved.id];\r\n    }\r\n    const {\r\n      meta: { commonjs }\r\n    } = await loadModule(resolved);\r\n    return (commonjs && commonjs.isCommonJS) || false;\r\n  };\r\n\r\n  return {\r\n    getWrappedIds: () =>\r\n      Object.keys(knownCjsModuleTypes).filter(\r\n        (id) => knownCjsModuleTypes[id] === IS_WRAPPED_COMMONJS\r\n      ),\r\n    isRequiredId: (id) => requiredIds[id],\r\n    async shouldTransformCachedModule({\r\n      id: parentId,\r\n      resolvedSources,\r\n      meta: { commonjs: parentMeta }\r\n    }) {\r\n      // We explicitly track ES modules to handle circular imports\r\n      if (!(parentMeta && parentMeta.isCommonJS)) knownCjsModuleTypes[parentId] = false;\r\n      if (isWrappedId(parentId, ES_IMPORT_SUFFIX)) return false;\r\n      const parentRequires = parentMeta && parentMeta.requires;\r\n      if (parentRequires) {\r\n        setInitialParentType(parentId, parentMeta.initialCommonJSType);\r\n        await Promise.all(\r\n          parentRequires.map(({ resolved, isConditional }) =>\r\n            analyzeRequiredModule(parentId, resolved, isConditional, this.load)\r\n          )\r\n        );\r\n        if (getTypeForFullyAnalyzedModule(parentId) !== parentMeta.isCommonJS) {\r\n          return true;\r\n        }\r\n        for (const {\r\n          resolved: { id }\r\n        } of parentRequires) {\r\n          if (getTypeForFullyAnalyzedModule(id) !== parentMeta.isRequiredCommonJS[id]) {\r\n            return true;\r\n          }\r\n        }\r\n        // Now that we decided to go with the cached copy, neither the parent\r\n        // module nor any of its children may change types anymore\r\n        fullyAnalyzedModules[parentId] = true;\r\n        for (const {\r\n          resolved: { id }\r\n        } of parentRequires) {\r\n          fullyAnalyzedModules[id] = true;\r\n        }\r\n      }\r\n      const parentRequireSet = new Set((parentRequires || []).map(({ resolved: { id } }) => id));\r\n      return (\r\n        await Promise.all(\r\n          Object.keys(resolvedSources)\r\n            .map((source) => resolvedSources[source])\r\n            .filter(({ id, external }) => !(external || parentRequireSet.has(id)))\r\n            .map(async (resolved) => {\r\n              if (isWrappedId(resolved.id, ES_IMPORT_SUFFIX)) {\r\n                return (\r\n                  (await getTypeForImportedModule(\r\n                    (await this.load({ id: resolved.id })).meta.commonjs.resolved,\r\n                    this.load\r\n                  )) !== IS_WRAPPED_COMMONJS\r\n                );\r\n              }\r\n              return (await getTypeForImportedModule(resolved, this.load)) === IS_WRAPPED_COMMONJS;\r\n            })\r\n        )\r\n      ).some((shouldTransform) => shouldTransform);\r\n    },\r\n    /* eslint-disable no-param-reassign */\r\n    resolveRequireSourcesAndUpdateMeta: (rollupContext) => async (\r\n      parentId,\r\n      isParentCommonJS,\r\n      parentMeta,\r\n      sources\r\n    ) => {\r\n      parentMeta.initialCommonJSType = isParentCommonJS;\r\n      parentMeta.requires = [];\r\n      parentMeta.isRequiredCommonJS = Object.create(null);\r\n      setInitialParentType(parentId, isParentCommonJS);\r\n      const currentlyResolvingForParent = currentlyResolving.get(parentId) || new Set();\r\n      currentlyResolving.set(parentId, currentlyResolvingForParent);\r\n      const requireTargets = await Promise.all(\r\n        sources.map(async ({ source, isConditional }) => {\r\n          // Never analyze or proxy internal modules\r\n          if (source.startsWith('\\0')) {\r\n            return { id: source, allowProxy: false };\r\n          }\r\n          currentlyResolvingForParent.add(source);\r\n          const resolved =\r\n            (await rollupContext.resolve(source, parentId, {\r\n              custom: { 'node-resolve': { isRequire: true } }\r\n            })) || resolveExtensions(source, parentId, extensions);\r\n          currentlyResolvingForParent.delete(source);\r\n          if (!resolved) {\r\n            return { id: wrapId(source, EXTERNAL_SUFFIX), allowProxy: false };\r\n          }\r\n          const childId = resolved.id;\r\n          if (resolved.external) {\r\n            return { id: wrapId(childId, EXTERNAL_SUFFIX), allowProxy: false };\r\n          }\r\n          parentMeta.requires.push({ resolved, isConditional });\r\n          await analyzeRequiredModule(parentId, resolved, isConditional, rollupContext.load);\r\n          return { id: childId, allowProxy: true };\r\n        })\r\n      );\r\n      parentMeta.isCommonJS = getTypeForFullyAnalyzedModule(parentId);\r\n      fullyAnalyzedModules[parentId] = true;\r\n      return requireTargets.map(({ id: dependencyId, allowProxy }, index) => {\r\n        // eslint-disable-next-line no-multi-assign\r\n        const isCommonJS = (parentMeta.isRequiredCommonJS[\r\n          dependencyId\r\n        ] = getTypeForFullyAnalyzedModule(dependencyId));\r\n        fullyAnalyzedModules[dependencyId] = true;\r\n        return {\r\n          source: sources[index].source,\r\n          id: allowProxy\r\n            ? isCommonJS === IS_WRAPPED_COMMONJS\r\n              ? wrapId(dependencyId, WRAPPED_SUFFIX)\r\n              : wrapId(dependencyId, PROXY_SUFFIX)\r\n            : dependencyId,\r\n          isCommonJS\r\n        };\r\n      });\r\n    },\r\n    isCurrentlyResolving(source, parentId) {\r\n      const currentlyResolvingForParent = currentlyResolving.get(parentId);\r\n      return currentlyResolvingForParent && currentlyResolvingForParent.has(source);\r\n    }\r\n  };\r\n}\r\n\r\nfunction validateVersion(actualVersion, peerDependencyVersion, name) {\r\n  const versionRegexp = /\\^(\\d+\\.\\d+\\.\\d+)/g;\r\n  let minMajor = Infinity;\r\n  let minMinor = Infinity;\r\n  let minPatch = Infinity;\r\n  let foundVersion;\r\n  // eslint-disable-next-line no-cond-assign\r\n  while ((foundVersion = versionRegexp.exec(peerDependencyVersion))) {\r\n    const [foundMajor, foundMinor, foundPatch] = foundVersion[1].split('.').map(Number);\r\n    if (foundMajor < minMajor) {\r\n      minMajor = foundMajor;\r\n      minMinor = foundMinor;\r\n      minPatch = foundPatch;\r\n    }\r\n  }\r\n  if (!actualVersion) {\r\n    throw new Error(\r\n      `Insufficient ${name} version: \"@rollup/plugin-commonjs\" requires at least ${name}@${minMajor}.${minMinor}.${minPatch}.`\r\n    );\r\n  }\r\n  const [major, minor, patch] = actualVersion.split('.').map(Number);\r\n  if (\r\n    major < minMajor ||\r\n    (major === minMajor && (minor < minMinor || (minor === minMinor && patch < minPatch)))\r\n  ) {\r\n    throw new Error(\r\n      `Insufficient ${name} version: \"@rollup/plugin-commonjs\" requires at least ${name}@${minMajor}.${minMinor}.${minPatch} but found ${name}@${actualVersion}.`\r\n    );\r\n  }\r\n}\r\n\r\nconst operators = {\r\n  '==': (x) => equals(x.left, x.right, false),\r\n\r\n  '!=': (x) => not(operators['=='](x)),\r\n\r\n  '===': (x) => equals(x.left, x.right, true),\r\n\r\n  '!==': (x) => not(operators['==='](x)),\r\n\r\n  '!': (x) => isFalsy(x.argument),\r\n\r\n  '&&': (x) => isTruthy(x.left) && isTruthy(x.right),\r\n\r\n  '||': (x) => isTruthy(x.left) || isTruthy(x.right)\r\n};\r\n\r\nfunction not(value) {\r\n  return value === null ? value : !value;\r\n}\r\n\r\nfunction equals(a, b, strict) {\r\n  if (a.type !== b.type) return null;\r\n  // eslint-disable-next-line eqeqeq\r\n  if (a.type === 'Literal') return strict ? a.value === b.value : a.value == b.value;\r\n  return null;\r\n}\r\n\r\nfunction isTruthy(node) {\r\n  if (!node) return false;\r\n  if (node.type === 'Literal') return !!node.value;\r\n  if (node.type === 'ParenthesizedExpression') return isTruthy(node.expression);\r\n  if (node.operator in operators) return operators[node.operator](node);\r\n  return null;\r\n}\r\n\r\nfunction isFalsy(node) {\r\n  return not(isTruthy(node));\r\n}\r\n\r\nfunction getKeypath(node) {\r\n  const parts = [];\r\n\r\n  while (node.type === 'MemberExpression') {\r\n    if (node.computed) return null;\r\n\r\n    parts.unshift(node.property.name);\r\n    // eslint-disable-next-line no-param-reassign\r\n    node = node.object;\r\n  }\r\n\r\n  if (node.type !== 'Identifier') return null;\r\n\r\n  const { name } = node;\r\n  parts.unshift(name);\r\n\r\n  return { name, keypath: parts.join('.') };\r\n}\r\n\r\nconst KEY_COMPILED_ESM = '__esModule';\r\n\r\nfunction isDefineCompiledEsm(node) {\r\n  const definedProperty =\r\n    getDefinePropertyCallName(node, 'exports') || getDefinePropertyCallName(node, 'module.exports');\r\n  if (definedProperty && definedProperty.key === KEY_COMPILED_ESM) {\r\n    return isTruthy(definedProperty.value);\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction getDefinePropertyCallName(node, targetName) {\r\n  const {\r\n    callee: { object, property }\r\n  } = node;\r\n  if (!object || object.type !== 'Identifier' || object.name !== 'Object') return;\r\n  if (!property || property.type !== 'Identifier' || property.name !== 'defineProperty') return;\r\n  if (node.arguments.length !== 3) return;\r\n\r\n  const targetNames = targetName.split('.');\r\n  const [target, key, value] = node.arguments;\r\n  if (targetNames.length === 1) {\r\n    if (target.type !== 'Identifier' || target.name !== targetNames[0]) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (targetNames.length === 2) {\r\n    if (\r\n      target.type !== 'MemberExpression' ||\r\n      target.object.name !== targetNames[0] ||\r\n      target.property.name !== targetNames[1]\r\n    ) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (value.type !== 'ObjectExpression' || !value.properties) return;\r\n\r\n  const valueProperty = value.properties.find((p) => p.key && p.key.name === 'value');\r\n  if (!valueProperty || !valueProperty.value) return;\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  return { key: key.value, value: valueProperty.value };\r\n}\r\n\r\nfunction isShorthandProperty(parent) {\r\n  return parent && parent.type === 'Property' && parent.shorthand;\r\n}\r\n\r\nfunction hasDefineEsmProperty(node) {\r\n  return node.properties.some((property) => {\r\n    if (\r\n      property.type === 'Property' &&\r\n      property.key.type === 'Identifier' &&\r\n      property.key.name === '__esModule' &&\r\n      isTruthy(property.value)\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n}\r\n\r\nfunction wrapCode(magicString, uses, moduleName, exportsName, indentExclusionRanges) {\r\n  const args = [];\r\n  const passedArgs = [];\r\n  if (uses.module) {\r\n    args.push('module');\r\n    passedArgs.push(moduleName);\r\n  }\r\n  if (uses.exports) {\r\n    args.push('exports');\r\n    passedArgs.push(exportsName);\r\n  }\r\n  magicString\r\n    .trim()\r\n    .indent('\\t', { exclude: indentExclusionRanges })\r\n    .prepend(`(function (${args.join(', ')}) {\\n`)\r\n    .append(`\\n} (${passedArgs.join(', ')}));`);\r\n}\r\n\r\nfunction rewriteExportsAndGetExportsBlock(\r\n  magicString,\r\n  moduleName,\r\n  exportsName,\r\n  wrapped,\r\n  moduleExportsAssignments,\r\n  firstTopLevelModuleExportsAssignment,\r\n  exportsAssignmentsByName,\r\n  topLevelAssignments,\r\n  defineCompiledEsmExpressions,\r\n  deconflictedExportNames,\r\n  code,\r\n  HELPERS_NAME,\r\n  exportMode,\r\n  detectWrappedDefault,\r\n  defaultIsModuleExports,\r\n  usesRequireWrapper,\r\n  requireName\r\n) {\r\n  const exports = [];\r\n  const exportDeclarations = [];\r\n\r\n  if (usesRequireWrapper) {\r\n    getExportsWhenUsingRequireWrapper(\r\n      magicString,\r\n      wrapped,\r\n      exportMode,\r\n      exports,\r\n      moduleExportsAssignments,\r\n      exportsAssignmentsByName,\r\n      moduleName,\r\n      exportsName,\r\n      requireName,\r\n      defineCompiledEsmExpressions\r\n    );\r\n  } else if (exportMode === 'replace') {\r\n    getExportsForReplacedModuleExports(\r\n      magicString,\r\n      exports,\r\n      exportDeclarations,\r\n      moduleExportsAssignments,\r\n      firstTopLevelModuleExportsAssignment,\r\n      exportsName\r\n    );\r\n  } else {\r\n    exports.push(`${exportsName} as __moduleExports`);\r\n    if (wrapped) {\r\n      getExportsWhenWrapping(\r\n        exportDeclarations,\r\n        exportsName,\r\n        detectWrappedDefault,\r\n        HELPERS_NAME,\r\n        defaultIsModuleExports\r\n      );\r\n    } else {\r\n      getExports(\r\n        magicString,\r\n        exports,\r\n        exportDeclarations,\r\n        moduleExportsAssignments,\r\n        exportsAssignmentsByName,\r\n        deconflictedExportNames,\r\n        topLevelAssignments,\r\n        moduleName,\r\n        exportsName,\r\n        defineCompiledEsmExpressions,\r\n        HELPERS_NAME,\r\n        defaultIsModuleExports\r\n      );\r\n    }\r\n  }\r\n  if (exports.length) {\r\n    exportDeclarations.push(`export { ${exports.join(', ')} };`);\r\n  }\r\n\r\n  return `\\n\\n${exportDeclarations.join('\\n')}`;\r\n}\r\n\r\nfunction getExportsWhenUsingRequireWrapper(\r\n  magicString,\r\n  wrapped,\r\n  exportMode,\r\n  exports,\r\n  moduleExportsAssignments,\r\n  exportsAssignmentsByName,\r\n  moduleName,\r\n  exportsName,\r\n  requireName,\r\n  defineCompiledEsmExpressions\r\n) {\r\n  if (!wrapped) {\r\n    if (exportMode === 'replace') {\r\n      for (const { left } of moduleExportsAssignments) {\r\n        magicString.overwrite(left.start, left.end, exportsName);\r\n      }\r\n    } else {\r\n      // Collect and rewrite module.exports assignments\r\n      for (const { left } of moduleExportsAssignments) {\r\n        magicString.overwrite(left.start, left.end, `${moduleName}.exports`);\r\n      }\r\n      // Collect and rewrite named exports\r\n      for (const [exportName, { nodes }] of exportsAssignmentsByName) {\r\n        for (const node of nodes) {\r\n          magicString.overwrite(node.start, node.left.end, `${exportsName}.${exportName}`);\r\n        }\r\n      }\r\n      // Collect and rewrite exports.__esModule assignments\r\n      for (const expression of defineCompiledEsmExpressions) {\r\n        const moduleExportsExpression =\r\n          expression.type === 'CallExpression' ? expression.arguments[0] : expression.left.object;\r\n        magicString.overwrite(\r\n          moduleExportsExpression.start,\r\n          moduleExportsExpression.end,\r\n          exportsName\r\n        );\r\n      }\r\n    }\r\n  }\r\n  exports.push(`${requireName} as __require`);\r\n}\r\n\r\nfunction getExportsForReplacedModuleExports(\r\n  magicString,\r\n  exports,\r\n  exportDeclarations,\r\n  moduleExportsAssignments,\r\n  firstTopLevelModuleExportsAssignment,\r\n  exportsName\r\n) {\r\n  for (const { left } of moduleExportsAssignments) {\r\n    magicString.overwrite(left.start, left.end, exportsName);\r\n  }\r\n  magicString.prependRight(firstTopLevelModuleExportsAssignment.left.start, 'var ');\r\n  exports.push(`${exportsName} as __moduleExports`);\r\n  exportDeclarations.push(`export default ${exportsName};`);\r\n}\r\n\r\nfunction getExportsWhenWrapping(\r\n  exportDeclarations,\r\n  exportsName,\r\n  detectWrappedDefault,\r\n  HELPERS_NAME,\r\n  defaultIsModuleExports\r\n) {\r\n  exportDeclarations.push(\r\n    `export default ${\r\n      detectWrappedDefault && defaultIsModuleExports === 'auto'\r\n        ? `/*@__PURE__*/${HELPERS_NAME}.getDefaultExportFromCjs(${exportsName})`\r\n        : defaultIsModuleExports === false\r\n        ? `${exportsName}.default`\r\n        : exportsName\r\n    };`\r\n  );\r\n}\r\n\r\nfunction getExports(\r\n  magicString,\r\n  exports,\r\n  exportDeclarations,\r\n  moduleExportsAssignments,\r\n  exportsAssignmentsByName,\r\n  deconflictedExportNames,\r\n  topLevelAssignments,\r\n  moduleName,\r\n  exportsName,\r\n  defineCompiledEsmExpressions,\r\n  HELPERS_NAME,\r\n  defaultIsModuleExports\r\n) {\r\n  let deconflictedDefaultExportName;\r\n  // Collect and rewrite module.exports assignments\r\n  for (const { left } of moduleExportsAssignments) {\r\n    magicString.overwrite(left.start, left.end, `${moduleName}.exports`);\r\n  }\r\n\r\n  // Collect and rewrite named exports\r\n  for (const [exportName, { nodes }] of exportsAssignmentsByName) {\r\n    const deconflicted = deconflictedExportNames[exportName];\r\n    let needsDeclaration = true;\r\n    for (const node of nodes) {\r\n      let replacement = `${deconflicted} = ${exportsName}.${exportName}`;\r\n      if (needsDeclaration && topLevelAssignments.has(node)) {\r\n        replacement = `var ${replacement}`;\r\n        needsDeclaration = false;\r\n      }\r\n      magicString.overwrite(node.start, node.left.end, replacement);\r\n    }\r\n    if (needsDeclaration) {\r\n      magicString.prepend(`var ${deconflicted};\\n`);\r\n    }\r\n\r\n    if (exportName === 'default') {\r\n      deconflictedDefaultExportName = deconflicted;\r\n    } else {\r\n      exports.push(exportName === deconflicted ? exportName : `${deconflicted} as ${exportName}`);\r\n    }\r\n  }\r\n\r\n  // Collect and rewrite exports.__esModule assignments\r\n  let isRestorableCompiledEsm = false;\r\n  for (const expression of defineCompiledEsmExpressions) {\r\n    isRestorableCompiledEsm = true;\r\n    const moduleExportsExpression =\r\n      expression.type === 'CallExpression' ? expression.arguments[0] : expression.left.object;\r\n    magicString.overwrite(moduleExportsExpression.start, moduleExportsExpression.end, exportsName);\r\n  }\r\n\r\n  if (!isRestorableCompiledEsm || defaultIsModuleExports === true) {\r\n    exports.push(`${exportsName} as default`);\r\n  } else if (moduleExportsAssignments.length === 0 || defaultIsModuleExports === false) {\r\n    exports.push(`${deconflictedDefaultExportName || exportsName} as default`);\r\n  } else {\r\n    exportDeclarations.push(\r\n      `export default /*@__PURE__*/${HELPERS_NAME}.getDefaultExportFromCjs(${exportsName});`\r\n    );\r\n  }\r\n}\r\n\r\nfunction isRequireExpression(node, scope) {\r\n  if (!node) return false;\r\n  if (node.type !== 'CallExpression') return false;\r\n\r\n  // Weird case of `require()` or `module.require()` without arguments\r\n  if (node.arguments.length === 0) return false;\r\n\r\n  return isRequire(node.callee, scope);\r\n}\r\n\r\nfunction isRequire(node, scope) {\r\n  return (\r\n    (node.type === 'Identifier' && node.name === 'require' && !scope.contains('require')) ||\r\n    (node.type === 'MemberExpression' && isModuleRequire(node, scope))\r\n  );\r\n}\r\n\r\nfunction isModuleRequire({ object, property }, scope) {\r\n  return (\r\n    object.type === 'Identifier' &&\r\n    object.name === 'module' &&\r\n    property.type === 'Identifier' &&\r\n    property.name === 'require' &&\r\n    !scope.contains('module')\r\n  );\r\n}\r\n\r\nfunction hasDynamicArguments(node) {\r\n  return (\r\n    node.arguments.length > 1 ||\r\n    (node.arguments[0].type !== 'Literal' &&\r\n      (node.arguments[0].type !== 'TemplateLiteral' || node.arguments[0].expressions.length > 0))\r\n  );\r\n}\r\n\r\nconst reservedMethod = { resolve: true, cache: true, main: true };\r\n\r\nfunction isNodeRequirePropertyAccess(parent) {\r\n  return parent && parent.property && reservedMethod[parent.property.name];\r\n}\r\n\r\nfunction getRequireStringArg(node) {\r\n  return node.arguments[0].type === 'Literal'\r\n    ? node.arguments[0].value\r\n    : node.arguments[0].quasis[0].value.cooked;\r\n}\r\n\r\nfunction getRequireHandlers() {\r\n  const requireExpressions = [];\r\n\r\n  function addRequireExpression(\r\n    sourceId,\r\n    node,\r\n    scope,\r\n    usesReturnValue,\r\n    isInsideTryBlock,\r\n    isInsideConditional,\r\n    toBeRemoved\r\n  ) {\r\n    requireExpressions.push({\r\n      sourceId,\r\n      node,\r\n      scope,\r\n      usesReturnValue,\r\n      isInsideTryBlock,\r\n      isInsideConditional,\r\n      toBeRemoved\r\n    });\r\n  }\r\n\r\n  async function rewriteRequireExpressionsAndGetImportBlock(\r\n    magicString,\r\n    topLevelDeclarations,\r\n    reassignedNames,\r\n    helpersName,\r\n    dynamicRequireName,\r\n    moduleName,\r\n    exportsName,\r\n    id,\r\n    exportMode,\r\n    resolveRequireSourcesAndUpdateMeta,\r\n    needsRequireWrapper,\r\n    isEsModule,\r\n    isDynamicRequireModulesEnabled,\r\n    getIgnoreTryCatchRequireStatementMode,\r\n    commonjsMeta\r\n  ) {\r\n    const imports = [];\r\n    imports.push(`import * as ${helpersName} from \"${HELPERS_ID}\";`);\r\n    if (dynamicRequireName) {\r\n      imports.push(\r\n        `import { ${\r\n          isDynamicRequireModulesEnabled ? CREATE_COMMONJS_REQUIRE_EXPORT : COMMONJS_REQUIRE_EXPORT\r\n        } as ${dynamicRequireName} } from \"${DYNAMIC_MODULES_ID}\";`\r\n      );\r\n    }\r\n    if (exportMode === 'module') {\r\n      imports.push(\r\n        `import { __module as ${moduleName}, exports as ${exportsName} } from ${JSON.stringify(\r\n          wrapId(id, MODULE_SUFFIX)\r\n        )}`\r\n      );\r\n    } else if (exportMode === 'exports') {\r\n      imports.push(\r\n        `import { __exports as ${exportsName} } from ${JSON.stringify(wrapId(id, EXPORTS_SUFFIX))}`\r\n      );\r\n    }\r\n    const requiresBySource = collectSources(requireExpressions);\r\n    const requireTargets = await resolveRequireSourcesAndUpdateMeta(\r\n      id,\r\n      needsRequireWrapper ? IS_WRAPPED_COMMONJS : !isEsModule,\r\n      commonjsMeta,\r\n      Object.keys(requiresBySource).map((source) => {\r\n        return {\r\n          source,\r\n          isConditional: requiresBySource[source].every((require) => require.isInsideConditional)\r\n        };\r\n      })\r\n    );\r\n    processRequireExpressions(\r\n      imports,\r\n      requireTargets,\r\n      requiresBySource,\r\n      getIgnoreTryCatchRequireStatementMode,\r\n      magicString\r\n    );\r\n    return imports.length ? `${imports.join('\\n')}\\n\\n` : '';\r\n  }\r\n\r\n  return {\r\n    addRequireExpression,\r\n    rewriteRequireExpressionsAndGetImportBlock\r\n  };\r\n}\r\n\r\nfunction collectSources(requireExpressions) {\r\n  const requiresBySource = Object.create(null);\r\n  for (const requireExpression of requireExpressions) {\r\n    const { sourceId } = requireExpression;\r\n    if (!requiresBySource[sourceId]) {\r\n      requiresBySource[sourceId] = [];\r\n    }\r\n    const requires = requiresBySource[sourceId];\r\n    requires.push(requireExpression);\r\n  }\r\n  return requiresBySource;\r\n}\r\n\r\nfunction processRequireExpressions(\r\n  imports,\r\n  requireTargets,\r\n  requiresBySource,\r\n  getIgnoreTryCatchRequireStatementMode,\r\n  magicString\r\n) {\r\n  const generateRequireName = getGenerateRequireName();\r\n  for (const { source, id: resolvedId, isCommonJS } of requireTargets) {\r\n    const requires = requiresBySource[source];\r\n    const name = generateRequireName(requires);\r\n    let usesRequired = false;\r\n    let needsImport = false;\r\n    for (const { node, usesReturnValue, toBeRemoved, isInsideTryBlock } of requires) {\r\n      const { canConvertRequire, shouldRemoveRequire } =\r\n        isInsideTryBlock && isWrappedId(resolvedId, EXTERNAL_SUFFIX)\r\n          ? getIgnoreTryCatchRequireStatementMode(source)\r\n          : { canConvertRequire: true, shouldRemoveRequire: false };\r\n      if (shouldRemoveRequire) {\r\n        if (usesReturnValue) {\r\n          magicString.overwrite(node.start, node.end, 'undefined');\r\n        } else {\r\n          magicString.remove(toBeRemoved.start, toBeRemoved.end);\r\n        }\r\n      } else if (canConvertRequire) {\r\n        needsImport = true;\r\n        if (isCommonJS === IS_WRAPPED_COMMONJS) {\r\n          magicString.overwrite(node.start, node.end, `${name}()`);\r\n        } else if (usesReturnValue) {\r\n          usesRequired = true;\r\n          magicString.overwrite(node.start, node.end, name);\r\n        } else {\r\n          magicString.remove(toBeRemoved.start, toBeRemoved.end);\r\n        }\r\n      }\r\n    }\r\n    if (needsImport) {\r\n      if (isCommonJS === IS_WRAPPED_COMMONJS) {\r\n        imports.push(`import { __require as ${name} } from ${JSON.stringify(resolvedId)};`);\r\n      } else {\r\n        imports.push(`import ${usesRequired ? `${name} from ` : ''}${JSON.stringify(resolvedId)};`);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getGenerateRequireName() {\r\n  let uid = 0;\r\n  return (requires) => {\r\n    let name;\r\n    const hasNameConflict = ({ scope }) => scope.contains(name);\r\n    do {\r\n      name = `require$$${uid}`;\r\n      uid += 1;\r\n    } while (requires.some(hasNameConflict));\r\n    return name;\r\n  };\r\n}\r\n\r\n/* eslint-disable no-param-reassign, no-shadow, no-underscore-dangle, no-continue */\r\n\r\nconst exportsPattern = /^(?:module\\.)?exports(?:\\.([a-zA-Z_$][a-zA-Z_$0-9]*))?$/;\r\n\r\nconst functionType = /^(?:FunctionDeclaration|FunctionExpression|ArrowFunctionExpression)$/;\r\n\r\nasync function transformCommonjs(\r\n  parse,\r\n  code,\r\n  id,\r\n  isEsModule,\r\n  ignoreGlobal,\r\n  ignoreRequire,\r\n  ignoreDynamicRequires,\r\n  getIgnoreTryCatchRequireStatementMode,\r\n  sourceMap,\r\n  isDynamicRequireModulesEnabled,\r\n  dynamicRequireModules,\r\n  commonDir,\r\n  astCache,\r\n  defaultIsModuleExports,\r\n  needsRequireWrapper,\r\n  resolveRequireSourcesAndUpdateMeta,\r\n  isRequired,\r\n  checkDynamicRequire,\r\n  commonjsMeta\r\n) {\r\n  const ast = astCache || tryParse(parse, code, id);\r\n  const magicString = new MagicString$1(code);\r\n  const uses = {\r\n    module: false,\r\n    exports: false,\r\n    global: false,\r\n    require: false\r\n  };\r\n  const virtualDynamicRequirePath =\r\n    isDynamicRequireModulesEnabled && getVirtualPathForDynamicRequirePath(dirname$1(id), commonDir);\r\n  let scope = attachScopes(ast, 'scope');\r\n  let lexicalDepth = 0;\r\n  let programDepth = 0;\r\n  let currentTryBlockEnd = null;\r\n  let shouldWrap = false;\r\n  let reexports = false;\r\n\r\n  const globals = new Set();\r\n  // A conditionalNode is a node for which execution is not guaranteed. If such a node is a require\r\n  // or contains nested requires, those should be handled as function calls unless there is an\r\n  // unconditional require elsewhere.\r\n  let currentConditionalNodeEnd = null;\r\n  const conditionalNodes = new Set();\r\n  const { addRequireExpression, rewriteRequireExpressionsAndGetImportBlock } = getRequireHandlers();\r\n\r\n  // See which names are assigned to. This is necessary to prevent\r\n  // illegally replacing `var foo = require('foo')` with `import foo from 'foo'`,\r\n  // where `foo` is later reassigned. (This happens in the wild. CommonJS, sigh)\r\n  const reassignedNames = new Set();\r\n  const topLevelDeclarations = [];\r\n  const skippedNodes = new Set();\r\n  const moduleAccessScopes = new Set([scope]);\r\n  const exportsAccessScopes = new Set([scope]);\r\n  const moduleExportsAssignments = [];\r\n  let firstTopLevelModuleExportsAssignment = null;\r\n  const exportsAssignmentsByName = new Map();\r\n  const topLevelAssignments = new Set();\r\n  const topLevelDefineCompiledEsmExpressions = [];\r\n  const replacedGlobal = [];\r\n  const replacedDynamicRequires = [];\r\n  const importedVariables = new Set();\r\n  const indentExclusionRanges = [];\r\n\r\n  walk$3(ast, {\r\n    enter(node, parent) {\r\n      if (skippedNodes.has(node)) {\r\n        this.skip();\r\n        return;\r\n      }\r\n\r\n      if (currentTryBlockEnd !== null && node.start > currentTryBlockEnd) {\r\n        currentTryBlockEnd = null;\r\n      }\r\n      if (currentConditionalNodeEnd !== null && node.start > currentConditionalNodeEnd) {\r\n        currentConditionalNodeEnd = null;\r\n      }\r\n      if (currentConditionalNodeEnd === null && conditionalNodes.has(node)) {\r\n        currentConditionalNodeEnd = node.end;\r\n      }\r\n\r\n      programDepth += 1;\r\n      if (node.scope) ({ scope } = node);\r\n      if (functionType.test(node.type)) lexicalDepth += 1;\r\n      if (sourceMap) {\r\n        magicString.addSourcemapLocation(node.start);\r\n        magicString.addSourcemapLocation(node.end);\r\n      }\r\n\r\n      // eslint-disable-next-line default-case\r\n      switch (node.type) {\r\n        case 'AssignmentExpression':\r\n          if (node.left.type === 'MemberExpression') {\r\n            const flattened = getKeypath(node.left);\r\n            if (!flattened || scope.contains(flattened.name)) return;\r\n\r\n            const exportsPatternMatch = exportsPattern.exec(flattened.keypath);\r\n            if (!exportsPatternMatch || flattened.keypath === 'exports') return;\r\n\r\n            const [, exportName] = exportsPatternMatch;\r\n            uses[flattened.name] = true;\r\n\r\n            // we're dealing with `module.exports = ...` or `[module.]exports.foo = ...` \u2013\r\n            if (flattened.keypath === 'module.exports') {\r\n              moduleExportsAssignments.push(node);\r\n              if (programDepth > 3) {\r\n                moduleAccessScopes.add(scope);\r\n              } else if (!firstTopLevelModuleExportsAssignment) {\r\n                firstTopLevelModuleExportsAssignment = node;\r\n              }\r\n\r\n              if (defaultIsModuleExports === false) {\r\n                shouldWrap = true;\r\n              } else if (defaultIsModuleExports === 'auto') {\r\n                if (node.right.type === 'ObjectExpression') {\r\n                  if (hasDefineEsmProperty(node.right)) {\r\n                    shouldWrap = true;\r\n                  }\r\n                } else if (isRequireExpression(node.right, scope)) {\r\n                  shouldWrap = true;\r\n                  reexports = true;\r\n                }\r\n              }\r\n            } else if (exportName === KEY_COMPILED_ESM) {\r\n              if (programDepth > 3) {\r\n                shouldWrap = true;\r\n              } else {\r\n                topLevelDefineCompiledEsmExpressions.push(node);\r\n              }\r\n            } else {\r\n              const exportsAssignments = exportsAssignmentsByName.get(exportName) || {\r\n                nodes: [],\r\n                scopes: new Set()\r\n              };\r\n              exportsAssignments.nodes.push(node);\r\n              exportsAssignments.scopes.add(scope);\r\n              exportsAccessScopes.add(scope);\r\n              exportsAssignmentsByName.set(exportName, exportsAssignments);\r\n              if (programDepth <= 3) {\r\n                topLevelAssignments.add(node);\r\n              }\r\n            }\r\n\r\n            skippedNodes.add(node.left);\r\n          } else {\r\n            for (const name of extractAssignedNames(node.left)) {\r\n              reassignedNames.add(name);\r\n            }\r\n          }\r\n          return;\r\n        case 'CallExpression': {\r\n          if (isDefineCompiledEsm(node)) {\r\n            if (programDepth === 3 && parent.type === 'ExpressionStatement') {\r\n              // skip special handling for [module.]exports until we know we render this\r\n              skippedNodes.add(node.arguments[0]);\r\n              topLevelDefineCompiledEsmExpressions.push(node);\r\n            } else {\r\n              shouldWrap = true;\r\n            }\r\n            return;\r\n          }\r\n\r\n          // Transform require.resolve\r\n          if (\r\n            isDynamicRequireModulesEnabled &&\r\n            node.callee.object &&\r\n            isRequire(node.callee.object, scope) &&\r\n            node.callee.property.name === 'resolve'\r\n          ) {\r\n            checkDynamicRequire(node.start);\r\n            uses.require = true;\r\n            const requireNode = node.callee.object;\r\n            replacedDynamicRequires.push(requireNode);\r\n            return;\r\n          }\r\n\r\n          if (!isRequireExpression(node, scope)) {\r\n            const keypath = getKeypath(node.callee);\r\n            if (keypath && importedVariables.has(keypath.name)) {\r\n              // Heuristic to deoptimize requires after a required function has been called\r\n              currentConditionalNodeEnd = Infinity;\r\n            }\r\n            return;\r\n          }\r\n\r\n          skippedNodes.add(node.callee);\r\n          uses.require = true;\r\n\r\n          if (hasDynamicArguments(node)) {\r\n            if (isDynamicRequireModulesEnabled) {\r\n              checkDynamicRequire(node.start);\r\n            }\r\n            if (!ignoreDynamicRequires) {\r\n              replacedDynamicRequires.push(node.callee);\r\n            }\r\n            return;\r\n          }\r\n\r\n          const requireStringArg = getRequireStringArg(node);\r\n          if (!ignoreRequire(requireStringArg)) {\r\n            const usesReturnValue = parent.type !== 'ExpressionStatement';\r\n            const toBeRemoved =\r\n              parent.type === 'ExpressionStatement' &&\r\n              (!currentConditionalNodeEnd ||\r\n                // We should completely remove requires directly in a try-catch\r\n                // so that Rollup can remove up the try-catch\r\n                (currentTryBlockEnd !== null && currentTryBlockEnd < currentConditionalNodeEnd))\r\n                ? parent\r\n                : node;\r\n            addRequireExpression(\r\n              requireStringArg,\r\n              node,\r\n              scope,\r\n              usesReturnValue,\r\n              currentTryBlockEnd !== null,\r\n              currentConditionalNodeEnd !== null,\r\n              toBeRemoved\r\n            );\r\n            if (parent.type === 'VariableDeclarator' && parent.id.type === 'Identifier') {\r\n              for (const name of extractAssignedNames(parent.id)) {\r\n                importedVariables.add(name);\r\n              }\r\n            }\r\n          }\r\n          return;\r\n        }\r\n        case 'ConditionalExpression':\r\n        case 'IfStatement':\r\n          // skip dead branches\r\n          if (isFalsy(node.test)) {\r\n            skippedNodes.add(node.consequent);\r\n          } else if (isTruthy(node.test)) {\r\n            if (node.alternate) {\r\n              skippedNodes.add(node.alternate);\r\n            }\r\n          } else {\r\n            conditionalNodes.add(node.consequent);\r\n            if (node.alternate) {\r\n              conditionalNodes.add(node.alternate);\r\n            }\r\n          }\r\n          return;\r\n        case 'ArrowFunctionExpression':\r\n        case 'FunctionDeclaration':\r\n        case 'FunctionExpression':\r\n          // requires in functions should be conditional unless it is an IIFE\r\n          if (\r\n            currentConditionalNodeEnd === null &&\r\n            !(parent.type === 'CallExpression' && parent.callee === node)\r\n          ) {\r\n            currentConditionalNodeEnd = node.end;\r\n          }\r\n          return;\r\n        case 'Identifier': {\r\n          const { name } = node;\r\n          if (!isReference(node, parent) || scope.contains(name)) return;\r\n          switch (name) {\r\n            case 'require':\r\n              uses.require = true;\r\n              if (isNodeRequirePropertyAccess(parent)) {\r\n                return;\r\n              }\r\n              if (!ignoreDynamicRequires) {\r\n                if (isShorthandProperty(parent)) {\r\n                  magicString.prependRight(node.start, 'require: ');\r\n                }\r\n                replacedDynamicRequires.push(node);\r\n              }\r\n              return;\r\n            case 'module':\r\n            case 'exports':\r\n              shouldWrap = true;\r\n              uses[name] = true;\r\n              return;\r\n            case 'global':\r\n              uses.global = true;\r\n              if (!ignoreGlobal) {\r\n                replacedGlobal.push(node);\r\n              }\r\n              return;\r\n            case 'define':\r\n              magicString.overwrite(node.start, node.end, 'undefined', {\r\n                storeName: true\r\n              });\r\n              return;\r\n            default:\r\n              globals.add(name);\r\n              return;\r\n          }\r\n        }\r\n        case 'LogicalExpression':\r\n          // skip dead branches\r\n          if (node.operator === '&&') {\r\n            if (isFalsy(node.left)) {\r\n              skippedNodes.add(node.right);\r\n            } else if (!isTruthy(node.left)) {\r\n              conditionalNodes.add(node.right);\r\n            }\r\n          } else if (node.operator === '||') {\r\n            if (isTruthy(node.left)) {\r\n              skippedNodes.add(node.right);\r\n            } else if (!isFalsy(node.left)) {\r\n              conditionalNodes.add(node.right);\r\n            }\r\n          }\r\n          return;\r\n        case 'MemberExpression':\r\n          if (!isDynamicRequireModulesEnabled && isModuleRequire(node, scope)) {\r\n            uses.require = true;\r\n            replacedDynamicRequires.push(node);\r\n            skippedNodes.add(node.object);\r\n            skippedNodes.add(node.property);\r\n          }\r\n          return;\r\n        case 'ReturnStatement':\r\n          // if top-level return, we need to wrap it\r\n          if (lexicalDepth === 0) {\r\n            shouldWrap = true;\r\n          }\r\n          return;\r\n        case 'ThisExpression':\r\n          // rewrite top-level `this` as `commonjsHelpers.commonjsGlobal`\r\n          if (lexicalDepth === 0) {\r\n            uses.global = true;\r\n            if (!ignoreGlobal) {\r\n              replacedGlobal.push(node);\r\n            }\r\n          }\r\n          return;\r\n        case 'TryStatement':\r\n          if (currentTryBlockEnd === null) {\r\n            currentTryBlockEnd = node.block.end;\r\n          }\r\n          if (currentConditionalNodeEnd === null) {\r\n            currentConditionalNodeEnd = node.end;\r\n          }\r\n          return;\r\n        case 'UnaryExpression':\r\n          // rewrite `typeof module`, `typeof module.exports` and `typeof exports` (https://github.com/rollup/rollup-plugin-commonjs/issues/151)\r\n          if (node.operator === 'typeof') {\r\n            const flattened = getKeypath(node.argument);\r\n            if (!flattened) return;\r\n\r\n            if (scope.contains(flattened.name)) return;\r\n\r\n            if (\r\n              !isEsModule &&\r\n              (flattened.keypath === 'module.exports' ||\r\n                flattened.keypath === 'module' ||\r\n                flattened.keypath === 'exports')\r\n            ) {\r\n              magicString.overwrite(node.start, node.end, `'object'`, {\r\n                storeName: false\r\n              });\r\n            }\r\n          }\r\n          return;\r\n        case 'VariableDeclaration':\r\n          if (!scope.parent) {\r\n            topLevelDeclarations.push(node);\r\n          }\r\n          return;\r\n        case 'TemplateElement':\r\n          if (node.value.raw.includes('\\n')) {\r\n            indentExclusionRanges.push([node.start, node.end]);\r\n          }\r\n      }\r\n    },\r\n\r\n    leave(node) {\r\n      programDepth -= 1;\r\n      if (node.scope) scope = scope.parent;\r\n      if (functionType.test(node.type)) lexicalDepth -= 1;\r\n    }\r\n  });\r\n\r\n  const nameBase = getName(id);\r\n  const exportsName = deconflict([...exportsAccessScopes], globals, nameBase);\r\n  const moduleName = deconflict([...moduleAccessScopes], globals, `${nameBase}Module`);\r\n  const requireName = deconflict([scope], globals, `require${capitalize(nameBase)}`);\r\n  const isRequiredName = deconflict([scope], globals, `hasRequired${capitalize(nameBase)}`);\r\n  const helpersName = deconflict([scope], globals, 'commonjsHelpers');\r\n  const dynamicRequireName =\r\n    replacedDynamicRequires.length > 0 &&\r\n    deconflict(\r\n      [scope],\r\n      globals,\r\n      isDynamicRequireModulesEnabled ? CREATE_COMMONJS_REQUIRE_EXPORT : COMMONJS_REQUIRE_EXPORT\r\n    );\r\n  const deconflictedExportNames = Object.create(null);\r\n  for (const [exportName, { scopes }] of exportsAssignmentsByName) {\r\n    deconflictedExportNames[exportName] = deconflict([...scopes], globals, exportName);\r\n  }\r\n\r\n  for (const node of replacedGlobal) {\r\n    magicString.overwrite(node.start, node.end, `${helpersName}.commonjsGlobal`, {\r\n      storeName: true\r\n    });\r\n  }\r\n  for (const node of replacedDynamicRequires) {\r\n    magicString.overwrite(\r\n      node.start,\r\n      node.end,\r\n      isDynamicRequireModulesEnabled\r\n        ? `${dynamicRequireName}(${JSON.stringify(virtualDynamicRequirePath)})`\r\n        : dynamicRequireName,\r\n      {\r\n        contentOnly: true,\r\n        storeName: true\r\n      }\r\n    );\r\n  }\r\n\r\n  // We cannot wrap ES/mixed modules\r\n  shouldWrap = !isEsModule && (shouldWrap || (uses.exports && moduleExportsAssignments.length > 0));\r\n  const detectWrappedDefault =\r\n    shouldWrap &&\r\n    (reexports ||\r\n      topLevelDefineCompiledEsmExpressions.length > 0 ||\r\n      code.indexOf('__esModule') >= 0);\r\n\r\n  if (\r\n    !(\r\n      shouldWrap ||\r\n      isRequired ||\r\n      needsRequireWrapper ||\r\n      uses.module ||\r\n      uses.exports ||\r\n      uses.require ||\r\n      topLevelDefineCompiledEsmExpressions.length > 0\r\n    ) &&\r\n    (ignoreGlobal || !uses.global)\r\n  ) {\r\n    return { meta: { commonjs: { isCommonJS: false } } };\r\n  }\r\n\r\n  let leadingComment = '';\r\n  if (code.startsWith('/*')) {\r\n    const commentEnd = code.indexOf('*/', 2) + 2;\r\n    leadingComment = `${code.slice(0, commentEnd)}\\n`;\r\n    magicString.remove(0, commentEnd).trim();\r\n  }\r\n\r\n  const exportMode = isEsModule\r\n    ? 'none'\r\n    : shouldWrap\r\n    ? uses.module\r\n      ? 'module'\r\n      : 'exports'\r\n    : firstTopLevelModuleExportsAssignment\r\n    ? exportsAssignmentsByName.size === 0 && topLevelDefineCompiledEsmExpressions.length === 0\r\n      ? 'replace'\r\n      : 'module'\r\n    : moduleExportsAssignments.length === 0\r\n    ? 'exports'\r\n    : 'module';\r\n\r\n  const importBlock = await rewriteRequireExpressionsAndGetImportBlock(\r\n    magicString,\r\n    topLevelDeclarations,\r\n    reassignedNames,\r\n    helpersName,\r\n    dynamicRequireName,\r\n    moduleName,\r\n    exportsName,\r\n    id,\r\n    exportMode,\r\n    resolveRequireSourcesAndUpdateMeta,\r\n    needsRequireWrapper,\r\n    isEsModule,\r\n    isDynamicRequireModulesEnabled,\r\n    getIgnoreTryCatchRequireStatementMode,\r\n    commonjsMeta\r\n  );\r\n  const usesRequireWrapper = commonjsMeta.isCommonJS === IS_WRAPPED_COMMONJS;\r\n  const exportBlock = isEsModule\r\n    ? ''\r\n    : rewriteExportsAndGetExportsBlock(\r\n        magicString,\r\n        moduleName,\r\n        exportsName,\r\n        shouldWrap,\r\n        moduleExportsAssignments,\r\n        firstTopLevelModuleExportsAssignment,\r\n        exportsAssignmentsByName,\r\n        topLevelAssignments,\r\n        topLevelDefineCompiledEsmExpressions,\r\n        deconflictedExportNames,\r\n        code,\r\n        helpersName,\r\n        exportMode,\r\n        detectWrappedDefault,\r\n        defaultIsModuleExports,\r\n        usesRequireWrapper,\r\n        requireName\r\n      );\r\n\r\n  if (shouldWrap) {\r\n    wrapCode(magicString, uses, moduleName, exportsName, indentExclusionRanges);\r\n  }\r\n\r\n  if (usesRequireWrapper) {\r\n    magicString.trim().indent('\\t', {\r\n      exclude: indentExclusionRanges\r\n    });\r\n    magicString.prepend(\r\n      `var ${isRequiredName};\r\n\r\nfunction ${requireName} () {\r\n\\tif (${isRequiredName}) return ${exportsName};\r\n\\t${isRequiredName} = 1;\r\n`\r\n    ).append(`\r\n\\treturn ${exportsName};\r\n}`);\r\n    if (exportMode === 'replace') {\r\n      magicString.prepend(`var ${exportsName};\\n`);\r\n    }\r\n  }\r\n\r\n  magicString\r\n    .trim()\r\n    .prepend(leadingComment + importBlock)\r\n    .append(exportBlock);\r\n\r\n  return {\r\n    code: magicString.toString(),\r\n    map: sourceMap ? magicString.generateMap() : null,\r\n    syntheticNamedExports: isEsModule || usesRequireWrapper ? false : '__moduleExports',\r\n    meta: { commonjs: commonjsMeta }\r\n  };\r\n}\r\n\r\nconst PLUGIN_NAME = 'commonjs';\r\n\r\nfunction commonjs(options = {}) {\r\n  const {\r\n    ignoreGlobal,\r\n    ignoreDynamicRequires,\r\n    requireReturnsDefault: requireReturnsDefaultOption,\r\n    defaultIsModuleExports: defaultIsModuleExportsOption,\r\n    esmExternals\r\n  } = options;\r\n  const extensions = options.extensions || ['.js'];\r\n  const filter = createFilter$2(options.include, options.exclude);\r\n  const isPossibleCjsId = (id) => {\r\n    const extName = extname(id);\r\n    return extName === '.cjs' || (extensions.includes(extName) && filter(id));\r\n  };\r\n\r\n  const { strictRequiresFilter, detectCyclesAndConditional } = getStrictRequiresFilter(options);\r\n\r\n  const getRequireReturnsDefault =\r\n    typeof requireReturnsDefaultOption === 'function'\r\n      ? requireReturnsDefaultOption\r\n      : () => requireReturnsDefaultOption;\r\n\r\n  let esmExternalIds;\r\n  const isEsmExternal =\r\n    typeof esmExternals === 'function'\r\n      ? esmExternals\r\n      : Array.isArray(esmExternals)\r\n      ? ((esmExternalIds = new Set(esmExternals)), (id) => esmExternalIds.has(id))\r\n      : () => esmExternals;\r\n\r\n  const getDefaultIsModuleExports =\r\n    typeof defaultIsModuleExportsOption === 'function'\r\n      ? defaultIsModuleExportsOption\r\n      : () =>\r\n          typeof defaultIsModuleExportsOption === 'boolean' ? defaultIsModuleExportsOption : 'auto';\r\n\r\n  const dynamicRequireRoot =\r\n    typeof options.dynamicRequireRoot === 'string'\r\n      ? resolve$4(options.dynamicRequireRoot)\r\n      : process.cwd();\r\n  const { commonDir, dynamicRequireModules } = getDynamicRequireModules(\r\n    options.dynamicRequireTargets,\r\n    dynamicRequireRoot\r\n  );\r\n  const isDynamicRequireModulesEnabled = dynamicRequireModules.size > 0;\r\n\r\n  const ignoreRequire =\r\n    typeof options.ignore === 'function'\r\n      ? options.ignore\r\n      : Array.isArray(options.ignore)\r\n      ? (id) => options.ignore.includes(id)\r\n      : () => false;\r\n\r\n  const getIgnoreTryCatchRequireStatementMode = (id) => {\r\n    const mode =\r\n      typeof options.ignoreTryCatch === 'function'\r\n        ? options.ignoreTryCatch(id)\r\n        : Array.isArray(options.ignoreTryCatch)\r\n        ? options.ignoreTryCatch.includes(id)\r\n        : typeof options.ignoreTryCatch !== 'undefined'\r\n        ? options.ignoreTryCatch\r\n        : true;\r\n\r\n    return {\r\n      canConvertRequire: mode !== 'remove' && mode !== true,\r\n      shouldRemoveRequire: mode === 'remove'\r\n    };\r\n  };\r\n\r\n  const { currentlyResolving, resolveId } = getResolveId(extensions, isPossibleCjsId);\r\n\r\n  const sourceMap = options.sourceMap !== false;\r\n\r\n  // Initialized in buildStart\r\n  let requireResolver;\r\n\r\n  function transformAndCheckExports(code, id) {\r\n    const { isEsModule, hasDefaultExport, hasNamedExports, ast } = analyzeTopLevelStatements(\r\n      this.parse,\r\n      code,\r\n      id\r\n    );\r\n\r\n    const commonjsMeta = this.getModuleInfo(id).meta.commonjs || {};\r\n    if (hasDefaultExport) {\r\n      commonjsMeta.hasDefaultExport = true;\r\n    }\r\n    if (hasNamedExports) {\r\n      commonjsMeta.hasNamedExports = true;\r\n    }\r\n\r\n    if (\r\n      !dynamicRequireModules.has(normalizePathSlashes(id)) &&\r\n      (!(hasCjsKeywords(code, ignoreGlobal) || requireResolver.isRequiredId(id)) ||\r\n        (isEsModule && !options.transformMixedEsModules))\r\n    ) {\r\n      commonjsMeta.isCommonJS = false;\r\n      return { meta: { commonjs: commonjsMeta } };\r\n    }\r\n\r\n    const needsRequireWrapper =\r\n      !isEsModule &&\r\n      (dynamicRequireModules.has(normalizePathSlashes(id)) || strictRequiresFilter(id));\r\n\r\n    const checkDynamicRequire = (position) => {\r\n      if (id.indexOf(dynamicRequireRoot) !== 0) {\r\n        this.error(\r\n          {\r\n            code: 'DYNAMIC_REQUIRE_OUTSIDE_ROOT',\r\n            id,\r\n            dynamicRequireRoot,\r\n            message: `\"${id}\" contains dynamic require statements but it is not within the current dynamicRequireRoot \"${dynamicRequireRoot}\". You should set dynamicRequireRoot to \"${dirname$1(\r\n              id\r\n            )}\" or one of its parent directories.`\r\n          },\r\n          position\r\n        );\r\n      }\r\n    };\r\n\r\n    return transformCommonjs(\r\n      this.parse,\r\n      code,\r\n      id,\r\n      isEsModule,\r\n      ignoreGlobal || isEsModule,\r\n      ignoreRequire,\r\n      ignoreDynamicRequires && !isDynamicRequireModulesEnabled,\r\n      getIgnoreTryCatchRequireStatementMode,\r\n      sourceMap,\r\n      isDynamicRequireModulesEnabled,\r\n      dynamicRequireModules,\r\n      commonDir,\r\n      ast,\r\n      getDefaultIsModuleExports(id),\r\n      needsRequireWrapper,\r\n      requireResolver.resolveRequireSourcesAndUpdateMeta(this),\r\n      requireResolver.isRequiredId(id),\r\n      checkDynamicRequire,\r\n      commonjsMeta\r\n    );\r\n  }\r\n\r\n  return {\r\n    name: PLUGIN_NAME,\r\n\r\n    version: version$1,\r\n\r\n    options(rawOptions) {\r\n      // We inject the resolver in the beginning so that \"catch-all-resolver\" like node-resolver\r\n      // do not prevent our plugin from resolving entry points ot proxies.\r\n      const plugins = Array.isArray(rawOptions.plugins)\r\n        ? [...rawOptions.plugins]\r\n        : rawOptions.plugins\r\n        ? [rawOptions.plugins]\r\n        : [];\r\n      plugins.unshift({\r\n        name: 'commonjs--resolver',\r\n        resolveId\r\n      });\r\n      return { ...rawOptions, plugins };\r\n    },\r\n\r\n    buildStart({ plugins }) {\r\n      validateVersion(this.meta.rollupVersion, peerDependencies.rollup, 'rollup');\r\n      const nodeResolve = plugins.find(({ name }) => name === 'node-resolve');\r\n      if (nodeResolve) {\r\n        validateVersion(nodeResolve.version, '^13.0.6', '@rollup/plugin-node-resolve');\r\n      }\r\n      if (options.namedExports != null) {\r\n        this.warn(\r\n          'The namedExports option from \"@rollup/plugin-commonjs\" is deprecated. Named exports are now handled automatically.'\r\n        );\r\n      }\r\n      requireResolver = getRequireResolver(\r\n        extensions,\r\n        detectCyclesAndConditional,\r\n        currentlyResolving\r\n      );\r\n    },\r\n\r\n    buildEnd() {\r\n      if (options.strictRequires === 'debug') {\r\n        const wrappedIds = requireResolver.getWrappedIds();\r\n        if (wrappedIds.length) {\r\n          this.warn({\r\n            code: 'WRAPPED_IDS',\r\n            ids: wrappedIds,\r\n            message: `The commonjs plugin automatically wrapped the following files:\\n[\\n${wrappedIds\r\n              .map((id) => `\\t${JSON.stringify(relative$1(process.cwd(), id))}`)\r\n              .join(',\\n')}\\n]`\r\n          });\r\n        } else {\r\n          this.warn({\r\n            code: 'WRAPPED_IDS',\r\n            ids: wrappedIds,\r\n            message: 'The commonjs plugin did not wrap any files.'\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    load(id) {\r\n      if (id === HELPERS_ID) {\r\n        return getHelpersModule();\r\n      }\r\n\r\n      if (isWrappedId(id, MODULE_SUFFIX)) {\r\n        const name = getName(unwrapId$1(id, MODULE_SUFFIX));\r\n        return {\r\n          code: `var ${name} = {exports: {}}; export {${name} as __module}`,\r\n          syntheticNamedExports: '__module',\r\n          meta: { commonjs: { isCommonJS: false } }\r\n        };\r\n      }\r\n\r\n      if (isWrappedId(id, EXPORTS_SUFFIX)) {\r\n        const name = getName(unwrapId$1(id, EXPORTS_SUFFIX));\r\n        return {\r\n          code: `var ${name} = {}; export {${name} as __exports}`,\r\n          meta: { commonjs: { isCommonJS: false } }\r\n        };\r\n      }\r\n\r\n      if (isWrappedId(id, EXTERNAL_SUFFIX)) {\r\n        const actualId = unwrapId$1(id, EXTERNAL_SUFFIX);\r\n        return getUnknownRequireProxy(\r\n          actualId,\r\n          isEsmExternal(actualId) ? getRequireReturnsDefault(actualId) : true\r\n        );\r\n      }\r\n\r\n      // entry suffix is just appended to not mess up relative external resolution\r\n      if (id.endsWith(ENTRY_SUFFIX)) {\r\n        const acutalId = id.slice(0, -ENTRY_SUFFIX.length);\r\n        return getEntryProxy(acutalId, getDefaultIsModuleExports(acutalId), this.getModuleInfo);\r\n      }\r\n\r\n      if (isWrappedId(id, ES_IMPORT_SUFFIX)) {\r\n        const actualId = unwrapId$1(id, ES_IMPORT_SUFFIX);\r\n        return getEsImportProxy(actualId, getDefaultIsModuleExports(actualId));\r\n      }\r\n\r\n      if (id === DYNAMIC_MODULES_ID) {\r\n        return getDynamicModuleRegistry(\r\n          isDynamicRequireModulesEnabled,\r\n          dynamicRequireModules,\r\n          commonDir,\r\n          ignoreDynamicRequires\r\n        );\r\n      }\r\n\r\n      if (isWrappedId(id, PROXY_SUFFIX)) {\r\n        const actualId = unwrapId$1(id, PROXY_SUFFIX);\r\n        return getStaticRequireProxy(actualId, getRequireReturnsDefault(actualId), this.load);\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    shouldTransformCachedModule(...args) {\r\n      return requireResolver.shouldTransformCachedModule.call(this, ...args);\r\n    },\r\n\r\n    transform(code, id) {\r\n      if (!isPossibleCjsId(id)) return null;\r\n\r\n      try {\r\n        return transformAndCheckExports.call(this, code, id);\r\n      } catch (err) {\r\n        return this.error(err, err.loc);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nconst comma = ','.charCodeAt(0);\r\nconst semicolon = ';'.charCodeAt(0);\r\nconst chars$1 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\nconst intToChar = new Uint8Array(64); // 64 possible chars.\r\nconst charToInt = new Uint8Array(128); // z is 122 in ASCII\r\nfor (let i = 0; i < chars$1.length; i++) {\r\n    const c = chars$1.charCodeAt(i);\r\n    intToChar[i] = c;\r\n    charToInt[c] = i;\r\n}\r\n// Provide a fallback for older environments.\r\nconst td = typeof TextDecoder !== 'undefined'\r\n    ? /* #__PURE__ */ new TextDecoder()\r\n    : typeof Buffer !== 'undefined'\r\n        ? {\r\n            decode(buf) {\r\n                const out = Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);\r\n                return out.toString();\r\n            },\r\n        }\r\n        : {\r\n            decode(buf) {\r\n                let out = '';\r\n                for (let i = 0; i < buf.length; i++) {\r\n                    out += String.fromCharCode(buf[i]);\r\n                }\r\n                return out;\r\n            },\r\n        };\r\nfunction decode(mappings) {\r\n    const state = new Int32Array(5);\r\n    const decoded = [];\r\n    let index = 0;\r\n    do {\r\n        const semi = indexOf(mappings, index);\r\n        const line = [];\r\n        let sorted = true;\r\n        let lastCol = 0;\r\n        state[0] = 0;\r\n        for (let i = index; i < semi; i++) {\r\n            let seg;\r\n            i = decodeInteger(mappings, i, state, 0); // genColumn\r\n            const col = state[0];\r\n            if (col < lastCol)\r\n                sorted = false;\r\n            lastCol = col;\r\n            if (hasMoreVlq(mappings, i, semi)) {\r\n                i = decodeInteger(mappings, i, state, 1); // sourcesIndex\r\n                i = decodeInteger(mappings, i, state, 2); // sourceLine\r\n                i = decodeInteger(mappings, i, state, 3); // sourceColumn\r\n                if (hasMoreVlq(mappings, i, semi)) {\r\n                    i = decodeInteger(mappings, i, state, 4); // namesIndex\r\n                    seg = [col, state[1], state[2], state[3], state[4]];\r\n                }\r\n                else {\r\n                    seg = [col, state[1], state[2], state[3]];\r\n                }\r\n            }\r\n            else {\r\n                seg = [col];\r\n            }\r\n            line.push(seg);\r\n        }\r\n        if (!sorted)\r\n            sort(line);\r\n        decoded.push(line);\r\n        index = semi + 1;\r\n    } while (index <= mappings.length);\r\n    return decoded;\r\n}\r\nfunction indexOf(mappings, index) {\r\n    const idx = mappings.indexOf(';', index);\r\n    return idx === -1 ? mappings.length : idx;\r\n}\r\nfunction decodeInteger(mappings, pos, state, j) {\r\n    let value = 0;\r\n    let shift = 0;\r\n    let integer = 0;\r\n    do {\r\n        const c = mappings.charCodeAt(pos++);\r\n        integer = charToInt[c];\r\n        value |= (integer & 31) << shift;\r\n        shift += 5;\r\n    } while (integer & 32);\r\n    const shouldNegate = value & 1;\r\n    value >>>= 1;\r\n    if (shouldNegate) {\r\n        value = -0x80000000 | -value;\r\n    }\r\n    state[j] += value;\r\n    return pos;\r\n}\r\nfunction hasMoreVlq(mappings, i, length) {\r\n    if (i >= length)\r\n        return false;\r\n    return mappings.charCodeAt(i) !== comma;\r\n}\r\nfunction sort(line) {\r\n    line.sort(sortComparator$1);\r\n}\r\nfunction sortComparator$1(a, b) {\r\n    return a[0] - b[0];\r\n}\r\nfunction encode$1(decoded) {\r\n    const state = new Int32Array(5);\r\n    const bufLength = 1024 * 16;\r\n    const subLength = bufLength - 36;\r\n    const buf = new Uint8Array(bufLength);\r\n    const sub = buf.subarray(0, subLength);\r\n    let pos = 0;\r\n    let out = '';\r\n    for (let i = 0; i < decoded.length; i++) {\r\n        const line = decoded[i];\r\n        if (i > 0) {\r\n            if (pos === bufLength) {\r\n                out += td.decode(buf);\r\n                pos = 0;\r\n            }\r\n            buf[pos++] = semicolon;\r\n        }\r\n        if (line.length === 0)\r\n            continue;\r\n        state[0] = 0;\r\n        for (let j = 0; j < line.length; j++) {\r\n            const segment = line[j];\r\n            // We can push up to 5 ints, each int can take at most 7 chars, and we\r\n            // may push a comma.\r\n            if (pos > subLength) {\r\n                out += td.decode(sub);\r\n                buf.copyWithin(0, subLength, pos);\r\n                pos -= subLength;\r\n            }\r\n            if (j > 0)\r\n                buf[pos++] = comma;\r\n            pos = encodeInteger(buf, pos, state, segment, 0); // genColumn\r\n            if (segment.length === 1)\r\n                continue;\r\n            pos = encodeInteger(buf, pos, state, segment, 1); // sourcesIndex\r\n            pos = encodeInteger(buf, pos, state, segment, 2); // sourceLine\r\n            pos = encodeInteger(buf, pos, state, segment, 3); // sourceColumn\r\n            if (segment.length === 4)\r\n                continue;\r\n            pos = encodeInteger(buf, pos, state, segment, 4); // namesIndex\r\n        }\r\n    }\r\n    return out + td.decode(buf.subarray(0, pos));\r\n}\r\nfunction encodeInteger(buf, pos, state, segment, j) {\r\n    const next = segment[j];\r\n    let num = next - state[j];\r\n    state[j] = next;\r\n    num = num < 0 ? (-num << 1) | 1 : num << 1;\r\n    do {\r\n        let clamped = num & 0b011111;\r\n        num >>>= 5;\r\n        if (num > 0)\r\n            clamped |= 0b100000;\r\n        buf[pos++] = intToChar[clamped];\r\n    } while (num > 0);\r\n    return pos;\r\n}\r\n\r\n// Matches the scheme of a URL, eg \"http://\"\r\nconst schemeRegex = /^[\\w+.-]+:\\/\\//;\r\n/**\r\n * Matches the parts of a URL:\r\n * 1. Scheme, including \":\", guaranteed.\r\n * 2. User/password, including \"@\", optional.\r\n * 3. Host, guaranteed.\r\n * 4. Port, including \":\", optional.\r\n * 5. Path, including \"/\", optional.\r\n */\r\nconst urlRegex = /^([\\w+.-]+:)\\/\\/([^@/#?]*@)?([^:/#?]*)(:\\d+)?(\\/[^#?]*)?/;\r\n/**\r\n * File URLs are weird. They dont' need the regular `//` in the scheme, they may or may not start\r\n * with a leading `/`, they can have a domain (but only if they don't start with a Windows drive).\r\n *\r\n * 1. Host, optional.\r\n * 2. Path, which may inclue \"/\", guaranteed.\r\n */\r\nconst fileRegex = /^file:(?:\\/\\/((?![a-z]:)[^/]*)?)?(\\/?.*)/i;\r\nfunction isAbsoluteUrl(input) {\r\n    return schemeRegex.test(input);\r\n}\r\nfunction isSchemeRelativeUrl(input) {\r\n    return input.startsWith('//');\r\n}\r\nfunction isAbsolutePath(input) {\r\n    return input.startsWith('/');\r\n}\r\nfunction isFileUrl(input) {\r\n    return input.startsWith('file:');\r\n}\r\nfunction parseAbsoluteUrl(input) {\r\n    const match = urlRegex.exec(input);\r\n    return makeUrl(match[1], match[2] || '', match[3], match[4] || '', match[5] || '/');\r\n}\r\nfunction parseFileUrl(input) {\r\n    const match = fileRegex.exec(input);\r\n    const path = match[2];\r\n    return makeUrl('file:', '', match[1] || '', '', isAbsolutePath(path) ? path : '/' + path);\r\n}\r\nfunction makeUrl(scheme, user, host, port, path) {\r\n    return {\r\n        scheme,\r\n        user,\r\n        host,\r\n        port,\r\n        path,\r\n        relativePath: false,\r\n    };\r\n}\r\nfunction parseUrl$2(input) {\r\n    if (isSchemeRelativeUrl(input)) {\r\n        const url = parseAbsoluteUrl('http:' + input);\r\n        url.scheme = '';\r\n        return url;\r\n    }\r\n    if (isAbsolutePath(input)) {\r\n        const url = parseAbsoluteUrl('http://foo.com' + input);\r\n        url.scheme = '';\r\n        url.host = '';\r\n        return url;\r\n    }\r\n    if (isFileUrl(input))\r\n        return parseFileUrl(input);\r\n    if (isAbsoluteUrl(input))\r\n        return parseAbsoluteUrl(input);\r\n    const url = parseAbsoluteUrl('http://foo.com/' + input);\r\n    url.scheme = '';\r\n    url.host = '';\r\n    url.relativePath = true;\r\n    return url;\r\n}\r\nfunction stripPathFilename(path) {\r\n    // If a path ends with a parent directory \"..\", then it's a relative path with excess parent\r\n    // paths. It's not a file, so we can't strip it.\r\n    if (path.endsWith('/..'))\r\n        return path;\r\n    const index = path.lastIndexOf('/');\r\n    return path.slice(0, index + 1);\r\n}\r\nfunction mergePaths(url, base) {\r\n    // If we're not a relative path, then we're an absolute path, and it doesn't matter what base is.\r\n    if (!url.relativePath)\r\n        return;\r\n    normalizePath$5(base);\r\n    // If the path is just a \"/\", then it was an empty path to begin with (remember, we're a relative\r\n    // path).\r\n    if (url.path === '/') {\r\n        url.path = base.path;\r\n    }\r\n    else {\r\n        // Resolution happens relative to the base path's directory, not the file.\r\n        url.path = stripPathFilename(base.path) + url.path;\r\n    }\r\n    // If the base path is absolute, then our path is now absolute too.\r\n    url.relativePath = base.relativePath;\r\n}\r\n/**\r\n * The path can have empty directories \"//\", unneeded parents \"foo/..\", or current directory\r\n * \"foo/.\". We need to normalize to a standard representation.\r\n */\r\nfunction normalizePath$5(url) {\r\n    const { relativePath } = url;\r\n    const pieces = url.path.split('/');\r\n    // We need to preserve the first piece always, so that we output a leading slash. The item at\r\n    // pieces[0] is an empty string.\r\n    let pointer = 1;\r\n    // Positive is the number of real directories we've output, used for popping a parent directory.\r\n    // Eg, \"foo/bar/..\" will have a positive 2, and we can decrement to be left with just \"foo\".\r\n    let positive = 0;\r\n    // We need to keep a trailing slash if we encounter an empty directory (eg, splitting \"foo/\" will\r\n    // generate `[\"foo\", \"\"]` pieces). And, if we pop a parent directory. But once we encounter a\r\n    // real directory, we won't need to append, unless the other conditions happen again.\r\n    let addTrailingSlash = false;\r\n    for (let i = 1; i < pieces.length; i++) {\r\n        const piece = pieces[i];\r\n        // An empty directory, could be a trailing slash, or just a double \"//\" in the path.\r\n        if (!piece) {\r\n            addTrailingSlash = true;\r\n            continue;\r\n        }\r\n        // If we encounter a real directory, then we don't need to append anymore.\r\n        addTrailingSlash = false;\r\n        // A current directory, which we can always drop.\r\n        if (piece === '.')\r\n            continue;\r\n        // A parent directory, we need to see if there are any real directories we can pop. Else, we\r\n        // have an excess of parents, and we'll need to keep the \"..\".\r\n        if (piece === '..') {\r\n            if (positive) {\r\n                addTrailingSlash = true;\r\n                positive--;\r\n                pointer--;\r\n            }\r\n            else if (relativePath) {\r\n                // If we're in a relativePath, then we need to keep the excess parents. Else, in an absolute\r\n                // URL, protocol relative URL, or an absolute path, we don't need to keep excess.\r\n                pieces[pointer++] = piece;\r\n            }\r\n            continue;\r\n        }\r\n        // We've encountered a real directory. Move it to the next insertion pointer, which accounts for\r\n        // any popped or dropped directories.\r\n        pieces[pointer++] = piece;\r\n        positive++;\r\n    }\r\n    let path = '';\r\n    for (let i = 1; i < pointer; i++) {\r\n        path += '/' + pieces[i];\r\n    }\r\n    if (!path || (addTrailingSlash && !path.endsWith('/..'))) {\r\n        path += '/';\r\n    }\r\n    url.path = path;\r\n}\r\n/**\r\n * Attempts to resolve `input` URL/path relative to `base`.\r\n */\r\nfunction resolve$3(input, base) {\r\n    if (!input && !base)\r\n        return '';\r\n    const url = parseUrl$2(input);\r\n    // If we have a base, and the input isn't already an absolute URL, then we need to merge.\r\n    if (base && !url.scheme) {\r\n        const baseUrl = parseUrl$2(base);\r\n        url.scheme = baseUrl.scheme;\r\n        // If there's no host, then we were just a path.\r\n        if (!url.host) {\r\n            // The host, user, and port are joined, you can't copy one without the others.\r\n            url.user = baseUrl.user;\r\n            url.host = baseUrl.host;\r\n            url.port = baseUrl.port;\r\n        }\r\n        mergePaths(url, baseUrl);\r\n    }\r\n    normalizePath$5(url);\r\n    // If the input (and base, if there was one) are both relative, then we need to output a relative.\r\n    if (url.relativePath) {\r\n        // The first char is always a \"/\".\r\n        const path = url.path.slice(1);\r\n        if (!path)\r\n            return '.';\r\n        // If base started with a leading \".\", or there is no base and input started with a \".\", then we\r\n        // need to ensure that the relative path starts with a \".\". We don't know if relative starts\r\n        // with a \"..\", though, so check before prepending.\r\n        const keepRelative = (base || input).startsWith('.');\r\n        return !keepRelative || path.startsWith('.') ? path : './' + path;\r\n    }\r\n    // If there's no host (and no scheme/user/port), then we need to output an absolute path.\r\n    if (!url.scheme && !url.host)\r\n        return url.path;\r\n    // We're outputting either an absolute URL, or a protocol relative one.\r\n    return `${url.scheme}//${url.user}${url.host}${url.port}${url.path}`;\r\n}\r\n\r\nfunction resolve$2(input, base) {\r\n    // The base is always treated as a directory, if it's not empty.\r\n    // https://github.com/mozilla/source-map/blob/8cb3ee57/lib/util.js#L327\r\n    // https://github.com/chromium/chromium/blob/da4adbb3/third_party/blink/renderer/devtools/front_end/sdk/SourceMap.js#L400-L401\r\n    if (base && !base.endsWith('/'))\r\n        base += '/';\r\n    return resolve$3(input, base);\r\n}\r\n\r\n/**\r\n * Removes everything after the last \"/\", but leaves the slash.\r\n */\r\nfunction stripFilename(path) {\r\n    if (!path)\r\n        return '';\r\n    const index = path.lastIndexOf('/');\r\n    return path.slice(0, index + 1);\r\n}\r\n\r\nconst COLUMN = 0;\r\nconst SOURCES_INDEX = 1;\r\nconst SOURCE_LINE = 2;\r\nconst SOURCE_COLUMN = 3;\r\nconst NAMES_INDEX = 4;\r\n\r\nfunction maybeSort(mappings, owned) {\r\n    const unsortedIndex = nextUnsortedSegmentLine(mappings, 0);\r\n    if (unsortedIndex === mappings.length)\r\n        return mappings;\r\n    // If we own the array (meaning we parsed it from JSON), then we're free to directly mutate it. If\r\n    // not, we do not want to modify the consumer's input array.\r\n    if (!owned)\r\n        mappings = mappings.slice();\r\n    for (let i = unsortedIndex; i < mappings.length; i = nextUnsortedSegmentLine(mappings, i + 1)) {\r\n        mappings[i] = sortSegments(mappings[i], owned);\r\n    }\r\n    return mappings;\r\n}\r\nfunction nextUnsortedSegmentLine(mappings, start) {\r\n    for (let i = start; i < mappings.length; i++) {\r\n        if (!isSorted(mappings[i]))\r\n            return i;\r\n    }\r\n    return mappings.length;\r\n}\r\nfunction isSorted(line) {\r\n    for (let j = 1; j < line.length; j++) {\r\n        if (line[j][COLUMN] < line[j - 1][COLUMN]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction sortSegments(line, owned) {\r\n    if (!owned)\r\n        line = line.slice();\r\n    return line.sort(sortComparator);\r\n}\r\nfunction sortComparator(a, b) {\r\n    return a[COLUMN] - b[COLUMN];\r\n}\r\n\r\nlet found = false;\r\n/**\r\n * A binary search implementation that returns the index if a match is found.\r\n * If no match is found, then the left-index (the index associated with the item that comes just\r\n * before the desired index) is returned. To maintain proper sort order, a splice would happen at\r\n * the next index:\r\n *\r\n * ```js\r\n * const array = [1, 3];\r\n * const needle = 2;\r\n * const index = binarySearch(array, needle, (item, needle) => item - needle);\r\n *\r\n * assert.equal(index, 0);\r\n * array.splice(index + 1, 0, needle);\r\n * assert.deepEqual(array, [1, 2, 3]);\r\n * ```\r\n */\r\nfunction binarySearch(haystack, needle, low, high) {\r\n    while (low <= high) {\r\n        const mid = low + ((high - low) >> 1);\r\n        const cmp = haystack[mid][COLUMN] - needle;\r\n        if (cmp === 0) {\r\n            found = true;\r\n            return mid;\r\n        }\r\n        if (cmp < 0) {\r\n            low = mid + 1;\r\n        }\r\n        else {\r\n            high = mid - 1;\r\n        }\r\n    }\r\n    found = false;\r\n    return low - 1;\r\n}\r\nfunction upperBound(haystack, needle, index) {\r\n    for (let i = index + 1; i < haystack.length; index = i++) {\r\n        if (haystack[i][COLUMN] !== needle)\r\n            break;\r\n    }\r\n    return index;\r\n}\r\nfunction lowerBound(haystack, needle, index) {\r\n    for (let i = index - 1; i >= 0; index = i--) {\r\n        if (haystack[i][COLUMN] !== needle)\r\n            break;\r\n    }\r\n    return index;\r\n}\r\nfunction memoizedState() {\r\n    return {\r\n        lastKey: -1,\r\n        lastNeedle: -1,\r\n        lastIndex: -1,\r\n    };\r\n}\r\n/**\r\n * This overly complicated beast is just to record the last tested line/column and the resulting\r\n * index, allowing us to skip a few tests if mappings are monotonically increasing.\r\n */\r\nfunction memoizedBinarySearch(haystack, needle, state, key) {\r\n    const { lastKey, lastNeedle, lastIndex } = state;\r\n    let low = 0;\r\n    let high = haystack.length - 1;\r\n    if (key === lastKey) {\r\n        if (needle === lastNeedle) {\r\n            found = lastIndex !== -1 && haystack[lastIndex][COLUMN] === needle;\r\n            return lastIndex;\r\n        }\r\n        if (needle >= lastNeedle) {\r\n            // lastIndex may be -1 if the previous needle was not found.\r\n            low = lastIndex === -1 ? 0 : lastIndex;\r\n        }\r\n        else {\r\n            high = lastIndex;\r\n        }\r\n    }\r\n    state.lastKey = key;\r\n    state.lastNeedle = needle;\r\n    return (state.lastIndex = binarySearch(haystack, needle, low, high));\r\n}\r\n\r\nconst LINE_GTR_ZERO = '`line` must be greater than 0 (lines start at line 1)';\r\nconst COL_GTR_EQ_ZERO = '`column` must be greater than or equal to 0 (columns start at column 0)';\r\nconst LEAST_UPPER_BOUND = -1;\r\nconst GREATEST_LOWER_BOUND = 1;\r\n/**\r\n * Returns the decoded (array of lines of segments) form of the SourceMap's mappings field.\r\n */\r\nlet decodedMappings;\r\n/**\r\n * A low-level API to find the segment associated with a generated line/column (think, from a\r\n * stack trace). Line and column here are 0-based, unlike `originalPositionFor`.\r\n */\r\nlet traceSegment;\r\n/**\r\n * A higher-level API to find the source/line/column associated with a generated line/column\r\n * (think, from a stack trace). Line is 1-based, but column is 0-based, due to legacy behavior in\r\n * `source-map` library.\r\n */\r\nlet originalPositionFor$1;\r\nclass TraceMap {\r\n    constructor(map, mapUrl) {\r\n        const isString = typeof map === 'string';\r\n        if (!isString && map._decodedMemo)\r\n            return map;\r\n        const parsed = (isString ? JSON.parse(map) : map);\r\n        const { version, file, names, sourceRoot, sources, sourcesContent } = parsed;\r\n        this.version = version;\r\n        this.file = file;\r\n        this.names = names;\r\n        this.sourceRoot = sourceRoot;\r\n        this.sources = sources;\r\n        this.sourcesContent = sourcesContent;\r\n        const from = resolve$2(sourceRoot || '', stripFilename(mapUrl));\r\n        this.resolvedSources = sources.map((s) => resolve$2(s || '', from));\r\n        const { mappings } = parsed;\r\n        if (typeof mappings === 'string') {\r\n            this._encoded = mappings;\r\n            this._decoded = undefined;\r\n        }\r\n        else {\r\n            this._encoded = undefined;\r\n            this._decoded = maybeSort(mappings, isString);\r\n        }\r\n        this._decodedMemo = memoizedState();\r\n        this._bySources = undefined;\r\n        this._bySourceMemos = undefined;\r\n    }\r\n}\r\n(() => {\r\n    decodedMappings = (map) => {\r\n        return (map._decoded || (map._decoded = decode(map._encoded)));\r\n    };\r\n    traceSegment = (map, line, column) => {\r\n        const decoded = decodedMappings(map);\r\n        // It's common for parent source maps to have pointers to lines that have no\r\n        // mapping (like a \"//# sourceMappingURL=\") at the end of the child file.\r\n        if (line >= decoded.length)\r\n            return null;\r\n        return traceSegmentInternal(decoded[line], map._decodedMemo, line, column, GREATEST_LOWER_BOUND);\r\n    };\r\n    originalPositionFor$1 = (map, { line, column, bias }) => {\r\n        line--;\r\n        if (line < 0)\r\n            throw new Error(LINE_GTR_ZERO);\r\n        if (column < 0)\r\n            throw new Error(COL_GTR_EQ_ZERO);\r\n        const decoded = decodedMappings(map);\r\n        // It's common for parent source maps to have pointers to lines that have no\r\n        // mapping (like a \"//# sourceMappingURL=\") at the end of the child file.\r\n        if (line >= decoded.length)\r\n            return OMapping(null, null, null, null);\r\n        const segment = traceSegmentInternal(decoded[line], map._decodedMemo, line, column, bias || GREATEST_LOWER_BOUND);\r\n        if (segment == null)\r\n            return OMapping(null, null, null, null);\r\n        if (segment.length == 1)\r\n            return OMapping(null, null, null, null);\r\n        const { names, resolvedSources } = map;\r\n        return OMapping(resolvedSources[segment[SOURCES_INDEX]], segment[SOURCE_LINE] + 1, segment[SOURCE_COLUMN], segment.length === 5 ? names[segment[NAMES_INDEX]] : null);\r\n    };\r\n})();\r\nfunction OMapping(source, line, column, name) {\r\n    return { source, line, column, name };\r\n}\r\nfunction traceSegmentInternal(segments, memo, line, column, bias) {\r\n    let index = memoizedBinarySearch(segments, column, memo, line);\r\n    if (found) {\r\n        index = (bias === LEAST_UPPER_BOUND ? upperBound : lowerBound)(segments, column, index);\r\n    }\r\n    else if (bias === LEAST_UPPER_BOUND)\r\n        index++;\r\n    if (index === -1 || index === segments.length)\r\n        return null;\r\n    return segments[index];\r\n}\r\n\r\n/**\r\n * Gets the index associated with `key` in the backing array, if it is already present.\r\n */\r\nlet get;\r\n/**\r\n * Puts `key` into the backing array, if it is not already present. Returns\r\n * the index of the `key` in the backing array.\r\n */\r\nlet put;\r\n/**\r\n * SetArray acts like a `Set` (allowing only one occurrence of a string `key`), but provides the\r\n * index of the `key` in the backing array.\r\n *\r\n * This is designed to allow synchronizing a second array with the contents of the backing array,\r\n * like how in a sourcemap `sourcesContent[i]` is the source content associated with `source[i]`,\r\n * and there are never duplicates.\r\n */\r\nclass SetArray {\r\n    constructor() {\r\n        this._indexes = { __proto__: null };\r\n        this.array = [];\r\n    }\r\n}\r\n(() => {\r\n    get = (strarr, key) => strarr._indexes[key];\r\n    put = (strarr, key) => {\r\n        // The key may or may not be present. If it is present, it's a number.\r\n        const index = get(strarr, key);\r\n        if (index !== undefined)\r\n            return index;\r\n        const { array, _indexes: indexes } = strarr;\r\n        return (indexes[key] = array.push(key) - 1);\r\n    };\r\n})();\r\n\r\n/**\r\n * A low-level API to associate a generated position with an original source position. Line and\r\n * column here are 0-based, unlike `addMapping`.\r\n */\r\nlet addSegment;\r\n/**\r\n * Adds/removes the content of the source file to the source map.\r\n */\r\nlet setSourceContent;\r\n/**\r\n * Returns a sourcemap object (with decoded mappings) suitable for passing to a library that expects\r\n * a sourcemap, or to JSON.stringify.\r\n */\r\nlet decodedMap;\r\n/**\r\n * Returns a sourcemap object (with encoded mappings) suitable for passing to a library that expects\r\n * a sourcemap, or to JSON.stringify.\r\n */\r\nlet encodedMap;\r\n/**\r\n * Provides the state to generate a sourcemap.\r\n */\r\nclass GenMapping {\r\n    constructor({ file, sourceRoot } = {}) {\r\n        this._names = new SetArray();\r\n        this._sources = new SetArray();\r\n        this._sourcesContent = [];\r\n        this._mappings = [];\r\n        this.file = file;\r\n        this.sourceRoot = sourceRoot;\r\n    }\r\n}\r\n(() => {\r\n    addSegment = (map, genLine, genColumn, source, sourceLine, sourceColumn, name) => {\r\n        const { _mappings: mappings, _sources: sources, _sourcesContent: sourcesContent, _names: names, } = map;\r\n        const line = getLine(mappings, genLine);\r\n        if (source == null) {\r\n            const seg = [genColumn];\r\n            const index = getColumnIndex(line, genColumn, seg);\r\n            return insert(line, index, seg);\r\n        }\r\n        const sourcesIndex = put(sources, source);\r\n        const seg = name\r\n            ? [genColumn, sourcesIndex, sourceLine, sourceColumn, put(names, name)]\r\n            : [genColumn, sourcesIndex, sourceLine, sourceColumn];\r\n        const index = getColumnIndex(line, genColumn, seg);\r\n        if (sourcesIndex === sourcesContent.length)\r\n            sourcesContent[sourcesIndex] = null;\r\n        insert(line, index, seg);\r\n    };\r\n    setSourceContent = (map, source, content) => {\r\n        const { _sources: sources, _sourcesContent: sourcesContent } = map;\r\n        sourcesContent[put(sources, source)] = content;\r\n    };\r\n    decodedMap = (map) => {\r\n        const { file, sourceRoot, _mappings: mappings, _sources: sources, _sourcesContent: sourcesContent, _names: names, } = map;\r\n        return {\r\n            version: 3,\r\n            file,\r\n            names: names.array,\r\n            sourceRoot: sourceRoot || undefined,\r\n            sources: sources.array,\r\n            sourcesContent,\r\n            mappings,\r\n        };\r\n    };\r\n    encodedMap = (map) => {\r\n        const decoded = decodedMap(map);\r\n        return Object.assign(Object.assign({}, decoded), { mappings: encode$1(decoded.mappings) });\r\n    };\r\n})();\r\nfunction getLine(mappings, index) {\r\n    for (let i = mappings.length; i <= index; i++) {\r\n        mappings[i] = [];\r\n    }\r\n    return mappings[index];\r\n}\r\nfunction getColumnIndex(line, column, seg) {\r\n    let index = line.length;\r\n    for (let i = index - 1; i >= 0; i--, index--) {\r\n        const current = line[i];\r\n        const col = current[0];\r\n        if (col > column)\r\n            continue;\r\n        if (col < column)\r\n            break;\r\n        const cmp = compare$1(current, seg);\r\n        if (cmp === 0)\r\n            return index;\r\n        if (cmp < 0)\r\n            break;\r\n    }\r\n    return index;\r\n}\r\nfunction compare$1(a, b) {\r\n    let cmp = compareNum(a.length, b.length);\r\n    if (cmp !== 0)\r\n        return cmp;\r\n    // We've already checked genColumn\r\n    if (a.length === 1)\r\n        return 0;\r\n    cmp = compareNum(a[1], b[1]);\r\n    if (cmp !== 0)\r\n        return cmp;\r\n    cmp = compareNum(a[2], b[2]);\r\n    if (cmp !== 0)\r\n        return cmp;\r\n    cmp = compareNum(a[3], b[3]);\r\n    if (cmp !== 0)\r\n        return cmp;\r\n    if (a.length === 4)\r\n        return 0;\r\n    return compareNum(a[4], b[4]);\r\n}\r\nfunction compareNum(a, b) {\r\n    return a - b;\r\n}\r\nfunction insert(array, index, value) {\r\n    if (index === -1)\r\n        return;\r\n    for (let i = array.length; i > index; i--) {\r\n        array[i] = array[i - 1];\r\n    }\r\n    array[index] = value;\r\n}\r\n\r\nconst SOURCELESS_MAPPING = {\r\n    source: null,\r\n    column: null,\r\n    line: null,\r\n    name: null,\r\n    content: null,\r\n};\r\nconst EMPTY_SOURCES = [];\r\nfunction Source(map, sources, source, content) {\r\n    return {\r\n        map,\r\n        sources,\r\n        source,\r\n        content,\r\n    };\r\n}\r\n/**\r\n * MapSource represents a single sourcemap, with the ability to trace mappings into its child nodes\r\n * (which may themselves be SourceMapTrees).\r\n */\r\nfunction MapSource(map, sources) {\r\n    return Source(map, sources, '', null);\r\n}\r\n/**\r\n * A \"leaf\" node in the sourcemap tree, representing an original, unmodified source file. Recursive\r\n * segment tracing ends at the `OriginalSource`.\r\n */\r\nfunction OriginalSource(source, content) {\r\n    return Source(null, EMPTY_SOURCES, source, content);\r\n}\r\n/**\r\n * traceMappings is only called on the root level SourceMapTree, and begins the process of\r\n * resolving each mapping in terms of the original source files.\r\n */\r\nfunction traceMappings(tree) {\r\n    const gen = new GenMapping({ file: tree.map.file });\r\n    const { sources: rootSources, map } = tree;\r\n    const rootNames = map.names;\r\n    const rootMappings = decodedMappings(map);\r\n    for (let i = 0; i < rootMappings.length; i++) {\r\n        const segments = rootMappings[i];\r\n        let lastSource = null;\r\n        let lastSourceLine = null;\r\n        let lastSourceColumn = null;\r\n        for (let j = 0; j < segments.length; j++) {\r\n            const segment = segments[j];\r\n            const genCol = segment[0];\r\n            let traced = SOURCELESS_MAPPING;\r\n            // 1-length segments only move the current generated column, there's no source information\r\n            // to gather from it.\r\n            if (segment.length !== 1) {\r\n                const source = rootSources[segment[1]];\r\n                traced = originalPositionFor(source, segment[2], segment[3], segment.length === 5 ? rootNames[segment[4]] : '');\r\n                // If the trace is invalid, then the trace ran into a sourcemap that doesn't contain a\r\n                // respective segment into an original source.\r\n                if (traced == null)\r\n                    continue;\r\n            }\r\n            // So we traced a segment down into its original source file. Now push a\r\n            // new segment pointing to this location.\r\n            const { column, line, name, content, source } = traced;\r\n            if (line === lastSourceLine && column === lastSourceColumn && source === lastSource) {\r\n                continue;\r\n            }\r\n            lastSourceLine = line;\r\n            lastSourceColumn = column;\r\n            lastSource = source;\r\n            // Sigh, TypeScript can't figure out source/line/column are either all null, or all non-null...\r\n            addSegment(gen, i, genCol, source, line, column, name);\r\n            if (content != null)\r\n                setSourceContent(gen, source, content);\r\n        }\r\n    }\r\n    return gen;\r\n}\r\n/**\r\n * originalPositionFor is only called on children SourceMapTrees. It recurses down into its own\r\n * child SourceMapTrees, until we find the original source map.\r\n */\r\nfunction originalPositionFor(source, line, column, name) {\r\n    if (!source.map) {\r\n        return { column, line, name, source: source.source, content: source.content };\r\n    }\r\n    const segment = traceSegment(source.map, line, column);\r\n    // If we couldn't find a segment, then this doesn't exist in the sourcemap.\r\n    if (segment == null)\r\n        return null;\r\n    // 1-length segments only move the current generated column, there's no source information\r\n    // to gather from it.\r\n    if (segment.length === 1)\r\n        return SOURCELESS_MAPPING;\r\n    return originalPositionFor(source.sources[segment[1]], segment[2], segment[3], segment.length === 5 ? source.map.names[segment[4]] : name);\r\n}\r\n\r\nfunction asArray(value) {\r\n    if (Array.isArray(value))\r\n        return value;\r\n    return [value];\r\n}\r\n/**\r\n * Recursively builds a tree structure out of sourcemap files, with each node\r\n * being either an `OriginalSource` \"leaf\" or a `SourceMapTree` composed of\r\n * `OriginalSource`s and `SourceMapTree`s.\r\n *\r\n * Every sourcemap is composed of a collection of source files and mappings\r\n * into locations of those source files. When we generate a `SourceMapTree` for\r\n * the sourcemap, we attempt to load each source file's own sourcemap. If it\r\n * does not have an associated sourcemap, it is considered an original,\r\n * unmodified source file.\r\n */\r\nfunction buildSourceMapTree(input, loader) {\r\n    const maps = asArray(input).map((m) => new TraceMap(m, ''));\r\n    const map = maps.pop();\r\n    for (let i = 0; i < maps.length; i++) {\r\n        if (maps[i].sources.length > 1) {\r\n            throw new Error(`Transformation map ${i} must have exactly one source file.\\n` +\r\n                'Did you specify these with the most recent transformation maps first?');\r\n        }\r\n    }\r\n    let tree = build$2(map, loader, '', 0);\r\n    for (let i = maps.length - 1; i >= 0; i--) {\r\n        tree = MapSource(maps[i], [tree]);\r\n    }\r\n    return tree;\r\n}\r\nfunction build$2(map, loader, importer, importerDepth) {\r\n    const { resolvedSources, sourcesContent } = map;\r\n    const depth = importerDepth + 1;\r\n    const children = resolvedSources.map((sourceFile, i) => {\r\n        // The loading context gives the loader more information about why this file is being loaded\r\n        // (eg, from which importer). It also allows the loader to override the location of the loaded\r\n        // sourcemap/original source, or to override the content in the sourcesContent field if it's\r\n        // an unmodified source file.\r\n        const ctx = {\r\n            importer,\r\n            depth,\r\n            source: sourceFile || '',\r\n            content: undefined,\r\n        };\r\n        // Use the provided loader callback to retrieve the file's sourcemap.\r\n        // TODO: We should eventually support async loading of sourcemap files.\r\n        const sourceMap = loader(ctx.source, ctx);\r\n        const { source, content } = ctx;\r\n        // If there is a sourcemap, then we need to recurse into it to load its source files.\r\n        if (sourceMap)\r\n            return build$2(new TraceMap(sourceMap, source), loader, source, depth);\r\n        // Else, it's an an unmodified source file.\r\n        // The contents of this unmodified source file can be overridden via the loader context,\r\n        // allowing it to be explicitly null or a string. If it remains undefined, we fall back to\r\n        // the importing sourcemap's `sourcesContent` field.\r\n        const sourceContent = content !== undefined ? content : sourcesContent ? sourcesContent[i] : null;\r\n        return OriginalSource(source, sourceContent);\r\n    });\r\n    return MapSource(map, children);\r\n}\r\n\r\n/**\r\n * A SourceMap v3 compatible sourcemap, which only includes fields that were\r\n * provided to it.\r\n */\r\nclass SourceMap$1 {\r\n    constructor(map, options) {\r\n        const out = options.decodedMappings ? decodedMap(map) : encodedMap(map);\r\n        this.version = out.version; // SourceMap spec says this should be first.\r\n        this.file = out.file;\r\n        this.mappings = out.mappings;\r\n        this.names = out.names;\r\n        this.sourceRoot = out.sourceRoot;\r\n        this.sources = out.sources;\r\n        if (!options.excludeContent) {\r\n            this.sourcesContent = out.sourcesContent;\r\n        }\r\n    }\r\n    toString() {\r\n        return JSON.stringify(this);\r\n    }\r\n}\r\n\r\n/**\r\n * Traces through all the mappings in the root sourcemap, through the sources\r\n * (and their sourcemaps), all the way back to the original source location.\r\n *\r\n * `loader` will be called every time we encounter a source file. If it returns\r\n * a sourcemap, we will recurse into that sourcemap to continue the trace. If\r\n * it returns a falsey value, that source file is treated as an original,\r\n * unmodified source file.\r\n *\r\n * Pass `excludeContent` to exclude any self-containing source file content\r\n * from the output sourcemap.\r\n *\r\n * Pass `decodedMappings` to receive a SourceMap with decoded (instead of\r\n * VLQ encoded) mappings.\r\n */\r\nfunction remapping(input, loader, options) {\r\n    const opts = typeof options === 'object' ? options : { excludeContent: !!options, decodedMappings: false };\r\n    const tree = buildSourceMapTree(input, loader);\r\n    return new SourceMap$1(traceMappings(tree), opts);\r\n}\r\n\r\nvar src$2 = {exports: {}};\r\n\r\nvar browser$2 = {exports: {}};\r\n\r\n/**\r\n * Helpers.\r\n */\r\n\r\nvar ms$1;\r\nvar hasRequiredMs$1;\r\n\r\nfunction requireMs$1 () {\r\n\tif (hasRequiredMs$1) return ms$1;\r\n\thasRequiredMs$1 = 1;\r\n\tvar s = 1000;\r\n\tvar m = s * 60;\r\n\tvar h = m * 60;\r\n\tvar d = h * 24;\r\n\tvar w = d * 7;\r\n\tvar y = d * 365.25;\r\n\r\n\t/**\r\n\t * Parse or format the given `val`.\r\n\t *\r\n\t * Options:\r\n\t *\r\n\t *  - `long` verbose formatting [false]\r\n\t *\r\n\t * @param {String|Number} val\r\n\t * @param {Object} [options]\r\n\t * @throws {Error} throw an error if val is not a non-empty string or a number\r\n\t * @return {String|Number}\r\n\t * @api public\r\n\t */\r\n\r\n\tms$1 = function(val, options) {\r\n\t  options = options || {};\r\n\t  var type = typeof val;\r\n\t  if (type === 'string' && val.length > 0) {\r\n\t    return parse(val);\r\n\t  } else if (type === 'number' && isFinite(val)) {\r\n\t    return options.long ? fmtLong(val) : fmtShort(val);\r\n\t  }\r\n\t  throw new Error(\r\n\t    'val is not a non-empty string or a valid number. val=' +\r\n\t      JSON.stringify(val)\r\n\t  );\r\n\t};\r\n\r\n\t/**\r\n\t * Parse the given `str` and return milliseconds.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction parse(str) {\r\n\t  str = String(str);\r\n\t  if (str.length > 100) {\r\n\t    return;\r\n\t  }\r\n\t  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\r\n\t    str\r\n\t  );\r\n\t  if (!match) {\r\n\t    return;\r\n\t  }\r\n\t  var n = parseFloat(match[1]);\r\n\t  var type = (match[2] || 'ms').toLowerCase();\r\n\t  switch (type) {\r\n\t    case 'years':\r\n\t    case 'year':\r\n\t    case 'yrs':\r\n\t    case 'yr':\r\n\t    case 'y':\r\n\t      return n * y;\r\n\t    case 'weeks':\r\n\t    case 'week':\r\n\t    case 'w':\r\n\t      return n * w;\r\n\t    case 'days':\r\n\t    case 'day':\r\n\t    case 'd':\r\n\t      return n * d;\r\n\t    case 'hours':\r\n\t    case 'hour':\r\n\t    case 'hrs':\r\n\t    case 'hr':\r\n\t    case 'h':\r\n\t      return n * h;\r\n\t    case 'minutes':\r\n\t    case 'minute':\r\n\t    case 'mins':\r\n\t    case 'min':\r\n\t    case 'm':\r\n\t      return n * m;\r\n\t    case 'seconds':\r\n\t    case 'second':\r\n\t    case 'secs':\r\n\t    case 'sec':\r\n\t    case 's':\r\n\t      return n * s;\r\n\t    case 'milliseconds':\r\n\t    case 'millisecond':\r\n\t    case 'msecs':\r\n\t    case 'msec':\r\n\t    case 'ms':\r\n\t      return n;\r\n\t    default:\r\n\t      return undefined;\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Short format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtShort(ms) {\r\n\t  var msAbs = Math.abs(ms);\r\n\t  if (msAbs >= d) {\r\n\t    return Math.round(ms / d) + 'd';\r\n\t  }\r\n\t  if (msAbs >= h) {\r\n\t    return Math.round(ms / h) + 'h';\r\n\t  }\r\n\t  if (msAbs >= m) {\r\n\t    return Math.round(ms / m) + 'm';\r\n\t  }\r\n\t  if (msAbs >= s) {\r\n\t    return Math.round(ms / s) + 's';\r\n\t  }\r\n\t  return ms + 'ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Long format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtLong(ms) {\r\n\t  var msAbs = Math.abs(ms);\r\n\t  if (msAbs >= d) {\r\n\t    return plural(ms, msAbs, d, 'day');\r\n\t  }\r\n\t  if (msAbs >= h) {\r\n\t    return plural(ms, msAbs, h, 'hour');\r\n\t  }\r\n\t  if (msAbs >= m) {\r\n\t    return plural(ms, msAbs, m, 'minute');\r\n\t  }\r\n\t  if (msAbs >= s) {\r\n\t    return plural(ms, msAbs, s, 'second');\r\n\t  }\r\n\t  return ms + ' ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Pluralization helper.\r\n\t */\r\n\r\n\tfunction plural(ms, msAbs, n, name) {\r\n\t  var isPlural = msAbs >= n * 1.5;\r\n\t  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\r\n\t}\r\n\treturn ms$1;\r\n}\r\n\r\nvar common$b;\r\nvar hasRequiredCommon;\r\n\r\nfunction requireCommon () {\r\n\tif (hasRequiredCommon) return common$b;\r\n\thasRequiredCommon = 1;\r\n\t/**\r\n\t * This is the common logic for both the Node.js and web browser\r\n\t * implementations of `debug()`.\r\n\t */\r\n\r\n\tfunction setup(env) {\r\n\t\tcreateDebug.debug = createDebug;\r\n\t\tcreateDebug.default = createDebug;\r\n\t\tcreateDebug.coerce = coerce;\r\n\t\tcreateDebug.disable = disable;\r\n\t\tcreateDebug.enable = enable;\r\n\t\tcreateDebug.enabled = enabled;\r\n\t\tcreateDebug.humanize = requireMs$1();\r\n\t\tcreateDebug.destroy = destroy;\r\n\r\n\t\tObject.keys(env).forEach(key => {\r\n\t\t\tcreateDebug[key] = env[key];\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t* The currently active debug mode names, and names to skip.\r\n\t\t*/\r\n\r\n\t\tcreateDebug.names = [];\r\n\t\tcreateDebug.skips = [];\r\n\r\n\t\t/**\r\n\t\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t\t*\r\n\t\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\r\n\t\t*/\r\n\t\tcreateDebug.formatters = {};\r\n\r\n\t\t/**\r\n\t\t* Selects a color for a debug namespace\r\n\t\t* @param {String} namespace The namespace string for the debug instance to be colored\r\n\t\t* @return {Number|String} An ANSI color code for the given namespace\r\n\t\t* @api private\r\n\t\t*/\r\n\t\tfunction selectColor(namespace) {\r\n\t\t\tlet hash = 0;\r\n\r\n\t\t\tfor (let i = 0; i < namespace.length; i++) {\r\n\t\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\r\n\t\t\t\thash |= 0; // Convert to 32bit integer\r\n\t\t\t}\r\n\r\n\t\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\r\n\t\t}\r\n\t\tcreateDebug.selectColor = selectColor;\r\n\r\n\t\t/**\r\n\t\t* Create a debugger with the given `namespace`.\r\n\t\t*\r\n\t\t* @param {String} namespace\r\n\t\t* @return {Function}\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction createDebug(namespace) {\r\n\t\t\tlet prevTime;\r\n\t\t\tlet enableOverride = null;\r\n\t\t\tlet namespacesCache;\r\n\t\t\tlet enabledCache;\r\n\r\n\t\t\tfunction debug(...args) {\r\n\t\t\t\t// Disabled?\r\n\t\t\t\tif (!debug.enabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst self = debug;\r\n\r\n\t\t\t\t// Set `diff` timestamp\r\n\t\t\t\tconst curr = Number(new Date());\r\n\t\t\t\tconst ms = curr - (prevTime || curr);\r\n\t\t\t\tself.diff = ms;\r\n\t\t\t\tself.prev = prevTime;\r\n\t\t\t\tself.curr = curr;\r\n\t\t\t\tprevTime = curr;\r\n\r\n\t\t\t\targs[0] = createDebug.coerce(args[0]);\r\n\r\n\t\t\t\tif (typeof args[0] !== 'string') {\r\n\t\t\t\t\t// Anything else let's inspect with %O\r\n\t\t\t\t\targs.unshift('%O');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Apply any `formatters` transformations\r\n\t\t\t\tlet index = 0;\r\n\t\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\r\n\t\t\t\t\t// If we encounter an escaped % then don't increase the array index\r\n\t\t\t\t\tif (match === '%%') {\r\n\t\t\t\t\t\treturn '%';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t\tconst formatter = createDebug.formatters[format];\r\n\t\t\t\t\tif (typeof formatter === 'function') {\r\n\t\t\t\t\t\tconst val = args[index];\r\n\t\t\t\t\t\tmatch = formatter.call(self, val);\r\n\r\n\t\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\r\n\t\t\t\t\t\targs.splice(index, 1);\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn match;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Apply env-specific formatting (colors, etc.)\r\n\t\t\t\tcreateDebug.formatArgs.call(self, args);\r\n\r\n\t\t\t\tconst logFn = self.log || createDebug.log;\r\n\t\t\t\tlogFn.apply(self, args);\r\n\t\t\t}\r\n\r\n\t\t\tdebug.namespace = namespace;\r\n\t\t\tdebug.useColors = createDebug.useColors();\r\n\t\t\tdebug.color = createDebug.selectColor(namespace);\r\n\t\t\tdebug.extend = extend;\r\n\t\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\r\n\r\n\t\t\tObject.defineProperty(debug, 'enabled', {\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tconfigurable: false,\r\n\t\t\t\tget: () => {\r\n\t\t\t\t\tif (enableOverride !== null) {\r\n\t\t\t\t\t\treturn enableOverride;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\r\n\t\t\t\t\t\tnamespacesCache = createDebug.namespaces;\r\n\t\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn enabledCache;\r\n\t\t\t\t},\r\n\t\t\t\tset: v => {\r\n\t\t\t\t\tenableOverride = v;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Env-specific initialization logic for debug instances\r\n\t\t\tif (typeof createDebug.init === 'function') {\r\n\t\t\t\tcreateDebug.init(debug);\r\n\t\t\t}\r\n\r\n\t\t\treturn debug;\r\n\t\t}\r\n\r\n\t\tfunction extend(namespace, delimiter) {\r\n\t\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\r\n\t\t\tnewDebug.log = this.log;\r\n\t\t\treturn newDebug;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Enables a debug mode by namespaces. This can include modes\r\n\t\t* separated by a colon and wildcards.\r\n\t\t*\r\n\t\t* @param {String} namespaces\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction enable(namespaces) {\r\n\t\t\tcreateDebug.save(namespaces);\r\n\t\t\tcreateDebug.namespaces = namespaces;\r\n\r\n\t\t\tcreateDebug.names = [];\r\n\t\t\tcreateDebug.skips = [];\r\n\r\n\t\t\tlet i;\r\n\t\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\r\n\t\t\tconst len = split.length;\r\n\r\n\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\tif (!split[i]) {\r\n\t\t\t\t\t// ignore empty strings\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\r\n\r\n\t\t\t\tif (namespaces[0] === '-') {\r\n\t\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Disable debug output.\r\n\t\t*\r\n\t\t* @return {String} namespaces\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction disable() {\r\n\t\t\tconst namespaces = [\r\n\t\t\t\t...createDebug.names.map(toNamespace),\r\n\t\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\r\n\t\t\t].join(',');\r\n\t\t\tcreateDebug.enable('');\r\n\t\t\treturn namespaces;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Returns true if the given mode name is enabled, false otherwise.\r\n\t\t*\r\n\t\t* @param {String} name\r\n\t\t* @return {Boolean}\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction enabled(name) {\r\n\t\t\tif (name[name.length - 1] === '*') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tlet i;\r\n\t\t\tlet len;\r\n\r\n\t\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\r\n\t\t\t\tif (createDebug.skips[i].test(name)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\r\n\t\t\t\tif (createDebug.names[i].test(name)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Convert regexp to namespace\r\n\t\t*\r\n\t\t* @param {RegExp} regxep\r\n\t\t* @return {String} namespace\r\n\t\t* @api private\r\n\t\t*/\r\n\t\tfunction toNamespace(regexp) {\r\n\t\t\treturn regexp.toString()\r\n\t\t\t\t.substring(2, regexp.toString().length - 2)\r\n\t\t\t\t.replace(/\\.\\*\\?$/, '*');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Coerce `val`.\r\n\t\t*\r\n\t\t* @param {Mixed} val\r\n\t\t* @return {Mixed}\r\n\t\t* @api private\r\n\t\t*/\r\n\t\tfunction coerce(val) {\r\n\t\t\tif (val instanceof Error) {\r\n\t\t\t\treturn val.stack || val.message;\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* XXX DO NOT USE. This is a temporary stub function.\r\n\t\t* XXX It WILL be removed in the next major release.\r\n\t\t*/\r\n\t\tfunction destroy() {\r\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\r\n\t\t}\r\n\r\n\t\tcreateDebug.enable(createDebug.load());\r\n\r\n\t\treturn createDebug;\r\n\t}\r\n\r\n\tcommon$b = setup;\r\n\treturn common$b;\r\n}\r\n\r\n/* eslint-env browser */\r\n\r\nvar hasRequiredBrowser$1;\r\n\r\nfunction requireBrowser$1 () {\r\n\tif (hasRequiredBrowser$1) return browser$2.exports;\r\n\thasRequiredBrowser$1 = 1;\r\n\t(function (module, exports) {\r\n\t\t/**\r\n\t\t * This is the web browser implementation of `debug()`.\r\n\t\t */\r\n\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\t\texports.storage = localstorage();\r\n\t\texports.destroy = (() => {\r\n\t\t\tlet warned = false;\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tif (!warned) {\r\n\t\t\t\t\twarned = true;\r\n\t\t\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})();\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [\r\n\t\t\t'#0000CC',\r\n\t\t\t'#0000FF',\r\n\t\t\t'#0033CC',\r\n\t\t\t'#0033FF',\r\n\t\t\t'#0066CC',\r\n\t\t\t'#0066FF',\r\n\t\t\t'#0099CC',\r\n\t\t\t'#0099FF',\r\n\t\t\t'#00CC00',\r\n\t\t\t'#00CC33',\r\n\t\t\t'#00CC66',\r\n\t\t\t'#00CC99',\r\n\t\t\t'#00CCCC',\r\n\t\t\t'#00CCFF',\r\n\t\t\t'#3300CC',\r\n\t\t\t'#3300FF',\r\n\t\t\t'#3333CC',\r\n\t\t\t'#3333FF',\r\n\t\t\t'#3366CC',\r\n\t\t\t'#3366FF',\r\n\t\t\t'#3399CC',\r\n\t\t\t'#3399FF',\r\n\t\t\t'#33CC00',\r\n\t\t\t'#33CC33',\r\n\t\t\t'#33CC66',\r\n\t\t\t'#33CC99',\r\n\t\t\t'#33CCCC',\r\n\t\t\t'#33CCFF',\r\n\t\t\t'#6600CC',\r\n\t\t\t'#6600FF',\r\n\t\t\t'#6633CC',\r\n\t\t\t'#6633FF',\r\n\t\t\t'#66CC00',\r\n\t\t\t'#66CC33',\r\n\t\t\t'#9900CC',\r\n\t\t\t'#9900FF',\r\n\t\t\t'#9933CC',\r\n\t\t\t'#9933FF',\r\n\t\t\t'#99CC00',\r\n\t\t\t'#99CC33',\r\n\t\t\t'#CC0000',\r\n\t\t\t'#CC0033',\r\n\t\t\t'#CC0066',\r\n\t\t\t'#CC0099',\r\n\t\t\t'#CC00CC',\r\n\t\t\t'#CC00FF',\r\n\t\t\t'#CC3300',\r\n\t\t\t'#CC3333',\r\n\t\t\t'#CC3366',\r\n\t\t\t'#CC3399',\r\n\t\t\t'#CC33CC',\r\n\t\t\t'#CC33FF',\r\n\t\t\t'#CC6600',\r\n\t\t\t'#CC6633',\r\n\t\t\t'#CC9900',\r\n\t\t\t'#CC9933',\r\n\t\t\t'#CCCC00',\r\n\t\t\t'#CCCC33',\r\n\t\t\t'#FF0000',\r\n\t\t\t'#FF0033',\r\n\t\t\t'#FF0066',\r\n\t\t\t'#FF0099',\r\n\t\t\t'#FF00CC',\r\n\t\t\t'#FF00FF',\r\n\t\t\t'#FF3300',\r\n\t\t\t'#FF3333',\r\n\t\t\t'#FF3366',\r\n\t\t\t'#FF3399',\r\n\t\t\t'#FF33CC',\r\n\t\t\t'#FF33FF',\r\n\t\t\t'#FF6600',\r\n\t\t\t'#FF6633',\r\n\t\t\t'#FF9900',\r\n\t\t\t'#FF9933',\r\n\t\t\t'#FFCC00',\r\n\t\t\t'#FFCC33'\r\n\t\t];\r\n\r\n\t\t/**\r\n\t\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n\t\t * and the Firebug extension (any Firefox version) are known\r\n\t\t * to support \"%c\" CSS customizations.\r\n\t\t *\r\n\t\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n\t\t */\r\n\r\n\t\t// eslint-disable-next-line complexity\r\n\t\tfunction useColors() {\r\n\t\t\t// NB: In an Electron preload script, document will be defined but not fully\r\n\t\t\t// initialized. Since we know we're in Chrome, we'll just detect this case\r\n\t\t\t// explicitly\r\n\t\t\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// Internet Explorer and Edge do not support colors.\r\n\t\t\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t\t\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\r\n\t\t\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\r\n\t\t\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\r\n\t\t\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\r\n\t\t\t\t// Is firefox >= v31?\r\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t\t\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\r\n\t\t\t\t// Double check webkit in userAgent just in case we are in a worker\r\n\t\t\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Colorize log arguments if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t\targs[0] = (this.useColors ? '%c' : '') +\r\n\t\t\t\tthis.namespace +\r\n\t\t\t\t(this.useColors ? ' %c' : ' ') +\r\n\t\t\t\targs[0] +\r\n\t\t\t\t(this.useColors ? '%c ' : ' ') +\r\n\t\t\t\t'+' + module.exports.humanize(this.diff);\r\n\r\n\t\t\tif (!this.useColors) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst c = 'color: ' + this.color;\r\n\t\t\targs.splice(1, 0, c, 'color: inherit');\r\n\r\n\t\t\t// The final \"%c\" is somewhat tricky, because there could be other\r\n\t\t\t// arguments passed either before or after the %c, so we need to\r\n\t\t\t// figure out the correct index to insert the CSS into\r\n\t\t\tlet index = 0;\r\n\t\t\tlet lastC = 0;\r\n\t\t\targs[0].replace(/%[a-zA-Z%]/g, match => {\r\n\t\t\t\tif (match === '%%') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tindex++;\r\n\t\t\t\tif (match === '%c') {\r\n\t\t\t\t\t// We only are interested in the *last* %c\r\n\t\t\t\t\t// (the user may have provided their own)\r\n\t\t\t\t\tlastC = index;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\targs.splice(lastC, 0, c);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `console.debug()` when available.\r\n\t\t * No-op when `console.debug` is not a \"function\".\r\n\t\t * If `console.debug` is not available, falls back\r\n\t\t * to `console.log`.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\t\texports.log = console.debug || console.log || (() => {});\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\t\tfunction save(namespaces) {\r\n\t\t\ttry {\r\n\t\t\t\tif (namespaces) {\r\n\t\t\t\t\texports.storage.setItem('debug', namespaces);\r\n\t\t\t\t} else {\r\n\t\t\t\t\texports.storage.removeItem('debug');\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// Swallow\r\n\t\t\t\t// XXX (@Qix-) should we be logging these?\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\t\tfunction load() {\r\n\t\t\tlet r;\r\n\t\t\ttry {\r\n\t\t\t\tr = exports.storage.getItem('debug');\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// Swallow\r\n\t\t\t\t// XXX (@Qix-) should we be logging these?\r\n\t\t\t}\r\n\r\n\t\t\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\r\n\t\t\tif (!r && typeof process !== 'undefined' && 'env' in process) {\r\n\t\t\t\tr = process.env.DEBUG;\r\n\t\t\t}\r\n\r\n\t\t\treturn r;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Localstorage attempts to return the localstorage.\r\n\t\t *\r\n\t\t * This is necessary because safari throws\r\n\t\t * when a user disables cookies/localstorage\r\n\t\t * and you attempt to access it.\r\n\t\t *\r\n\t\t * @return {LocalStorage}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction localstorage() {\r\n\t\t\ttry {\r\n\t\t\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\r\n\t\t\t\t// The Browser also has localStorage in the global context.\r\n\t\t\t\treturn localStorage;\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// Swallow\r\n\t\t\t\t// XXX (@Qix-) should we be logging these?\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodule.exports = requireCommon()(exports);\r\n\r\n\t\tconst {formatters} = module.exports;\r\n\r\n\t\t/**\r\n\t\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n\t\t */\r\n\r\n\t\tformatters.j = function (v) {\r\n\t\t\ttry {\r\n\t\t\t\treturn JSON.stringify(v);\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\r\n\t\t\t}\r\n\t\t};\r\n} (browser$2, browser$2.exports));\r\n\treturn browser$2.exports;\r\n}\r\n\r\nvar node$1 = {exports: {}};\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar hasRequiredNode$1;\r\n\r\nfunction requireNode$1 () {\r\n\tif (hasRequiredNode$1) return node$1.exports;\r\n\thasRequiredNode$1 = 1;\r\n\t(function (module, exports) {\r\n\t\tconst tty = require$$0$3;\r\n\t\tconst util = require$$0$6;\r\n\r\n\t\t/**\r\n\t\t * This is the Node.js implementation of `debug()`.\r\n\t\t */\r\n\r\n\t\texports.init = init;\r\n\t\texports.log = log;\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\t\texports.destroy = util.deprecate(\r\n\t\t\t() => {},\r\n\t\t\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\r\n\t\t);\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [6, 2, 3, 4, 5, 1];\r\n\r\n\t\ttry {\r\n\t\t\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\r\n\t\t\t// eslint-disable-next-line import/no-extraneous-dependencies\r\n\t\t\tconst supportsColor = require('supports-color');\r\n\r\n\t\t\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\r\n\t\t\t\texports.colors = [\r\n\t\t\t\t\t20,\r\n\t\t\t\t\t21,\r\n\t\t\t\t\t26,\r\n\t\t\t\t\t27,\r\n\t\t\t\t\t32,\r\n\t\t\t\t\t33,\r\n\t\t\t\t\t38,\r\n\t\t\t\t\t39,\r\n\t\t\t\t\t40,\r\n\t\t\t\t\t41,\r\n\t\t\t\t\t42,\r\n\t\t\t\t\t43,\r\n\t\t\t\t\t44,\r\n\t\t\t\t\t45,\r\n\t\t\t\t\t56,\r\n\t\t\t\t\t57,\r\n\t\t\t\t\t62,\r\n\t\t\t\t\t63,\r\n\t\t\t\t\t68,\r\n\t\t\t\t\t69,\r\n\t\t\t\t\t74,\r\n\t\t\t\t\t75,\r\n\t\t\t\t\t76,\r\n\t\t\t\t\t77,\r\n\t\t\t\t\t78,\r\n\t\t\t\t\t79,\r\n\t\t\t\t\t80,\r\n\t\t\t\t\t81,\r\n\t\t\t\t\t92,\r\n\t\t\t\t\t93,\r\n\t\t\t\t\t98,\r\n\t\t\t\t\t99,\r\n\t\t\t\t\t112,\r\n\t\t\t\t\t113,\r\n\t\t\t\t\t128,\r\n\t\t\t\t\t129,\r\n\t\t\t\t\t134,\r\n\t\t\t\t\t135,\r\n\t\t\t\t\t148,\r\n\t\t\t\t\t149,\r\n\t\t\t\t\t160,\r\n\t\t\t\t\t161,\r\n\t\t\t\t\t162,\r\n\t\t\t\t\t163,\r\n\t\t\t\t\t164,\r\n\t\t\t\t\t165,\r\n\t\t\t\t\t166,\r\n\t\t\t\t\t167,\r\n\t\t\t\t\t168,\r\n\t\t\t\t\t169,\r\n\t\t\t\t\t170,\r\n\t\t\t\t\t171,\r\n\t\t\t\t\t172,\r\n\t\t\t\t\t173,\r\n\t\t\t\t\t178,\r\n\t\t\t\t\t179,\r\n\t\t\t\t\t184,\r\n\t\t\t\t\t185,\r\n\t\t\t\t\t196,\r\n\t\t\t\t\t197,\r\n\t\t\t\t\t198,\r\n\t\t\t\t\t199,\r\n\t\t\t\t\t200,\r\n\t\t\t\t\t201,\r\n\t\t\t\t\t202,\r\n\t\t\t\t\t203,\r\n\t\t\t\t\t204,\r\n\t\t\t\t\t205,\r\n\t\t\t\t\t206,\r\n\t\t\t\t\t207,\r\n\t\t\t\t\t208,\r\n\t\t\t\t\t209,\r\n\t\t\t\t\t214,\r\n\t\t\t\t\t215,\r\n\t\t\t\t\t220,\r\n\t\t\t\t\t221\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Build up the default `inspectOpts` object from the environment variables.\r\n\t\t *\r\n\t\t *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\r\n\t\t */\r\n\r\n\t\texports.inspectOpts = Object.keys(process.env).filter(key => {\r\n\t\t\treturn /^debug_/i.test(key);\r\n\t\t}).reduce((obj, key) => {\r\n\t\t\t// Camel-case\r\n\t\t\tconst prop = key\r\n\t\t\t\t.substring(6)\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.replace(/_([a-z])/g, (_, k) => {\r\n\t\t\t\t\treturn k.toUpperCase();\r\n\t\t\t\t});\r\n\r\n\t\t\t// Coerce string value into JS value\r\n\t\t\tlet val = process.env[key];\r\n\t\t\tif (/^(yes|on|true|enabled)$/i.test(val)) {\r\n\t\t\t\tval = true;\r\n\t\t\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\r\n\t\t\t\tval = false;\r\n\t\t\t} else if (val === 'null') {\r\n\t\t\t\tval = null;\r\n\t\t\t} else {\r\n\t\t\t\tval = Number(val);\r\n\t\t\t}\r\n\r\n\t\t\tobj[prop] = val;\r\n\t\t\treturn obj;\r\n\t\t}, {});\r\n\r\n\t\t/**\r\n\t\t * Is stdout a TTY? Colored output is enabled when `true`.\r\n\t\t */\r\n\r\n\t\tfunction useColors() {\r\n\t\t\treturn 'colors' in exports.inspectOpts ?\r\n\t\t\t\tBoolean(exports.inspectOpts.colors) :\r\n\t\t\t\ttty.isatty(process.stderr.fd);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Adds ANSI color escape codes if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t\tconst {namespace: name, useColors} = this;\r\n\r\n\t\t\tif (useColors) {\r\n\t\t\t\tconst c = this.color;\r\n\t\t\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\r\n\t\t\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\r\n\r\n\t\t\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\r\n\t\t\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\r\n\t\t\t} else {\r\n\t\t\t\targs[0] = getDate() + name + ' ' + args[0];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getDate() {\r\n\t\t\tif (exports.inspectOpts.hideDate) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\treturn new Date().toISOString() + ' ';\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `util.format()` with the specified arguments and writes to stderr.\r\n\t\t */\r\n\r\n\t\tfunction log(...args) {\r\n\t\t\treturn process.stderr.write(util.format(...args) + '\\n');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\t\tfunction save(namespaces) {\r\n\t\t\tif (namespaces) {\r\n\t\t\t\tprocess.env.DEBUG = namespaces;\r\n\t\t\t} else {\r\n\t\t\t\t// If you set a process.env field to null or undefined, it gets cast to the\r\n\t\t\t\t// string 'null' or 'undefined'. Just delete instead.\r\n\t\t\t\tdelete process.env.DEBUG;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction load() {\r\n\t\t\treturn process.env.DEBUG;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Init logic for `debug` instances.\r\n\t\t *\r\n\t\t * Create a new `inspectOpts` object in case `useColors` is set\r\n\t\t * differently for a particular `debug` instance.\r\n\t\t */\r\n\r\n\t\tfunction init(debug) {\r\n\t\t\tdebug.inspectOpts = {};\r\n\r\n\t\t\tconst keys = Object.keys(exports.inspectOpts);\r\n\t\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodule.exports = requireCommon()(exports);\r\n\r\n\t\tconst {formatters} = module.exports;\r\n\r\n\t\t/**\r\n\t\t * Map %o to `util.inspect()`, all on a single line.\r\n\t\t */\r\n\r\n\t\tformatters.o = function (v) {\r\n\t\t\tthis.inspectOpts.colors = this.useColors;\r\n\t\t\treturn util.inspect(v, this.inspectOpts)\r\n\t\t\t\t.split('\\n')\r\n\t\t\t\t.map(str => str.trim())\r\n\t\t\t\t.join(' ');\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Map %O to `util.inspect()`, allowing multiple lines if needed.\r\n\t\t */\r\n\r\n\t\tformatters.O = function (v) {\r\n\t\t\tthis.inspectOpts.colors = this.useColors;\r\n\t\t\treturn util.inspect(v, this.inspectOpts);\r\n\t\t};\r\n} (node$1, node$1.exports));\r\n\treturn node$1.exports;\r\n}\r\n\r\n/**\r\n * Detect Electron renderer / nwjs process, which is node, but we should\r\n * treat as a browser.\r\n */\r\n\r\n(function (module) {\r\n\tif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\r\n\t\tmodule.exports = requireBrowser$1();\r\n\t} else {\r\n\t\tmodule.exports = requireNode$1();\r\n\t}\r\n} (src$2));\r\n\r\nvar _debug = /*@__PURE__*/getDefaultExportFromCjs(src$2.exports);\r\n\r\n// Helper since Typescript can't detect readonly arrays with Array.isArray\r\nfunction isArray$1(arg) {\r\n    return Array.isArray(arg);\r\n}\r\nfunction ensureArray(thing) {\r\n    if (isArray$1(thing))\r\n        return thing;\r\n    if (thing == null)\r\n        return [];\r\n    return [thing];\r\n}\r\n\r\nconst normalizePath$4 = function normalizePath(filename) {\r\n    return filename.split(win32$1.sep).join(posix$1.sep);\r\n};\r\n\r\nfunction getMatcherString(id, resolutionBase) {\r\n    if (resolutionBase === false || isAbsolute$1(id) || id.startsWith('*')) {\r\n        return normalizePath$4(id);\r\n    }\r\n    // resolve('') is valid and will default to process.cwd()\r\n    const basePath = normalizePath$4(resolve$4(resolutionBase || ''))\r\n        // escape all possible (posix + win) path characters that might interfere with regex\r\n        .replace(/[-^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n    // Note that we use posix.join because:\r\n    // 1. the basePath has been normalized to use /\r\n    // 2. the incoming glob (id) matcher, also uses /\r\n    // otherwise Node will force backslash (\\) on windows\r\n    return posix$1.join(basePath, normalizePath$4(id));\r\n}\r\nconst createFilter$1 = function createFilter(include, exclude, options) {\r\n    const resolutionBase = options && options.resolve;\r\n    const getMatcher = (id) => id instanceof RegExp\r\n        ? id\r\n        : {\r\n            test: (what) => {\r\n                // this refactor is a tad overly verbose but makes for easy debugging\r\n                const pattern = getMatcherString(id, resolutionBase);\r\n                const fn = pm(pattern, { dot: true });\r\n                const result = fn(what);\r\n                return result;\r\n            }\r\n        };\r\n    const includeMatchers = ensureArray(include).map(getMatcher);\r\n    const excludeMatchers = ensureArray(exclude).map(getMatcher);\r\n    return function result(id) {\r\n        if (typeof id !== 'string')\r\n            return false;\r\n        if (/\\0/.test(id))\r\n            return false;\r\n        const pathId = normalizePath$4(id);\r\n        for (let i = 0; i < excludeMatchers.length; ++i) {\r\n            const matcher = excludeMatchers[i];\r\n            if (matcher.test(pathId))\r\n                return false;\r\n        }\r\n        for (let i = 0; i < includeMatchers.length; ++i) {\r\n            const matcher = includeMatchers[i];\r\n            if (matcher.test(pathId))\r\n                return true;\r\n        }\r\n        return !includeMatchers.length;\r\n    };\r\n};\r\n\r\nconst reservedWords$1 = 'break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public';\r\nconst builtins$1 = 'arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl';\r\nconst forbiddenIdentifiers = new Set(`${reservedWords$1} ${builtins$1}`.split(' '));\r\nforbiddenIdentifiers.add('');\r\nconst makeLegalIdentifier = function makeLegalIdentifier(str) {\r\n    let identifier = str\r\n        .replace(/-(\\w)/g, (_, letter) => letter.toUpperCase())\r\n        .replace(/[^$_a-zA-Z0-9]/g, '_');\r\n    if (/\\d/.test(identifier[0]) || forbiddenIdentifiers.has(identifier)) {\r\n        identifier = `_${identifier}`;\r\n    }\r\n    return identifier || '_';\r\n};\r\n\r\nfunction stringify$9(obj) {\r\n    return (JSON.stringify(obj) || 'undefined').replace(/[\\u2028\\u2029]/g, (char) => `\\\\u${`000${char.charCodeAt(0).toString(16)}`.slice(-4)}`);\r\n}\r\nfunction serializeArray(arr, indent, baseIndent) {\r\n    let output = '[';\r\n    const separator = indent ? `\\n${baseIndent}${indent}` : '';\r\n    for (let i = 0; i < arr.length; i++) {\r\n        const key = arr[i];\r\n        output += `${i > 0 ? ',' : ''}${separator}${serialize(key, indent, baseIndent + indent)}`;\r\n    }\r\n    return `${output}${indent ? `\\n${baseIndent}` : ''}]`;\r\n}\r\nfunction serializeObject(obj, indent, baseIndent) {\r\n    let output = '{';\r\n    const separator = indent ? `\\n${baseIndent}${indent}` : '';\r\n    const entries = Object.entries(obj);\r\n    for (let i = 0; i < entries.length; i++) {\r\n        const [key, value] = entries[i];\r\n        const stringKey = makeLegalIdentifier(key) === key ? key : stringify$9(key);\r\n        output += `${i > 0 ? ',' : ''}${separator}${stringKey}:${indent ? ' ' : ''}${serialize(value, indent, baseIndent + indent)}`;\r\n    }\r\n    return `${output}${indent ? `\\n${baseIndent}` : ''}}`;\r\n}\r\nfunction serialize(obj, indent, baseIndent) {\r\n    if (typeof obj === 'object' && obj !== null) {\r\n        if (Array.isArray(obj))\r\n            return serializeArray(obj, indent, baseIndent);\r\n        if (obj instanceof Date)\r\n            return `new Date(${obj.getTime()})`;\r\n        if (obj instanceof RegExp)\r\n            return obj.toString();\r\n        return serializeObject(obj, indent, baseIndent);\r\n    }\r\n    if (typeof obj === 'number') {\r\n        if (obj === Infinity)\r\n            return 'Infinity';\r\n        if (obj === -Infinity)\r\n            return '-Infinity';\r\n        if (obj === 0)\r\n            return 1 / obj === Infinity ? '0' : '-0';\r\n        if (obj !== obj)\r\n            return 'NaN'; // eslint-disable-line no-self-compare\r\n    }\r\n    if (typeof obj === 'symbol') {\r\n        const key = Symbol.keyFor(obj);\r\n        if (key !== undefined)\r\n            return `Symbol.for(${stringify$9(key)})`;\r\n    }\r\n    if (typeof obj === 'bigint')\r\n        return `${obj}n`;\r\n    return stringify$9(obj);\r\n}\r\nconst dataToEsm = function dataToEsm(data, options = {}) {\r\n    const t = options.compact ? '' : 'indent' in options ? options.indent : '\\t';\r\n    const _ = options.compact ? '' : ' ';\r\n    const n = options.compact ? '' : '\\n';\r\n    const declarationType = options.preferConst ? 'const' : 'var';\r\n    if (options.namedExports === false ||\r\n        typeof data !== 'object' ||\r\n        Array.isArray(data) ||\r\n        data instanceof Date ||\r\n        data instanceof RegExp ||\r\n        data === null) {\r\n        const code = serialize(data, options.compact ? null : t, '');\r\n        const magic = _ || (/^[{[\\-\\/]/.test(code) ? '' : ' '); // eslint-disable-line no-useless-escape\r\n        return `export default${magic}${code};`;\r\n    }\r\n    let namedExportCode = '';\r\n    const defaultExportRows = [];\r\n    for (const [key, value] of Object.entries(data)) {\r\n        if (key === makeLegalIdentifier(key)) {\r\n            if (options.objectShorthand)\r\n                defaultExportRows.push(key);\r\n            else\r\n                defaultExportRows.push(`${key}:${_}${key}`);\r\n            namedExportCode += `export ${declarationType} ${key}${_}=${_}${serialize(value, options.compact ? null : t, '')};${n}`;\r\n        }\r\n        else {\r\n            defaultExportRows.push(`${stringify$9(key)}:${_}${serialize(value, options.compact ? null : t, '')}`);\r\n        }\r\n    }\r\n    return `${namedExportCode}export default${_}{${n}${t}${defaultExportRows.join(`,${n}${t}`)}${n}};${n}`;\r\n};\r\n\r\nconst createFilter = createFilter$1;\r\nfunction slash$1(p) {\r\n    return p.replace(/\\\\/g, '/');\r\n}\r\n// Strip valid id prefix. This is prepended to resolved Ids that are\r\n// not valid browser import specifiers by the importAnalysis plugin.\r\nfunction unwrapId(id) {\r\n    return id.startsWith(VALID_ID_PREFIX) ? id.slice(VALID_ID_PREFIX.length) : id;\r\n}\r\nconst flattenId = (id) => id\r\n    .replace(/[\\/:]/g, '_')\r\n    .replace(/[\\.]/g, '__')\r\n    .replace(/(\\s*>\\s*)/g, '___');\r\nconst normalizeId = (id) => id.replace(/(\\s*>\\s*)/g, ' > ');\r\n//TODO: revisit later to see if the edge case that \"compiling using node v12 code to be run in node v16 in the server\" is what we intend to support.\r\nconst builtins = new Set([\r\n    ...builtinModules,\r\n    'assert/strict',\r\n    'diagnostics_channel',\r\n    'dns/promises',\r\n    'fs/promises',\r\n    'path/posix',\r\n    'path/win32',\r\n    'readline/promises',\r\n    'stream/consumers',\r\n    'stream/promises',\r\n    'stream/web',\r\n    'timers/promises',\r\n    'util/types',\r\n    'wasi'\r\n]);\r\nfunction isBuiltin(id) {\r\n    return builtins.has(id.replace(/^node:/, ''));\r\n}\r\nfunction moduleListContains(moduleList, id) {\r\n    return moduleList?.some((m) => m === id || id.startsWith(m + '/'));\r\n}\r\nfunction isOptimizable(id, optimizeDeps) {\r\n    const { extensions } = optimizeDeps;\r\n    return (OPTIMIZABLE_ENTRY_RE.test(id) ||\r\n        (extensions?.some((ext) => id.endsWith(ext)) ?? false));\r\n}\r\nconst bareImportRE = /^[\\w@](?!.*:\\/\\/)/;\r\nlet isRunningWithYarnPnp;\r\n// TODO: use import()\r\nconst _require$4 = createRequire$1(import.meta.url);\r\ntry {\r\n    isRunningWithYarnPnp = Boolean(_require$4('pnpapi'));\r\n}\r\ncatch { }\r\nconst ssrExtensions = ['.js', '.cjs', '.json', '.node'];\r\nfunction resolveFrom(id, basedir, preserveSymlinks = false, ssr = false) {\r\n    return resolve$5.sync(id, {\r\n        basedir,\r\n        paths: [],\r\n        extensions: ssr ? ssrExtensions : DEFAULT_EXTENSIONS$1,\r\n        // necessary to work with pnpm\r\n        preserveSymlinks: preserveSymlinks || isRunningWithYarnPnp || false\r\n    });\r\n}\r\n/**\r\n * like `resolveFrom` but supports resolving `>` path in `id`,\r\n * for example: `foo > bar > baz`\r\n */\r\nfunction nestedResolveFrom(id, basedir, preserveSymlinks = false) {\r\n    const pkgs = id.split('>').map((pkg) => pkg.trim());\r\n    try {\r\n        for (const pkg of pkgs) {\r\n            basedir = resolveFrom(pkg, basedir, preserveSymlinks);\r\n        }\r\n    }\r\n    catch { }\r\n    return basedir;\r\n}\r\n// set in bin/vite.js\r\nconst filter = process.env.VITE_DEBUG_FILTER;\r\nconst DEBUG = process.env.DEBUG;\r\nfunction createDebugger(namespace, options = {}) {\r\n    const log = _debug(namespace);\r\n    const { onlyWhenFocused } = options;\r\n    const focus = typeof onlyWhenFocused === 'string' ? onlyWhenFocused : namespace;\r\n    return (msg, ...args) => {\r\n        if (filter && !msg.includes(filter)) {\r\n            return;\r\n        }\r\n        if (onlyWhenFocused && !DEBUG?.includes(focus)) {\r\n            return;\r\n        }\r\n        log(msg, ...args);\r\n    };\r\n}\r\nfunction testCaseInsensitiveFS() {\r\n    if (!CLIENT_ENTRY.endsWith('client.mjs')) {\r\n        throw new Error(`cannot test case insensitive FS, CLIENT_ENTRY const doesn't contain client.mjs`);\r\n    }\r\n    if (!fs$l.existsSync(CLIENT_ENTRY)) {\r\n        throw new Error('cannot test case insensitive FS, CLIENT_ENTRY does not point to an existing file: ' +\r\n            CLIENT_ENTRY);\r\n    }\r\n    return fs$l.existsSync(CLIENT_ENTRY.replace('client.mjs', 'cLiEnT.mjs'));\r\n}\r\nconst isCaseInsensitiveFS = testCaseInsensitiveFS();\r\nconst isWindows$4 = os$3.platform() === 'win32';\r\nconst VOLUME_RE = /^[A-Z]:/i;\r\nfunction normalizePath$3(id) {\r\n    return path$n.posix.normalize(isWindows$4 ? slash$1(id) : id);\r\n}\r\nfunction fsPathFromId(id) {\r\n    const fsPath = normalizePath$3(id.startsWith(FS_PREFIX) ? id.slice(FS_PREFIX.length) : id);\r\n    return fsPath.startsWith('/') || fsPath.match(VOLUME_RE)\r\n        ? fsPath\r\n        : `/${fsPath}`;\r\n}\r\nfunction fsPathFromUrl(url) {\r\n    return fsPathFromId(cleanUrl(url));\r\n}\r\n/**\r\n * Check if dir is a parent of file\r\n *\r\n * Warning: parameters are not validated, only works with normalized absolute paths\r\n *\r\n * @param dir - normalized absolute path\r\n * @param file - normalized absolute path\r\n * @returns true if dir is a parent of file\r\n */\r\nfunction isParentDirectory(dir, file) {\r\n    if (!dir.endsWith('/')) {\r\n        dir = `${dir}/`;\r\n    }\r\n    return (file.startsWith(dir) ||\r\n        (isCaseInsensitiveFS && file.toLowerCase().startsWith(dir.toLowerCase())));\r\n}\r\nfunction ensureVolumeInPath(file) {\r\n    return isWindows$4 ? path$n.resolve(file) : file;\r\n}\r\nconst queryRE = /\\?.*$/s;\r\nconst hashRE = /#.*$/s;\r\nconst cleanUrl = (url) => url.replace(hashRE, '').replace(queryRE, '');\r\nconst externalRE = /^(https?:)?\\/\\//;\r\nconst isExternalUrl = (url) => externalRE.test(url);\r\nconst dataUrlRE = /^\\s*data:/i;\r\nconst isDataUrl = (url) => dataUrlRE.test(url);\r\nconst virtualModuleRE = /^virtual-module:.*/;\r\nconst virtualModulePrefix = 'virtual-module:';\r\nconst knownJsSrcRE = /\\.((j|t)sx?|m[jt]s|vue|marko|svelte|astro)($|\\?)/;\r\nconst isJSRequest = (url) => {\r\n    url = cleanUrl(url);\r\n    if (knownJsSrcRE.test(url)) {\r\n        return true;\r\n    }\r\n    if (!path$n.extname(url) && !url.endsWith('/')) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nconst knownTsRE = /\\.(ts|mts|cts|tsx)$/;\r\nconst knownTsOutputRE = /\\.(js|mjs|cjs|jsx)$/;\r\nconst isTsRequest = (url) => knownTsRE.test(url);\r\nconst isPossibleTsOutput = (url) => knownTsOutputRE.test(cleanUrl(url));\r\nfunction getPotentialTsSrcPaths(filePath) {\r\n    const [name, type, query = ''] = filePath.split(/(\\.(?:[cm]?js|jsx))(\\?.*)?$/);\r\n    const paths = [name + type.replace('js', 'ts') + query];\r\n    if (!type.endsWith('x')) {\r\n        paths.push(name + type.replace('js', 'tsx') + query);\r\n    }\r\n    return paths;\r\n}\r\nconst importQueryRE = /(\\?|&)import=?(?:&|$)/;\r\nconst internalPrefixes = [\r\n    FS_PREFIX,\r\n    VALID_ID_PREFIX,\r\n    CLIENT_PUBLIC_PATH,\r\n    ENV_PUBLIC_PATH\r\n];\r\nconst InternalPrefixRE = new RegExp(`^(?:${internalPrefixes.join('|')})`);\r\nconst trailingSeparatorRE = /[\\?&]$/;\r\nconst isImportRequest = (url) => importQueryRE.test(url);\r\nconst isInternalRequest = (url) => InternalPrefixRE.test(url);\r\nfunction removeImportQuery(url) {\r\n    return url.replace(importQueryRE, '$1').replace(trailingSeparatorRE, '');\r\n}\r\nfunction injectQuery(url, queryToInject) {\r\n    // encode percents for consistent behavior with pathToFileURL\r\n    // see #2614 for details\r\n    let resolvedUrl = new URL$3(url.replace(/%/g, '%25'), 'relative:///');\r\n    if (resolvedUrl.protocol !== 'relative:') {\r\n        resolvedUrl = pathToFileURL(url);\r\n    }\r\n    let { protocol, pathname, search, hash } = resolvedUrl;\r\n    if (protocol === 'file:') {\r\n        pathname = pathname.slice(1);\r\n    }\r\n    pathname = decodeURIComponent(pathname);\r\n    return `${pathname}?${queryToInject}${search ? `&` + search.slice(1) : ''}${hash ?? ''}`;\r\n}\r\nconst timestampRE = /\\bt=\\d{13}&?\\b/;\r\nfunction removeTimestampQuery(url) {\r\n    return url.replace(timestampRE, '').replace(trailingSeparatorRE, '');\r\n}\r\nasync function asyncReplace(input, re, replacer) {\r\n    let match;\r\n    let remaining = input;\r\n    let rewritten = '';\r\n    while ((match = re.exec(remaining))) {\r\n        rewritten += remaining.slice(0, match.index);\r\n        rewritten += await replacer(match);\r\n        remaining = remaining.slice(match.index + match[0].length);\r\n    }\r\n    rewritten += remaining;\r\n    return rewritten;\r\n}\r\nfunction timeFrom(start, subtract = 0) {\r\n    const time = performance.now() - start - subtract;\r\n    const timeString = (time.toFixed(2) + `ms`).padEnd(5, ' ');\r\n    if (time < 10) {\r\n        return picocolors.exports.green(timeString);\r\n    }\r\n    else if (time < 50) {\r\n        return picocolors.exports.yellow(timeString);\r\n    }\r\n    else {\r\n        return picocolors.exports.red(timeString);\r\n    }\r\n}\r\n/**\r\n * pretty url for logging.\r\n */\r\nfunction prettifyUrl(url, root) {\r\n    url = removeTimestampQuery(url);\r\n    const isAbsoluteFile = url.startsWith(root);\r\n    if (isAbsoluteFile || url.startsWith(FS_PREFIX)) {\r\n        let file = path$n.relative(root, isAbsoluteFile ? url : fsPathFromId(url));\r\n        const seg = file.split('/');\r\n        const npmIndex = seg.indexOf(`node_modules`);\r\n        const isSourceMap = file.endsWith('.map');\r\n        if (npmIndex > 0) {\r\n            file = seg[npmIndex + 1];\r\n            if (file.startsWith('@')) {\r\n                file = `${file}/${seg[npmIndex + 2]}`;\r\n            }\r\n            file = `npm: ${picocolors.exports.dim(file)}${isSourceMap ? ` (source map)` : ``}`;\r\n        }\r\n        return picocolors.exports.dim(file);\r\n    }\r\n    else {\r\n        return picocolors.exports.dim(url);\r\n    }\r\n}\r\nfunction isObject$2(value) {\r\n    return Object.prototype.toString.call(value) === '[object Object]';\r\n}\r\nfunction isDefined(value) {\r\n    return value != null;\r\n}\r\nfunction lookupFile(dir, formats, options) {\r\n    for (const format of formats) {\r\n        const fullPath = path$n.join(dir, format);\r\n        if (fs$l.existsSync(fullPath) && fs$l.statSync(fullPath).isFile()) {\r\n            return options?.pathOnly ? fullPath : fs$l.readFileSync(fullPath, 'utf-8');\r\n        }\r\n    }\r\n    const parentDir = path$n.dirname(dir);\r\n    if (parentDir !== dir &&\r\n        (!options?.rootDir || parentDir.startsWith(options?.rootDir))) {\r\n        return lookupFile(parentDir, formats, options);\r\n    }\r\n}\r\nconst splitRE = /\\r?\\n/;\r\nconst range = 2;\r\nfunction pad$1(source, n = 2) {\r\n    const lines = source.split(splitRE);\r\n    return lines.map((l) => ` `.repeat(n) + l).join(`\\n`);\r\n}\r\nfunction posToNumber(source, pos) {\r\n    if (typeof pos === 'number')\r\n        return pos;\r\n    const lines = source.split(splitRE);\r\n    const { line, column } = pos;\r\n    let start = 0;\r\n    for (let i = 0; i < line - 1; i++) {\r\n        if (lines[i]) {\r\n            start += lines[i].length + 1;\r\n        }\r\n    }\r\n    return start + column;\r\n}\r\nfunction numberToPos(source, offset) {\r\n    if (typeof offset !== 'number')\r\n        return offset;\r\n    if (offset > source.length) {\r\n        throw new Error(`offset is longer than source length! offset ${offset} > length ${source.length}`);\r\n    }\r\n    const lines = source.split(splitRE);\r\n    let counted = 0;\r\n    let line = 0;\r\n    let column = 0;\r\n    for (; line < lines.length; line++) {\r\n        const lineLength = lines[line].length + 1;\r\n        if (counted + lineLength >= offset) {\r\n            column = offset - counted + 1;\r\n            break;\r\n        }\r\n        counted += lineLength;\r\n    }\r\n    return { line: line + 1, column };\r\n}\r\nfunction generateCodeFrame(source, start = 0, end) {\r\n    start = posToNumber(source, start);\r\n    end = end || start;\r\n    const lines = source.split(splitRE);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count += lines[i].length + 1;\r\n        if (count >= start) {\r\n            for (let j = i - range; j <= i + range || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = Math.max(start - (count - lineLength) + 1, 0);\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + 1;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\r\nfunction writeFile(filename, content) {\r\n    const dir = path$n.dirname(filename);\r\n    if (!fs$l.existsSync(dir)) {\r\n        fs$l.mkdirSync(dir, { recursive: true });\r\n    }\r\n    fs$l.writeFileSync(filename, content);\r\n}\r\n/**\r\n * Use fs.statSync(filename) instead of fs.existsSync(filename)\r\n * #2051 if we don't have read permission on a directory, existsSync() still\r\n * works and will result in massively slow subsequent checks (which are\r\n * unnecessary in the first place)\r\n */\r\nfunction isFileReadable(filename) {\r\n    try {\r\n        const stat = fs$l.statSync(filename, { throwIfNoEntry: false });\r\n        return !!stat;\r\n    }\r\n    catch {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Delete every file and subdirectory. **The given directory must exist.**\r\n * Pass an optional `skip` array to preserve files in the root directory.\r\n */\r\nfunction emptyDir(dir, skip) {\r\n    for (const file of fs$l.readdirSync(dir)) {\r\n        if (skip?.includes(file)) {\r\n            continue;\r\n        }\r\n        fs$l.rmSync(path$n.resolve(dir, file), { recursive: true, force: true });\r\n    }\r\n}\r\nfunction copyDir(srcDir, destDir) {\r\n    fs$l.mkdirSync(destDir, { recursive: true });\r\n    for (const file of fs$l.readdirSync(srcDir)) {\r\n        const srcFile = path$n.resolve(srcDir, file);\r\n        if (srcFile === destDir) {\r\n            continue;\r\n        }\r\n        const destFile = path$n.resolve(destDir, file);\r\n        const stat = fs$l.statSync(srcFile);\r\n        if (stat.isDirectory()) {\r\n            copyDir(srcFile, destFile);\r\n        }\r\n        else {\r\n            fs$l.copyFileSync(srcFile, destFile);\r\n        }\r\n    }\r\n}\r\nconst removeDir = isWindows$4\r\n    ? promisify$4(gracefulRemoveDir)\r\n    : function removeDirSync(dir) {\r\n        fs$l.rmSync(dir, { recursive: true, force: true });\r\n    };\r\nconst renameDir = isWindows$4 ? promisify$4(gracefulRename) : fs$l.renameSync;\r\nfunction ensureWatchedFile(watcher, file, root) {\r\n    if (file &&\r\n        // only need to watch if out of root\r\n        !file.startsWith(root + '/') &&\r\n        // some rollup plugins use null bytes for private resolved Ids\r\n        !file.includes('\\0') &&\r\n        fs$l.existsSync(file)) {\r\n        // resolve file to normalized system path\r\n        watcher.add(path$n.resolve(file));\r\n    }\r\n}\r\nconst escapedSpaceCharacters = /( |\\\\t|\\\\n|\\\\f|\\\\r)+/g;\r\nconst imageSetUrlRE = /^(?:[\\w\\-]+\\(.*?\\)|'.*?'|\".*?\"|\\S*)/;\r\nfunction reduceSrcset(ret) {\r\n    return ret.reduce((prev, { url, descriptor }, index) => {\r\n        descriptor ?? (descriptor = '');\r\n        return (prev +=\r\n            url + ` ${descriptor}${index === ret.length - 1 ? '' : ', '}`);\r\n    }, '');\r\n}\r\nfunction splitSrcSetDescriptor(srcs) {\r\n    return splitSrcSet(srcs)\r\n        .map((s) => {\r\n        const src = s.replace(escapedSpaceCharacters, ' ').trim();\r\n        const [url] = imageSetUrlRE.exec(src) || [];\r\n        return {\r\n            url,\r\n            descriptor: src?.slice(url.length).trim()\r\n        };\r\n    })\r\n        .filter(({ url }) => !!url);\r\n}\r\nfunction processSrcSet(srcs, replacer) {\r\n    return Promise.all(splitSrcSetDescriptor(srcs).map(async ({ url, descriptor }) => ({\r\n        url: await replacer({ url, descriptor }),\r\n        descriptor\r\n    }))).then((ret) => reduceSrcset(ret));\r\n}\r\nfunction processSrcSetSync(srcs, replacer) {\r\n    return reduceSrcset(splitSrcSetDescriptor(srcs).map(({ url, descriptor }) => ({\r\n        url: replacer({ url, descriptor }),\r\n        descriptor\r\n    })));\r\n}\r\nfunction splitSrcSet(srcs) {\r\n    const parts = [];\r\n    // There could be a ',' inside of url(data:...), linear-gradient(...) or \"data:...\"\r\n    const cleanedSrcs = srcs.replace(/(?:url|image|gradient|cross-fade)\\([^\\)]*\\)|\"([^\"]|(?<=\\\\)\")*\"|'([^']|(?<=\\\\)')*'/g, blankReplacer);\r\n    let startIndex = 0;\r\n    let splitIndex;\r\n    do {\r\n        splitIndex = cleanedSrcs.indexOf(',', startIndex);\r\n        parts.push(srcs.slice(startIndex, splitIndex !== -1 ? splitIndex : undefined));\r\n        startIndex = splitIndex + 1;\r\n    } while (splitIndex !== -1);\r\n    return parts;\r\n}\r\nfunction escapeToLinuxLikePath(path) {\r\n    if (/^[A-Z]:/.test(path)) {\r\n        return path.replace(/^([A-Z]):\\//, '/windows/$1/');\r\n    }\r\n    if (/^\\/[^/]/.test(path)) {\r\n        return `/linux${path}`;\r\n    }\r\n    return path;\r\n}\r\nfunction unescapeToLinuxLikePath(path) {\r\n    if (path.startsWith('/linux/')) {\r\n        return path.slice('/linux'.length);\r\n    }\r\n    if (path.startsWith('/windows/')) {\r\n        return path.replace(/^\\/windows\\/([A-Z])\\//, '$1:/');\r\n    }\r\n    return path;\r\n}\r\n// based on https://github.com/sveltejs/svelte/blob/abf11bb02b2afbd3e4cac509a0f70e318c306364/src/compiler/utils/mapped_code.ts#L221\r\nconst nullSourceMap = {\r\n    names: [],\r\n    sources: [],\r\n    mappings: '',\r\n    version: 3\r\n};\r\nfunction combineSourcemaps(filename, sourcemapList, excludeContent = true) {\r\n    if (sourcemapList.length === 0 ||\r\n        sourcemapList.every((m) => m.sources.length === 0)) {\r\n        return { ...nullSourceMap };\r\n    }\r\n    // hack for parse broken with normalized absolute paths on windows (C:/path/to/something).\r\n    // escape them to linux like paths\r\n    // also avoid mutation here to prevent breaking plugin's using cache to generate sourcemaps like vue (see #7442)\r\n    sourcemapList = sourcemapList.map((sourcemap) => {\r\n        const newSourcemaps = { ...sourcemap };\r\n        newSourcemaps.sources = sourcemap.sources.map((source) => source ? escapeToLinuxLikePath(source) : null);\r\n        if (sourcemap.sourceRoot) {\r\n            newSourcemaps.sourceRoot = escapeToLinuxLikePath(sourcemap.sourceRoot);\r\n        }\r\n        return newSourcemaps;\r\n    });\r\n    const escapedFilename = escapeToLinuxLikePath(filename);\r\n    // We don't declare type here so we can convert/fake/map as RawSourceMap\r\n    let map; //: SourceMap\r\n    let mapIndex = 1;\r\n    const useArrayInterface = sourcemapList.slice(0, -1).find((m) => m.sources.length !== 1) === undefined;\r\n    if (useArrayInterface) {\r\n        map = remapping(sourcemapList, () => null, excludeContent);\r\n    }\r\n    else {\r\n        map = remapping(sourcemapList[0], function loader(sourcefile) {\r\n            if (sourcefile === escapedFilename && sourcemapList[mapIndex]) {\r\n                return sourcemapList[mapIndex++];\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }, excludeContent);\r\n    }\r\n    if (!map.file) {\r\n        delete map.file;\r\n    }\r\n    // unescape the previous hack\r\n    map.sources = map.sources.map((source) => source ? unescapeToLinuxLikePath(source) : source);\r\n    map.file = filename;\r\n    return map;\r\n}\r\nfunction unique(arr) {\r\n    return Array.from(new Set(arr));\r\n}\r\n/**\r\n * Returns resolved localhost address when `dns.lookup` result differs from DNS\r\n *\r\n * `dns.lookup` result is same when defaultResultOrder is `verbatim`.\r\n * Even if defaultResultOrder is `ipv4first`, `dns.lookup` result maybe same.\r\n * For example, when IPv6 is not supported on that machine/network.\r\n */\r\nasync function getLocalhostAddressIfDiffersFromDNS() {\r\n    const [nodeResult, dnsResult] = await Promise.all([\r\n        promises.lookup('localhost'),\r\n        promises.lookup('localhost', { verbatim: true })\r\n    ]);\r\n    const isSame = nodeResult.family === dnsResult.family &&\r\n        nodeResult.address === dnsResult.address;\r\n    return isSame ? undefined : nodeResult.address;\r\n}\r\nasync function resolveHostname(optionsHost) {\r\n    let host;\r\n    if (optionsHost === undefined || optionsHost === false) {\r\n        // Use a secure default\r\n        host = 'localhost';\r\n    }\r\n    else if (optionsHost === true) {\r\n        // If passed --host in the CLI without arguments\r\n        host = undefined; // undefined typically means 0.0.0.0 or :: (listen on all IPs)\r\n    }\r\n    else {\r\n        host = optionsHost;\r\n    }\r\n    // Set host name to localhost when possible\r\n    let name = host === undefined || wildcardHosts.has(host) ? 'localhost' : host;\r\n    if (host === 'localhost') {\r\n        // See #8647 for more details.\r\n        const localhostAddr = await getLocalhostAddressIfDiffersFromDNS();\r\n        if (localhostAddr) {\r\n            name = localhostAddr;\r\n        }\r\n    }\r\n    return { host, name };\r\n}\r\nasync function resolveServerUrls(server, options, config) {\r\n    const address = server.address();\r\n    const isAddressInfo = (x) => x?.address;\r\n    if (!isAddressInfo(address)) {\r\n        return { local: [], network: [] };\r\n    }\r\n    const local = [];\r\n    const network = [];\r\n    const hostname = await resolveHostname(options.host);\r\n    const protocol = options.https ? 'https' : 'http';\r\n    const port = address.port;\r\n    const base = config.base === './' || config.base === '' ? '/' : config.base;\r\n    if (hostname.host && loopbackHosts.has(hostname.host)) {\r\n        let hostnameName = hostname.name;\r\n        if (hostnameName === '::1' ||\r\n            hostnameName === '0000:0000:0000:0000:0000:0000:0000:0001') {\r\n            hostnameName = `[${hostnameName}]`;\r\n        }\r\n        local.push(`${protocol}://${hostnameName}:${port}${base}`);\r\n    }\r\n    else {\r\n        Object.values(os$3.networkInterfaces())\r\n            .flatMap((nInterface) => nInterface ?? [])\r\n            .filter((detail) => detail &&\r\n            detail.address &&\r\n            // Node < v18\r\n            ((typeof detail.family === 'string' && detail.family === 'IPv4') ||\r\n                // Node >= v18\r\n                (typeof detail.family === 'number' && detail.family === 4)))\r\n            .forEach((detail) => {\r\n            const host = detail.address.replace('127.0.0.1', hostname.name);\r\n            const url = `${protocol}://${host}:${port}${base}`;\r\n            if (detail.address.includes('127.0.0.1')) {\r\n                local.push(url);\r\n            }\r\n            else {\r\n                network.push(url);\r\n            }\r\n        });\r\n    }\r\n    return { local, network };\r\n}\r\nfunction arraify(target) {\r\n    return Array.isArray(target) ? target : [target];\r\n}\r\nfunction toUpperCaseDriveLetter(pathName) {\r\n    return pathName.replace(/^\\w:/, (letter) => letter.toUpperCase());\r\n}\r\nconst multilineCommentsRE$1 = /\\/\\*(.|[\\r\\n])*?\\*\\//gm;\r\nconst singlelineCommentsRE$1 = /\\/\\/.*/g;\r\nconst requestQuerySplitRE = /\\?(?!.*[\\/|\\}])/;\r\n// @ts-expect-error\r\nconst usingDynamicImport = typeof jest === 'undefined';\r\n/**\r\n * Dynamically import files. It will make sure it's not being compiled away by TS/Rollup.\r\n *\r\n * As a temporary workaround for Jest's lack of stable ESM support, we fallback to require\r\n * if we're in a Jest environment.\r\n * See https://github.com/vitejs/vite/pull/5197#issuecomment-938054077\r\n *\r\n * @param file File path to import.\r\n */\r\nconst dynamicImport = usingDynamicImport\r\n    ? new Function('file', 'return import(file)')\r\n    : _require$4;\r\nfunction parseRequest(id) {\r\n    const [_, search] = id.split(requestQuerySplitRE, 2);\r\n    if (!search) {\r\n        return null;\r\n    }\r\n    return Object.fromEntries(new URLSearchParams(search));\r\n}\r\nconst blankReplacer = (match) => ' '.repeat(match.length);\r\nfunction getHash(text) {\r\n    return createHash$2('sha256').update(text).digest('hex').substring(0, 8);\r\n}\r\nconst requireResolveFromRootWithFallback = (root, id) => {\r\n    // Search in the root directory first, and fallback to the default require paths.\r\n    const fallbackPaths = _require$4.resolve.paths?.(id) || [];\r\n    const path = _require$4.resolve(id, {\r\n        paths: [root, ...fallbackPaths]\r\n    });\r\n    return path;\r\n};\r\n// Based on node-graceful-fs\r\n// The ISC License\r\n// Copyright (c) 2011-2022 Isaac Z. Schlueter, Ben Noordhuis, and Contributors\r\n// https://github.com/isaacs/node-graceful-fs/blob/main/LICENSE\r\n// On Windows, A/V software can lock the directory, causing this\r\n// to fail with an EACCES or EPERM if the directory contains newly\r\n// created files. The original tried for up to 60 seconds, we only\r\n// wait for 5 seconds, as a longer time would be seen as an error\r\nconst GRACEFUL_RENAME_TIMEOUT = 5000;\r\nfunction gracefulRename(from, to, cb) {\r\n    const start = Date.now();\r\n    let backoff = 0;\r\n    fs$l.rename(from, to, function CB(er) {\r\n        if (er &&\r\n            (er.code === 'EACCES' || er.code === 'EPERM') &&\r\n            Date.now() - start < GRACEFUL_RENAME_TIMEOUT) {\r\n            setTimeout(function () {\r\n                fs$l.stat(to, function (stater, st) {\r\n                    if (stater && stater.code === 'ENOENT')\r\n                        fs$l.rename(from, to, CB);\r\n                    else\r\n                        CB(er);\r\n                });\r\n            }, backoff);\r\n            if (backoff < 100)\r\n                backoff += 10;\r\n            return;\r\n        }\r\n        if (cb)\r\n            cb(er);\r\n    });\r\n}\r\nconst GRACEFUL_REMOVE_DIR_TIMEOUT = 5000;\r\nfunction gracefulRemoveDir(dir, cb) {\r\n    const start = Date.now();\r\n    let backoff = 0;\r\n    fs$l.rm(dir, { recursive: true }, function CB(er) {\r\n        if (er) {\r\n            if ((er.code === 'ENOTEMPTY' ||\r\n                er.code === 'EACCES' ||\r\n                er.code === 'EPERM') &&\r\n                Date.now() - start < GRACEFUL_REMOVE_DIR_TIMEOUT) {\r\n                setTimeout(function () {\r\n                    fs$l.rm(dir, { recursive: true }, CB);\r\n                }, backoff);\r\n                if (backoff < 100)\r\n                    backoff += 10;\r\n                return;\r\n            }\r\n            if (er.code === 'ENOENT') {\r\n                er = null;\r\n            }\r\n        }\r\n        if (cb)\r\n            cb(er);\r\n    });\r\n}\r\nfunction emptyCssComments(raw) {\r\n    return raw.replace(multilineCommentsRE$1, (s) => ' '.repeat(s.length));\r\n}\r\nfunction removeComments(raw) {\r\n    return raw.replace(multilineCommentsRE$1, '').replace(singlelineCommentsRE$1, '');\r\n}\r\nfunction mergeConfigRecursively(defaults, overrides, rootPath) {\r\n    const merged = { ...defaults };\r\n    for (const key in overrides) {\r\n        const value = overrides[key];\r\n        if (value == null) {\r\n            continue;\r\n        }\r\n        const existing = merged[key];\r\n        if (existing == null) {\r\n            merged[key] = value;\r\n            continue;\r\n        }\r\n        // fields that require special handling\r\n        if (key === 'alias' && (rootPath === 'resolve' || rootPath === '')) {\r\n            merged[key] = mergeAlias(existing, value);\r\n            continue;\r\n        }\r\n        else if (key === 'assetsInclude' && rootPath === '') {\r\n            merged[key] = [].concat(existing, value);\r\n            continue;\r\n        }\r\n        else if (key === 'noExternal' &&\r\n            rootPath === 'ssr' &&\r\n            (existing === true || value === true)) {\r\n            merged[key] = true;\r\n            continue;\r\n        }\r\n        if (Array.isArray(existing) || Array.isArray(value)) {\r\n            merged[key] = [...arraify(existing ?? []), ...arraify(value ?? [])];\r\n            continue;\r\n        }\r\n        if (isObject$2(existing) && isObject$2(value)) {\r\n            merged[key] = mergeConfigRecursively(existing, value, rootPath ? `${rootPath}.${key}` : key);\r\n            continue;\r\n        }\r\n        merged[key] = value;\r\n    }\r\n    return merged;\r\n}\r\nfunction mergeConfig(defaults, overrides, isRoot = true) {\r\n    return mergeConfigRecursively(defaults, overrides, isRoot ? '' : '.');\r\n}\r\nfunction mergeAlias(a, b) {\r\n    if (!a)\r\n        return b;\r\n    if (!b)\r\n        return a;\r\n    if (isObject$2(a) && isObject$2(b)) {\r\n        return { ...a, ...b };\r\n    }\r\n    // the order is flipped because the alias is resolved from top-down,\r\n    // where the later should have higher priority\r\n    return [...normalizeAlias(b), ...normalizeAlias(a)];\r\n}\r\nfunction normalizeAlias(o = []) {\r\n    return Array.isArray(o)\r\n        ? o.map(normalizeSingleAlias)\r\n        : Object.keys(o).map((find) => normalizeSingleAlias({\r\n            find,\r\n            replacement: o[find]\r\n        }));\r\n}\r\n// https://github.com/vitejs/vite/issues/1363\r\n// work around https://github.com/rollup/plugins/issues/759\r\nfunction normalizeSingleAlias({ find, replacement, customResolver }) {\r\n    if (typeof find === 'string' &&\r\n        find.endsWith('/') &&\r\n        replacement.endsWith('/')) {\r\n        find = find.slice(0, find.length - 1);\r\n        replacement = replacement.slice(0, replacement.length - 1);\r\n    }\r\n    const alias = {\r\n        find,\r\n        replacement\r\n    };\r\n    if (customResolver) {\r\n        alias.customResolver = customResolver;\r\n    }\r\n    return alias;\r\n}\r\n/**\r\n * Transforms transpiled code result where line numbers aren't altered,\r\n * so we can skip sourcemap generation during dev\r\n */\r\nfunction transformStableResult(s, id, config) {\r\n    return {\r\n        code: s.toString(),\r\n        map: config.command === 'build' && config.build.sourcemap\r\n            ? s.generateMap({ hires: true, source: id })\r\n            : null\r\n    };\r\n}\r\nasync function asyncFlatten(arr) {\r\n    do {\r\n        arr = (await Promise.all(arr)).flat(Infinity);\r\n    } while (arr.some((v) => v?.then));\r\n    return arr;\r\n}\r\n// strip UTF-8 BOM\r\nfunction stripBomTag(content) {\r\n    if (content.charCodeAt(0) === 0xfeff) {\r\n        return content.slice(1);\r\n    }\r\n    return content;\r\n}\r\nconst windowsDrivePathPrefixRE = /^[A-Za-z]:[/\\\\]/;\r\n/**\r\n * path.isAbsolute also returns true for drive relative paths on windows (e.g. /something)\r\n * this function returns false for them but true for absolute paths (e.g. C:/something)\r\n */\r\nconst isNonDriveRelativeAbsolutePath = (p) => {\r\n    if (!isWindows$4)\r\n        return p.startsWith('/');\r\n    return windowsDrivePathPrefixRE.test(p);\r\n};\r\n\r\n/* eslint no-console: 0 */\r\nconst LogLevels = {\r\n    silent: 0,\r\n    error: 1,\r\n    warn: 2,\r\n    info: 3\r\n};\r\nlet lastType;\r\nlet lastMsg;\r\nlet sameCount = 0;\r\nfunction clearScreen() {\r\n    const repeatCount = process.stdout.rows - 2;\r\n    const blank = repeatCount > 0 ? '\\n'.repeat(repeatCount) : '';\r\n    console.log(blank);\r\n    readline.cursorTo(process.stdout, 0, 0);\r\n    readline.clearScreenDown(process.stdout);\r\n}\r\nfunction createLogger(level = 'info', options = {}) {\r\n    if (options.customLogger) {\r\n        return options.customLogger;\r\n    }\r\n    const loggedErrors = new WeakSet();\r\n    const { prefix = '[vite]', allowClearScreen = true } = options;\r\n    const thresh = LogLevels[level];\r\n    const canClearScreen = allowClearScreen && process.stdout.isTTY && !process.env.CI;\r\n    const clear = canClearScreen ? clearScreen : () => { };\r\n    function output(type, msg, options = {}) {\r\n        if (thresh >= LogLevels[type]) {\r\n            const method = type === 'info' ? 'log' : type;\r\n            const format = () => {\r\n                if (options.timestamp) {\r\n                    const tag = type === 'info'\r\n                        ? picocolors.exports.cyan(picocolors.exports.bold(prefix))\r\n                        : type === 'warn'\r\n                            ? picocolors.exports.yellow(picocolors.exports.bold(prefix))\r\n                            : picocolors.exports.red(picocolors.exports.bold(prefix));\r\n                    return `${picocolors.exports.dim(new Date().toLocaleTimeString())} ${tag} ${msg}`;\r\n                }\r\n                else {\r\n                    return msg;\r\n                }\r\n            };\r\n            if (options.error) {\r\n                loggedErrors.add(options.error);\r\n            }\r\n            if (canClearScreen) {\r\n                if (type === lastType && msg === lastMsg) {\r\n                    sameCount++;\r\n                    clear();\r\n                    console[method](format(), picocolors.exports.yellow(`(x${sameCount + 1})`));\r\n                }\r\n                else {\r\n                    sameCount = 0;\r\n                    lastMsg = msg;\r\n                    lastType = type;\r\n                    if (options.clear) {\r\n                        clear();\r\n                    }\r\n                    console[method](format());\r\n                }\r\n            }\r\n            else {\r\n                console[method](format());\r\n            }\r\n        }\r\n    }\r\n    const warnedMessages = new Set();\r\n    const logger = {\r\n        hasWarned: false,\r\n        info(msg, opts) {\r\n            output('info', msg, opts);\r\n        },\r\n        warn(msg, opts) {\r\n            logger.hasWarned = true;\r\n            output('warn', msg, opts);\r\n        },\r\n        warnOnce(msg, opts) {\r\n            if (warnedMessages.has(msg))\r\n                return;\r\n            logger.hasWarned = true;\r\n            output('warn', msg, opts);\r\n            warnedMessages.add(msg);\r\n        },\r\n        error(msg, opts) {\r\n            logger.hasWarned = true;\r\n            output('error', msg, opts);\r\n        },\r\n        clearScreen(type) {\r\n            if (thresh >= LogLevels[type]) {\r\n                clear();\r\n            }\r\n        },\r\n        hasErrorLogged(error) {\r\n            return loggedErrors.has(error);\r\n        }\r\n    };\r\n    return logger;\r\n}\r\nfunction printServerUrls(urls, optionsHost, info) {\r\n    const colorUrl = (url) => picocolors.exports.cyan(url.replace(/:(\\d+)\\//, (_, port) => `:${picocolors.exports.bold(port)}/`));\r\n    for (const url of urls.local) {\r\n        info(`  ${picocolors.exports.green('\u279C')}  ${picocolors.exports.bold('Local')}:   ${colorUrl(url)}`);\r\n    }\r\n    for (const url of urls.network) {\r\n        info(`  ${picocolors.exports.green('\u279C')}  ${picocolors.exports.bold('Network')}: ${colorUrl(url)}`);\r\n    }\r\n    if (urls.network.length === 0 && optionsHost === undefined) {\r\n        const note = `use ${picocolors.exports.white(picocolors.exports.bold('--host'))} to expose`;\r\n        info(picocolors.exports.dim(`  ${picocolors.exports.green('\u279C')}  ${picocolors.exports.bold('Network')}: ${note}`));\r\n    }\r\n}\r\n\r\nconst writeColors = {\r\n    [0 /* JS */]: picocolors.exports.cyan,\r\n    [1 /* CSS */]: picocolors.exports.magenta,\r\n    [2 /* ASSET */]: picocolors.exports.green,\r\n    [3 /* HTML */]: picocolors.exports.blue,\r\n    [4 /* SOURCE_MAP */]: picocolors.exports.gray\r\n};\r\nfunction buildReporterPlugin(config) {\r\n    const compress = promisify$4(gzip);\r\n    const chunkLimit = config.build.chunkSizeWarningLimit;\r\n    function isLarge(code) {\r\n        // bail out on particularly large chunks\r\n        return code.length / 1024 > chunkLimit;\r\n    }\r\n    async function getCompressedSize(code) {\r\n        if (config.build.ssr || !config.build.reportCompressedSize) {\r\n            return '';\r\n        }\r\n        return ` / gzip: ${((await compress(typeof code === 'string' ? code : Buffer.from(code)))\r\n            .length / 1024).toFixed(2)} KiB`;\r\n    }\r\n    function printFileInfo(filePath, content, type, maxLength, outDir = config.build.outDir, compressedSize = '') {\r\n        outDir =\r\n            normalizePath$3(path$n.relative(config.root, path$n.resolve(config.root, outDir))) + '/';\r\n        const kibs = content.length / 1024;\r\n        const sizeColor = kibs > chunkLimit ? picocolors.exports.yellow : picocolors.exports.dim;\r\n        config.logger.info(`${picocolors.exports.gray(picocolors.exports.white(picocolors.exports.dim(outDir)))}${writeColors[type](filePath.padEnd(maxLength + 2))} ${sizeColor(`${kibs.toFixed(2)} KiB${compressedSize}`)}`);\r\n    }\r\n    const tty = process.stdout.isTTY && !process.env.CI;\r\n    const shouldLogInfo = LogLevels[config.logLevel || 'info'] >= LogLevels.info;\r\n    let hasTransformed = false;\r\n    let hasRenderedChunk = false;\r\n    let transformedCount = 0;\r\n    let chunkCount = 0;\r\n    const logTransform = throttle((id) => {\r\n        writeLine(`transforming (${transformedCount}) ${picocolors.exports.dim(path$n.relative(config.root, id))}`);\r\n    });\r\n    return {\r\n        name: 'vite:reporter',\r\n        transform(_, id) {\r\n            transformedCount++;\r\n            if (shouldLogInfo) {\r\n                if (!tty) {\r\n                    if (!hasTransformed) {\r\n                        config.logger.info(`transforming...`);\r\n                    }\r\n                }\r\n                else {\r\n                    if (id.includes(`?`))\r\n                        return;\r\n                    logTransform(id);\r\n                }\r\n                hasTransformed = true;\r\n            }\r\n            return null;\r\n        },\r\n        buildEnd() {\r\n            if (shouldLogInfo) {\r\n                if (tty) {\r\n                    process.stdout.clearLine(0);\r\n                    process.stdout.cursorTo(0);\r\n                }\r\n                config.logger.info(`${picocolors.exports.green(`\u2713`)} ${transformedCount} modules transformed.`);\r\n            }\r\n        },\r\n        renderStart() {\r\n            chunkCount = 0;\r\n        },\r\n        renderChunk() {\r\n            chunkCount++;\r\n            if (shouldLogInfo) {\r\n                if (!tty) {\r\n                    if (!hasRenderedChunk) {\r\n                        config.logger.info('rendering chunks...');\r\n                    }\r\n                }\r\n                else {\r\n                    writeLine(`rendering chunks (${chunkCount})...`);\r\n                }\r\n                hasRenderedChunk = true;\r\n            }\r\n            return null;\r\n        },\r\n        generateBundle() {\r\n            if (shouldLogInfo && tty) {\r\n                process.stdout.clearLine(0);\r\n                process.stdout.cursorTo(0);\r\n            }\r\n        },\r\n        async writeBundle({ dir: outDir }, output) {\r\n            let hasLargeChunks = false;\r\n            if (shouldLogInfo) {\r\n                let longest = 0;\r\n                for (const file in output) {\r\n                    const l = output[file].fileName.length;\r\n                    if (l > longest)\r\n                        longest = l;\r\n                }\r\n                // large chunks are deferred to be logged at the end so they are more\r\n                // visible.\r\n                const deferredLogs = [];\r\n                await Promise.all(Object.keys(output).map(async (file) => {\r\n                    const chunk = output[file];\r\n                    if (chunk.type === 'chunk') {\r\n                        const log = async () => {\r\n                            printFileInfo(chunk.fileName, chunk.code, 0 /* JS */, longest, outDir, await getCompressedSize(chunk.code));\r\n                            if (chunk.map) {\r\n                                printFileInfo(chunk.fileName + '.map', chunk.map.toString(), 4 /* SOURCE_MAP */, longest, outDir);\r\n                            }\r\n                        };\r\n                        if (isLarge(chunk.code)) {\r\n                            hasLargeChunks = true;\r\n                            deferredLogs.push(log);\r\n                        }\r\n                        else {\r\n                            await log();\r\n                        }\r\n                    }\r\n                    else if (chunk.source) {\r\n                        const isCSS = chunk.fileName.endsWith('.css');\r\n                        const isMap = chunk.fileName.endsWith('.js.map');\r\n                        printFileInfo(chunk.fileName, chunk.source, isCSS\r\n                            ? 1 /* CSS */\r\n                            : isMap\r\n                                ? 4 /* SOURCE_MAP */\r\n                                : 2 /* ASSET */, longest, outDir, isCSS ? await getCompressedSize(chunk.source) : undefined);\r\n                    }\r\n                }));\r\n                await Promise.all(deferredLogs.map((l) => l()));\r\n            }\r\n            else {\r\n                hasLargeChunks = Object.keys(output).some((file) => {\r\n                    const chunk = output[file];\r\n                    return chunk.type === 'chunk' && chunk.code.length / 1024 > chunkLimit;\r\n                });\r\n            }\r\n            if (hasLargeChunks &&\r\n                config.build.minify &&\r\n                !config.build.lib &&\r\n                !config.build.ssr) {\r\n                config.logger.warn(picocolors.exports.yellow(`\\n(!) Some chunks are larger than ${chunkLimit} KiB after minification. Consider:\\n` +\r\n                    `- Using dynamic import() to code-split the application\\n` +\r\n                    `- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/guide/en/#outputmanualchunks\\n` +\r\n                    `- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.`));\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction writeLine(output) {\r\n    process.stdout.clearLine(0);\r\n    process.stdout.cursorTo(0);\r\n    if (output.length < process.stdout.columns) {\r\n        process.stdout.write(output);\r\n    }\r\n    else {\r\n        process.stdout.write(output.substring(0, process.stdout.columns - 1));\r\n    }\r\n}\r\nfunction throttle(fn) {\r\n    let timerHandle = null;\r\n    return (...args) => {\r\n        if (timerHandle)\r\n            return;\r\n        fn(...args);\r\n        timerHandle = setTimeout(() => {\r\n            timerHandle = null;\r\n        }, 100);\r\n    };\r\n}\r\n\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\r\nvar __spreadValues = (a, b) => {\r\n  for (var prop in b || (b = {}))\r\n    if (__hasOwnProp.call(b, prop))\r\n      __defNormalProp(a, prop, b[prop]);\r\n  if (__getOwnPropSymbols)\r\n    for (var prop of __getOwnPropSymbols(b)) {\r\n      if (__propIsEnum.call(b, prop))\r\n        __defNormalProp(a, prop, b[prop]);\r\n    }\r\n  return a;\r\n};\r\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\r\nasync function find(filename, options) {\r\n  let dir = require$$0$4.dirname(require$$0$4.resolve(filename));\r\n  const root = (options == null ? void 0 : options.root) ? require$$0$4.resolve(options.root) : null;\r\n  while (dir) {\r\n    const tsconfig = await tsconfigInDir(dir, options);\r\n    if (tsconfig) {\r\n      return tsconfig;\r\n    } else {\r\n      if (root === dir) {\r\n        break;\r\n      }\r\n      const parent = require$$0$4.dirname(dir);\r\n      if (parent === dir) {\r\n        break;\r\n      } else {\r\n        dir = parent;\r\n      }\r\n    }\r\n  }\r\n  throw new Error(`no tsconfig file found for ${filename}`);\r\n}\r\nasync function tsconfigInDir(dir, options) {\r\n  const tsconfig = require$$0$4.join(dir, \"tsconfig.json\");\r\n  if (options == null ? void 0 : options.tsConfigPaths) {\r\n    return options.tsConfigPaths.has(tsconfig) ? tsconfig : void 0;\r\n  }\r\n  try {\r\n    const stat = await promises$1.stat(tsconfig);\r\n    if (stat.isFile() || stat.isFIFO()) {\r\n      return tsconfig;\r\n    }\r\n  } catch (e) {\r\n    if (e.code !== \"ENOENT\") {\r\n      throw e;\r\n    }\r\n  }\r\n}\r\nasync function findAll(dir, options) {\r\n  const files = [];\r\n  for await (const tsconfigFile of findTSConfig(require$$0$4.resolve(dir), options)) {\r\n    files.push(tsconfigFile);\r\n  }\r\n  return files;\r\n}\r\nasync function* findTSConfig(dir, options, visited = /* @__PURE__ */ new Set()) {\r\n  if (!visited.has(dir)) {\r\n    visited.add(dir);\r\n    try {\r\n      const dirents = await promises$1.readdir(dir, { withFileTypes: true });\r\n      for (const dirent of dirents) {\r\n        if (dirent.isDirectory() && (!(options == null ? void 0 : options.skip) || !options.skip(dirent.name))) {\r\n          yield* findTSConfig(require$$0$4.resolve(dir, dirent.name), options, visited);\r\n        } else if (dirent.isFile() && dirent.name === \"tsconfig.json\") {\r\n          yield require$$0$4.resolve(dir, dirent.name);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      if (e.code === \"EACCES\" || e.code === \"ENOENT\") {\r\n        return;\r\n      }\r\n      throw e;\r\n    }\r\n  }\r\n}\r\n\r\n// src/to-json.ts\r\nfunction toJson(tsconfigJson) {\r\n  const stripped = stripDanglingComma(stripJsonComments(stripBom(tsconfigJson)));\r\n  if (stripped.trim() === \"\") {\r\n    return \"{}\";\r\n  } else {\r\n    return stripped;\r\n  }\r\n}\r\nfunction stripDanglingComma(pseudoJson) {\r\n  let insideString = false;\r\n  let offset = 0;\r\n  let result = \"\";\r\n  let danglingCommaPos = null;\r\n  for (let i = 0; i < pseudoJson.length; i++) {\r\n    const currentCharacter = pseudoJson[i];\r\n    if (currentCharacter === '\"') {\r\n      const escaped = isEscaped(pseudoJson, i);\r\n      if (!escaped) {\r\n        insideString = !insideString;\r\n      }\r\n    }\r\n    if (insideString) {\r\n      danglingCommaPos = null;\r\n      continue;\r\n    }\r\n    if (currentCharacter === \",\") {\r\n      danglingCommaPos = i;\r\n      continue;\r\n    }\r\n    if (danglingCommaPos) {\r\n      if (currentCharacter === \"}\" || currentCharacter === \"]\") {\r\n        result += pseudoJson.slice(offset, danglingCommaPos) + \" \";\r\n        offset = danglingCommaPos + 1;\r\n        danglingCommaPos = null;\r\n      } else if (!currentCharacter.match(/\\s/)) {\r\n        danglingCommaPos = null;\r\n      }\r\n    }\r\n  }\r\n  return result + pseudoJson.substring(offset);\r\n}\r\nfunction isEscaped(jsonString, quotePosition) {\r\n  let index = quotePosition - 1;\r\n  let backslashCount = 0;\r\n  while (jsonString[index] === \"\\\\\") {\r\n    index -= 1;\r\n    backslashCount += 1;\r\n  }\r\n  return Boolean(backslashCount % 2);\r\n}\r\nfunction strip(string, start, end) {\r\n  return string.slice(start, end).replace(/\\S/g, \" \");\r\n}\r\nvar singleComment = Symbol(\"singleComment\");\r\nvar multiComment = Symbol(\"multiComment\");\r\nfunction stripJsonComments(jsonString) {\r\n  let isInsideString = false;\r\n  let isInsideComment = false;\r\n  let offset = 0;\r\n  let result = \"\";\r\n  for (let index = 0; index < jsonString.length; index++) {\r\n    const currentCharacter = jsonString[index];\r\n    const nextCharacter = jsonString[index + 1];\r\n    if (!isInsideComment && currentCharacter === '\"') {\r\n      const escaped = isEscaped(jsonString, index);\r\n      if (!escaped) {\r\n        isInsideString = !isInsideString;\r\n      }\r\n    }\r\n    if (isInsideString) {\r\n      continue;\r\n    }\r\n    if (!isInsideComment && currentCharacter + nextCharacter === \"//\") {\r\n      result += jsonString.slice(offset, index);\r\n      offset = index;\r\n      isInsideComment = singleComment;\r\n      index++;\r\n    } else if (isInsideComment === singleComment && currentCharacter + nextCharacter === \"\\r\\n\") {\r\n      index++;\r\n      isInsideComment = false;\r\n      result += strip(jsonString, offset, index);\r\n      offset = index;\r\n    } else if (isInsideComment === singleComment && currentCharacter === \"\\n\") {\r\n      isInsideComment = false;\r\n      result += strip(jsonString, offset, index);\r\n      offset = index;\r\n    } else if (!isInsideComment && currentCharacter + nextCharacter === \"/*\") {\r\n      result += jsonString.slice(offset, index);\r\n      offset = index;\r\n      isInsideComment = multiComment;\r\n      index++;\r\n    } else if (isInsideComment === multiComment && currentCharacter + nextCharacter === \"*/\") {\r\n      index++;\r\n      isInsideComment = false;\r\n      result += strip(jsonString, offset, index + 1);\r\n      offset = index + 1;\r\n    }\r\n  }\r\n  return result + (isInsideComment ? strip(jsonString.slice(offset)) : jsonString.slice(offset));\r\n}\r\nfunction stripBom(string) {\r\n  if (string.charCodeAt(0) === 65279) {\r\n    return string.slice(1);\r\n  }\r\n  return string;\r\n}\r\nvar POSIX_SEP_RE = new RegExp(\"\\\\\" + require$$0$4.posix.sep, \"g\");\r\nvar NATIVE_SEP_RE = new RegExp(\"\\\\\" + require$$0$4.sep, \"g\");\r\nvar PATTERN_REGEX_CACHE = /* @__PURE__ */ new Map();\r\nvar GLOB_ALL_PATTERN = `**/*`;\r\nvar DEFAULT_EXTENSIONS = [\".ts\", \".tsx\", \".mts\", \".cts\"];\r\nvar DEFAULT_EXTENSIONS_RE_GROUP = `\\\\.(?:${DEFAULT_EXTENSIONS.map((ext) => ext.substring(1)).join(\"|\")})`;\r\nnew Function(\"path\", \"return import(path).then(m => m.default)\");\r\nasync function resolveTSConfig(filename) {\r\n  if (require$$0$4.extname(filename) !== \".json\") {\r\n    return;\r\n  }\r\n  const tsconfig = require$$0$4.resolve(filename);\r\n  try {\r\n    const stat = await promises$1.stat(tsconfig);\r\n    if (stat.isFile() || stat.isFIFO()) {\r\n      return tsconfig;\r\n    }\r\n  } catch (e) {\r\n    if (e.code !== \"ENOENT\") {\r\n      throw e;\r\n    }\r\n  }\r\n  throw new Error(`no tsconfig file found for ${filename}`);\r\n}\r\nfunction posix2native(filename) {\r\n  return require$$0$4.posix.sep !== require$$0$4.sep && filename.includes(require$$0$4.posix.sep) ? filename.replace(POSIX_SEP_RE, require$$0$4.sep) : filename;\r\n}\r\nfunction native2posix(filename) {\r\n  return require$$0$4.posix.sep !== require$$0$4.sep && filename.includes(require$$0$4.sep) ? filename.replace(NATIVE_SEP_RE, require$$0$4.posix.sep) : filename;\r\n}\r\nfunction resolve2posix(dir, filename) {\r\n  if (require$$0$4.sep === require$$0$4.posix.sep) {\r\n    return dir ? require$$0$4.resolve(dir, filename) : require$$0$4.resolve(filename);\r\n  }\r\n  return native2posix(dir ? require$$0$4.resolve(posix2native(dir), posix2native(filename)) : require$$0$4.resolve(posix2native(filename)));\r\n}\r\nfunction resolveReferencedTSConfigFiles(result) {\r\n  const dir = require$$0$4.dirname(result.tsconfigFile);\r\n  return result.tsconfig.references.map((ref) => {\r\n    const refPath = ref.path.endsWith(\".json\") ? ref.path : require$$0$4.join(ref.path, \"tsconfig.json\");\r\n    return resolve2posix(dir, refPath);\r\n  });\r\n}\r\nfunction resolveSolutionTSConfig(filename, result) {\r\n  if (result.referenced && DEFAULT_EXTENSIONS.some((ext) => filename.endsWith(ext)) && !isIncluded(filename, result)) {\r\n    const solutionTSConfig = result.referenced.find((referenced) => isIncluded(filename, referenced));\r\n    if (solutionTSConfig) {\r\n      return __spreadProps(__spreadValues({}, solutionTSConfig), {\r\n        solution: result\r\n      });\r\n    }\r\n  }\r\n  return result;\r\n}\r\nfunction isIncluded(filename, result) {\r\n  const dir = native2posix(require$$0$4.dirname(result.tsconfigFile));\r\n  const files = (result.tsconfig.files || []).map((file) => resolve2posix(dir, file));\r\n  const absoluteFilename = resolve2posix(null, filename);\r\n  if (files.includes(filename)) {\r\n    return true;\r\n  }\r\n  const isIncluded2 = isGlobMatch(absoluteFilename, dir, result.tsconfig.include || (result.tsconfig.files ? [] : [GLOB_ALL_PATTERN]));\r\n  if (isIncluded2) {\r\n    const isExcluded = isGlobMatch(absoluteFilename, dir, result.tsconfig.exclude || []);\r\n    return !isExcluded;\r\n  }\r\n  return false;\r\n}\r\nfunction isGlobMatch(filename, dir, patterns) {\r\n  return patterns.some((pattern) => {\r\n    let lastWildcardIndex = pattern.length;\r\n    let hasWildcard = false;\r\n    for (let i = pattern.length - 1; i > -1; i--) {\r\n      if (pattern[i] === \"*\" || pattern[i] === \"?\") {\r\n        lastWildcardIndex = i;\r\n        hasWildcard = true;\r\n        break;\r\n      }\r\n    }\r\n    if (lastWildcardIndex < pattern.length - 1 && !filename.endsWith(pattern.slice(lastWildcardIndex + 1))) {\r\n      return false;\r\n    }\r\n    if (pattern.endsWith(\"*\") && !DEFAULT_EXTENSIONS.some((ext) => filename.endsWith(ext))) {\r\n      return false;\r\n    }\r\n    if (pattern === GLOB_ALL_PATTERN) {\r\n      return filename.startsWith(`${dir}/`);\r\n    }\r\n    const resolvedPattern = resolve2posix(dir, pattern);\r\n    let firstWildcardIndex = -1;\r\n    for (let i = 0; i < resolvedPattern.length; i++) {\r\n      if (resolvedPattern[i] === \"*\" || resolvedPattern[i] === \"?\") {\r\n        firstWildcardIndex = i;\r\n        hasWildcard = true;\r\n        break;\r\n      }\r\n    }\r\n    if (firstWildcardIndex > 1 && !filename.startsWith(resolvedPattern.slice(0, firstWildcardIndex - 1))) {\r\n      return false;\r\n    }\r\n    if (!hasWildcard) {\r\n      return filename === resolvedPattern;\r\n    }\r\n    if (PATTERN_REGEX_CACHE.has(resolvedPattern)) {\r\n      return PATTERN_REGEX_CACHE.get(resolvedPattern).test(filename);\r\n    }\r\n    const regex = pattern2regex(resolvedPattern);\r\n    PATTERN_REGEX_CACHE.set(resolvedPattern, regex);\r\n    return regex.test(filename);\r\n  });\r\n}\r\nfunction pattern2regex(resolvedPattern) {\r\n  let regexStr = \"^\";\r\n  for (let i = 0; i < resolvedPattern.length; i++) {\r\n    const char = resolvedPattern[i];\r\n    if (char === \"?\") {\r\n      regexStr += \"[^\\\\/]\";\r\n      continue;\r\n    }\r\n    if (char === \"*\") {\r\n      if (resolvedPattern[i + 1] === \"*\" && resolvedPattern[i + 2] === \"/\") {\r\n        i += 2;\r\n        regexStr += \"(?:[^\\\\/]*\\\\/)*\";\r\n        continue;\r\n      }\r\n      regexStr += \"[^\\\\/]*\";\r\n      continue;\r\n    }\r\n    if (\"/.+^${}()|[]\\\\\".includes(char)) {\r\n      regexStr += `\\\\`;\r\n    }\r\n    regexStr += char;\r\n  }\r\n  if (resolvedPattern.endsWith(\"*\")) {\r\n    regexStr += DEFAULT_EXTENSIONS_RE_GROUP;\r\n  }\r\n  regexStr += \"$\";\r\n  return new RegExp(regexStr);\r\n}\r\n\r\n// src/parse.ts\r\nasync function parse$g(filename, options) {\r\n  const cache = options == null ? void 0 : options.cache;\r\n  if (cache == null ? void 0 : cache.has(filename)) {\r\n    return cache.get(filename);\r\n  }\r\n  let tsconfigFile;\r\n  if (options == null ? void 0 : options.resolveWithEmptyIfConfigNotFound) {\r\n    try {\r\n      tsconfigFile = await resolveTSConfig(filename) || await find(filename, options);\r\n    } catch (e) {\r\n      const notFoundResult = {\r\n        tsconfigFile: \"no_tsconfig_file_found\",\r\n        tsconfig: {}\r\n      };\r\n      cache == null ? void 0 : cache.set(filename, notFoundResult);\r\n      return notFoundResult;\r\n    }\r\n  } else {\r\n    tsconfigFile = await resolveTSConfig(filename) || await find(filename, options);\r\n  }\r\n  let result;\r\n  if (cache == null ? void 0 : cache.has(tsconfigFile)) {\r\n    result = cache.get(tsconfigFile);\r\n  } else {\r\n    result = await parseFile$1(tsconfigFile, cache);\r\n    await Promise.all([parseExtends(result, cache), parseReferences(result, cache)]);\r\n    cache == null ? void 0 : cache.set(tsconfigFile, result);\r\n  }\r\n  result = resolveSolutionTSConfig(filename, result);\r\n  cache == null ? void 0 : cache.set(filename, result);\r\n  return result;\r\n}\r\nasync function parseFile$1(tsconfigFile, cache) {\r\n  if (cache == null ? void 0 : cache.has(tsconfigFile)) {\r\n    return cache.get(tsconfigFile);\r\n  }\r\n  try {\r\n    const tsconfigJson = await promises$1.readFile(tsconfigFile, \"utf-8\");\r\n    const json = toJson(tsconfigJson);\r\n    const result = {\r\n      tsconfigFile,\r\n      tsconfig: normalizeTSConfig(JSON.parse(json), require$$0$4.dirname(tsconfigFile))\r\n    };\r\n    cache == null ? void 0 : cache.set(tsconfigFile, result);\r\n    return result;\r\n  } catch (e) {\r\n    throw new TSConfckParseError(`parsing ${tsconfigFile} failed: ${e}`, \"PARSE_FILE\", tsconfigFile, e);\r\n  }\r\n}\r\nfunction normalizeTSConfig(tsconfig, dir) {\r\n  var _a;\r\n  if (((_a = tsconfig.compilerOptions) == null ? void 0 : _a.baseUrl) && !require$$0$4.isAbsolute(tsconfig.compilerOptions.baseUrl)) {\r\n    tsconfig.compilerOptions.baseUrl = resolve2posix(dir, tsconfig.compilerOptions.baseUrl);\r\n  }\r\n  return tsconfig;\r\n}\r\nasync function parseReferences(result, cache) {\r\n  if (!result.tsconfig.references) {\r\n    return;\r\n  }\r\n  const referencedFiles = resolveReferencedTSConfigFiles(result);\r\n  const referenced = await Promise.all(referencedFiles.map((file) => parseFile$1(file, cache)));\r\n  await Promise.all(referenced.map((ref) => parseExtends(ref, cache)));\r\n  result.referenced = referenced;\r\n}\r\nasync function parseExtends(result, cache) {\r\n  if (!result.tsconfig.extends) {\r\n    return;\r\n  }\r\n  const extended = [\r\n    { tsconfigFile: result.tsconfigFile, tsconfig: JSON.parse(JSON.stringify(result.tsconfig)) }\r\n  ];\r\n  while (extended[extended.length - 1].tsconfig.extends) {\r\n    const extending = extended[extended.length - 1];\r\n    const extendedTSConfigFile = resolveExtends(extending.tsconfig.extends, extending.tsconfigFile);\r\n    if (extended.some((x) => x.tsconfigFile === extendedTSConfigFile)) {\r\n      const circle = extended.concat({ tsconfigFile: extendedTSConfigFile, tsconfig: null }).map((e) => e.tsconfigFile).join(\" -> \");\r\n      throw new TSConfckParseError(`Circular dependency in \"extends\": ${circle}`, \"EXTENDS_CIRCULAR\", result.tsconfigFile);\r\n    }\r\n    extended.push(await parseFile$1(extendedTSConfigFile, cache));\r\n  }\r\n  result.extended = extended;\r\n  for (const ext of result.extended.slice(1)) {\r\n    extendTSConfig(result, ext);\r\n  }\r\n}\r\nfunction resolveExtends(extended, from) {\r\n  let error;\r\n  try {\r\n    return createRequire$2(from).resolve(extended);\r\n  } catch (e) {\r\n    error = e;\r\n  }\r\n  if (!require$$0$4.isAbsolute(extended) && !extended.startsWith(\"./\") && !extended.startsWith(\"../\")) {\r\n    try {\r\n      const fallbackExtended = require$$0$4.join(extended, \"tsconfig.json\");\r\n      return createRequire$2(from).resolve(fallbackExtended);\r\n    } catch (e) {\r\n      error = e;\r\n    }\r\n  }\r\n  throw new TSConfckParseError(`failed to resolve \"extends\":\"${extended}\" in ${from}`, \"EXTENDS_RESOLVE\", from, error);\r\n}\r\nvar EXTENDABLE_KEYS = [\r\n  \"compilerOptions\",\r\n  \"files\",\r\n  \"include\",\r\n  \"exclude\",\r\n  \"watchOptions\",\r\n  \"compileOnSave\",\r\n  \"typeAcquisition\",\r\n  \"buildOptions\"\r\n];\r\nfunction extendTSConfig(extending, extended) {\r\n  const extendingConfig = extending.tsconfig;\r\n  const extendedConfig = extended.tsconfig;\r\n  const relativePath = native2posix(require$$0$4.relative(require$$0$4.dirname(extending.tsconfigFile), require$$0$4.dirname(extended.tsconfigFile)));\r\n  for (const key of Object.keys(extendedConfig).filter((key2) => EXTENDABLE_KEYS.includes(key2))) {\r\n    if (key === \"compilerOptions\") {\r\n      if (!extendingConfig.compilerOptions) {\r\n        extendingConfig.compilerOptions = {};\r\n      }\r\n      for (const option of Object.keys(extendedConfig.compilerOptions)) {\r\n        if (Object.prototype.hasOwnProperty.call(extendingConfig.compilerOptions, option)) {\r\n          continue;\r\n        }\r\n        extendingConfig.compilerOptions[option] = rebaseRelative(option, extendedConfig.compilerOptions[option], relativePath);\r\n      }\r\n    } else if (extendingConfig[key] === void 0) {\r\n      if (key === \"watchOptions\") {\r\n        extendingConfig.watchOptions = {};\r\n        for (const option of Object.keys(extendedConfig.watchOptions)) {\r\n          extendingConfig.watchOptions[option] = rebaseRelative(option, extendedConfig.watchOptions[option], relativePath);\r\n        }\r\n      } else {\r\n        extendingConfig[key] = rebaseRelative(key, extendedConfig[key], relativePath);\r\n      }\r\n    }\r\n  }\r\n}\r\nvar REBASE_KEYS = [\r\n  \"files\",\r\n  \"include\",\r\n  \"exclude\",\r\n  \"baseUrl\",\r\n  \"rootDir\",\r\n  \"rootDirs\",\r\n  \"typeRoots\",\r\n  \"outDir\",\r\n  \"outFile\",\r\n  \"declarationDir\",\r\n  \"excludeDirectories\",\r\n  \"excludeFiles\"\r\n];\r\nfunction rebaseRelative(key, value, prependPath) {\r\n  if (!REBASE_KEYS.includes(key)) {\r\n    return value;\r\n  }\r\n  if (Array.isArray(value)) {\r\n    return value.map((x) => rebasePath(x, prependPath));\r\n  } else {\r\n    return rebasePath(value, prependPath);\r\n  }\r\n}\r\nfunction rebasePath(value, prependPath) {\r\n  if (require$$0$4.isAbsolute(value)) {\r\n    return value;\r\n  } else {\r\n    return require$$0$4.posix.normalize(require$$0$4.posix.join(prependPath, value));\r\n  }\r\n}\r\nvar TSConfckParseError = class extends Error {\r\n  constructor(message, code, tsconfigFile, cause) {\r\n    super(message);\r\n    Object.setPrototypeOf(this, TSConfckParseError.prototype);\r\n    this.name = TSConfckParseError.name;\r\n    this.code = code;\r\n    this.cause = cause;\r\n    this.tsconfigFile = tsconfigFile;\r\n  }\r\n};\r\n\r\nconst debug$f = createDebugger('vite:esbuild');\r\nconst INJECT_HELPERS_IIFE_RE = /^(.*)((?:const|var) [^\\s]+=function\\([^)]*?\\){\"use strict\";)/s;\r\nconst INJECT_HELPERS_UMD_RE = /^(.*)(\\(function\\([^)]*?\\){.+amd.+function\\([^)]*?\\){\"use strict\";)/s;\r\nlet server;\r\nasync function transformWithEsbuild(code, filename, options, inMap) {\r\n    let loader = options?.loader;\r\n    if (!loader) {\r\n        // if the id ends with a valid ext, use it (e.g. vue blocks)\r\n        // otherwise, cleanup the query before checking the ext\r\n        const ext = path$n\r\n            .extname(/\\.\\w+$/.test(filename) ? filename : cleanUrl(filename))\r\n            .slice(1);\r\n        if (ext === 'cjs' || ext === 'mjs') {\r\n            loader = 'js';\r\n        }\r\n        else if (ext === 'cts' || ext === 'mts') {\r\n            loader = 'ts';\r\n        }\r\n        else {\r\n            loader = ext;\r\n        }\r\n    }\r\n    let tsconfigRaw = options?.tsconfigRaw;\r\n    // if options provide tsconfigRaw in string, it takes highest precedence\r\n    if (typeof tsconfigRaw !== 'string') {\r\n        // these fields would affect the compilation result\r\n        // https://esbuild.github.io/content-types/#tsconfig-json\r\n        const meaningfulFields = [\r\n            'target',\r\n            'jsxFactory',\r\n            'jsxFragmentFactory',\r\n            'useDefineForClassFields',\r\n            'importsNotUsedAsValues',\r\n            'preserveValueImports'\r\n        ];\r\n        const compilerOptionsForFile = {};\r\n        if (loader === 'ts' || loader === 'tsx') {\r\n            const loadedTsconfig = await loadTsconfigJsonForFile(filename);\r\n            const loadedCompilerOptions = loadedTsconfig.compilerOptions ?? {};\r\n            for (const field of meaningfulFields) {\r\n                if (field in loadedCompilerOptions) {\r\n                    // @ts-ignore TypeScript can't tell they are of the same type\r\n                    compilerOptionsForFile[field] = loadedCompilerOptions[field];\r\n                }\r\n            }\r\n        }\r\n        tsconfigRaw = {\r\n            ...tsconfigRaw,\r\n            compilerOptions: {\r\n                ...compilerOptionsForFile,\r\n                ...tsconfigRaw?.compilerOptions\r\n            }\r\n        };\r\n    }\r\n    const resolvedOptions = {\r\n        sourcemap: true,\r\n        // ensure source file name contains full query\r\n        sourcefile: filename,\r\n        ...options,\r\n        loader,\r\n        tsconfigRaw\r\n    };\r\n    delete resolvedOptions.include;\r\n    delete resolvedOptions.exclude;\r\n    delete resolvedOptions.jsxInject;\r\n    try {\r\n        const result = await transform$2(code, resolvedOptions);\r\n        let map;\r\n        if (inMap && resolvedOptions.sourcemap) {\r\n            const nextMap = JSON.parse(result.map);\r\n            nextMap.sourcesContent = [];\r\n            map = combineSourcemaps(filename, [\r\n                nextMap,\r\n                inMap\r\n            ]);\r\n        }\r\n        else {\r\n            map = resolvedOptions.sourcemap\r\n                ? JSON.parse(result.map)\r\n                : { mappings: '' };\r\n        }\r\n        if (Array.isArray(map.sources)) {\r\n            map.sources = map.sources.map((it) => toUpperCaseDriveLetter(it));\r\n        }\r\n        return {\r\n            ...result,\r\n            map\r\n        };\r\n    }\r\n    catch (e) {\r\n        debug$f(`esbuild error with options used: `, resolvedOptions);\r\n        // patch error information\r\n        if (e.errors) {\r\n            e.frame = '';\r\n            e.errors.forEach((m) => {\r\n                e.frame += `\\n` + prettifyMessage(m, code);\r\n            });\r\n            e.loc = e.errors[0].location;\r\n        }\r\n        throw e;\r\n    }\r\n}\r\nfunction esbuildPlugin(options = {}) {\r\n    const filter = createFilter(options.include || /\\.(m?ts|[jt]sx)$/, options.exclude || /\\.js$/);\r\n    // Remove optimization options for dev as we only need to transpile them,\r\n    // and for build as the final optimization is in `buildEsbuildPlugin`\r\n    const transformOptions = {\r\n        ...options,\r\n        minify: false,\r\n        minifyIdentifiers: false,\r\n        minifySyntax: false,\r\n        minifyWhitespace: false,\r\n        treeShaking: false,\r\n        // keepNames is not needed when minify is disabled.\r\n        // Also transforming multiple times with keepNames enabled breaks\r\n        // tree-shaking. (#9164)\r\n        keepNames: false\r\n    };\r\n    return {\r\n        name: 'vite:esbuild',\r\n        configureServer(_server) {\r\n            server = _server;\r\n            server.watcher\r\n                .on('add', reloadOnTsconfigChange)\r\n                .on('change', reloadOnTsconfigChange)\r\n                .on('unlink', reloadOnTsconfigChange);\r\n        },\r\n        async configResolved(config) {\r\n            await initTSConfck(config);\r\n        },\r\n        buildEnd() {\r\n            // recycle serve to avoid preventing Node self-exit (#6815)\r\n            server = null;\r\n        },\r\n        async transform(code, id) {\r\n            if (filter(id) || filter(cleanUrl(id))) {\r\n                const result = await transformWithEsbuild(code, id, transformOptions);\r\n                if (result.warnings.length) {\r\n                    result.warnings.forEach((m) => {\r\n                        this.warn(prettifyMessage(m, code));\r\n                    });\r\n                }\r\n                if (options.jsxInject && /\\.(?:j|t)sx\\b/.test(id)) {\r\n                    result.code = options.jsxInject + ';' + result.code;\r\n                }\r\n                return {\r\n                    code: result.code,\r\n                    map: result.map\r\n                };\r\n            }\r\n        }\r\n    };\r\n}\r\nconst rollupToEsbuildFormatMap = {\r\n    es: 'esm',\r\n    cjs: 'cjs',\r\n    // passing `var Lib = (() => {})()` to esbuild with format = \"iife\"\r\n    // will turn it to `(() => { var Lib = (() => {})() })()`,\r\n    // so we remove the format config to tell esbuild not doing this\r\n    //\r\n    // although esbuild doesn't change format, there is still possibility\r\n    // that `{ treeShaking: true }` removes a top-level no-side-effect variable\r\n    // like: `var Lib = 1`, which becomes `` after esbuild transforming,\r\n    // but thankfully rollup does not do this optimization now\r\n    iife: undefined\r\n};\r\nconst buildEsbuildPlugin = (config) => {\r\n    return {\r\n        name: 'vite:esbuild-transpile',\r\n        async configResolved(config) {\r\n            await initTSConfck(config);\r\n        },\r\n        async renderChunk(code, chunk, opts) {\r\n            // @ts-ignore injected by @vitejs/plugin-legacy\r\n            if (opts.__vite_skip_esbuild__) {\r\n                return null;\r\n            }\r\n            const options = resolveEsbuildTranspileOptions(config, opts.format);\r\n            if (!options) {\r\n                return null;\r\n            }\r\n            const res = await transformWithEsbuild(code, chunk.fileName, options);\r\n            if (config.build.lib) {\r\n                // #7188, esbuild adds helpers out of the UMD and IIFE wrappers, and the\r\n                // names are minified potentially causing collision with other globals.\r\n                // We use a regex to inject the helpers inside the wrappers.\r\n                // We don't need to create a MagicString here because both the helpers and\r\n                // the headers don't modify the sourcemap\r\n                const injectHelpers = opts.format === 'umd'\r\n                    ? INJECT_HELPERS_UMD_RE\r\n                    : opts.format === 'iife'\r\n                        ? INJECT_HELPERS_IIFE_RE\r\n                        : undefined;\r\n                if (injectHelpers) {\r\n                    res.code = res.code.replace(injectHelpers, (_, helpers, header) => header + helpers);\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    };\r\n};\r\nfunction resolveEsbuildTranspileOptions(config, format) {\r\n    const target = config.build.target;\r\n    const minify = config.build.minify === 'esbuild';\r\n    if ((!target || target === 'esnext') && !minify) {\r\n        return null;\r\n    }\r\n    // Do not minify whitespace for ES lib output since that would remove\r\n    // pure annotations and break tree-shaking\r\n    // https://github.com/vuejs/core/issues/2860#issuecomment-926882793\r\n    const isEsLibBuild = config.build.lib && format === 'es';\r\n    const esbuildOptions = config.esbuild || {};\r\n    const options = {\r\n        ...esbuildOptions,\r\n        target: target || undefined,\r\n        format: rollupToEsbuildFormatMap[format],\r\n        // the final build should always support dynamic import and import.meta.\r\n        // if they need to be polyfilled, plugin-legacy should be used.\r\n        // plugin-legacy detects these two features when checking for modern code.\r\n        supported: {\r\n            'dynamic-import': true,\r\n            'import-meta': true,\r\n            ...esbuildOptions.supported\r\n        }\r\n    };\r\n    // If no minify, disable all minify options\r\n    if (!minify) {\r\n        return {\r\n            ...options,\r\n            minify: false,\r\n            minifyIdentifiers: false,\r\n            minifySyntax: false,\r\n            minifyWhitespace: false,\r\n            treeShaking: false\r\n        };\r\n    }\r\n    // If user enable fine-grain minify options, minify with their options instead\r\n    if (options.minifyIdentifiers != null ||\r\n        options.minifySyntax != null ||\r\n        options.minifyWhitespace != null) {\r\n        if (isEsLibBuild) {\r\n            // Disable minify whitespace as it breaks tree-shaking\r\n            return {\r\n                ...options,\r\n                minify: false,\r\n                minifyIdentifiers: options.minifyIdentifiers ?? true,\r\n                minifySyntax: options.minifySyntax ?? true,\r\n                minifyWhitespace: false,\r\n                treeShaking: true\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                ...options,\r\n                minify: false,\r\n                minifyIdentifiers: options.minifyIdentifiers ?? true,\r\n                minifySyntax: options.minifySyntax ?? true,\r\n                minifyWhitespace: options.minifyWhitespace ?? true,\r\n                treeShaking: true\r\n            };\r\n        }\r\n    }\r\n    // Else apply default minify options\r\n    if (isEsLibBuild) {\r\n        // Minify all except whitespace as it breaks tree-shaking\r\n        return {\r\n            ...options,\r\n            minify: false,\r\n            minifyIdentifiers: true,\r\n            minifySyntax: true,\r\n            minifyWhitespace: false,\r\n            treeShaking: true\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            ...options,\r\n            minify: true,\r\n            treeShaking: true\r\n        };\r\n    }\r\n}\r\nfunction prettifyMessage(m, code) {\r\n    let res = picocolors.exports.yellow(m.text);\r\n    if (m.location) {\r\n        const lines = code.split(/\\r?\\n/g);\r\n        const line = Number(m.location.line);\r\n        const column = Number(m.location.column);\r\n        const offset = lines\r\n            .slice(0, line - 1)\r\n            .map((l) => l.length)\r\n            .reduce((total, l) => total + l + 1, 0) + column;\r\n        res += `\\n` + generateCodeFrame(code, offset, offset + 1);\r\n    }\r\n    return res + `\\n`;\r\n}\r\nconst tsconfckParseOptions = {\r\n    cache: new Map(),\r\n    tsConfigPaths: undefined,\r\n    root: undefined,\r\n    resolveWithEmptyIfConfigNotFound: true\r\n};\r\nasync function initTSConfck(config) {\r\n    tsconfckParseOptions.cache.clear();\r\n    const workspaceRoot = searchForWorkspaceRoot(config.root);\r\n    tsconfckParseOptions.root = workspaceRoot;\r\n    tsconfckParseOptions.tsConfigPaths = new Set([\r\n        ...(await findAll(workspaceRoot, {\r\n            skip: (dir) => dir === 'node_modules' || dir === '.git'\r\n        }))\r\n    ]);\r\n}\r\nasync function loadTsconfigJsonForFile(filename) {\r\n    try {\r\n        const result = await parse$g(filename, tsconfckParseOptions);\r\n        // tsconfig could be out of root, make sure it is watched on dev\r\n        if (server && result.tsconfigFile !== 'no_tsconfig_file_found') {\r\n            ensureWatchedFile(server.watcher, result.tsconfigFile, server.config.root);\r\n        }\r\n        return result.tsconfig;\r\n    }\r\n    catch (e) {\r\n        if (e instanceof TSConfckParseError) {\r\n            // tsconfig could be out of root, make sure it is watched on dev\r\n            if (server && e.tsconfigFile) {\r\n                ensureWatchedFile(server.watcher, e.tsconfigFile, server.config.root);\r\n            }\r\n        }\r\n        throw e;\r\n    }\r\n}\r\nfunction reloadOnTsconfigChange(changedFile) {\r\n    // any tsconfig.json that's added in the workspace could be closer to a code file than a previously cached one\r\n    // any json file in the tsconfig cache could have been used to compile ts\r\n    if (path$n.basename(changedFile) === 'tsconfig.json' ||\r\n        (changedFile.endsWith('.json') &&\r\n            tsconfckParseOptions?.cache?.has(changedFile))) {\r\n        server.config.logger.info(`changed tsconfig file detected: ${changedFile} - Clearing cache and forcing full-reload to ensure TypeScript is compiled with updated config values.`, { clear: server.config.clearScreen, timestamp: true });\r\n        // clear module graph to remove code compiled with outdated config\r\n        server.moduleGraph.invalidateAll();\r\n        // reset tsconfck so that recompile works with up2date configs\r\n        initTSConfck(server.config).finally(() => {\r\n            // server may not be available if vite config is updated at the same time\r\n            if (server) {\r\n                // force full reload\r\n                server.ws.send({\r\n                    type: 'full-reload',\r\n                    path: '*'\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nvar dist$1 = {};\r\n\r\nvar __importDefault = (commonjsGlobal && commonjsGlobal.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(dist$1, \"__esModule\", { value: true });\r\nvar Worker_1 = dist$1.Worker = void 0;\r\nconst os_1 = __importDefault(require$$1);\r\nconst worker_threads_1 = require$$1$1;\r\nclass Worker {\r\n    constructor(fn, options = {}) {\r\n        this.code = genWorkerCode(fn);\r\n        this.max = options.max || Math.max(1, os_1.default.cpus().length - 1);\r\n        this.pool = [];\r\n        this.idlePool = [];\r\n        this.queue = [];\r\n    }\r\n    async run(...args) {\r\n        const worker = await this._getAvailableWorker();\r\n        return new Promise((resolve, reject) => {\r\n            worker.currentResolve = resolve;\r\n            worker.currentReject = reject;\r\n            worker.postMessage(args);\r\n        });\r\n    }\r\n    stop() {\r\n        this.pool.forEach((w) => w.unref());\r\n        this.queue.forEach(([_, reject]) => reject(new Error('Main worker pool stopped before a worker was available.')));\r\n        this.pool = [];\r\n        this.idlePool = [];\r\n        this.queue = [];\r\n    }\r\n    async _getAvailableWorker() {\r\n        // has idle one?\r\n        if (this.idlePool.length) {\r\n            return this.idlePool.shift();\r\n        }\r\n        // can spawn more?\r\n        if (this.pool.length < this.max) {\r\n            const worker = new worker_threads_1.Worker(this.code, { eval: true });\r\n            worker.on('message', (res) => {\r\n                worker.currentResolve && worker.currentResolve(res);\r\n                worker.currentResolve = null;\r\n                this._assignDoneWorker(worker);\r\n            });\r\n            worker.on('error', (err) => {\r\n                worker.currentReject && worker.currentReject(err);\r\n                worker.currentReject = null;\r\n            });\r\n            worker.on('exit', (code) => {\r\n                const i = this.pool.indexOf(worker);\r\n                if (i > -1)\r\n                    this.pool.splice(i, 1);\r\n                if (code !== 0 && worker.currentReject) {\r\n                    worker.currentReject(new Error(`Wroker stopped with non-0 exit code ${code}`));\r\n                    worker.currentReject = null;\r\n                }\r\n            });\r\n            this.pool.push(worker);\r\n            return worker;\r\n        }\r\n        // no one is available, we have to wait\r\n        let resolve;\r\n        let reject;\r\n        const onWorkerAvailablePromise = new Promise((r, rj) => {\r\n            resolve = r;\r\n            reject = rj;\r\n        });\r\n        this.queue.push([resolve, reject]);\r\n        return onWorkerAvailablePromise;\r\n    }\r\n    _assignDoneWorker(worker) {\r\n        // someone's waiting already?\r\n        if (this.queue.length) {\r\n            const [resolve] = this.queue.shift();\r\n            resolve(worker);\r\n            return;\r\n        }\r\n        // take a rest.\r\n        this.idlePool.push(worker);\r\n    }\r\n}\r\nWorker_1 = dist$1.Worker = Worker;\r\nfunction genWorkerCode(fn) {\r\n    return `\r\nconst doWork = ${fn.toString()}\r\n\r\nconst { parentPort } = require('worker_threads')\r\n\r\nparentPort.on('message', async (args) => {\r\n  const res = await doWork(...args)\r\n  parentPort.postMessage(res)\r\n})\r\n  `;\r\n}\r\n\r\nlet terserPath;\r\nconst loadTerserPath = (root) => {\r\n    if (terserPath)\r\n        return terserPath;\r\n    try {\r\n        terserPath = requireResolveFromRootWithFallback(root, 'terser');\r\n    }\r\n    catch (e) {\r\n        if (e.code === 'MODULE_NOT_FOUND') {\r\n            throw new Error('terser not found. Since Vite v3, terser has become an optional dependency. You need to install it.');\r\n        }\r\n        else {\r\n            const message = new Error(`terser failed to load:\\n${e.message}`);\r\n            message.stack = e.stack + '\\n' + message.stack;\r\n            throw message;\r\n        }\r\n    }\r\n    return terserPath;\r\n};\r\nfunction terserPlugin(config) {\r\n    const makeWorker = () => new Worker_1(async (terserPath, code, options) => {\r\n        // test fails when using `import`. maybe related: https://github.com/nodejs/node/issues/43205\r\n        // eslint-disable-next-line no-restricted-globals -- this function runs inside cjs\r\n        const terser = require(terserPath);\r\n        return terser.minify(code, options);\r\n    });\r\n    let worker;\r\n    return {\r\n        name: 'vite:terser',\r\n        async renderChunk(code, _chunk, outputOptions) {\r\n            // This plugin is included for any non-false value of config.build.minify,\r\n            // so that normal chunks can use the preferred minifier, and legacy chunks\r\n            // can use terser.\r\n            if (config.build.minify !== 'terser' &&\r\n                // @ts-ignore injected by @vitejs/plugin-legacy\r\n                !outputOptions.__vite_force_terser__) {\r\n                return null;\r\n            }\r\n            // Do not minify ES lib output since that would remove pure annotations\r\n            // and break tree-shaking.\r\n            if (config.build.lib && outputOptions.format === 'es') {\r\n                return null;\r\n            }\r\n            // Lazy load worker.\r\n            worker || (worker = makeWorker());\r\n            const terserPath = loadTerserPath(config.root);\r\n            const res = await worker.run(terserPath, code, {\r\n                safari10: true,\r\n                ...config.build.terserOptions,\r\n                sourceMap: !!outputOptions.sourcemap,\r\n                module: outputOptions.format.startsWith('es'),\r\n                toplevel: outputOptions.format === 'cjs'\r\n            });\r\n            return {\r\n                code: res.code,\r\n                map: res.map\r\n            };\r\n        },\r\n        closeBundle() {\r\n            worker?.stop();\r\n        }\r\n    };\r\n}\r\n\r\nvar tasks = {};\r\n\r\nvar utils$g = {};\r\n\r\nvar array$1 = {};\r\n\r\nObject.defineProperty(array$1, \"__esModule\", { value: true });\r\narray$1.splitWhen = array$1.flatten = void 0;\r\nfunction flatten$1(items) {\r\n    return items.reduce((collection, item) => [].concat(collection, item), []);\r\n}\r\narray$1.flatten = flatten$1;\r\nfunction splitWhen(items, predicate) {\r\n    const result = [[]];\r\n    let groupIndex = 0;\r\n    for (const item of items) {\r\n        if (predicate(item)) {\r\n            groupIndex++;\r\n            result[groupIndex] = [];\r\n        }\r\n        else {\r\n            result[groupIndex].push(item);\r\n        }\r\n    }\r\n    return result;\r\n}\r\narray$1.splitWhen = splitWhen;\r\n\r\nvar errno$1 = {};\r\n\r\nObject.defineProperty(errno$1, \"__esModule\", { value: true });\r\nerrno$1.isEnoentCodeError = void 0;\r\nfunction isEnoentCodeError(error) {\r\n    return error.code === 'ENOENT';\r\n}\r\nerrno$1.isEnoentCodeError = isEnoentCodeError;\r\n\r\nvar fs$h = {};\r\n\r\nObject.defineProperty(fs$h, \"__esModule\", { value: true });\r\nfs$h.createDirentFromStats = void 0;\r\nclass DirentFromStats$1 {\r\n    constructor(name, stats) {\r\n        this.name = name;\r\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\r\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\r\n        this.isDirectory = stats.isDirectory.bind(stats);\r\n        this.isFIFO = stats.isFIFO.bind(stats);\r\n        this.isFile = stats.isFile.bind(stats);\r\n        this.isSocket = stats.isSocket.bind(stats);\r\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\r\n    }\r\n}\r\nfunction createDirentFromStats$1(name, stats) {\r\n    return new DirentFromStats$1(name, stats);\r\n}\r\nfs$h.createDirentFromStats = createDirentFromStats$1;\r\n\r\nvar path$h = {};\r\n\r\nObject.defineProperty(path$h, \"__esModule\", { value: true });\r\npath$h.removeLeadingDotSegment = path$h.escape = path$h.makeAbsolute = path$h.unixify = void 0;\r\nconst path$g = require$$0$4;\r\nconst LEADING_DOT_SEGMENT_CHARACTERS_COUNT = 2; // ./ or .\\\\\r\nconst UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()*?[\\]{|}]|^!|[!+@](?=\\())/g;\r\n/**\r\n * Designed to work only with simple paths: `dir\\\\file`.\r\n */\r\nfunction unixify(filepath) {\r\n    return filepath.replace(/\\\\/g, '/');\r\n}\r\npath$h.unixify = unixify;\r\nfunction makeAbsolute(cwd, filepath) {\r\n    return path$g.resolve(cwd, filepath);\r\n}\r\npath$h.makeAbsolute = makeAbsolute;\r\nfunction escape$2(pattern) {\r\n    return pattern.replace(UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\r\n}\r\npath$h.escape = escape$2;\r\nfunction removeLeadingDotSegment(entry) {\r\n    // We do not use `startsWith` because this is 10x slower than current implementation for some cases.\r\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\r\n    if (entry.charAt(0) === '.') {\r\n        const secondCharactery = entry.charAt(1);\r\n        if (secondCharactery === '/' || secondCharactery === '\\\\') {\r\n            return entry.slice(LEADING_DOT_SEGMENT_CHARACTERS_COUNT);\r\n        }\r\n    }\r\n    return entry;\r\n}\r\npath$h.removeLeadingDotSegment = removeLeadingDotSegment;\r\n\r\nvar pattern$1 = {};\r\n\r\n/*!\r\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\r\n *\r\n * Copyright (c) 2014-2016, Jon Schlinkert.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nvar isExtglob$1 = function isExtglob(str) {\r\n  if (typeof str !== 'string' || str === '') {\r\n    return false;\r\n  }\r\n\r\n  var match;\r\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\r\n    if (match[2]) return true;\r\n    str = str.slice(match.index + match[0].length);\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n/*!\r\n * is-glob <https://github.com/jonschlinkert/is-glob>\r\n *\r\n * Copyright (c) 2014-2017, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nvar isExtglob = isExtglob$1;\r\nvar chars = { '{': '}', '(': ')', '[': ']'};\r\nvar strictCheck = function(str) {\r\n  if (str[0] === '!') {\r\n    return true;\r\n  }\r\n  var index = 0;\r\n  var pipeIndex = -2;\r\n  var closeSquareIndex = -2;\r\n  var closeCurlyIndex = -2;\r\n  var closeParenIndex = -2;\r\n  var backSlashIndex = -2;\r\n  while (index < str.length) {\r\n    if (str[index] === '*') {\r\n      return true;\r\n    }\r\n\r\n    if (str[index + 1] === '?' && /[\\].+)]/.test(str[index])) {\r\n      return true;\r\n    }\r\n\r\n    if (closeSquareIndex !== -1 && str[index] === '[' && str[index + 1] !== ']') {\r\n      if (closeSquareIndex < index) {\r\n        closeSquareIndex = str.indexOf(']', index);\r\n      }\r\n      if (closeSquareIndex > index) {\r\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\r\n          return true;\r\n        }\r\n        backSlashIndex = str.indexOf('\\\\', index);\r\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (closeCurlyIndex !== -1 && str[index] === '{' && str[index + 1] !== '}') {\r\n      closeCurlyIndex = str.indexOf('}', index);\r\n      if (closeCurlyIndex > index) {\r\n        backSlashIndex = str.indexOf('\\\\', index);\r\n        if (backSlashIndex === -1 || backSlashIndex > closeCurlyIndex) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (closeParenIndex !== -1 && str[index] === '(' && str[index + 1] === '?' && /[:!=]/.test(str[index + 2]) && str[index + 3] !== ')') {\r\n      closeParenIndex = str.indexOf(')', index);\r\n      if (closeParenIndex > index) {\r\n        backSlashIndex = str.indexOf('\\\\', index);\r\n        if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (pipeIndex !== -1 && str[index] === '(' && str[index + 1] !== '|') {\r\n      if (pipeIndex < index) {\r\n        pipeIndex = str.indexOf('|', index);\r\n      }\r\n      if (pipeIndex !== -1 && str[pipeIndex + 1] !== ')') {\r\n        closeParenIndex = str.indexOf(')', pipeIndex);\r\n        if (closeParenIndex > pipeIndex) {\r\n          backSlashIndex = str.indexOf('\\\\', pipeIndex);\r\n          if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (str[index] === '\\\\') {\r\n      var open = str[index + 1];\r\n      index += 2;\r\n      var close = chars[open];\r\n\r\n      if (close) {\r\n        var n = str.indexOf(close, index);\r\n        if (n !== -1) {\r\n          index = n + 1;\r\n        }\r\n      }\r\n\r\n      if (str[index] === '!') {\r\n        return true;\r\n      }\r\n    } else {\r\n      index++;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nvar relaxedCheck = function(str) {\r\n  if (str[0] === '!') {\r\n    return true;\r\n  }\r\n  var index = 0;\r\n  while (index < str.length) {\r\n    if (/[*?{}()[\\]]/.test(str[index])) {\r\n      return true;\r\n    }\r\n\r\n    if (str[index] === '\\\\') {\r\n      var open = str[index + 1];\r\n      index += 2;\r\n      var close = chars[open];\r\n\r\n      if (close) {\r\n        var n = str.indexOf(close, index);\r\n        if (n !== -1) {\r\n          index = n + 1;\r\n        }\r\n      }\r\n\r\n      if (str[index] === '!') {\r\n        return true;\r\n      }\r\n    } else {\r\n      index++;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nvar isGlob$2 = function isGlob(str, options) {\r\n  if (typeof str !== 'string' || str === '') {\r\n    return false;\r\n  }\r\n\r\n  if (isExtglob(str)) {\r\n    return true;\r\n  }\r\n\r\n  var check = strictCheck;\r\n\r\n  // optionally relax check\r\n  if (options && options.strict === false) {\r\n    check = relaxedCheck;\r\n  }\r\n\r\n  return check(str);\r\n};\r\n\r\nvar isGlob$1 = isGlob$2;\r\nvar pathPosixDirname = require$$0$4.posix.dirname;\r\nvar isWin32 = require$$1.platform() === 'win32';\r\n\r\nvar slash = '/';\r\nvar backslash = /\\\\/g;\r\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\r\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\r\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\r\n\r\n/**\r\n * @param {string} str\r\n * @param {Object} opts\r\n * @param {boolean} [opts.flipBackslashes=true]\r\n * @returns {string}\r\n */\r\nvar globParent$2 = function globParent(str, opts) {\r\n  var options = Object.assign({ flipBackslashes: true }, opts);\r\n\r\n  // flip windows path separators\r\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\r\n    str = str.replace(backslash, slash);\r\n  }\r\n\r\n  // special case for strings ending in enclosure containing path separator\r\n  if (enclosure.test(str)) {\r\n    str += slash;\r\n  }\r\n\r\n  // preserves full path in case of trailing path separator\r\n  str += 'a';\r\n\r\n  // remove path parts that are globby\r\n  do {\r\n    str = pathPosixDirname(str);\r\n  } while (isGlob$1(str) || globby.test(str));\r\n\r\n  // remove escape chars and return result\r\n  return str.replace(escaped, '$1');\r\n};\r\n\r\nvar utils$f = {};\r\n\r\n(function (exports) {\r\n\r\n\texports.isInteger = num => {\r\n\t  if (typeof num === 'number') {\r\n\t    return Number.isInteger(num);\r\n\t  }\r\n\t  if (typeof num === 'string' && num.trim() !== '') {\r\n\t    return Number.isInteger(Number(num));\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\t/**\r\n\t * Find a node of the given type\r\n\t */\r\n\r\n\texports.find = (node, type) => node.nodes.find(node => node.type === type);\r\n\r\n\t/**\r\n\t * Find a node of the given type\r\n\t */\r\n\r\n\texports.exceedsLimit = (min, max, step = 1, limit) => {\r\n\t  if (limit === false) return false;\r\n\t  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\r\n\t  return ((Number(max) - Number(min)) / Number(step)) >= limit;\r\n\t};\r\n\r\n\t/**\r\n\t * Escape the given node with '\\\\' before node.value\r\n\t */\r\n\r\n\texports.escapeNode = (block, n = 0, type) => {\r\n\t  let node = block.nodes[n];\r\n\t  if (!node) return;\r\n\r\n\t  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\r\n\t    if (node.escaped !== true) {\r\n\t      node.value = '\\\\' + node.value;\r\n\t      node.escaped = true;\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if the given brace node should be enclosed in literal braces\r\n\t */\r\n\r\n\texports.encloseBrace = node => {\r\n\t  if (node.type !== 'brace') return false;\r\n\t  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\r\n\t    node.invalid = true;\r\n\t    return true;\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if a brace node is invalid.\r\n\t */\r\n\r\n\texports.isInvalidBrace = block => {\r\n\t  if (block.type !== 'brace') return false;\r\n\t  if (block.invalid === true || block.dollar) return true;\r\n\t  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\r\n\t    block.invalid = true;\r\n\t    return true;\r\n\t  }\r\n\t  if (block.open !== true || block.close !== true) {\r\n\t    block.invalid = true;\r\n\t    return true;\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if a node is an open or close node\r\n\t */\r\n\r\n\texports.isOpenOrClose = node => {\r\n\t  if (node.type === 'open' || node.type === 'close') {\r\n\t    return true;\r\n\t  }\r\n\t  return node.open === true || node.close === true;\r\n\t};\r\n\r\n\t/**\r\n\t * Reduce an array of text nodes.\r\n\t */\r\n\r\n\texports.reduce = nodes => nodes.reduce((acc, node) => {\r\n\t  if (node.type === 'text') acc.push(node.value);\r\n\t  if (node.type === 'range') node.type = 'text';\r\n\t  return acc;\r\n\t}, []);\r\n\r\n\t/**\r\n\t * Flatten an array\r\n\t */\r\n\r\n\texports.flatten = (...args) => {\r\n\t  const result = [];\r\n\t  const flat = arr => {\r\n\t    for (let i = 0; i < arr.length; i++) {\r\n\t      let ele = arr[i];\r\n\t      Array.isArray(ele) ? flat(ele) : ele !== void 0 && result.push(ele);\r\n\t    }\r\n\t    return result;\r\n\t  };\r\n\t  flat(args);\r\n\t  return result;\r\n\t};\r\n} (utils$f));\r\n\r\nconst utils$e = utils$f;\r\n\r\nvar stringify$8 = (ast, options = {}) => {\r\n  let stringify = (node, parent = {}) => {\r\n    let invalidBlock = options.escapeInvalid && utils$e.isInvalidBrace(parent);\r\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\r\n    let output = '';\r\n\r\n    if (node.value) {\r\n      if ((invalidBlock || invalidNode) && utils$e.isOpenOrClose(node)) {\r\n        return '\\\\' + node.value;\r\n      }\r\n      return node.value;\r\n    }\r\n\r\n    if (node.value) {\r\n      return node.value;\r\n    }\r\n\r\n    if (node.nodes) {\r\n      for (let child of node.nodes) {\r\n        output += stringify(child);\r\n      }\r\n    }\r\n    return output;\r\n  };\r\n\r\n  return stringify(ast);\r\n};\r\n\r\n/*!\r\n * is-number <https://github.com/jonschlinkert/is-number>\r\n *\r\n * Copyright (c) 2014-present, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nvar isNumber$2 = function(num) {\r\n  if (typeof num === 'number') {\r\n    return num - num === 0;\r\n  }\r\n  if (typeof num === 'string' && num.trim() !== '') {\r\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\r\n  }\r\n  return false;\r\n};\r\n\r\n/*!\r\n * to-regex-range <https://github.com/micromatch/to-regex-range>\r\n *\r\n * Copyright (c) 2015-present, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nconst isNumber$1 = isNumber$2;\r\n\r\nconst toRegexRange$1 = (min, max, options) => {\r\n  if (isNumber$1(min) === false) {\r\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\r\n  }\r\n\r\n  if (max === void 0 || min === max) {\r\n    return String(min);\r\n  }\r\n\r\n  if (isNumber$1(max) === false) {\r\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\r\n  }\r\n\r\n  let opts = { relaxZeros: true, ...options };\r\n  if (typeof opts.strictZeros === 'boolean') {\r\n    opts.relaxZeros = opts.strictZeros === false;\r\n  }\r\n\r\n  let relax = String(opts.relaxZeros);\r\n  let shorthand = String(opts.shorthand);\r\n  let capture = String(opts.capture);\r\n  let wrap = String(opts.wrap);\r\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\r\n\r\n  if (toRegexRange$1.cache.hasOwnProperty(cacheKey)) {\r\n    return toRegexRange$1.cache[cacheKey].result;\r\n  }\r\n\r\n  let a = Math.min(min, max);\r\n  let b = Math.max(min, max);\r\n\r\n  if (Math.abs(a - b) === 1) {\r\n    let result = min + '|' + max;\r\n    if (opts.capture) {\r\n      return `(${result})`;\r\n    }\r\n    if (opts.wrap === false) {\r\n      return result;\r\n    }\r\n    return `(?:${result})`;\r\n  }\r\n\r\n  let isPadded = hasPadding(min) || hasPadding(max);\r\n  let state = { min, max, a, b };\r\n  let positives = [];\r\n  let negatives = [];\r\n\r\n  if (isPadded) {\r\n    state.isPadded = isPadded;\r\n    state.maxLen = String(state.max).length;\r\n  }\r\n\r\n  if (a < 0) {\r\n    let newMin = b < 0 ? Math.abs(b) : 1;\r\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\r\n    a = state.a = 0;\r\n  }\r\n\r\n  if (b >= 0) {\r\n    positives = splitToPatterns(a, b, state, opts);\r\n  }\r\n\r\n  state.negatives = negatives;\r\n  state.positives = positives;\r\n  state.result = collatePatterns(negatives, positives);\r\n\r\n  if (opts.capture === true) {\r\n    state.result = `(${state.result})`;\r\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\r\n    state.result = `(?:${state.result})`;\r\n  }\r\n\r\n  toRegexRange$1.cache[cacheKey] = state;\r\n  return state.result;\r\n};\r\n\r\nfunction collatePatterns(neg, pos, options) {\r\n  let onlyNegative = filterPatterns(neg, pos, '-', false) || [];\r\n  let onlyPositive = filterPatterns(pos, neg, '', false) || [];\r\n  let intersected = filterPatterns(neg, pos, '-?', true) || [];\r\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\r\n  return subpatterns.join('|');\r\n}\r\n\r\nfunction splitToRanges(min, max) {\r\n  let nines = 1;\r\n  let zeros = 1;\r\n\r\n  let stop = countNines(min, nines);\r\n  let stops = new Set([max]);\r\n\r\n  while (min <= stop && stop <= max) {\r\n    stops.add(stop);\r\n    nines += 1;\r\n    stop = countNines(min, nines);\r\n  }\r\n\r\n  stop = countZeros(max + 1, zeros) - 1;\r\n\r\n  while (min < stop && stop <= max) {\r\n    stops.add(stop);\r\n    zeros += 1;\r\n    stop = countZeros(max + 1, zeros) - 1;\r\n  }\r\n\r\n  stops = [...stops];\r\n  stops.sort(compare);\r\n  return stops;\r\n}\r\n\r\n/**\r\n * Convert a range to a regex pattern\r\n * @param {Number} `start`\r\n * @param {Number} `stop`\r\n * @return {String}\r\n */\r\n\r\nfunction rangeToPattern(start, stop, options) {\r\n  if (start === stop) {\r\n    return { pattern: start, count: [], digits: 0 };\r\n  }\r\n\r\n  let zipped = zip(start, stop);\r\n  let digits = zipped.length;\r\n  let pattern = '';\r\n  let count = 0;\r\n\r\n  for (let i = 0; i < digits; i++) {\r\n    let [startDigit, stopDigit] = zipped[i];\r\n\r\n    if (startDigit === stopDigit) {\r\n      pattern += startDigit;\r\n\r\n    } else if (startDigit !== '0' || stopDigit !== '9') {\r\n      pattern += toCharacterClass(startDigit, stopDigit);\r\n\r\n    } else {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  if (count) {\r\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\r\n  }\r\n\r\n  return { pattern, count: [count], digits };\r\n}\r\n\r\nfunction splitToPatterns(min, max, tok, options) {\r\n  let ranges = splitToRanges(min, max);\r\n  let tokens = [];\r\n  let start = min;\r\n  let prev;\r\n\r\n  for (let i = 0; i < ranges.length; i++) {\r\n    let max = ranges[i];\r\n    let obj = rangeToPattern(String(start), String(max), options);\r\n    let zeros = '';\r\n\r\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\r\n      if (prev.count.length > 1) {\r\n        prev.count.pop();\r\n      }\r\n\r\n      prev.count.push(obj.count[0]);\r\n      prev.string = prev.pattern + toQuantifier(prev.count);\r\n      start = max + 1;\r\n      continue;\r\n    }\r\n\r\n    if (tok.isPadded) {\r\n      zeros = padZeros(max, tok, options);\r\n    }\r\n\r\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\r\n    tokens.push(obj);\r\n    start = max + 1;\r\n    prev = obj;\r\n  }\r\n\r\n  return tokens;\r\n}\r\n\r\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\r\n  let result = [];\r\n\r\n  for (let ele of arr) {\r\n    let { string } = ele;\r\n\r\n    // only push if _both_ are negative...\r\n    if (!intersection && !contains(comparison, 'string', string)) {\r\n      result.push(prefix + string);\r\n    }\r\n\r\n    // or _both_ are positive\r\n    if (intersection && contains(comparison, 'string', string)) {\r\n      result.push(prefix + string);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Zip strings\r\n */\r\n\r\nfunction zip(a, b) {\r\n  let arr = [];\r\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\r\n  return arr;\r\n}\r\n\r\nfunction compare(a, b) {\r\n  return a > b ? 1 : b > a ? -1 : 0;\r\n}\r\n\r\nfunction contains(arr, key, val) {\r\n  return arr.some(ele => ele[key] === val);\r\n}\r\n\r\nfunction countNines(min, len) {\r\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\r\n}\r\n\r\nfunction countZeros(integer, zeros) {\r\n  return integer - (integer % Math.pow(10, zeros));\r\n}\r\n\r\nfunction toQuantifier(digits) {\r\n  let [start = 0, stop = ''] = digits;\r\n  if (stop || start > 1) {\r\n    return `{${start + (stop ? ',' + stop : '')}}`;\r\n  }\r\n  return '';\r\n}\r\n\r\nfunction toCharacterClass(a, b, options) {\r\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\r\n}\r\n\r\nfunction hasPadding(str) {\r\n  return /^-?(0+)\\d/.test(str);\r\n}\r\n\r\nfunction padZeros(value, tok, options) {\r\n  if (!tok.isPadded) {\r\n    return value;\r\n  }\r\n\r\n  let diff = Math.abs(tok.maxLen - String(value).length);\r\n  let relax = options.relaxZeros !== false;\r\n\r\n  switch (diff) {\r\n    case 0:\r\n      return '';\r\n    case 1:\r\n      return relax ? '0?' : '0';\r\n    case 2:\r\n      return relax ? '0{0,2}' : '00';\r\n    default: {\r\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Cache\r\n */\r\n\r\ntoRegexRange$1.cache = {};\r\ntoRegexRange$1.clearCache = () => (toRegexRange$1.cache = {});\r\n\r\n/**\r\n * Expose `toRegexRange`\r\n */\r\n\r\nvar toRegexRange_1 = toRegexRange$1;\r\n\r\n/*!\r\n * fill-range <https://github.com/jonschlinkert/fill-range>\r\n *\r\n * Copyright (c) 2014-present, Jon Schlinkert.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nconst util$2 = require$$0$6;\r\nconst toRegexRange = toRegexRange_1;\r\n\r\nconst isObject$1 = val => val !== null && typeof val === 'object' && !Array.isArray(val);\r\n\r\nconst transform$1 = toNumber => {\r\n  return value => toNumber === true ? Number(value) : String(value);\r\n};\r\n\r\nconst isValidValue = value => {\r\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\r\n};\r\n\r\nconst isNumber = num => Number.isInteger(+num);\r\n\r\nconst zeros = input => {\r\n  let value = `${input}`;\r\n  let index = -1;\r\n  if (value[0] === '-') value = value.slice(1);\r\n  if (value === '0') return false;\r\n  while (value[++index] === '0');\r\n  return index > 0;\r\n};\r\n\r\nconst stringify$7 = (start, end, options) => {\r\n  if (typeof start === 'string' || typeof end === 'string') {\r\n    return true;\r\n  }\r\n  return options.stringify === true;\r\n};\r\n\r\nconst pad = (input, maxLength, toNumber) => {\r\n  if (maxLength > 0) {\r\n    let dash = input[0] === '-' ? '-' : '';\r\n    if (dash) input = input.slice(1);\r\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\r\n  }\r\n  if (toNumber === false) {\r\n    return String(input);\r\n  }\r\n  return input;\r\n};\r\n\r\nconst toMaxLen = (input, maxLength) => {\r\n  let negative = input[0] === '-' ? '-' : '';\r\n  if (negative) {\r\n    input = input.slice(1);\r\n    maxLength--;\r\n  }\r\n  while (input.length < maxLength) input = '0' + input;\r\n  return negative ? ('-' + input) : input;\r\n};\r\n\r\nconst toSequence = (parts, options) => {\r\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\r\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\r\n\r\n  let prefix = options.capture ? '' : '?:';\r\n  let positives = '';\r\n  let negatives = '';\r\n  let result;\r\n\r\n  if (parts.positives.length) {\r\n    positives = parts.positives.join('|');\r\n  }\r\n\r\n  if (parts.negatives.length) {\r\n    negatives = `-(${prefix}${parts.negatives.join('|')})`;\r\n  }\r\n\r\n  if (positives && negatives) {\r\n    result = `${positives}|${negatives}`;\r\n  } else {\r\n    result = positives || negatives;\r\n  }\r\n\r\n  if (options.wrap) {\r\n    return `(${prefix}${result})`;\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst toRange = (a, b, isNumbers, options) => {\r\n  if (isNumbers) {\r\n    return toRegexRange(a, b, { wrap: false, ...options });\r\n  }\r\n\r\n  let start = String.fromCharCode(a);\r\n  if (a === b) return start;\r\n\r\n  let stop = String.fromCharCode(b);\r\n  return `[${start}-${stop}]`;\r\n};\r\n\r\nconst toRegex = (start, end, options) => {\r\n  if (Array.isArray(start)) {\r\n    let wrap = options.wrap === true;\r\n    let prefix = options.capture ? '' : '?:';\r\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\r\n  }\r\n  return toRegexRange(start, end, options);\r\n};\r\n\r\nconst rangeError = (...args) => {\r\n  return new RangeError('Invalid range arguments: ' + util$2.inspect(...args));\r\n};\r\n\r\nconst invalidRange = (start, end, options) => {\r\n  if (options.strictRanges === true) throw rangeError([start, end]);\r\n  return [];\r\n};\r\n\r\nconst invalidStep = (step, options) => {\r\n  if (options.strictRanges === true) {\r\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\r\n  }\r\n  return [];\r\n};\r\n\r\nconst fillNumbers = (start, end, step = 1, options = {}) => {\r\n  let a = Number(start);\r\n  let b = Number(end);\r\n\r\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\r\n    if (options.strictRanges === true) throw rangeError([start, end]);\r\n    return [];\r\n  }\r\n\r\n  // fix negative zero\r\n  if (a === 0) a = 0;\r\n  if (b === 0) b = 0;\r\n\r\n  let descending = a > b;\r\n  let startString = String(start);\r\n  let endString = String(end);\r\n  let stepString = String(step);\r\n  step = Math.max(Math.abs(step), 1);\r\n\r\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\r\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\r\n  let toNumber = padded === false && stringify$7(start, end, options) === false;\r\n  let format = options.transform || transform$1(toNumber);\r\n\r\n  if (options.toRegex && step === 1) {\r\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\r\n  }\r\n\r\n  let parts = { negatives: [], positives: [] };\r\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\r\n  let range = [];\r\n  let index = 0;\r\n\r\n  while (descending ? a >= b : a <= b) {\r\n    if (options.toRegex === true && step > 1) {\r\n      push(a);\r\n    } else {\r\n      range.push(pad(format(a, index), maxLen, toNumber));\r\n    }\r\n    a = descending ? a - step : a + step;\r\n    index++;\r\n  }\r\n\r\n  if (options.toRegex === true) {\r\n    return step > 1\r\n      ? toSequence(parts, options)\r\n      : toRegex(range, null, { wrap: false, ...options });\r\n  }\r\n\r\n  return range;\r\n};\r\n\r\nconst fillLetters = (start, end, step = 1, options = {}) => {\r\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\r\n    return invalidRange(start, end, options);\r\n  }\r\n\r\n\r\n  let format = options.transform || (val => String.fromCharCode(val));\r\n  let a = `${start}`.charCodeAt(0);\r\n  let b = `${end}`.charCodeAt(0);\r\n\r\n  let descending = a > b;\r\n  let min = Math.min(a, b);\r\n  let max = Math.max(a, b);\r\n\r\n  if (options.toRegex && step === 1) {\r\n    return toRange(min, max, false, options);\r\n  }\r\n\r\n  let range = [];\r\n  let index = 0;\r\n\r\n  while (descending ? a >= b : a <= b) {\r\n    range.push(format(a, index));\r\n    a = descending ? a - step : a + step;\r\n    index++;\r\n  }\r\n\r\n  if (options.toRegex === true) {\r\n    return toRegex(range, null, { wrap: false, options });\r\n  }\r\n\r\n  return range;\r\n};\r\n\r\nconst fill$2 = (start, end, step, options = {}) => {\r\n  if (end == null && isValidValue(start)) {\r\n    return [start];\r\n  }\r\n\r\n  if (!isValidValue(start) || !isValidValue(end)) {\r\n    return invalidRange(start, end, options);\r\n  }\r\n\r\n  if (typeof step === 'function') {\r\n    return fill$2(start, end, 1, { transform: step });\r\n  }\r\n\r\n  if (isObject$1(step)) {\r\n    return fill$2(start, end, 0, step);\r\n  }\r\n\r\n  let opts = { ...options };\r\n  if (opts.capture === true) opts.wrap = true;\r\n  step = step || opts.step || 1;\r\n\r\n  if (!isNumber(step)) {\r\n    if (step != null && !isObject$1(step)) return invalidStep(step, opts);\r\n    return fill$2(start, end, 1, step);\r\n  }\r\n\r\n  if (isNumber(start) && isNumber(end)) {\r\n    return fillNumbers(start, end, step, opts);\r\n  }\r\n\r\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\r\n};\r\n\r\nvar fillRange = fill$2;\r\n\r\nconst fill$1 = fillRange;\r\nconst utils$d = utils$f;\r\n\r\nconst compile$1 = (ast, options = {}) => {\r\n  let walk = (node, parent = {}) => {\r\n    let invalidBlock = utils$d.isInvalidBrace(parent);\r\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\r\n    let invalid = invalidBlock === true || invalidNode === true;\r\n    let prefix = options.escapeInvalid === true ? '\\\\' : '';\r\n    let output = '';\r\n\r\n    if (node.isOpen === true) {\r\n      return prefix + node.value;\r\n    }\r\n    if (node.isClose === true) {\r\n      return prefix + node.value;\r\n    }\r\n\r\n    if (node.type === 'open') {\r\n      return invalid ? (prefix + node.value) : '(';\r\n    }\r\n\r\n    if (node.type === 'close') {\r\n      return invalid ? (prefix + node.value) : ')';\r\n    }\r\n\r\n    if (node.type === 'comma') {\r\n      return node.prev.type === 'comma' ? '' : (invalid ? node.value : '|');\r\n    }\r\n\r\n    if (node.value) {\r\n      return node.value;\r\n    }\r\n\r\n    if (node.nodes && node.ranges > 0) {\r\n      let args = utils$d.reduce(node.nodes);\r\n      let range = fill$1(...args, { ...options, wrap: false, toRegex: true });\r\n\r\n      if (range.length !== 0) {\r\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\r\n      }\r\n    }\r\n\r\n    if (node.nodes) {\r\n      for (let child of node.nodes) {\r\n        output += walk(child, node);\r\n      }\r\n    }\r\n    return output;\r\n  };\r\n\r\n  return walk(ast);\r\n};\r\n\r\nvar compile_1 = compile$1;\r\n\r\nconst fill = fillRange;\r\nconst stringify$6 = stringify$8;\r\nconst utils$c = utils$f;\r\n\r\nconst append$1 = (queue = '', stash = '', enclose = false) => {\r\n  let result = [];\r\n\r\n  queue = [].concat(queue);\r\n  stash = [].concat(stash);\r\n\r\n  if (!stash.length) return queue;\r\n  if (!queue.length) {\r\n    return enclose ? utils$c.flatten(stash).map(ele => `{${ele}}`) : stash;\r\n  }\r\n\r\n  for (let item of queue) {\r\n    if (Array.isArray(item)) {\r\n      for (let value of item) {\r\n        result.push(append$1(value, stash, enclose));\r\n      }\r\n    } else {\r\n      for (let ele of stash) {\r\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\r\n        result.push(Array.isArray(ele) ? append$1(item, ele, enclose) : (item + ele));\r\n      }\r\n    }\r\n  }\r\n  return utils$c.flatten(result);\r\n};\r\n\r\nconst expand$1 = (ast, options = {}) => {\r\n  let rangeLimit = options.rangeLimit === void 0 ? 1000 : options.rangeLimit;\r\n\r\n  let walk = (node, parent = {}) => {\r\n    node.queue = [];\r\n\r\n    let p = parent;\r\n    let q = parent.queue;\r\n\r\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\r\n      p = p.parent;\r\n      q = p.queue;\r\n    }\r\n\r\n    if (node.invalid || node.dollar) {\r\n      q.push(append$1(q.pop(), stringify$6(node, options)));\r\n      return;\r\n    }\r\n\r\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\r\n      q.push(append$1(q.pop(), ['{}']));\r\n      return;\r\n    }\r\n\r\n    if (node.nodes && node.ranges > 0) {\r\n      let args = utils$c.reduce(node.nodes);\r\n\r\n      if (utils$c.exceedsLimit(...args, options.step, rangeLimit)) {\r\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\r\n      }\r\n\r\n      let range = fill(...args, options);\r\n      if (range.length === 0) {\r\n        range = stringify$6(node, options);\r\n      }\r\n\r\n      q.push(append$1(q.pop(), range));\r\n      node.nodes = [];\r\n      return;\r\n    }\r\n\r\n    let enclose = utils$c.encloseBrace(node);\r\n    let queue = node.queue;\r\n    let block = node;\r\n\r\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\r\n      block = block.parent;\r\n      queue = block.queue;\r\n    }\r\n\r\n    for (let i = 0; i < node.nodes.length; i++) {\r\n      let child = node.nodes[i];\r\n\r\n      if (child.type === 'comma' && node.type === 'brace') {\r\n        if (i === 1) queue.push('');\r\n        queue.push('');\r\n        continue;\r\n      }\r\n\r\n      if (child.type === 'close') {\r\n        q.push(append$1(q.pop(), queue, enclose));\r\n        continue;\r\n      }\r\n\r\n      if (child.value && child.type !== 'open') {\r\n        queue.push(append$1(queue.pop(), child.value));\r\n        continue;\r\n      }\r\n\r\n      if (child.nodes) {\r\n        walk(child, node);\r\n      }\r\n    }\r\n\r\n    return queue;\r\n  };\r\n\r\n  return utils$c.flatten(walk(ast));\r\n};\r\n\r\nvar expand_1 = expand$1;\r\n\r\nvar constants$3 = {\r\n  MAX_LENGTH: 1024 * 64,\r\n\r\n  // Digits\r\n  CHAR_0: '0', /* 0 */\r\n  CHAR_9: '9', /* 9 */\r\n\r\n  // Alphabet chars.\r\n  CHAR_UPPERCASE_A: 'A', /* A */\r\n  CHAR_LOWERCASE_A: 'a', /* a */\r\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\r\n  CHAR_LOWERCASE_Z: 'z', /* z */\r\n\r\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\r\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\r\n\r\n  CHAR_ASTERISK: '*', /* * */\r\n\r\n  // Non-alphabetic chars.\r\n  CHAR_AMPERSAND: '&', /* & */\r\n  CHAR_AT: '@', /* @ */\r\n  CHAR_BACKSLASH: '\\\\', /* \\ */\r\n  CHAR_BACKTICK: '`', /* ` */\r\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\r\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\r\n  CHAR_COLON: ':', /* : */\r\n  CHAR_COMMA: ',', /* , */\r\n  CHAR_DOLLAR: '$', /* . */\r\n  CHAR_DOT: '.', /* . */\r\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\r\n  CHAR_EQUAL: '=', /* = */\r\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\r\n  CHAR_FORM_FEED: '\\f', /* \\f */\r\n  CHAR_FORWARD_SLASH: '/', /* / */\r\n  CHAR_HASH: '#', /* # */\r\n  CHAR_HYPHEN_MINUS: '-', /* - */\r\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\r\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\r\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\r\n  CHAR_LINE_FEED: '\\n', /* \\n */\r\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\r\n  CHAR_PERCENT: '%', /* % */\r\n  CHAR_PLUS: '+', /* + */\r\n  CHAR_QUESTION_MARK: '?', /* ? */\r\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\r\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\r\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\r\n  CHAR_SEMICOLON: ';', /* ; */\r\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\r\n  CHAR_SPACE: ' ', /*   */\r\n  CHAR_TAB: '\\t', /* \\t */\r\n  CHAR_UNDERSCORE: '_', /* _ */\r\n  CHAR_VERTICAL_LINE: '|', /* | */\r\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\r\n};\r\n\r\nconst stringify$5 = stringify$8;\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nconst {\r\n  MAX_LENGTH,\r\n  CHAR_BACKSLASH, /* \\ */\r\n  CHAR_BACKTICK, /* ` */\r\n  CHAR_COMMA, /* , */\r\n  CHAR_DOT, /* . */\r\n  CHAR_LEFT_PARENTHESES, /* ( */\r\n  CHAR_RIGHT_PARENTHESES, /* ) */\r\n  CHAR_LEFT_CURLY_BRACE, /* { */\r\n  CHAR_RIGHT_CURLY_BRACE, /* } */\r\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\r\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\r\n  CHAR_DOUBLE_QUOTE, /* \" */\r\n  CHAR_SINGLE_QUOTE, /* ' */\r\n  CHAR_NO_BREAK_SPACE,\r\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\r\n} = constants$3;\r\n\r\n/**\r\n * parse\r\n */\r\n\r\nconst parse$f = (input, options = {}) => {\r\n  if (typeof input !== 'string') {\r\n    throw new TypeError('Expected a string');\r\n  }\r\n\r\n  let opts = options || {};\r\n  let max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\r\n  if (input.length > max) {\r\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\r\n  }\r\n\r\n  let ast = { type: 'root', input, nodes: [] };\r\n  let stack = [ast];\r\n  let block = ast;\r\n  let prev = ast;\r\n  let brackets = 0;\r\n  let length = input.length;\r\n  let index = 0;\r\n  let depth = 0;\r\n  let value;\r\n\r\n  /**\r\n   * Helpers\r\n   */\r\n\r\n  const advance = () => input[index++];\r\n  const push = node => {\r\n    if (node.type === 'text' && prev.type === 'dot') {\r\n      prev.type = 'text';\r\n    }\r\n\r\n    if (prev && prev.type === 'text' && node.type === 'text') {\r\n      prev.value += node.value;\r\n      return;\r\n    }\r\n\r\n    block.nodes.push(node);\r\n    node.parent = block;\r\n    node.prev = prev;\r\n    prev = node;\r\n    return node;\r\n  };\r\n\r\n  push({ type: 'bos' });\r\n\r\n  while (index < length) {\r\n    block = stack[stack.length - 1];\r\n    value = advance();\r\n\r\n    /**\r\n     * Invalid chars\r\n     */\r\n\r\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Escaped chars\r\n     */\r\n\r\n    if (value === CHAR_BACKSLASH) {\r\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Right square bracket (literal): ']'\r\n     */\r\n\r\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\r\n      push({ type: 'text', value: '\\\\' + value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Left square bracket: '['\r\n     */\r\n\r\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\r\n      brackets++;\r\n      let next;\r\n\r\n      while (index < length && (next = advance())) {\r\n        value += next;\r\n\r\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\r\n          brackets++;\r\n          continue;\r\n        }\r\n\r\n        if (next === CHAR_BACKSLASH) {\r\n          value += advance();\r\n          continue;\r\n        }\r\n\r\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\r\n          brackets--;\r\n\r\n          if (brackets === 0) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Parentheses\r\n     */\r\n\r\n    if (value === CHAR_LEFT_PARENTHESES) {\r\n      block = push({ type: 'paren', nodes: [] });\r\n      stack.push(block);\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    if (value === CHAR_RIGHT_PARENTHESES) {\r\n      if (block.type !== 'paren') {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n      block = stack.pop();\r\n      push({ type: 'text', value });\r\n      block = stack[stack.length - 1];\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Quotes: '|\"|`\r\n     */\r\n\r\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\r\n      let open = value;\r\n      let next;\r\n\r\n      if (options.keepQuotes !== true) {\r\n        value = '';\r\n      }\r\n\r\n      while (index < length && (next = advance())) {\r\n        if (next === CHAR_BACKSLASH) {\r\n          value += next + advance();\r\n          continue;\r\n        }\r\n\r\n        if (next === open) {\r\n          if (options.keepQuotes === true) value += next;\r\n          break;\r\n        }\r\n\r\n        value += next;\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Left curly brace: '{'\r\n     */\r\n\r\n    if (value === CHAR_LEFT_CURLY_BRACE) {\r\n      depth++;\r\n\r\n      let dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\r\n      let brace = {\r\n        type: 'brace',\r\n        open: true,\r\n        close: false,\r\n        dollar,\r\n        depth,\r\n        commas: 0,\r\n        ranges: 0,\r\n        nodes: []\r\n      };\r\n\r\n      block = push(brace);\r\n      stack.push(block);\r\n      push({ type: 'open', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Right curly brace: '}'\r\n     */\r\n\r\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\r\n      if (block.type !== 'brace') {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n\r\n      let type = 'close';\r\n      block = stack.pop();\r\n      block.close = true;\r\n\r\n      push({ type, value });\r\n      depth--;\r\n\r\n      block = stack[stack.length - 1];\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Comma: ','\r\n     */\r\n\r\n    if (value === CHAR_COMMA && depth > 0) {\r\n      if (block.ranges > 0) {\r\n        block.ranges = 0;\r\n        let open = block.nodes.shift();\r\n        block.nodes = [open, { type: 'text', value: stringify$5(block) }];\r\n      }\r\n\r\n      push({ type: 'comma', value });\r\n      block.commas++;\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Dot: '.'\r\n     */\r\n\r\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\r\n      let siblings = block.nodes;\r\n\r\n      if (depth === 0 || siblings.length === 0) {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n\r\n      if (prev.type === 'dot') {\r\n        block.range = [];\r\n        prev.value += value;\r\n        prev.type = 'range';\r\n\r\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\r\n          block.invalid = true;\r\n          block.ranges = 0;\r\n          prev.type = 'text';\r\n          continue;\r\n        }\r\n\r\n        block.ranges++;\r\n        block.args = [];\r\n        continue;\r\n      }\r\n\r\n      if (prev.type === 'range') {\r\n        siblings.pop();\r\n\r\n        let before = siblings[siblings.length - 1];\r\n        before.value += prev.value + value;\r\n        prev = before;\r\n        block.ranges--;\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'dot', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Text\r\n     */\r\n\r\n    push({ type: 'text', value });\r\n  }\r\n\r\n  // Mark imbalanced braces and brackets as invalid\r\n  do {\r\n    block = stack.pop();\r\n\r\n    if (block.type !== 'root') {\r\n      block.nodes.forEach(node => {\r\n        if (!node.nodes) {\r\n          if (node.type === 'open') node.isOpen = true;\r\n          if (node.type === 'close') node.isClose = true;\r\n          if (!node.nodes) node.type = 'text';\r\n          node.invalid = true;\r\n        }\r\n      });\r\n\r\n      // get the location of the block on parent.nodes (block's siblings)\r\n      let parent = stack[stack.length - 1];\r\n      let index = parent.nodes.indexOf(block);\r\n      // replace the (invalid) block with it's nodes\r\n      parent.nodes.splice(index, 1, ...block.nodes);\r\n    }\r\n  } while (stack.length > 0);\r\n\r\n  push({ type: 'eos' });\r\n  return ast;\r\n};\r\n\r\nvar parse_1$1 = parse$f;\r\n\r\nconst stringify$4 = stringify$8;\r\nconst compile = compile_1;\r\nconst expand = expand_1;\r\nconst parse$e = parse_1$1;\r\n\r\n/**\r\n * Expand the given pattern or create a regex-compatible string.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\r\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\r\n * ```\r\n * @param {String} `str`\r\n * @param {Object} `options`\r\n * @return {String}\r\n * @api public\r\n */\r\n\r\nconst braces$2 = (input, options = {}) => {\r\n  let output = [];\r\n\r\n  if (Array.isArray(input)) {\r\n    for (let pattern of input) {\r\n      let result = braces$2.create(pattern, options);\r\n      if (Array.isArray(result)) {\r\n        output.push(...result);\r\n      } else {\r\n        output.push(result);\r\n      }\r\n    }\r\n  } else {\r\n    output = [].concat(braces$2.create(input, options));\r\n  }\r\n\r\n  if (options && options.expand === true && options.nodupes === true) {\r\n    output = [...new Set(output)];\r\n  }\r\n  return output;\r\n};\r\n\r\n/**\r\n * Parse the given `str` with the given `options`.\r\n *\r\n * ```js\r\n * // braces.parse(pattern, [, options]);\r\n * const ast = braces.parse('a/{b,c}/d');\r\n * console.log(ast);\r\n * ```\r\n * @param {String} pattern Brace pattern to parse\r\n * @param {Object} options\r\n * @return {Object} Returns an AST\r\n * @api public\r\n */\r\n\r\nbraces$2.parse = (input, options = {}) => parse$e(input, options);\r\n\r\n/**\r\n * Creates a braces string from an AST, or an AST node.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * let ast = braces.parse('foo/{a,b}/bar');\r\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\r\n * ```\r\n * @param {String} `input` Brace pattern or AST.\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.stringify = (input, options = {}) => {\r\n  if (typeof input === 'string') {\r\n    return stringify$4(braces$2.parse(input, options), options);\r\n  }\r\n  return stringify$4(input, options);\r\n};\r\n\r\n/**\r\n * Compiles a brace pattern into a regex-compatible, optimized string.\r\n * This method is called by the main [braces](#braces) function by default.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces.compile('a/{b,c}/d'));\r\n * //=> ['a/(b|c)/d']\r\n * ```\r\n * @param {String} `input` Brace pattern or AST.\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.compile = (input, options = {}) => {\r\n  if (typeof input === 'string') {\r\n    input = braces$2.parse(input, options);\r\n  }\r\n  return compile(input, options);\r\n};\r\n\r\n/**\r\n * Expands a brace pattern into an array. This method is called by the\r\n * main [braces](#braces) function when `options.expand` is true. Before\r\n * using this method it's recommended that you read the [performance notes](#performance))\r\n * and advantages of using [.compile](#compile) instead.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces.expand('a/{b,c}/d'));\r\n * //=> ['a/b/d', 'a/c/d'];\r\n * ```\r\n * @param {String} `pattern` Brace pattern\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.expand = (input, options = {}) => {\r\n  if (typeof input === 'string') {\r\n    input = braces$2.parse(input, options);\r\n  }\r\n\r\n  let result = expand(input, options);\r\n\r\n  // filter out empty strings if specified\r\n  if (options.noempty === true) {\r\n    result = result.filter(Boolean);\r\n  }\r\n\r\n  // filter out duplicates if specified\r\n  if (options.nodupes === true) {\r\n    result = [...new Set(result)];\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * Processes a brace pattern and returns either an expanded array\r\n * (if `options.expand` is true), a highly optimized regex-compatible string.\r\n * This method is called by the main [braces](#braces) function.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\r\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\r\n * ```\r\n * @param {String} `pattern` Brace pattern\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.create = (input, options = {}) => {\r\n  if (input === '' || input.length < 3) {\r\n    return [input];\r\n  }\r\n\r\n return options.expand !== true\r\n    ? braces$2.compile(input, options)\r\n    : braces$2.expand(input, options);\r\n};\r\n\r\n/**\r\n * Expose \"braces\"\r\n */\r\n\r\nvar braces_1 = braces$2;\r\n\r\nconst util$1 = require$$0$6;\r\nconst braces$1 = braces_1;\r\nconst picomatch$2 = picomatch$4.exports;\r\nconst utils$b = utils$k;\r\nconst isEmptyString = val => val === '' || val === './';\r\n\r\n/**\r\n * Returns an array of strings that match one or more glob patterns.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm(list, patterns[, options]);\r\n *\r\n * console.log(mm(['a.js', 'a.txt'], ['*.js']));\r\n * //=> [ 'a.js' ]\r\n * ```\r\n * @param {String|Array<string>} `list` List of strings to match.\r\n * @param {String|Array<string>} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options)\r\n * @return {Array} Returns an array of matches\r\n * @summary false\r\n * @api public\r\n */\r\n\r\nconst micromatch$1 = (list, patterns, options) => {\r\n  patterns = [].concat(patterns);\r\n  list = [].concat(list);\r\n\r\n  let omit = new Set();\r\n  let keep = new Set();\r\n  let items = new Set();\r\n  let negatives = 0;\r\n\r\n  let onResult = state => {\r\n    items.add(state.output);\r\n    if (options && options.onResult) {\r\n      options.onResult(state);\r\n    }\r\n  };\r\n\r\n  for (let i = 0; i < patterns.length; i++) {\r\n    let isMatch = picomatch$2(String(patterns[i]), { ...options, onResult }, true);\r\n    let negated = isMatch.state.negated || isMatch.state.negatedExtglob;\r\n    if (negated) negatives++;\r\n\r\n    for (let item of list) {\r\n      let matched = isMatch(item, true);\r\n\r\n      let match = negated ? !matched.isMatch : matched.isMatch;\r\n      if (!match) continue;\r\n\r\n      if (negated) {\r\n        omit.add(matched.output);\r\n      } else {\r\n        omit.delete(matched.output);\r\n        keep.add(matched.output);\r\n      }\r\n    }\r\n  }\r\n\r\n  let result = negatives === patterns.length ? [...items] : [...keep];\r\n  let matches = result.filter(item => !omit.has(item));\r\n\r\n  if (options && matches.length === 0) {\r\n    if (options.failglob === true) {\r\n      throw new Error(`No matches found for \"${patterns.join(', ')}\"`);\r\n    }\r\n\r\n    if (options.nonull === true || options.nullglob === true) {\r\n      return options.unescape ? patterns.map(p => p.replace(/\\\\/g, '')) : patterns;\r\n    }\r\n  }\r\n\r\n  return matches;\r\n};\r\n\r\n/**\r\n * Backwards compatibility\r\n */\r\n\r\nmicromatch$1.match = micromatch$1;\r\n\r\n/**\r\n * Returns a matcher function from the given glob `pattern` and `options`.\r\n * The returned function takes a string to match as its only argument and returns\r\n * true if the string is a match.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.matcher(pattern[, options]);\r\n *\r\n * const isMatch = mm.matcher('*.!(*a)');\r\n * console.log(isMatch('a.a')); //=> false\r\n * console.log(isMatch('a.b')); //=> true\r\n * ```\r\n * @param {String} `pattern` Glob pattern\r\n * @param {Object} `options`\r\n * @return {Function} Returns a matcher function.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.matcher = (pattern, options) => picomatch$2(pattern, options);\r\n\r\n/**\r\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.isMatch(string, patterns[, options]);\r\n *\r\n * console.log(mm.isMatch('a.a', ['b.*', '*.a'])); //=> true\r\n * console.log(mm.isMatch('a.a', 'b.*')); //=> false\r\n * ```\r\n * @param {String} `str` The string to test.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `[options]` See available [options](#options).\r\n * @return {Boolean} Returns true if any patterns match `str`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.isMatch = (str, patterns, options) => picomatch$2(patterns, options)(str);\r\n\r\n/**\r\n * Backwards compatibility\r\n */\r\n\r\nmicromatch$1.any = micromatch$1.isMatch;\r\n\r\n/**\r\n * Returns a list of strings that _**do not match any**_ of the given `patterns`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.not(list, patterns[, options]);\r\n *\r\n * console.log(mm.not(['a.a', 'b.b', 'c.c'], '*.a'));\r\n * //=> ['b.b', 'c.c']\r\n * ```\r\n * @param {Array} `list` Array of strings to match.\r\n * @param {String|Array} `patterns` One or more glob pattern to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Array} Returns an array of strings that **do not match** the given patterns.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.not = (list, patterns, options = {}) => {\r\n  patterns = [].concat(patterns).map(String);\r\n  let result = new Set();\r\n  let items = [];\r\n\r\n  let onResult = state => {\r\n    if (options.onResult) options.onResult(state);\r\n    items.push(state.output);\r\n  };\r\n\r\n  let matches = new Set(micromatch$1(list, patterns, { ...options, onResult }));\r\n\r\n  for (let item of items) {\r\n    if (!matches.has(item)) {\r\n      result.add(item);\r\n    }\r\n  }\r\n  return [...result];\r\n};\r\n\r\n/**\r\n * Returns true if the given `string` contains the given pattern. Similar\r\n * to [.isMatch](#isMatch) but the pattern can match any part of the string.\r\n *\r\n * ```js\r\n * var mm = require('micromatch');\r\n * // mm.contains(string, pattern[, options]);\r\n *\r\n * console.log(mm.contains('aa/bb/cc', '*b'));\r\n * //=> true\r\n * console.log(mm.contains('aa/bb/cc', '*d'));\r\n * //=> false\r\n * ```\r\n * @param {String} `str` The string to match.\r\n * @param {String|Array} `patterns` Glob pattern to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if any of the patterns matches any part of `str`.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.contains = (str, pattern, options) => {\r\n  if (typeof str !== 'string') {\r\n    throw new TypeError(`Expected a string: \"${util$1.inspect(str)}\"`);\r\n  }\r\n\r\n  if (Array.isArray(pattern)) {\r\n    return pattern.some(p => micromatch$1.contains(str, p, options));\r\n  }\r\n\r\n  if (typeof pattern === 'string') {\r\n    if (isEmptyString(str) || isEmptyString(pattern)) {\r\n      return false;\r\n    }\r\n\r\n    if (str.includes(pattern) || (str.startsWith('./') && str.slice(2).includes(pattern))) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return micromatch$1.isMatch(str, pattern, { ...options, contains: true });\r\n};\r\n\r\n/**\r\n * Filter the keys of the given object with the given `glob` pattern\r\n * and `options`. Does not attempt to match nested keys. If you need this feature,\r\n * use [glob-object][] instead.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.matchKeys(object, patterns[, options]);\r\n *\r\n * const obj = { aa: 'a', ab: 'b', ac: 'c' };\r\n * console.log(mm.matchKeys(obj, '*b'));\r\n * //=> { ab: 'b' }\r\n * ```\r\n * @param {Object} `object` The object with keys to filter.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Object} Returns an object with only keys that match the given patterns.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.matchKeys = (obj, patterns, options) => {\r\n  if (!utils$b.isObject(obj)) {\r\n    throw new TypeError('Expected the first argument to be an object');\r\n  }\r\n  let keys = micromatch$1(Object.keys(obj), patterns, options);\r\n  let res = {};\r\n  for (let key of keys) res[key] = obj[key];\r\n  return res;\r\n};\r\n\r\n/**\r\n * Returns true if some of the strings in the given `list` match any of the given glob `patterns`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.some(list, patterns[, options]);\r\n *\r\n * console.log(mm.some(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\r\n * // true\r\n * console.log(mm.some(['foo.js'], ['*.js', '!foo.js']));\r\n * // false\r\n * ```\r\n * @param {String|Array} `list` The string or array of strings to test. Returns as soon as the first match is found.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if any `patterns` matches any of the strings in `list`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.some = (list, patterns, options) => {\r\n  let items = [].concat(list);\r\n\r\n  for (let pattern of [].concat(patterns)) {\r\n    let isMatch = picomatch$2(String(pattern), options);\r\n    if (items.some(item => isMatch(item))) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n * Returns true if every string in the given `list` matches\r\n * any of the given glob `patterns`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.every(list, patterns[, options]);\r\n *\r\n * console.log(mm.every('foo.js', ['foo.js']));\r\n * // true\r\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js']));\r\n * // true\r\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\r\n * // false\r\n * console.log(mm.every(['foo.js'], ['*.js', '!foo.js']));\r\n * // false\r\n * ```\r\n * @param {String|Array} `list` The string or array of strings to test.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if all `patterns` matches all of the strings in `list`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.every = (list, patterns, options) => {\r\n  let items = [].concat(list);\r\n\r\n  for (let pattern of [].concat(patterns)) {\r\n    let isMatch = picomatch$2(String(pattern), options);\r\n    if (!items.every(item => isMatch(item))) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\n/**\r\n * Returns true if **all** of the given `patterns` match\r\n * the specified string.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.all(string, patterns[, options]);\r\n *\r\n * console.log(mm.all('foo.js', ['foo.js']));\r\n * // true\r\n *\r\n * console.log(mm.all('foo.js', ['*.js', '!foo.js']));\r\n * // false\r\n *\r\n * console.log(mm.all('foo.js', ['*.js', 'foo.js']));\r\n * // true\r\n *\r\n * console.log(mm.all('foo.js', ['*.js', 'f*', '*o*', '*o.js']));\r\n * // true\r\n * ```\r\n * @param {String|Array} `str` The string to test.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if any patterns match `str`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.all = (str, patterns, options) => {\r\n  if (typeof str !== 'string') {\r\n    throw new TypeError(`Expected a string: \"${util$1.inspect(str)}\"`);\r\n  }\r\n\r\n  return [].concat(patterns).every(p => picomatch$2(p, options)(str));\r\n};\r\n\r\n/**\r\n * Returns an array of matches captured by `pattern` in `string, or `null` if the pattern did not match.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.capture(pattern, string[, options]);\r\n *\r\n * console.log(mm.capture('test/*.js', 'test/foo.js'));\r\n * //=> ['foo']\r\n * console.log(mm.capture('test/*.js', 'foo/bar.css'));\r\n * //=> null\r\n * ```\r\n * @param {String} `glob` Glob pattern to use for matching.\r\n * @param {String} `input` String to match\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Array|null} Returns an array of captures if the input matches the glob pattern, otherwise `null`.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.capture = (glob, input, options) => {\r\n  let posix = utils$b.isWindows(options);\r\n  let regex = picomatch$2.makeRe(String(glob), { ...options, capture: true });\r\n  let match = regex.exec(posix ? utils$b.toPosixSlashes(input) : input);\r\n\r\n  if (match) {\r\n    return match.slice(1).map(v => v === void 0 ? '' : v);\r\n  }\r\n};\r\n\r\n/**\r\n * Create a regular expression from the given glob `pattern`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.makeRe(pattern[, options]);\r\n *\r\n * console.log(mm.makeRe('*.js'));\r\n * //=> /^(?:(\\.[\\\\\\/])?(?!\\.)(?=.)[^\\/]*?\\.js)$/\r\n * ```\r\n * @param {String} `pattern` A glob pattern to convert to regex.\r\n * @param {Object} `options`\r\n * @return {RegExp} Returns a regex created from the given pattern.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.makeRe = (...args) => picomatch$2.makeRe(...args);\r\n\r\n/**\r\n * Scan a glob pattern to separate the pattern into segments. Used\r\n * by the [split](#split) method.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * const state = mm.scan(pattern[, options]);\r\n * ```\r\n * @param {String} `pattern`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with\r\n * @api public\r\n */\r\n\r\nmicromatch$1.scan = (...args) => picomatch$2.scan(...args);\r\n\r\n/**\r\n * Parse a glob pattern to create the source string for a regular\r\n * expression.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * const state = mm.parse(pattern[, options]);\r\n * ```\r\n * @param {String} `glob`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with useful properties and output to be used as regex source string.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.parse = (patterns, options) => {\r\n  let res = [];\r\n  for (let pattern of [].concat(patterns || [])) {\r\n    for (let str of braces$1(String(pattern), options)) {\r\n      res.push(picomatch$2.parse(str, options));\r\n    }\r\n  }\r\n  return res;\r\n};\r\n\r\n/**\r\n * Process the given brace `pattern`.\r\n *\r\n * ```js\r\n * const { braces } = require('micromatch');\r\n * console.log(braces('foo/{a,b,c}/bar'));\r\n * //=> [ 'foo/(a|b|c)/bar' ]\r\n *\r\n * console.log(braces('foo/{a,b,c}/bar', { expand: true }));\r\n * //=> [ 'foo/a/bar', 'foo/b/bar', 'foo/c/bar' ]\r\n * ```\r\n * @param {String} `pattern` String with brace pattern to process.\r\n * @param {Object} `options` Any [options](#options) to change how expansion is performed. See the [braces][] library for all available options.\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nmicromatch$1.braces = (pattern, options) => {\r\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\r\n  if ((options && options.nobrace === true) || !/\\{.*\\}/.test(pattern)) {\r\n    return [pattern];\r\n  }\r\n  return braces$1(pattern, options);\r\n};\r\n\r\n/**\r\n * Expand braces\r\n */\r\n\r\nmicromatch$1.braceExpand = (pattern, options) => {\r\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\r\n  return micromatch$1.braces(pattern, { ...options, expand: true });\r\n};\r\n\r\n/**\r\n * Expose micromatch\r\n */\r\n\r\nvar micromatch_1 = micromatch$1;\r\n\r\nObject.defineProperty(pattern$1, \"__esModule\", { value: true });\r\npattern$1.matchAny = pattern$1.convertPatternsToRe = pattern$1.makeRe = pattern$1.getPatternParts = pattern$1.expandBraceExpansion = pattern$1.expandPatternsWithBraceExpansion = pattern$1.isAffectDepthOfReadingPattern = pattern$1.endsWithSlashGlobStar = pattern$1.hasGlobStar = pattern$1.getBaseDirectory = pattern$1.isPatternRelatedToParentDirectory = pattern$1.getPatternsOutsideCurrentDirectory = pattern$1.getPatternsInsideCurrentDirectory = pattern$1.getPositivePatterns = pattern$1.getNegativePatterns = pattern$1.isPositivePattern = pattern$1.isNegativePattern = pattern$1.convertToNegativePattern = pattern$1.convertToPositivePattern = pattern$1.isDynamicPattern = pattern$1.isStaticPattern = void 0;\r\nconst path$f = require$$0$4;\r\nconst globParent$1 = globParent$2;\r\nconst micromatch = micromatch_1;\r\nconst GLOBSTAR$1 = '**';\r\nconst ESCAPE_SYMBOL = '\\\\';\r\nconst COMMON_GLOB_SYMBOLS_RE = /[*?]|^!/;\r\nconst REGEX_CHARACTER_CLASS_SYMBOLS_RE = /\\[[^[]*]/;\r\nconst REGEX_GROUP_SYMBOLS_RE = /(?:^|[^!*+?@])\\([^(]*\\|[^|]*\\)/;\r\nconst GLOB_EXTENSION_SYMBOLS_RE = /[!*+?@]\\([^(]*\\)/;\r\nconst BRACE_EXPANSION_SEPARATORS_RE = /,|\\.\\./;\r\nfunction isStaticPattern(pattern, options = {}) {\r\n    return !isDynamicPattern(pattern, options);\r\n}\r\npattern$1.isStaticPattern = isStaticPattern;\r\nfunction isDynamicPattern(pattern, options = {}) {\r\n    /**\r\n     * A special case with an empty string is necessary for matching patterns that start with a forward slash.\r\n     * An empty string cannot be a dynamic pattern.\r\n     * For example, the pattern `/lib/*` will be spread into parts: '', 'lib', '*'.\r\n     */\r\n    if (pattern === '') {\r\n        return false;\r\n    }\r\n    /**\r\n     * When the `caseSensitiveMatch` option is disabled, all patterns must be marked as dynamic, because we cannot check\r\n     * filepath directly (without read directory).\r\n     */\r\n    if (options.caseSensitiveMatch === false || pattern.includes(ESCAPE_SYMBOL)) {\r\n        return true;\r\n    }\r\n    if (COMMON_GLOB_SYMBOLS_RE.test(pattern) || REGEX_CHARACTER_CLASS_SYMBOLS_RE.test(pattern) || REGEX_GROUP_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.extglob !== false && GLOB_EXTENSION_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.braceExpansion !== false && hasBraceExpansion(pattern)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\npattern$1.isDynamicPattern = isDynamicPattern;\r\nfunction hasBraceExpansion(pattern) {\r\n    const openingBraceIndex = pattern.indexOf('{');\r\n    if (openingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const closingBraceIndex = pattern.indexOf('}', openingBraceIndex + 1);\r\n    if (closingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const braceContent = pattern.slice(openingBraceIndex, closingBraceIndex);\r\n    return BRACE_EXPANSION_SEPARATORS_RE.test(braceContent);\r\n}\r\nfunction convertToPositivePattern(pattern) {\r\n    return isNegativePattern(pattern) ? pattern.slice(1) : pattern;\r\n}\r\npattern$1.convertToPositivePattern = convertToPositivePattern;\r\nfunction convertToNegativePattern(pattern) {\r\n    return '!' + pattern;\r\n}\r\npattern$1.convertToNegativePattern = convertToNegativePattern;\r\nfunction isNegativePattern(pattern) {\r\n    return pattern.startsWith('!') && pattern[1] !== '(';\r\n}\r\npattern$1.isNegativePattern = isNegativePattern;\r\nfunction isPositivePattern(pattern) {\r\n    return !isNegativePattern(pattern);\r\n}\r\npattern$1.isPositivePattern = isPositivePattern;\r\nfunction getNegativePatterns(patterns) {\r\n    return patterns.filter(isNegativePattern);\r\n}\r\npattern$1.getNegativePatterns = getNegativePatterns;\r\nfunction getPositivePatterns$1(patterns) {\r\n    return patterns.filter(isPositivePattern);\r\n}\r\npattern$1.getPositivePatterns = getPositivePatterns$1;\r\n/**\r\n * Returns patterns that can be applied inside the current directory.\r\n *\r\n * @example\r\n * // ['./*', '*', 'a/*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsInsideCurrentDirectory(patterns) {\r\n    return patterns.filter((pattern) => !isPatternRelatedToParentDirectory(pattern));\r\n}\r\npattern$1.getPatternsInsideCurrentDirectory = getPatternsInsideCurrentDirectory;\r\n/**\r\n * Returns patterns to be expanded relative to (outside) the current directory.\r\n *\r\n * @example\r\n * // ['../*', './../*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsOutsideCurrentDirectory(patterns) {\r\n    return patterns.filter(isPatternRelatedToParentDirectory);\r\n}\r\npattern$1.getPatternsOutsideCurrentDirectory = getPatternsOutsideCurrentDirectory;\r\nfunction isPatternRelatedToParentDirectory(pattern) {\r\n    return pattern.startsWith('..') || pattern.startsWith('./..');\r\n}\r\npattern$1.isPatternRelatedToParentDirectory = isPatternRelatedToParentDirectory;\r\nfunction getBaseDirectory(pattern) {\r\n    return globParent$1(pattern, { flipBackslashes: false });\r\n}\r\npattern$1.getBaseDirectory = getBaseDirectory;\r\nfunction hasGlobStar(pattern) {\r\n    return pattern.includes(GLOBSTAR$1);\r\n}\r\npattern$1.hasGlobStar = hasGlobStar;\r\nfunction endsWithSlashGlobStar(pattern) {\r\n    return pattern.endsWith('/' + GLOBSTAR$1);\r\n}\r\npattern$1.endsWithSlashGlobStar = endsWithSlashGlobStar;\r\nfunction isAffectDepthOfReadingPattern(pattern) {\r\n    const basename = path$f.basename(pattern);\r\n    return endsWithSlashGlobStar(pattern) || isStaticPattern(basename);\r\n}\r\npattern$1.isAffectDepthOfReadingPattern = isAffectDepthOfReadingPattern;\r\nfunction expandPatternsWithBraceExpansion(patterns) {\r\n    return patterns.reduce((collection, pattern) => {\r\n        return collection.concat(expandBraceExpansion(pattern));\r\n    }, []);\r\n}\r\npattern$1.expandPatternsWithBraceExpansion = expandPatternsWithBraceExpansion;\r\nfunction expandBraceExpansion(pattern) {\r\n    return micromatch.braces(pattern, {\r\n        expand: true,\r\n        nodupes: true\r\n    });\r\n}\r\npattern$1.expandBraceExpansion = expandBraceExpansion;\r\nfunction getPatternParts(pattern, options) {\r\n    let { parts } = micromatch.scan(pattern, Object.assign(Object.assign({}, options), { parts: true }));\r\n    /**\r\n     * The scan method returns an empty array in some cases.\r\n     * See micromatch/picomatch#58 for more details.\r\n     */\r\n    if (parts.length === 0) {\r\n        parts = [pattern];\r\n    }\r\n    /**\r\n     * The scan method does not return an empty part for the pattern with a forward slash.\r\n     * This is another part of micromatch/picomatch#58.\r\n     */\r\n    if (parts[0].startsWith('/')) {\r\n        parts[0] = parts[0].slice(1);\r\n        parts.unshift('');\r\n    }\r\n    return parts;\r\n}\r\npattern$1.getPatternParts = getPatternParts;\r\nfunction makeRe(pattern, options) {\r\n    return micromatch.makeRe(pattern, options);\r\n}\r\npattern$1.makeRe = makeRe;\r\nfunction convertPatternsToRe(patterns, options) {\r\n    return patterns.map((pattern) => makeRe(pattern, options));\r\n}\r\npattern$1.convertPatternsToRe = convertPatternsToRe;\r\nfunction matchAny(entry, patternsRe) {\r\n    return patternsRe.some((patternRe) => patternRe.test(entry));\r\n}\r\npattern$1.matchAny = matchAny;\r\n\r\nvar stream$4 = {};\r\n\r\n/*\r\n * merge2\r\n * https://github.com/teambition/merge2\r\n *\r\n * Copyright (c) 2014-2020 Teambition\r\n * Licensed under the MIT license.\r\n */\r\nconst Stream = require$$0$7;\r\nconst PassThrough = Stream.PassThrough;\r\nconst slice = Array.prototype.slice;\r\n\r\nvar merge2_1 = merge2$1;\r\n\r\nfunction merge2$1 () {\r\n  const streamsQueue = [];\r\n  const args = slice.call(arguments);\r\n  let merging = false;\r\n  let options = args[args.length - 1];\r\n\r\n  if (options && !Array.isArray(options) && options.pipe == null) {\r\n    args.pop();\r\n  } else {\r\n    options = {};\r\n  }\r\n\r\n  const doEnd = options.end !== false;\r\n  const doPipeError = options.pipeError === true;\r\n  if (options.objectMode == null) {\r\n    options.objectMode = true;\r\n  }\r\n  if (options.highWaterMark == null) {\r\n    options.highWaterMark = 64 * 1024;\r\n  }\r\n  const mergedStream = PassThrough(options);\r\n\r\n  function addStream () {\r\n    for (let i = 0, len = arguments.length; i < len; i++) {\r\n      streamsQueue.push(pauseStreams(arguments[i], options));\r\n    }\r\n    mergeStream();\r\n    return this\r\n  }\r\n\r\n  function mergeStream () {\r\n    if (merging) {\r\n      return\r\n    }\r\n    merging = true;\r\n\r\n    let streams = streamsQueue.shift();\r\n    if (!streams) {\r\n      process.nextTick(endStream);\r\n      return\r\n    }\r\n    if (!Array.isArray(streams)) {\r\n      streams = [streams];\r\n    }\r\n\r\n    let pipesCount = streams.length + 1;\r\n\r\n    function next () {\r\n      if (--pipesCount > 0) {\r\n        return\r\n      }\r\n      merging = false;\r\n      mergeStream();\r\n    }\r\n\r\n    function pipe (stream) {\r\n      function onend () {\r\n        stream.removeListener('merge2UnpipeEnd', onend);\r\n        stream.removeListener('end', onend);\r\n        if (doPipeError) {\r\n          stream.removeListener('error', onerror);\r\n        }\r\n        next();\r\n      }\r\n      function onerror (err) {\r\n        mergedStream.emit('error', err);\r\n      }\r\n      // skip ended stream\r\n      if (stream._readableState.endEmitted) {\r\n        return next()\r\n      }\r\n\r\n      stream.on('merge2UnpipeEnd', onend);\r\n      stream.on('end', onend);\r\n\r\n      if (doPipeError) {\r\n        stream.on('error', onerror);\r\n      }\r\n\r\n      stream.pipe(mergedStream, { end: false });\r\n      // compatible for old stream\r\n      stream.resume();\r\n    }\r\n\r\n    for (let i = 0; i < streams.length; i++) {\r\n      pipe(streams[i]);\r\n    }\r\n\r\n    next();\r\n  }\r\n\r\n  function endStream () {\r\n    merging = false;\r\n    // emit 'queueDrain' when all streams merged.\r\n    mergedStream.emit('queueDrain');\r\n    if (doEnd) {\r\n      mergedStream.end();\r\n    }\r\n  }\r\n\r\n  mergedStream.setMaxListeners(0);\r\n  mergedStream.add = addStream;\r\n  mergedStream.on('unpipe', function (stream) {\r\n    stream.emit('merge2UnpipeEnd');\r\n  });\r\n\r\n  if (args.length) {\r\n    addStream.apply(null, args);\r\n  }\r\n  return mergedStream\r\n}\r\n\r\n// check and pause streams for pipe.\r\nfunction pauseStreams (streams, options) {\r\n  if (!Array.isArray(streams)) {\r\n    // Backwards-compat with old-style streams\r\n    if (!streams._readableState && streams.pipe) {\r\n      streams = streams.pipe(PassThrough(options));\r\n    }\r\n    if (!streams._readableState || !streams.pause || !streams.pipe) {\r\n      throw new Error('Only readable stream can be merged.')\r\n    }\r\n    streams.pause();\r\n  } else {\r\n    for (let i = 0, len = streams.length; i < len; i++) {\r\n      streams[i] = pauseStreams(streams[i], options);\r\n    }\r\n  }\r\n  return streams\r\n}\r\n\r\nObject.defineProperty(stream$4, \"__esModule\", { value: true });\r\nstream$4.merge = void 0;\r\nconst merge2 = merge2_1;\r\nfunction merge$1(streams) {\r\n    const mergedStream = merge2(streams);\r\n    streams.forEach((stream) => {\r\n        stream.once('error', (error) => mergedStream.emit('error', error));\r\n    });\r\n    mergedStream.once('close', () => propagateCloseEventToSources(streams));\r\n    mergedStream.once('end', () => propagateCloseEventToSources(streams));\r\n    return mergedStream;\r\n}\r\nstream$4.merge = merge$1;\r\nfunction propagateCloseEventToSources(streams) {\r\n    streams.forEach((stream) => stream.emit('close'));\r\n}\r\n\r\nvar string$2 = {};\r\n\r\nObject.defineProperty(string$2, \"__esModule\", { value: true });\r\nstring$2.isEmpty = string$2.isString = void 0;\r\nfunction isString(input) {\r\n    return typeof input === 'string';\r\n}\r\nstring$2.isString = isString;\r\nfunction isEmpty$1(input) {\r\n    return input === '';\r\n}\r\nstring$2.isEmpty = isEmpty$1;\r\n\r\nObject.defineProperty(utils$g, \"__esModule\", { value: true });\r\nutils$g.string = utils$g.stream = utils$g.pattern = utils$g.path = utils$g.fs = utils$g.errno = utils$g.array = void 0;\r\nconst array = array$1;\r\nutils$g.array = array;\r\nconst errno = errno$1;\r\nutils$g.errno = errno;\r\nconst fs$g = fs$h;\r\nutils$g.fs = fs$g;\r\nconst path$e = path$h;\r\nutils$g.path = path$e;\r\nconst pattern = pattern$1;\r\nutils$g.pattern = pattern;\r\nconst stream$3 = stream$4;\r\nutils$g.stream = stream$3;\r\nconst string$1 = string$2;\r\nutils$g.string = string$1;\r\n\r\nObject.defineProperty(tasks, \"__esModule\", { value: true });\r\ntasks.convertPatternGroupToTask = tasks.convertPatternGroupsToTasks = tasks.groupPatternsByBaseDirectory = tasks.getNegativePatternsAsPositive = tasks.getPositivePatterns = tasks.convertPatternsToTasks = tasks.generate = void 0;\r\nconst utils$a = utils$g;\r\nfunction generate(patterns, settings) {\r\n    const positivePatterns = getPositivePatterns(patterns);\r\n    const negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\r\n    const staticPatterns = positivePatterns.filter((pattern) => utils$a.pattern.isStaticPattern(pattern, settings));\r\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils$a.pattern.isDynamicPattern(pattern, settings));\r\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\r\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\r\n    return staticTasks.concat(dynamicTasks);\r\n}\r\ntasks.generate = generate;\r\n/**\r\n * Returns tasks grouped by basic pattern directories.\r\n *\r\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\r\n * This is necessary because directory traversal starts at the base directory and goes deeper.\r\n */\r\nfunction convertPatternsToTasks(positive, negative, dynamic) {\r\n    const tasks = [];\r\n    const patternsOutsideCurrentDirectory = utils$a.pattern.getPatternsOutsideCurrentDirectory(positive);\r\n    const patternsInsideCurrentDirectory = utils$a.pattern.getPatternsInsideCurrentDirectory(positive);\r\n    const outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\r\n    const insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\r\n    tasks.push(...convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, negative, dynamic));\r\n    /*\r\n     * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\r\n     * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\r\n     */\r\n    if ('.' in insideCurrentDirectoryGroup) {\r\n        tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\r\n    }\r\n    else {\r\n        tasks.push(...convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic));\r\n    }\r\n    return tasks;\r\n}\r\ntasks.convertPatternsToTasks = convertPatternsToTasks;\r\nfunction getPositivePatterns(patterns) {\r\n    return utils$a.pattern.getPositivePatterns(patterns);\r\n}\r\ntasks.getPositivePatterns = getPositivePatterns;\r\nfunction getNegativePatternsAsPositive(patterns, ignore) {\r\n    const negative = utils$a.pattern.getNegativePatterns(patterns).concat(ignore);\r\n    const positive = negative.map(utils$a.pattern.convertToPositivePattern);\r\n    return positive;\r\n}\r\ntasks.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\r\nfunction groupPatternsByBaseDirectory(patterns) {\r\n    const group = {};\r\n    return patterns.reduce((collection, pattern) => {\r\n        const base = utils$a.pattern.getBaseDirectory(pattern);\r\n        if (base in collection) {\r\n            collection[base].push(pattern);\r\n        }\r\n        else {\r\n            collection[base] = [pattern];\r\n        }\r\n        return collection;\r\n    }, group);\r\n}\r\ntasks.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\r\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\r\n    return Object.keys(positive).map((base) => {\r\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\r\n    });\r\n}\r\ntasks.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\r\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\r\n    return {\r\n        dynamic,\r\n        positive,\r\n        negative,\r\n        base,\r\n        patterns: [].concat(positive, negative.map(utils$a.pattern.convertToNegativePattern))\r\n    };\r\n}\r\ntasks.convertPatternGroupToTask = convertPatternGroupToTask;\r\n\r\nvar patterns = {};\r\n\r\nObject.defineProperty(patterns, \"__esModule\", { value: true });\r\npatterns.removeDuplicateSlashes = patterns.transform = void 0;\r\n/**\r\n * Matches a sequence of two or more consecutive slashes, excluding the first two slashes at the beginning of the string.\r\n * The latter is due to the presence of the device path at the beginning of the UNC path.\r\n * @todo rewrite to negative lookbehind with the next major release.\r\n */\r\nconst DOUBLE_SLASH_RE$1 = /(?!^)\\/{2,}/g;\r\nfunction transform(patterns) {\r\n    return patterns.map((pattern) => removeDuplicateSlashes(pattern));\r\n}\r\npatterns.transform = transform;\r\n/**\r\n * This package only works with forward slashes as a path separator.\r\n * Because of this, we cannot use the standard `path.normalize` method, because on Windows platform it will use of backslashes.\r\n */\r\nfunction removeDuplicateSlashes(pattern) {\r\n    return pattern.replace(DOUBLE_SLASH_RE$1, '/');\r\n}\r\npatterns.removeDuplicateSlashes = removeDuplicateSlashes;\r\n\r\nvar async$6 = {};\r\n\r\nvar stream$2 = {};\r\n\r\nvar out$3 = {};\r\n\r\nvar async$5 = {};\r\n\r\nObject.defineProperty(async$5, \"__esModule\", { value: true });\r\nasync$5.read = void 0;\r\nfunction read$4(path, settings, callback) {\r\n    settings.fs.lstat(path, (lstatError, lstat) => {\r\n        if (lstatError !== null) {\r\n            callFailureCallback$2(callback, lstatError);\r\n            return;\r\n        }\r\n        if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\r\n            callSuccessCallback$2(callback, lstat);\r\n            return;\r\n        }\r\n        settings.fs.stat(path, (statError, stat) => {\r\n            if (statError !== null) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    callFailureCallback$2(callback, statError);\r\n                    return;\r\n                }\r\n                callSuccessCallback$2(callback, lstat);\r\n                return;\r\n            }\r\n            if (settings.markSymbolicLink) {\r\n                stat.isSymbolicLink = () => true;\r\n            }\r\n            callSuccessCallback$2(callback, stat);\r\n        });\r\n    });\r\n}\r\nasync$5.read = read$4;\r\nfunction callFailureCallback$2(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback$2(callback, result) {\r\n    callback(null, result);\r\n}\r\n\r\nvar sync$8 = {};\r\n\r\nObject.defineProperty(sync$8, \"__esModule\", { value: true });\r\nsync$8.read = void 0;\r\nfunction read$3(path, settings) {\r\n    const lstat = settings.fs.lstatSync(path);\r\n    if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\r\n        return lstat;\r\n    }\r\n    try {\r\n        const stat = settings.fs.statSync(path);\r\n        if (settings.markSymbolicLink) {\r\n            stat.isSymbolicLink = () => true;\r\n        }\r\n        return stat;\r\n    }\r\n    catch (error) {\r\n        if (!settings.throwErrorOnBrokenSymbolicLink) {\r\n            return lstat;\r\n        }\r\n        throw error;\r\n    }\r\n}\r\nsync$8.read = read$3;\r\n\r\nvar settings$3 = {};\r\n\r\nvar fs$f = {};\r\n\r\n(function (exports) {\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\r\n\tconst fs = require$$0__default;\r\n\texports.FILE_SYSTEM_ADAPTER = {\r\n\t    lstat: fs.lstat,\r\n\t    stat: fs.stat,\r\n\t    lstatSync: fs.lstatSync,\r\n\t    statSync: fs.statSync\r\n\t};\r\n\tfunction createFileSystemAdapter(fsMethods) {\r\n\t    if (fsMethods === undefined) {\r\n\t        return exports.FILE_SYSTEM_ADAPTER;\r\n\t    }\r\n\t    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\r\n\t}\r\n\texports.createFileSystemAdapter = createFileSystemAdapter;\r\n} (fs$f));\r\n\r\nObject.defineProperty(settings$3, \"__esModule\", { value: true });\r\nconst fs$e = fs$f;\r\nclass Settings$2 {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.followSymbolicLink = this._getValue(this._options.followSymbolicLink, true);\r\n        this.fs = fs$e.createFileSystemAdapter(this._options.fs);\r\n        this.markSymbolicLink = this._getValue(this._options.markSymbolicLink, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n}\r\nsettings$3.default = Settings$2;\r\n\r\nObject.defineProperty(out$3, \"__esModule\", { value: true });\r\nout$3.statSync = out$3.stat = out$3.Settings = void 0;\r\nconst async$4 = async$5;\r\nconst sync$7 = sync$8;\r\nconst settings_1$3 = settings$3;\r\nout$3.Settings = settings_1$3.default;\r\nfunction stat$4(path, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        async$4.read(path, getSettings$2(), optionsOrSettingsOrCallback);\r\n        return;\r\n    }\r\n    async$4.read(path, getSettings$2(optionsOrSettingsOrCallback), callback);\r\n}\r\nout$3.stat = stat$4;\r\nfunction statSync(path, optionsOrSettings) {\r\n    const settings = getSettings$2(optionsOrSettings);\r\n    return sync$7.read(path, settings);\r\n}\r\nout$3.statSync = statSync;\r\nfunction getSettings$2(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1$3.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1$3.default(settingsOrOptions);\r\n}\r\n\r\nvar out$2 = {};\r\n\r\nvar async$3 = {};\r\n\r\nvar async$2 = {};\r\n\r\nvar out$1 = {};\r\n\r\nvar async$1 = {};\r\n\r\n/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\r\n\r\nlet promise;\r\n\r\nvar queueMicrotask_1 = typeof queueMicrotask === 'function'\r\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : commonjsGlobal)\r\n  // reuse resolved promise, and allocate it lazily\r\n  : cb => (promise || (promise = Promise.resolve()))\r\n    .then(cb)\r\n    .catch(err => setTimeout(() => { throw err }, 0));\r\n\r\n/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\r\n\r\nvar runParallel_1 = runParallel;\r\n\r\nconst queueMicrotask$1 = queueMicrotask_1;\r\n\r\nfunction runParallel (tasks, cb) {\r\n  let results, pending, keys;\r\n  let isSync = true;\r\n\r\n  if (Array.isArray(tasks)) {\r\n    results = [];\r\n    pending = tasks.length;\r\n  } else {\r\n    keys = Object.keys(tasks);\r\n    results = {};\r\n    pending = keys.length;\r\n  }\r\n\r\n  function done (err) {\r\n    function end () {\r\n      if (cb) cb(err, results);\r\n      cb = null;\r\n    }\r\n    if (isSync) queueMicrotask$1(end);\r\n    else end();\r\n  }\r\n\r\n  function each (i, err, result) {\r\n    results[i] = result;\r\n    if (--pending === 0 || err) {\r\n      done(err);\r\n    }\r\n  }\r\n\r\n  if (!pending) {\r\n    // empty\r\n    done(null);\r\n  } else if (keys) {\r\n    // object\r\n    keys.forEach(function (key) {\r\n      tasks[key](function (err, result) { each(key, err, result); });\r\n    });\r\n  } else {\r\n    // array\r\n    tasks.forEach(function (task, i) {\r\n      task(function (err, result) { each(i, err, result); });\r\n    });\r\n  }\r\n\r\n  isSync = false;\r\n}\r\n\r\nvar constants$2 = {};\r\n\r\nObject.defineProperty(constants$2, \"__esModule\", { value: true });\r\nconstants$2.IS_SUPPORT_READDIR_WITH_FILE_TYPES = void 0;\r\nconst NODE_PROCESS_VERSION_PARTS = process.versions.node.split('.');\r\nif (NODE_PROCESS_VERSION_PARTS[0] === undefined || NODE_PROCESS_VERSION_PARTS[1] === undefined) {\r\n    throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);\r\n}\r\nconst MAJOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[0], 10);\r\nconst MINOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[1], 10);\r\nconst SUPPORTED_MAJOR_VERSION = 10;\r\nconst SUPPORTED_MINOR_VERSION = 10;\r\nconst IS_MATCHED_BY_MAJOR = MAJOR_VERSION > SUPPORTED_MAJOR_VERSION;\r\nconst IS_MATCHED_BY_MAJOR_AND_MINOR = MAJOR_VERSION === SUPPORTED_MAJOR_VERSION && MINOR_VERSION >= SUPPORTED_MINOR_VERSION;\r\n/**\r\n * IS `true` for Node.js 10.10 and greater.\r\n */\r\nconstants$2.IS_SUPPORT_READDIR_WITH_FILE_TYPES = IS_MATCHED_BY_MAJOR || IS_MATCHED_BY_MAJOR_AND_MINOR;\r\n\r\nvar utils$9 = {};\r\n\r\nvar fs$d = {};\r\n\r\nObject.defineProperty(fs$d, \"__esModule\", { value: true });\r\nfs$d.createDirentFromStats = void 0;\r\nclass DirentFromStats {\r\n    constructor(name, stats) {\r\n        this.name = name;\r\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\r\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\r\n        this.isDirectory = stats.isDirectory.bind(stats);\r\n        this.isFIFO = stats.isFIFO.bind(stats);\r\n        this.isFile = stats.isFile.bind(stats);\r\n        this.isSocket = stats.isSocket.bind(stats);\r\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\r\n    }\r\n}\r\nfunction createDirentFromStats(name, stats) {\r\n    return new DirentFromStats(name, stats);\r\n}\r\nfs$d.createDirentFromStats = createDirentFromStats;\r\n\r\nObject.defineProperty(utils$9, \"__esModule\", { value: true });\r\nutils$9.fs = void 0;\r\nconst fs$c = fs$d;\r\nutils$9.fs = fs$c;\r\n\r\nvar common$a = {};\r\n\r\nObject.defineProperty(common$a, \"__esModule\", { value: true });\r\ncommon$a.joinPathSegments = void 0;\r\nfunction joinPathSegments$1(a, b, separator) {\r\n    /**\r\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\r\n     */\r\n    if (a.endsWith(separator)) {\r\n        return a + b;\r\n    }\r\n    return a + separator + b;\r\n}\r\ncommon$a.joinPathSegments = joinPathSegments$1;\r\n\r\nObject.defineProperty(async$1, \"__esModule\", { value: true });\r\nasync$1.readdir = async$1.readdirWithFileTypes = async$1.read = void 0;\r\nconst fsStat$5 = out$3;\r\nconst rpl = runParallel_1;\r\nconst constants_1$1 = constants$2;\r\nconst utils$8 = utils$9;\r\nconst common$9 = common$a;\r\nfunction read$2(directory, settings, callback) {\r\n    if (!settings.stats && constants_1$1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\r\n        readdirWithFileTypes$1(directory, settings, callback);\r\n        return;\r\n    }\r\n    readdir$3(directory, settings, callback);\r\n}\r\nasync$1.read = read$2;\r\nfunction readdirWithFileTypes$1(directory, settings, callback) {\r\n    settings.fs.readdir(directory, { withFileTypes: true }, (readdirError, dirents) => {\r\n        if (readdirError !== null) {\r\n            callFailureCallback$1(callback, readdirError);\r\n            return;\r\n        }\r\n        const entries = dirents.map((dirent) => ({\r\n            dirent,\r\n            name: dirent.name,\r\n            path: common$9.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\r\n        }));\r\n        if (!settings.followSymbolicLinks) {\r\n            callSuccessCallback$1(callback, entries);\r\n            return;\r\n        }\r\n        const tasks = entries.map((entry) => makeRplTaskEntry(entry, settings));\r\n        rpl(tasks, (rplError, rplEntries) => {\r\n            if (rplError !== null) {\r\n                callFailureCallback$1(callback, rplError);\r\n                return;\r\n            }\r\n            callSuccessCallback$1(callback, rplEntries);\r\n        });\r\n    });\r\n}\r\nasync$1.readdirWithFileTypes = readdirWithFileTypes$1;\r\nfunction makeRplTaskEntry(entry, settings) {\r\n    return (done) => {\r\n        if (!entry.dirent.isSymbolicLink()) {\r\n            done(null, entry);\r\n            return;\r\n        }\r\n        settings.fs.stat(entry.path, (statError, stats) => {\r\n            if (statError !== null) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    done(statError);\r\n                    return;\r\n                }\r\n                done(null, entry);\r\n                return;\r\n            }\r\n            entry.dirent = utils$8.fs.createDirentFromStats(entry.name, stats);\r\n            done(null, entry);\r\n        });\r\n    };\r\n}\r\nfunction readdir$3(directory, settings, callback) {\r\n    settings.fs.readdir(directory, (readdirError, names) => {\r\n        if (readdirError !== null) {\r\n            callFailureCallback$1(callback, readdirError);\r\n            return;\r\n        }\r\n        const tasks = names.map((name) => {\r\n            const path = common$9.joinPathSegments(directory, name, settings.pathSegmentSeparator);\r\n            return (done) => {\r\n                fsStat$5.stat(path, settings.fsStatSettings, (error, stats) => {\r\n                    if (error !== null) {\r\n                        done(error);\r\n                        return;\r\n                    }\r\n                    const entry = {\r\n                        name,\r\n                        path,\r\n                        dirent: utils$8.fs.createDirentFromStats(name, stats)\r\n                    };\r\n                    if (settings.stats) {\r\n                        entry.stats = stats;\r\n                    }\r\n                    done(null, entry);\r\n                });\r\n            };\r\n        });\r\n        rpl(tasks, (rplError, entries) => {\r\n            if (rplError !== null) {\r\n                callFailureCallback$1(callback, rplError);\r\n                return;\r\n            }\r\n            callSuccessCallback$1(callback, entries);\r\n        });\r\n    });\r\n}\r\nasync$1.readdir = readdir$3;\r\nfunction callFailureCallback$1(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback$1(callback, result) {\r\n    callback(null, result);\r\n}\r\n\r\nvar sync$6 = {};\r\n\r\nObject.defineProperty(sync$6, \"__esModule\", { value: true });\r\nsync$6.readdir = sync$6.readdirWithFileTypes = sync$6.read = void 0;\r\nconst fsStat$4 = out$3;\r\nconst constants_1 = constants$2;\r\nconst utils$7 = utils$9;\r\nconst common$8 = common$a;\r\nfunction read$1(directory, settings) {\r\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\r\n        return readdirWithFileTypes(directory, settings);\r\n    }\r\n    return readdir$2(directory, settings);\r\n}\r\nsync$6.read = read$1;\r\nfunction readdirWithFileTypes(directory, settings) {\r\n    const dirents = settings.fs.readdirSync(directory, { withFileTypes: true });\r\n    return dirents.map((dirent) => {\r\n        const entry = {\r\n            dirent,\r\n            name: dirent.name,\r\n            path: common$8.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\r\n        };\r\n        if (entry.dirent.isSymbolicLink() && settings.followSymbolicLinks) {\r\n            try {\r\n                const stats = settings.fs.statSync(entry.path);\r\n                entry.dirent = utils$7.fs.createDirentFromStats(entry.name, stats);\r\n            }\r\n            catch (error) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    throw error;\r\n                }\r\n            }\r\n        }\r\n        return entry;\r\n    });\r\n}\r\nsync$6.readdirWithFileTypes = readdirWithFileTypes;\r\nfunction readdir$2(directory, settings) {\r\n    const names = settings.fs.readdirSync(directory);\r\n    return names.map((name) => {\r\n        const entryPath = common$8.joinPathSegments(directory, name, settings.pathSegmentSeparator);\r\n        const stats = fsStat$4.statSync(entryPath, settings.fsStatSettings);\r\n        const entry = {\r\n            name,\r\n            path: entryPath,\r\n            dirent: utils$7.fs.createDirentFromStats(name, stats)\r\n        };\r\n        if (settings.stats) {\r\n            entry.stats = stats;\r\n        }\r\n        return entry;\r\n    });\r\n}\r\nsync$6.readdir = readdir$2;\r\n\r\nvar settings$2 = {};\r\n\r\nvar fs$b = {};\r\n\r\n(function (exports) {\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\r\n\tconst fs = require$$0__default;\r\n\texports.FILE_SYSTEM_ADAPTER = {\r\n\t    lstat: fs.lstat,\r\n\t    stat: fs.stat,\r\n\t    lstatSync: fs.lstatSync,\r\n\t    statSync: fs.statSync,\r\n\t    readdir: fs.readdir,\r\n\t    readdirSync: fs.readdirSync\r\n\t};\r\n\tfunction createFileSystemAdapter(fsMethods) {\r\n\t    if (fsMethods === undefined) {\r\n\t        return exports.FILE_SYSTEM_ADAPTER;\r\n\t    }\r\n\t    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\r\n\t}\r\n\texports.createFileSystemAdapter = createFileSystemAdapter;\r\n} (fs$b));\r\n\r\nObject.defineProperty(settings$2, \"__esModule\", { value: true });\r\nconst path$d = require$$0$4;\r\nconst fsStat$3 = out$3;\r\nconst fs$a = fs$b;\r\nclass Settings$1 {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, false);\r\n        this.fs = fs$a.createFileSystemAdapter(this._options.fs);\r\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path$d.sep);\r\n        this.stats = this._getValue(this._options.stats, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\r\n        this.fsStatSettings = new fsStat$3.Settings({\r\n            followSymbolicLink: this.followSymbolicLinks,\r\n            fs: this.fs,\r\n            throwErrorOnBrokenSymbolicLink: this.throwErrorOnBrokenSymbolicLink\r\n        });\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n}\r\nsettings$2.default = Settings$1;\r\n\r\nObject.defineProperty(out$1, \"__esModule\", { value: true });\r\nout$1.Settings = out$1.scandirSync = out$1.scandir = void 0;\r\nconst async = async$1;\r\nconst sync$5 = sync$6;\r\nconst settings_1$2 = settings$2;\r\nout$1.Settings = settings_1$2.default;\r\nfunction scandir(path, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        async.read(path, getSettings$1(), optionsOrSettingsOrCallback);\r\n        return;\r\n    }\r\n    async.read(path, getSettings$1(optionsOrSettingsOrCallback), callback);\r\n}\r\nout$1.scandir = scandir;\r\nfunction scandirSync(path, optionsOrSettings) {\r\n    const settings = getSettings$1(optionsOrSettings);\r\n    return sync$5.read(path, settings);\r\n}\r\nout$1.scandirSync = scandirSync;\r\nfunction getSettings$1(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1$2.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1$2.default(settingsOrOptions);\r\n}\r\n\r\nvar queue = {exports: {}};\r\n\r\nfunction reusify$1 (Constructor) {\r\n  var head = new Constructor();\r\n  var tail = head;\r\n\r\n  function get () {\r\n    var current = head;\r\n\r\n    if (current.next) {\r\n      head = current.next;\r\n    } else {\r\n      head = new Constructor();\r\n      tail = head;\r\n    }\r\n\r\n    current.next = null;\r\n\r\n    return current\r\n  }\r\n\r\n  function release (obj) {\r\n    tail.next = obj;\r\n    tail = obj;\r\n  }\r\n\r\n  return {\r\n    get: get,\r\n    release: release\r\n  }\r\n}\r\n\r\nvar reusify_1 = reusify$1;\r\n\r\n/* eslint-disable no-var */\r\n\r\nvar reusify = reusify_1;\r\n\r\nfunction fastqueue (context, worker, concurrency) {\r\n  if (typeof context === 'function') {\r\n    concurrency = worker;\r\n    worker = context;\r\n    context = null;\r\n  }\r\n\r\n  if (concurrency < 1) {\r\n    throw new Error('fastqueue concurrency must be greater than 1')\r\n  }\r\n\r\n  var cache = reusify(Task);\r\n  var queueHead = null;\r\n  var queueTail = null;\r\n  var _running = 0;\r\n  var errorHandler = null;\r\n\r\n  var self = {\r\n    push: push,\r\n    drain: noop$3,\r\n    saturated: noop$3,\r\n    pause: pause,\r\n    paused: false,\r\n    concurrency: concurrency,\r\n    running: running,\r\n    resume: resume,\r\n    idle: idle,\r\n    length: length,\r\n    getQueue: getQueue,\r\n    unshift: unshift,\r\n    empty: noop$3,\r\n    kill: kill,\r\n    killAndDrain: killAndDrain,\r\n    error: error\r\n  };\r\n\r\n  return self\r\n\r\n  function running () {\r\n    return _running\r\n  }\r\n\r\n  function pause () {\r\n    self.paused = true;\r\n  }\r\n\r\n  function length () {\r\n    var current = queueHead;\r\n    var counter = 0;\r\n\r\n    while (current) {\r\n      current = current.next;\r\n      counter++;\r\n    }\r\n\r\n    return counter\r\n  }\r\n\r\n  function getQueue () {\r\n    var current = queueHead;\r\n    var tasks = [];\r\n\r\n    while (current) {\r\n      tasks.push(current.value);\r\n      current = current.next;\r\n    }\r\n\r\n    return tasks\r\n  }\r\n\r\n  function resume () {\r\n    if (!self.paused) return\r\n    self.paused = false;\r\n    for (var i = 0; i < self.concurrency; i++) {\r\n      _running++;\r\n      release();\r\n    }\r\n  }\r\n\r\n  function idle () {\r\n    return _running === 0 && self.length() === 0\r\n  }\r\n\r\n  function push (value, done) {\r\n    var current = cache.get();\r\n\r\n    current.context = context;\r\n    current.release = release;\r\n    current.value = value;\r\n    current.callback = done || noop$3;\r\n    current.errorHandler = errorHandler;\r\n\r\n    if (_running === self.concurrency || self.paused) {\r\n      if (queueTail) {\r\n        queueTail.next = current;\r\n        queueTail = current;\r\n      } else {\r\n        queueHead = current;\r\n        queueTail = current;\r\n        self.saturated();\r\n      }\r\n    } else {\r\n      _running++;\r\n      worker.call(context, current.value, current.worked);\r\n    }\r\n  }\r\n\r\n  function unshift (value, done) {\r\n    var current = cache.get();\r\n\r\n    current.context = context;\r\n    current.release = release;\r\n    current.value = value;\r\n    current.callback = done || noop$3;\r\n\r\n    if (_running === self.concurrency || self.paused) {\r\n      if (queueHead) {\r\n        current.next = queueHead;\r\n        queueHead = current;\r\n      } else {\r\n        queueHead = current;\r\n        queueTail = current;\r\n        self.saturated();\r\n      }\r\n    } else {\r\n      _running++;\r\n      worker.call(context, current.value, current.worked);\r\n    }\r\n  }\r\n\r\n  function release (holder) {\r\n    if (holder) {\r\n      cache.release(holder);\r\n    }\r\n    var next = queueHead;\r\n    if (next) {\r\n      if (!self.paused) {\r\n        if (queueTail === queueHead) {\r\n          queueTail = null;\r\n        }\r\n        queueHead = next.next;\r\n        next.next = null;\r\n        worker.call(context, next.value, next.worked);\r\n        if (queueTail === null) {\r\n          self.empty();\r\n        }\r\n      } else {\r\n        _running--;\r\n      }\r\n    } else if (--_running === 0) {\r\n      self.drain();\r\n    }\r\n  }\r\n\r\n  function kill () {\r\n    queueHead = null;\r\n    queueTail = null;\r\n    self.drain = noop$3;\r\n  }\r\n\r\n  function killAndDrain () {\r\n    queueHead = null;\r\n    queueTail = null;\r\n    self.drain();\r\n    self.drain = noop$3;\r\n  }\r\n\r\n  function error (handler) {\r\n    errorHandler = handler;\r\n  }\r\n}\r\n\r\nfunction noop$3 () {}\r\n\r\nfunction Task () {\r\n  this.value = null;\r\n  this.callback = noop$3;\r\n  this.next = null;\r\n  this.release = noop$3;\r\n  this.context = null;\r\n  this.errorHandler = null;\r\n\r\n  var self = this;\r\n\r\n  this.worked = function worked (err, result) {\r\n    var callback = self.callback;\r\n    var errorHandler = self.errorHandler;\r\n    var val = self.value;\r\n    self.value = null;\r\n    self.callback = noop$3;\r\n    if (self.errorHandler) {\r\n      errorHandler(err, val);\r\n    }\r\n    callback.call(self.context, err, result);\r\n    self.release(self);\r\n  };\r\n}\r\n\r\nfunction queueAsPromised (context, worker, concurrency) {\r\n  if (typeof context === 'function') {\r\n    concurrency = worker;\r\n    worker = context;\r\n    context = null;\r\n  }\r\n\r\n  function asyncWrapper (arg, cb) {\r\n    worker.call(this, arg)\r\n      .then(function (res) {\r\n        cb(null, res);\r\n      }, cb);\r\n  }\r\n\r\n  var queue = fastqueue(context, asyncWrapper, concurrency);\r\n\r\n  var pushCb = queue.push;\r\n  var unshiftCb = queue.unshift;\r\n\r\n  queue.push = push;\r\n  queue.unshift = unshift;\r\n  queue.drained = drained;\r\n\r\n  return queue\r\n\r\n  function push (value) {\r\n    var p = new Promise(function (resolve, reject) {\r\n      pushCb(value, function (err, result) {\r\n        if (err) {\r\n          reject(err);\r\n          return\r\n        }\r\n        resolve(result);\r\n      });\r\n    });\r\n\r\n    // Let's fork the promise chain to\r\n    // make the error bubble up to the user but\r\n    // not lead to a unhandledRejection\r\n    p.catch(noop$3);\r\n\r\n    return p\r\n  }\r\n\r\n  function unshift (value) {\r\n    var p = new Promise(function (resolve, reject) {\r\n      unshiftCb(value, function (err, result) {\r\n        if (err) {\r\n          reject(err);\r\n          return\r\n        }\r\n        resolve(result);\r\n      });\r\n    });\r\n\r\n    // Let's fork the promise chain to\r\n    // make the error bubble up to the user but\r\n    // not lead to a unhandledRejection\r\n    p.catch(noop$3);\r\n\r\n    return p\r\n  }\r\n\r\n  function drained () {\r\n    var previousDrain = queue.drain;\r\n\r\n    var p = new Promise(function (resolve) {\r\n      queue.drain = function () {\r\n        previousDrain();\r\n        resolve();\r\n      };\r\n    });\r\n\r\n    return p\r\n  }\r\n}\r\n\r\nqueue.exports = fastqueue;\r\nqueue.exports.promise = queueAsPromised;\r\n\r\nvar common$7 = {};\r\n\r\nObject.defineProperty(common$7, \"__esModule\", { value: true });\r\ncommon$7.joinPathSegments = common$7.replacePathSegmentSeparator = common$7.isAppliedFilter = common$7.isFatalError = void 0;\r\nfunction isFatalError(settings, error) {\r\n    if (settings.errorFilter === null) {\r\n        return true;\r\n    }\r\n    return !settings.errorFilter(error);\r\n}\r\ncommon$7.isFatalError = isFatalError;\r\nfunction isAppliedFilter(filter, value) {\r\n    return filter === null || filter(value);\r\n}\r\ncommon$7.isAppliedFilter = isAppliedFilter;\r\nfunction replacePathSegmentSeparator(filepath, separator) {\r\n    return filepath.split(/[/\\\\]/).join(separator);\r\n}\r\ncommon$7.replacePathSegmentSeparator = replacePathSegmentSeparator;\r\nfunction joinPathSegments(a, b, separator) {\r\n    if (a === '') {\r\n        return b;\r\n    }\r\n    /**\r\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\r\n     */\r\n    if (a.endsWith(separator)) {\r\n        return a + b;\r\n    }\r\n    return a + separator + b;\r\n}\r\ncommon$7.joinPathSegments = joinPathSegments;\r\n\r\nvar reader$1 = {};\r\n\r\nObject.defineProperty(reader$1, \"__esModule\", { value: true });\r\nconst common$6 = common$7;\r\nclass Reader$1 {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._root = common$6.replacePathSegmentSeparator(_root, _settings.pathSegmentSeparator);\r\n    }\r\n}\r\nreader$1.default = Reader$1;\r\n\r\nObject.defineProperty(async$2, \"__esModule\", { value: true });\r\nconst events_1 = require$$0$5;\r\nconst fsScandir$2 = out$1;\r\nconst fastq = queue.exports;\r\nconst common$5 = common$7;\r\nconst reader_1$3 = reader$1;\r\nclass AsyncReader extends reader_1$3.default {\r\n    constructor(_root, _settings) {\r\n        super(_root, _settings);\r\n        this._settings = _settings;\r\n        this._scandir = fsScandir$2.scandir;\r\n        this._emitter = new events_1.EventEmitter();\r\n        this._queue = fastq(this._worker.bind(this), this._settings.concurrency);\r\n        this._isFatalError = false;\r\n        this._isDestroyed = false;\r\n        this._queue.drain = () => {\r\n            if (!this._isFatalError) {\r\n                this._emitter.emit('end');\r\n            }\r\n        };\r\n    }\r\n    read() {\r\n        this._isFatalError = false;\r\n        this._isDestroyed = false;\r\n        setImmediate(() => {\r\n            this._pushToQueue(this._root, this._settings.basePath);\r\n        });\r\n        return this._emitter;\r\n    }\r\n    get isDestroyed() {\r\n        return this._isDestroyed;\r\n    }\r\n    destroy() {\r\n        if (this._isDestroyed) {\r\n            throw new Error('The reader is already destroyed');\r\n        }\r\n        this._isDestroyed = true;\r\n        this._queue.killAndDrain();\r\n    }\r\n    onEntry(callback) {\r\n        this._emitter.on('entry', callback);\r\n    }\r\n    onError(callback) {\r\n        this._emitter.once('error', callback);\r\n    }\r\n    onEnd(callback) {\r\n        this._emitter.once('end', callback);\r\n    }\r\n    _pushToQueue(directory, base) {\r\n        const queueItem = { directory, base };\r\n        this._queue.push(queueItem, (error) => {\r\n            if (error !== null) {\r\n                this._handleError(error);\r\n            }\r\n        });\r\n    }\r\n    _worker(item, done) {\r\n        this._scandir(item.directory, this._settings.fsScandirSettings, (error, entries) => {\r\n            if (error !== null) {\r\n                done(error, undefined);\r\n                return;\r\n            }\r\n            for (const entry of entries) {\r\n                this._handleEntry(entry, item.base);\r\n            }\r\n            done(null, undefined);\r\n        });\r\n    }\r\n    _handleError(error) {\r\n        if (this._isDestroyed || !common$5.isFatalError(this._settings, error)) {\r\n            return;\r\n        }\r\n        this._isFatalError = true;\r\n        this._isDestroyed = true;\r\n        this._emitter.emit('error', error);\r\n    }\r\n    _handleEntry(entry, base) {\r\n        if (this._isDestroyed || this._isFatalError) {\r\n            return;\r\n        }\r\n        const fullpath = entry.path;\r\n        if (base !== undefined) {\r\n            entry.path = common$5.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\r\n        }\r\n        if (common$5.isAppliedFilter(this._settings.entryFilter, entry)) {\r\n            this._emitEntry(entry);\r\n        }\r\n        if (entry.dirent.isDirectory() && common$5.isAppliedFilter(this._settings.deepFilter, entry)) {\r\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\r\n        }\r\n    }\r\n    _emitEntry(entry) {\r\n        this._emitter.emit('entry', entry);\r\n    }\r\n}\r\nasync$2.default = AsyncReader;\r\n\r\nObject.defineProperty(async$3, \"__esModule\", { value: true });\r\nconst async_1$3 = async$2;\r\nclass AsyncProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new async_1$3.default(this._root, this._settings);\r\n        this._storage = [];\r\n    }\r\n    read(callback) {\r\n        this._reader.onError((error) => {\r\n            callFailureCallback(callback, error);\r\n        });\r\n        this._reader.onEntry((entry) => {\r\n            this._storage.push(entry);\r\n        });\r\n        this._reader.onEnd(() => {\r\n            callSuccessCallback(callback, this._storage);\r\n        });\r\n        this._reader.read();\r\n    }\r\n}\r\nasync$3.default = AsyncProvider;\r\nfunction callFailureCallback(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback(callback, entries) {\r\n    callback(null, entries);\r\n}\r\n\r\nvar stream$1 = {};\r\n\r\nObject.defineProperty(stream$1, \"__esModule\", { value: true });\r\nconst stream_1$5 = require$$0$7;\r\nconst async_1$2 = async$2;\r\nclass StreamProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new async_1$2.default(this._root, this._settings);\r\n        this._stream = new stream_1$5.Readable({\r\n            objectMode: true,\r\n            read: () => { },\r\n            destroy: () => {\r\n                if (!this._reader.isDestroyed) {\r\n                    this._reader.destroy();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    read() {\r\n        this._reader.onError((error) => {\r\n            this._stream.emit('error', error);\r\n        });\r\n        this._reader.onEntry((entry) => {\r\n            this._stream.push(entry);\r\n        });\r\n        this._reader.onEnd(() => {\r\n            this._stream.push(null);\r\n        });\r\n        this._reader.read();\r\n        return this._stream;\r\n    }\r\n}\r\nstream$1.default = StreamProvider;\r\n\r\nvar sync$4 = {};\r\n\r\nvar sync$3 = {};\r\n\r\nObject.defineProperty(sync$3, \"__esModule\", { value: true });\r\nconst fsScandir$1 = out$1;\r\nconst common$4 = common$7;\r\nconst reader_1$2 = reader$1;\r\nclass SyncReader extends reader_1$2.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._scandir = fsScandir$1.scandirSync;\r\n        this._storage = [];\r\n        this._queue = new Set();\r\n    }\r\n    read() {\r\n        this._pushToQueue(this._root, this._settings.basePath);\r\n        this._handleQueue();\r\n        return this._storage;\r\n    }\r\n    _pushToQueue(directory, base) {\r\n        this._queue.add({ directory, base });\r\n    }\r\n    _handleQueue() {\r\n        for (const item of this._queue.values()) {\r\n            this._handleDirectory(item.directory, item.base);\r\n        }\r\n    }\r\n    _handleDirectory(directory, base) {\r\n        try {\r\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\r\n            for (const entry of entries) {\r\n                this._handleEntry(entry, base);\r\n            }\r\n        }\r\n        catch (error) {\r\n            this._handleError(error);\r\n        }\r\n    }\r\n    _handleError(error) {\r\n        if (!common$4.isFatalError(this._settings, error)) {\r\n            return;\r\n        }\r\n        throw error;\r\n    }\r\n    _handleEntry(entry, base) {\r\n        const fullpath = entry.path;\r\n        if (base !== undefined) {\r\n            entry.path = common$4.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\r\n        }\r\n        if (common$4.isAppliedFilter(this._settings.entryFilter, entry)) {\r\n            this._pushToStorage(entry);\r\n        }\r\n        if (entry.dirent.isDirectory() && common$4.isAppliedFilter(this._settings.deepFilter, entry)) {\r\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\r\n        }\r\n    }\r\n    _pushToStorage(entry) {\r\n        this._storage.push(entry);\r\n    }\r\n}\r\nsync$3.default = SyncReader;\r\n\r\nObject.defineProperty(sync$4, \"__esModule\", { value: true });\r\nconst sync_1$3 = sync$3;\r\nclass SyncProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new sync_1$3.default(this._root, this._settings);\r\n    }\r\n    read() {\r\n        return this._reader.read();\r\n    }\r\n}\r\nsync$4.default = SyncProvider;\r\n\r\nvar settings$1 = {};\r\n\r\nObject.defineProperty(settings$1, \"__esModule\", { value: true });\r\nconst path$c = require$$0$4;\r\nconst fsScandir = out$1;\r\nclass Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.basePath = this._getValue(this._options.basePath, undefined);\r\n        this.concurrency = this._getValue(this._options.concurrency, Number.POSITIVE_INFINITY);\r\n        this.deepFilter = this._getValue(this._options.deepFilter, null);\r\n        this.entryFilter = this._getValue(this._options.entryFilter, null);\r\n        this.errorFilter = this._getValue(this._options.errorFilter, null);\r\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path$c.sep);\r\n        this.fsScandirSettings = new fsScandir.Settings({\r\n            followSymbolicLinks: this._options.followSymbolicLinks,\r\n            fs: this._options.fs,\r\n            pathSegmentSeparator: this._options.pathSegmentSeparator,\r\n            stats: this._options.stats,\r\n            throwErrorOnBrokenSymbolicLink: this._options.throwErrorOnBrokenSymbolicLink\r\n        });\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n}\r\nsettings$1.default = Settings;\r\n\r\nObject.defineProperty(out$2, \"__esModule\", { value: true });\r\nout$2.Settings = out$2.walkStream = out$2.walkSync = out$2.walk = void 0;\r\nconst async_1$1 = async$3;\r\nconst stream_1$4 = stream$1;\r\nconst sync_1$2 = sync$4;\r\nconst settings_1$1 = settings$1;\r\nout$2.Settings = settings_1$1.default;\r\nfunction walk$2(directory, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        new async_1$1.default(directory, getSettings()).read(optionsOrSettingsOrCallback);\r\n        return;\r\n    }\r\n    new async_1$1.default(directory, getSettings(optionsOrSettingsOrCallback)).read(callback);\r\n}\r\nout$2.walk = walk$2;\r\nfunction walkSync(directory, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    const provider = new sync_1$2.default(directory, settings);\r\n    return provider.read();\r\n}\r\nout$2.walkSync = walkSync;\r\nfunction walkStream(directory, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    const provider = new stream_1$4.default(directory, settings);\r\n    return provider.read();\r\n}\r\nout$2.walkStream = walkStream;\r\nfunction getSettings(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1$1.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1$1.default(settingsOrOptions);\r\n}\r\n\r\nvar reader = {};\r\n\r\nObject.defineProperty(reader, \"__esModule\", { value: true });\r\nconst path$b = require$$0$4;\r\nconst fsStat$2 = out$3;\r\nconst utils$6 = utils$g;\r\nclass Reader {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this._fsStatSettings = new fsStat$2.Settings({\r\n            followSymbolicLink: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.followSymbolicLinks\r\n        });\r\n    }\r\n    _getFullEntryPath(filepath) {\r\n        return path$b.resolve(this._settings.cwd, filepath);\r\n    }\r\n    _makeEntry(stats, pattern) {\r\n        const entry = {\r\n            name: pattern,\r\n            path: pattern,\r\n            dirent: utils$6.fs.createDirentFromStats(pattern, stats)\r\n        };\r\n        if (this._settings.stats) {\r\n            entry.stats = stats;\r\n        }\r\n        return entry;\r\n    }\r\n    _isFatalError(error) {\r\n        return !utils$6.errno.isEnoentCodeError(error) && !this._settings.suppressErrors;\r\n    }\r\n}\r\nreader.default = Reader;\r\n\r\nObject.defineProperty(stream$2, \"__esModule\", { value: true });\r\nconst stream_1$3 = require$$0$7;\r\nconst fsStat$1 = out$3;\r\nconst fsWalk$1 = out$2;\r\nconst reader_1$1 = reader;\r\nclass ReaderStream extends reader_1$1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkStream = fsWalk$1.walkStream;\r\n        this._stat = fsStat$1.stat;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkStream(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const filepaths = patterns.map(this._getFullEntryPath, this);\r\n        const stream = new stream_1$3.PassThrough({ objectMode: true });\r\n        stream._write = (index, _enc, done) => {\r\n            return this._getEntry(filepaths[index], patterns[index], options)\r\n                .then((entry) => {\r\n                if (entry !== null && options.entryFilter(entry)) {\r\n                    stream.push(entry);\r\n                }\r\n                if (index === filepaths.length - 1) {\r\n                    stream.end();\r\n                }\r\n                done();\r\n            })\r\n                .catch(done);\r\n        };\r\n        for (let i = 0; i < filepaths.length; i++) {\r\n            stream.write(i);\r\n        }\r\n        return stream;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        return this._getStat(filepath)\r\n            .then((stats) => this._makeEntry(stats, pattern))\r\n            .catch((error) => {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        });\r\n    }\r\n    _getStat(filepath) {\r\n        return new Promise((resolve, reject) => {\r\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\r\n                return error === null ? resolve(stats) : reject(error);\r\n            });\r\n        });\r\n    }\r\n}\r\nstream$2.default = ReaderStream;\r\n\r\nvar provider = {};\r\n\r\nvar deep = {};\r\n\r\nvar partial = {};\r\n\r\nvar matcher = {};\r\n\r\nObject.defineProperty(matcher, \"__esModule\", { value: true });\r\nconst utils$5 = utils$g;\r\nclass Matcher {\r\n    constructor(_patterns, _settings, _micromatchOptions) {\r\n        this._patterns = _patterns;\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this._storage = [];\r\n        this._fillStorage();\r\n    }\r\n    _fillStorage() {\r\n        /**\r\n         * The original pattern may include `{,*,**,a/*}`, which will lead to problems with matching (unresolved level).\r\n         * So, before expand patterns with brace expansion into separated patterns.\r\n         */\r\n        const patterns = utils$5.pattern.expandPatternsWithBraceExpansion(this._patterns);\r\n        for (const pattern of patterns) {\r\n            const segments = this._getPatternSegments(pattern);\r\n            const sections = this._splitSegmentsIntoSections(segments);\r\n            this._storage.push({\r\n                complete: sections.length <= 1,\r\n                pattern,\r\n                segments,\r\n                sections\r\n            });\r\n        }\r\n    }\r\n    _getPatternSegments(pattern) {\r\n        const parts = utils$5.pattern.getPatternParts(pattern, this._micromatchOptions);\r\n        return parts.map((part) => {\r\n            const dynamic = utils$5.pattern.isDynamicPattern(part, this._settings);\r\n            if (!dynamic) {\r\n                return {\r\n                    dynamic: false,\r\n                    pattern: part\r\n                };\r\n            }\r\n            return {\r\n                dynamic: true,\r\n                pattern: part,\r\n                patternRe: utils$5.pattern.makeRe(part, this._micromatchOptions)\r\n            };\r\n        });\r\n    }\r\n    _splitSegmentsIntoSections(segments) {\r\n        return utils$5.array.splitWhen(segments, (segment) => segment.dynamic && utils$5.pattern.hasGlobStar(segment.pattern));\r\n    }\r\n}\r\nmatcher.default = Matcher;\r\n\r\nObject.defineProperty(partial, \"__esModule\", { value: true });\r\nconst matcher_1 = matcher;\r\nclass PartialMatcher extends matcher_1.default {\r\n    match(filepath) {\r\n        const parts = filepath.split('/');\r\n        const levels = parts.length;\r\n        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);\r\n        for (const pattern of patterns) {\r\n            const section = pattern.sections[0];\r\n            /**\r\n             * In this case, the pattern has a globstar and we must read all directories unconditionally,\r\n             * but only if the level has reached the end of the first group.\r\n             *\r\n             * fixtures/{a,b}/**\r\n             *  ^ true/false  ^ always true\r\n            */\r\n            if (!pattern.complete && levels > section.length) {\r\n                return true;\r\n            }\r\n            const match = parts.every((part, index) => {\r\n                const segment = pattern.segments[index];\r\n                if (segment.dynamic && segment.patternRe.test(part)) {\r\n                    return true;\r\n                }\r\n                if (!segment.dynamic && segment.pattern === part) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (match) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\npartial.default = PartialMatcher;\r\n\r\nObject.defineProperty(deep, \"__esModule\", { value: true });\r\nconst utils$4 = utils$g;\r\nconst partial_1 = partial;\r\nclass DeepFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n    }\r\n    getFilter(basePath, positive, negative) {\r\n        const matcher = this._getMatcher(positive);\r\n        const negativeRe = this._getNegativePatternsRe(negative);\r\n        return (entry) => this._filter(basePath, entry, matcher, negativeRe);\r\n    }\r\n    _getMatcher(patterns) {\r\n        return new partial_1.default(patterns, this._settings, this._micromatchOptions);\r\n    }\r\n    _getNegativePatternsRe(patterns) {\r\n        const affectDepthOfReadingPatterns = patterns.filter(utils$4.pattern.isAffectDepthOfReadingPattern);\r\n        return utils$4.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\r\n    }\r\n    _filter(basePath, entry, matcher, negativeRe) {\r\n        if (this._isSkippedByDeep(basePath, entry.path)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedSymbolicLink(entry)) {\r\n            return false;\r\n        }\r\n        const filepath = utils$4.path.removeLeadingDotSegment(entry.path);\r\n        if (this._isSkippedByPositivePatterns(filepath, matcher)) {\r\n            return false;\r\n        }\r\n        return this._isSkippedByNegativePatterns(filepath, negativeRe);\r\n    }\r\n    _isSkippedByDeep(basePath, entryPath) {\r\n        /**\r\n         * Avoid unnecessary depth calculations when it doesn't matter.\r\n         */\r\n        if (this._settings.deep === Infinity) {\r\n            return false;\r\n        }\r\n        return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\r\n    }\r\n    _getEntryLevel(basePath, entryPath) {\r\n        const entryPathDepth = entryPath.split('/').length;\r\n        if (basePath === '') {\r\n            return entryPathDepth;\r\n        }\r\n        const basePathDepth = basePath.split('/').length;\r\n        return entryPathDepth - basePathDepth;\r\n    }\r\n    _isSkippedSymbolicLink(entry) {\r\n        return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\r\n    }\r\n    _isSkippedByPositivePatterns(entryPath, matcher) {\r\n        return !this._settings.baseNameMatch && !matcher.match(entryPath);\r\n    }\r\n    _isSkippedByNegativePatterns(entryPath, patternsRe) {\r\n        return !utils$4.pattern.matchAny(entryPath, patternsRe);\r\n    }\r\n}\r\ndeep.default = DeepFilter;\r\n\r\nvar entry$1 = {};\r\n\r\nObject.defineProperty(entry$1, \"__esModule\", { value: true });\r\nconst utils$3 = utils$g;\r\nclass EntryFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this.index = new Map();\r\n    }\r\n    getFilter(positive, negative) {\r\n        const positiveRe = utils$3.pattern.convertPatternsToRe(positive, this._micromatchOptions);\r\n        const negativeRe = utils$3.pattern.convertPatternsToRe(negative, this._micromatchOptions);\r\n        return (entry) => this._filter(entry, positiveRe, negativeRe);\r\n    }\r\n    _filter(entry, positiveRe, negativeRe) {\r\n        if (this._settings.unique && this._isDuplicateEntry(entry)) {\r\n            return false;\r\n        }\r\n        if (this._onlyFileFilter(entry) || this._onlyDirectoryFilter(entry)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedByAbsoluteNegativePatterns(entry.path, negativeRe)) {\r\n            return false;\r\n        }\r\n        const filepath = this._settings.baseNameMatch ? entry.name : entry.path;\r\n        const isMatched = this._isMatchToPatterns(filepath, positiveRe) && !this._isMatchToPatterns(entry.path, negativeRe);\r\n        if (this._settings.unique && isMatched) {\r\n            this._createIndexRecord(entry);\r\n        }\r\n        return isMatched;\r\n    }\r\n    _isDuplicateEntry(entry) {\r\n        return this.index.has(entry.path);\r\n    }\r\n    _createIndexRecord(entry) {\r\n        this.index.set(entry.path, undefined);\r\n    }\r\n    _onlyFileFilter(entry) {\r\n        return this._settings.onlyFiles && !entry.dirent.isFile();\r\n    }\r\n    _onlyDirectoryFilter(entry) {\r\n        return this._settings.onlyDirectories && !entry.dirent.isDirectory();\r\n    }\r\n    _isSkippedByAbsoluteNegativePatterns(entryPath, patternsRe) {\r\n        if (!this._settings.absolute) {\r\n            return false;\r\n        }\r\n        const fullpath = utils$3.path.makeAbsolute(this._settings.cwd, entryPath);\r\n        return utils$3.pattern.matchAny(fullpath, patternsRe);\r\n    }\r\n    /**\r\n     * First, just trying to apply patterns to the path.\r\n     * Second, trying to apply patterns to the path with final slash.\r\n     */\r\n    _isMatchToPatterns(entryPath, patternsRe) {\r\n        const filepath = utils$3.path.removeLeadingDotSegment(entryPath);\r\n        return utils$3.pattern.matchAny(filepath, patternsRe) || utils$3.pattern.matchAny(filepath + '/', patternsRe);\r\n    }\r\n}\r\nentry$1.default = EntryFilter;\r\n\r\nvar error$2 = {};\r\n\r\nObject.defineProperty(error$2, \"__esModule\", { value: true });\r\nconst utils$2 = utils$g;\r\nclass ErrorFilter {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getFilter() {\r\n        return (error) => this._isNonFatalError(error);\r\n    }\r\n    _isNonFatalError(error) {\r\n        return utils$2.errno.isEnoentCodeError(error) || this._settings.suppressErrors;\r\n    }\r\n}\r\nerror$2.default = ErrorFilter;\r\n\r\nvar entry = {};\r\n\r\nObject.defineProperty(entry, \"__esModule\", { value: true });\r\nconst utils$1 = utils$g;\r\nclass EntryTransformer {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getTransformer() {\r\n        return (entry) => this._transform(entry);\r\n    }\r\n    _transform(entry) {\r\n        let filepath = entry.path;\r\n        if (this._settings.absolute) {\r\n            filepath = utils$1.path.makeAbsolute(this._settings.cwd, filepath);\r\n            filepath = utils$1.path.unixify(filepath);\r\n        }\r\n        if (this._settings.markDirectories && entry.dirent.isDirectory()) {\r\n            filepath += '/';\r\n        }\r\n        if (!this._settings.objectMode) {\r\n            return filepath;\r\n        }\r\n        return Object.assign(Object.assign({}, entry), { path: filepath });\r\n    }\r\n}\r\nentry.default = EntryTransformer;\r\n\r\nObject.defineProperty(provider, \"__esModule\", { value: true });\r\nconst path$a = require$$0$4;\r\nconst deep_1 = deep;\r\nconst entry_1 = entry$1;\r\nconst error_1 = error$2;\r\nconst entry_2 = entry;\r\nclass Provider {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this.errorFilter = new error_1.default(this._settings);\r\n        this.entryFilter = new entry_1.default(this._settings, this._getMicromatchOptions());\r\n        this.deepFilter = new deep_1.default(this._settings, this._getMicromatchOptions());\r\n        this.entryTransformer = new entry_2.default(this._settings);\r\n    }\r\n    _getRootDirectory(task) {\r\n        return path$a.resolve(this._settings.cwd, task.base);\r\n    }\r\n    _getReaderOptions(task) {\r\n        const basePath = task.base === '.' ? '' : task.base;\r\n        return {\r\n            basePath,\r\n            pathSegmentSeparator: '/',\r\n            concurrency: this._settings.concurrency,\r\n            deepFilter: this.deepFilter.getFilter(basePath, task.positive, task.negative),\r\n            entryFilter: this.entryFilter.getFilter(task.positive, task.negative),\r\n            errorFilter: this.errorFilter.getFilter(),\r\n            followSymbolicLinks: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            stats: this._settings.stats,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.throwErrorOnBrokenSymbolicLink,\r\n            transform: this.entryTransformer.getTransformer()\r\n        };\r\n    }\r\n    _getMicromatchOptions() {\r\n        return {\r\n            dot: this._settings.dot,\r\n            matchBase: this._settings.baseNameMatch,\r\n            nobrace: !this._settings.braceExpansion,\r\n            nocase: !this._settings.caseSensitiveMatch,\r\n            noext: !this._settings.extglob,\r\n            noglobstar: !this._settings.globstar,\r\n            posix: true,\r\n            strictSlashes: false\r\n        };\r\n    }\r\n}\r\nprovider.default = Provider;\r\n\r\nObject.defineProperty(async$6, \"__esModule\", { value: true });\r\nconst stream_1$2 = stream$2;\r\nconst provider_1$2 = provider;\r\nclass ProviderAsync extends provider_1$2.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new stream_1$2.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = [];\r\n        return new Promise((resolve, reject) => {\r\n            const stream = this.api(root, task, options);\r\n            stream.once('error', reject);\r\n            stream.on('data', (entry) => entries.push(options.transform(entry)));\r\n            stream.once('end', () => resolve(entries));\r\n        });\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nasync$6.default = ProviderAsync;\r\n\r\nvar stream = {};\r\n\r\nObject.defineProperty(stream, \"__esModule\", { value: true });\r\nconst stream_1$1 = require$$0$7;\r\nconst stream_2 = stream$2;\r\nconst provider_1$1 = provider;\r\nclass ProviderStream extends provider_1$1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new stream_2.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const source = this.api(root, task, options);\r\n        const destination = new stream_1$1.Readable({ objectMode: true, read: () => { } });\r\n        source\r\n            .once('error', (error) => destination.emit('error', error))\r\n            .on('data', (entry) => destination.emit('data', options.transform(entry)))\r\n            .once('end', () => destination.emit('end'));\r\n        destination\r\n            .once('close', () => source.destroy());\r\n        return destination;\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nstream.default = ProviderStream;\r\n\r\nvar sync$2 = {};\r\n\r\nvar sync$1 = {};\r\n\r\nObject.defineProperty(sync$1, \"__esModule\", { value: true });\r\nconst fsStat = out$3;\r\nconst fsWalk = out$2;\r\nconst reader_1 = reader;\r\nclass ReaderSync extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkSync = fsWalk.walkSync;\r\n        this._statSync = fsStat.statSync;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkSync(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const entries = [];\r\n        for (const pattern of patterns) {\r\n            const filepath = this._getFullEntryPath(pattern);\r\n            const entry = this._getEntry(filepath, pattern, options);\r\n            if (entry === null || !options.entryFilter(entry)) {\r\n                continue;\r\n            }\r\n            entries.push(entry);\r\n        }\r\n        return entries;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        try {\r\n            const stats = this._getStat(filepath);\r\n            return this._makeEntry(stats, pattern);\r\n        }\r\n        catch (error) {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n    _getStat(filepath) {\r\n        return this._statSync(filepath, this._fsStatSettings);\r\n    }\r\n}\r\nsync$1.default = ReaderSync;\r\n\r\nObject.defineProperty(sync$2, \"__esModule\", { value: true });\r\nconst sync_1$1 = sync$1;\r\nconst provider_1 = provider;\r\nclass ProviderSync extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new sync_1$1.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = this.api(root, task, options);\r\n        return entries.map(options.transform);\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nsync$2.default = ProviderSync;\r\n\r\nvar settings = {};\r\n\r\n(function (exports) {\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.DEFAULT_FILE_SYSTEM_ADAPTER = void 0;\r\n\tconst fs = require$$0__default;\r\n\tconst os = require$$1;\r\n\t/**\r\n\t * The `os.cpus` method can return zero. We expect the number of cores to be greater than zero.\r\n\t * https://github.com/nodejs/node/blob/7faeddf23a98c53896f8b574a6e66589e8fb1eb8/lib/os.js#L106-L107\r\n\t */\r\n\tconst CPU_COUNT = Math.max(os.cpus().length, 1);\r\n\texports.DEFAULT_FILE_SYSTEM_ADAPTER = {\r\n\t    lstat: fs.lstat,\r\n\t    lstatSync: fs.lstatSync,\r\n\t    stat: fs.stat,\r\n\t    statSync: fs.statSync,\r\n\t    readdir: fs.readdir,\r\n\t    readdirSync: fs.readdirSync\r\n\t};\r\n\tclass Settings {\r\n\t    constructor(_options = {}) {\r\n\t        this._options = _options;\r\n\t        this.absolute = this._getValue(this._options.absolute, false);\r\n\t        this.baseNameMatch = this._getValue(this._options.baseNameMatch, false);\r\n\t        this.braceExpansion = this._getValue(this._options.braceExpansion, true);\r\n\t        this.caseSensitiveMatch = this._getValue(this._options.caseSensitiveMatch, true);\r\n\t        this.concurrency = this._getValue(this._options.concurrency, CPU_COUNT);\r\n\t        this.cwd = this._getValue(this._options.cwd, process.cwd());\r\n\t        this.deep = this._getValue(this._options.deep, Infinity);\r\n\t        this.dot = this._getValue(this._options.dot, false);\r\n\t        this.extglob = this._getValue(this._options.extglob, true);\r\n\t        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, true);\r\n\t        this.fs = this._getFileSystemMethods(this._options.fs);\r\n\t        this.globstar = this._getValue(this._options.globstar, true);\r\n\t        this.ignore = this._getValue(this._options.ignore, []);\r\n\t        this.markDirectories = this._getValue(this._options.markDirectories, false);\r\n\t        this.objectMode = this._getValue(this._options.objectMode, false);\r\n\t        this.onlyDirectories = this._getValue(this._options.onlyDirectories, false);\r\n\t        this.onlyFiles = this._getValue(this._options.onlyFiles, true);\r\n\t        this.stats = this._getValue(this._options.stats, false);\r\n\t        this.suppressErrors = this._getValue(this._options.suppressErrors, false);\r\n\t        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, false);\r\n\t        this.unique = this._getValue(this._options.unique, true);\r\n\t        if (this.onlyDirectories) {\r\n\t            this.onlyFiles = false;\r\n\t        }\r\n\t        if (this.stats) {\r\n\t            this.objectMode = true;\r\n\t        }\r\n\t    }\r\n\t    _getValue(option, value) {\r\n\t        return option === undefined ? value : option;\r\n\t    }\r\n\t    _getFileSystemMethods(methods = {}) {\r\n\t        return Object.assign(Object.assign({}, exports.DEFAULT_FILE_SYSTEM_ADAPTER), methods);\r\n\t    }\r\n\t}\r\n\texports.default = Settings;\r\n} (settings));\r\n\r\nconst taskManager = tasks;\r\nconst patternManager = patterns;\r\nconst async_1 = async$6;\r\nconst stream_1 = stream;\r\nconst sync_1 = sync$2;\r\nconst settings_1 = settings;\r\nconst utils = utils$g;\r\nasync function FastGlob(source, options) {\r\n    assertPatternsInput(source);\r\n    const works = getWorks(source, async_1.default, options);\r\n    const result = await Promise.all(works);\r\n    return utils.array.flatten(result);\r\n}\r\n// https://github.com/typescript-eslint/typescript-eslint/issues/60\r\n// eslint-disable-next-line no-redeclare\r\n(function (FastGlob) {\r\n    function sync(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, sync_1.default, options);\r\n        return utils.array.flatten(works);\r\n    }\r\n    FastGlob.sync = sync;\r\n    function stream(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, stream_1.default, options);\r\n        /**\r\n         * The stream returned by the provider cannot work with an asynchronous iterator.\r\n         * To support asynchronous iterators, regardless of the number of tasks, we always multiplex streams.\r\n         * This affects performance (+25%). I don't see best solution right now.\r\n         */\r\n        return utils.stream.merge(works);\r\n    }\r\n    FastGlob.stream = stream;\r\n    function generateTasks(source, options) {\r\n        assertPatternsInput(source);\r\n        const patterns = patternManager.transform([].concat(source));\r\n        const settings = new settings_1.default(options);\r\n        return taskManager.generate(patterns, settings);\r\n    }\r\n    FastGlob.generateTasks = generateTasks;\r\n    function isDynamicPattern(source, options) {\r\n        assertPatternsInput(source);\r\n        const settings = new settings_1.default(options);\r\n        return utils.pattern.isDynamicPattern(source, settings);\r\n    }\r\n    FastGlob.isDynamicPattern = isDynamicPattern;\r\n    function escapePath(source) {\r\n        assertPatternsInput(source);\r\n        return utils.path.escape(source);\r\n    }\r\n    FastGlob.escapePath = escapePath;\r\n})(FastGlob || (FastGlob = {}));\r\nfunction getWorks(source, _Provider, options) {\r\n    const patterns = patternManager.transform([].concat(source));\r\n    const settings = new settings_1.default(options);\r\n    const tasks = taskManager.generate(patterns, settings);\r\n    const provider = new _Provider(settings);\r\n    return tasks.map(provider.read, provider);\r\n}\r\nfunction assertPatternsInput(input) {\r\n    const source = [].concat(input);\r\n    const isValidSource = source.every((item) => utils.string.isString(item) && !utils.string.isEmpty(item));\r\n    if (!isValidSource) {\r\n        throw new TypeError('Patterns must be a string (non empty) or an array of strings');\r\n    }\r\n}\r\nvar out = FastGlob;\r\n\r\nvar dist = {};\r\n\r\n(function (exports) {\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.lilconfigSync = exports.lilconfig = exports.defaultLoaders = void 0;\r\n\tconst path = require$$0$4;\r\n\tconst fs = require$$0__default;\r\n\tconst os = require$$1;\r\n\tconst fsReadFileAsync = fs.promises.readFile;\r\n\tfunction getDefaultSearchPlaces(name) {\r\n\t    return [\r\n\t        'package.json',\r\n\t        `.${name}rc.json`,\r\n\t        `.${name}rc.js`,\r\n\t        `${name}.config.js`,\r\n\t        `.${name}rc.cjs`,\r\n\t        `${name}.config.cjs`,\r\n\t    ];\r\n\t}\r\n\tfunction getSearchPaths(startDir, stopDir) {\r\n\t    return startDir\r\n\t        .split(path.sep)\r\n\t        .reduceRight((acc, _, ind, arr) => {\r\n\t        const currentPath = arr.slice(0, ind + 1).join(path.sep);\r\n\t        if (!acc.passedStopDir)\r\n\t            acc.searchPlaces.push(currentPath || path.sep);\r\n\t        if (currentPath === stopDir)\r\n\t            acc.passedStopDir = true;\r\n\t        return acc;\r\n\t    }, { searchPlaces: [], passedStopDir: false }).searchPlaces;\r\n\t}\r\n\texports.defaultLoaders = Object.freeze({\r\n\t    '.js': __require,\r\n\t    '.json': __require,\r\n\t    '.cjs': __require,\r\n\t    noExt(_, content) {\r\n\t        return JSON.parse(content);\r\n\t    },\r\n\t});\r\n\tfunction getExtDesc(ext) {\r\n\t    return ext === 'noExt' ? 'files without extensions' : `extension \"${ext}\"`;\r\n\t}\r\n\tfunction getOptions(name, options = {}) {\r\n\t    const conf = {\r\n\t        stopDir: os.homedir(),\r\n\t        searchPlaces: getDefaultSearchPlaces(name),\r\n\t        ignoreEmptySearchPlaces: true,\r\n\t        transform: (x) => x,\r\n\t        packageProp: [name],\r\n\t        ...options,\r\n\t        loaders: { ...exports.defaultLoaders, ...options.loaders },\r\n\t    };\r\n\t    conf.searchPlaces.forEach(place => {\r\n\t        const key = path.extname(place) || 'noExt';\r\n\t        const loader = conf.loaders[key];\r\n\t        if (!loader) {\r\n\t            throw new Error(`No loader specified for ${getExtDesc(key)}, so searchPlaces item \"${place}\" is invalid`);\r\n\t        }\r\n\t        if (typeof loader !== 'function') {\r\n\t            throw new Error(`loader for ${getExtDesc(key)} is not a function (type provided: \"${typeof loader}\"), so searchPlaces item \"${place}\" is invalid`);\r\n\t        }\r\n\t    });\r\n\t    return conf;\r\n\t}\r\n\tfunction getPackageProp(props, obj) {\r\n\t    if (typeof props === 'string' && props in obj)\r\n\t        return obj[props];\r\n\t    return ((Array.isArray(props) ? props : props.split('.')).reduce((acc, prop) => (acc === undefined ? acc : acc[prop]), obj) || null);\r\n\t}\r\n\tfunction getSearchItems(searchPlaces, searchPaths) {\r\n\t    return searchPaths.reduce((acc, searchPath) => {\r\n\t        searchPlaces.forEach(fileName => acc.push({\r\n\t            fileName,\r\n\t            filepath: path.join(searchPath, fileName),\r\n\t            loaderKey: path.extname(fileName) || 'noExt',\r\n\t        }));\r\n\t        return acc;\r\n\t    }, []);\r\n\t}\r\n\tfunction validateFilePath(filepath) {\r\n\t    if (!filepath)\r\n\t        throw new Error('load must pass a non-empty string');\r\n\t}\r\n\tfunction validateLoader(loader, ext) {\r\n\t    if (!loader)\r\n\t        throw new Error(`No loader specified for extension \"${ext}\"`);\r\n\t    if (typeof loader !== 'function')\r\n\t        throw new Error('loader is not a function');\r\n\t}\r\n\tfunction lilconfig(name, options) {\r\n\t    const { ignoreEmptySearchPlaces, loaders, packageProp, searchPlaces, stopDir, transform, } = getOptions(name, options);\r\n\t    return {\r\n\t        async search(searchFrom = process.cwd()) {\r\n\t            const searchPaths = getSearchPaths(searchFrom, stopDir);\r\n\t            const result = {\r\n\t                config: null,\r\n\t                filepath: '',\r\n\t            };\r\n\t            const searchItems = getSearchItems(searchPlaces, searchPaths);\r\n\t            for (const { fileName, filepath, loaderKey } of searchItems) {\r\n\t                try {\r\n\t                    await fs.promises.access(filepath);\r\n\t                }\r\n\t                catch (_a) {\r\n\t                    continue;\r\n\t                }\r\n\t                const content = String(await fsReadFileAsync(filepath));\r\n\t                const loader = loaders[loaderKey];\r\n\t                if (fileName === 'package.json') {\r\n\t                    const pkg = await loader(filepath, content);\r\n\t                    const maybeConfig = getPackageProp(packageProp, pkg);\r\n\t                    if (maybeConfig != null) {\r\n\t                        result.config = maybeConfig;\r\n\t                        result.filepath = filepath;\r\n\t                        break;\r\n\t                    }\r\n\t                    continue;\r\n\t                }\r\n\t                const isEmpty = content.trim() === '';\r\n\t                if (isEmpty && ignoreEmptySearchPlaces)\r\n\t                    continue;\r\n\t                if (isEmpty) {\r\n\t                    result.isEmpty = true;\r\n\t                    result.config = undefined;\r\n\t                }\r\n\t                else {\r\n\t                    validateLoader(loader, loaderKey);\r\n\t                    result.config = await loader(filepath, content);\r\n\t                }\r\n\t                result.filepath = filepath;\r\n\t                break;\r\n\t            }\r\n\t            if (result.filepath === '' && result.config === null)\r\n\t                return transform(null);\r\n\t            return transform(result);\r\n\t        },\r\n\t        async load(filepath) {\r\n\t            validateFilePath(filepath);\r\n\t            const absPath = path.resolve(process.cwd(), filepath);\r\n\t            const { base, ext } = path.parse(absPath);\r\n\t            const loaderKey = ext || 'noExt';\r\n\t            const loader = loaders[loaderKey];\r\n\t            validateLoader(loader, loaderKey);\r\n\t            const content = String(await fsReadFileAsync(absPath));\r\n\t            if (base === 'package.json') {\r\n\t                const pkg = await loader(absPath, content);\r\n\t                return transform({\r\n\t                    config: getPackageProp(packageProp, pkg),\r\n\t                    filepath: absPath,\r\n\t                });\r\n\t            }\r\n\t            const result = {\r\n\t                config: null,\r\n\t                filepath: absPath,\r\n\t            };\r\n\t            const isEmpty = content.trim() === '';\r\n\t            if (isEmpty && ignoreEmptySearchPlaces)\r\n\t                return transform({\r\n\t                    config: undefined,\r\n\t                    filepath: absPath,\r\n\t                    isEmpty: true,\r\n\t                });\r\n\t            result.config = isEmpty\r\n\t                ? undefined\r\n\t                : await loader(absPath, content);\r\n\t            return transform(isEmpty ? { ...result, isEmpty, config: undefined } : result);\r\n\t        },\r\n\t    };\r\n\t}\r\n\texports.lilconfig = lilconfig;\r\n\tfunction lilconfigSync(name, options) {\r\n\t    const { ignoreEmptySearchPlaces, loaders, packageProp, searchPlaces, stopDir, transform, } = getOptions(name, options);\r\n\t    return {\r\n\t        search(searchFrom = process.cwd()) {\r\n\t            const searchPaths = getSearchPaths(searchFrom, stopDir);\r\n\t            const result = {\r\n\t                config: null,\r\n\t                filepath: '',\r\n\t            };\r\n\t            const searchItems = getSearchItems(searchPlaces, searchPaths);\r\n\t            for (const { fileName, filepath, loaderKey } of searchItems) {\r\n\t                try {\r\n\t                    fs.accessSync(filepath);\r\n\t                }\r\n\t                catch (_a) {\r\n\t                    continue;\r\n\t                }\r\n\t                const loader = loaders[loaderKey];\r\n\t                const content = String(fs.readFileSync(filepath));\r\n\t                if (fileName === 'package.json') {\r\n\t                    const pkg = loader(filepath, content);\r\n\t                    const maybeConfig = getPackageProp(packageProp, pkg);\r\n\t                    if (maybeConfig != null) {\r\n\t                        result.config = maybeConfig;\r\n\t                        result.filepath = filepath;\r\n\t                        break;\r\n\t                    }\r\n\t                    continue;\r\n\t                }\r\n\t                const isEmpty = content.trim() === '';\r\n\t                if (isEmpty && ignoreEmptySearchPlaces)\r\n\t                    continue;\r\n\t                if (isEmpty) {\r\n\t                    result.isEmpty = true;\r\n\t                    result.config = undefined;\r\n\t                }\r\n\t                else {\r\n\t                    validateLoader(loader, loaderKey);\r\n\t                    result.config = loader(filepath, content);\r\n\t                }\r\n\t                result.filepath = filepath;\r\n\t                break;\r\n\t            }\r\n\t            if (result.filepath === '' && result.config === null)\r\n\t                return transform(null);\r\n\t            return transform(result);\r\n\t        },\r\n\t        load(filepath) {\r\n\t            validateFilePath(filepath);\r\n\t            const absPath = path.resolve(process.cwd(), filepath);\r\n\t            const { base, ext } = path.parse(absPath);\r\n\t            const loaderKey = ext || 'noExt';\r\n\t            const loader = loaders[loaderKey];\r\n\t            validateLoader(loader, loaderKey);\r\n\t            const content = String(fs.readFileSync(absPath));\r\n\t            if (base === 'package.json') {\r\n\t                const pkg = loader(absPath, content);\r\n\t                return transform({\r\n\t                    config: getPackageProp(packageProp, pkg),\r\n\t                    filepath: absPath,\r\n\t                });\r\n\t            }\r\n\t            const result = {\r\n\t                config: null,\r\n\t                filepath: absPath,\r\n\t            };\r\n\t            const isEmpty = content.trim() === '';\r\n\t            if (isEmpty && ignoreEmptySearchPlaces)\r\n\t                return transform({\r\n\t                    filepath: absPath,\r\n\t                    config: undefined,\r\n\t                    isEmpty: true,\r\n\t                });\r\n\t            result.config = isEmpty ? undefined : loader(absPath, content);\r\n\t            return transform(isEmpty ? { ...result, isEmpty, config: undefined } : result);\r\n\t        },\r\n\t    };\r\n\t}\r\n\texports.lilconfigSync = lilconfigSync;\r\n} (dist));\r\n\r\nconst ALIAS = Symbol.for('yaml.alias');\r\nconst DOC = Symbol.for('yaml.document');\r\nconst MAP = Symbol.for('yaml.map');\r\nconst PAIR = Symbol.for('yaml.pair');\r\nconst SCALAR$1 = Symbol.for('yaml.scalar');\r\nconst SEQ = Symbol.for('yaml.seq');\r\nconst NODE_TYPE = Symbol.for('yaml.node.type');\r\nconst isAlias = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === ALIAS;\r\nconst isDocument = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === DOC;\r\nconst isMap = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === MAP;\r\nconst isPair = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === PAIR;\r\nconst isScalar$1 = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SCALAR$1;\r\nconst isSeq = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SEQ;\r\nfunction isCollection$1(node) {\r\n    if (node && typeof node === 'object')\r\n        switch (node[NODE_TYPE]) {\r\n            case MAP:\r\n            case SEQ:\r\n                return true;\r\n        }\r\n    return false;\r\n}\r\nfunction isNode(node) {\r\n    if (node && typeof node === 'object')\r\n        switch (node[NODE_TYPE]) {\r\n            case ALIAS:\r\n            case MAP:\r\n            case SCALAR$1:\r\n            case SEQ:\r\n                return true;\r\n        }\r\n    return false;\r\n}\r\nconst hasAnchor = (node) => (isScalar$1(node) || isCollection$1(node)) && !!node.anchor;\r\nclass NodeBase {\r\n    constructor(type) {\r\n        Object.defineProperty(this, NODE_TYPE, { value: type });\r\n    }\r\n    /** Create a copy of this node.  */\r\n    clone() {\r\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\r\n        if (this.range)\r\n            copy.range = this.range.slice();\r\n        return copy;\r\n    }\r\n}\r\n\r\nconst BREAK$1 = Symbol('break visit');\r\nconst SKIP$1 = Symbol('skip children');\r\nconst REMOVE$1 = Symbol('remove node');\r\n/**\r\n * Apply a visitor to an AST node or document.\r\n *\r\n * Walks through the tree (depth-first) starting from `node`, calling a\r\n * `visitor` function with three arguments:\r\n *   - `key`: For sequence values and map `Pair`, the node's index in the\r\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\r\n *     `null` for the root node.\r\n *   - `node`: The current node.\r\n *   - `path`: The ancestry of the current node.\r\n *\r\n * The return value of the visitor may be used to control the traversal:\r\n *   - `undefined` (default): Do nothing and continue\r\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\r\n *     sibling\r\n *   - `visit.BREAK`: Terminate traversal completely\r\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\r\n *   - `Node`: Replace the current node, then continue by visiting it\r\n *   - `number`: While iterating the items of a sequence or map, set the index\r\n *     of the next step. This is useful especially if the index of the current\r\n *     node has changed.\r\n *\r\n * If `visitor` is a single function, it will be called with all values\r\n * encountered in the tree, including e.g. `null` values. Alternatively,\r\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\r\n * `Alias` and `Scalar` node. To define the same visitor function for more than\r\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\r\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\r\n * specific defined one will be used for each node.\r\n */\r\nfunction visit$1(node, visitor) {\r\n    const visitor_ = initVisitor(visitor);\r\n    if (isDocument(node)) {\r\n        const cd = visit_(null, node.contents, visitor_, Object.freeze([node]));\r\n        if (cd === REMOVE$1)\r\n            node.contents = null;\r\n    }\r\n    else\r\n        visit_(null, node, visitor_, Object.freeze([]));\r\n}\r\n// Without the `as symbol` casts, TS declares these in the `visit`\r\n// namespace using `var`, but then complains about that because\r\n// `unique symbol` must be `const`.\r\n/** Terminate visit traversal completely */\r\nvisit$1.BREAK = BREAK$1;\r\n/** Do not visit the children of the current node */\r\nvisit$1.SKIP = SKIP$1;\r\n/** Remove the current node */\r\nvisit$1.REMOVE = REMOVE$1;\r\nfunction visit_(key, node, visitor, path) {\r\n    const ctrl = callVisitor(key, node, visitor, path);\r\n    if (isNode(ctrl) || isPair(ctrl)) {\r\n        replaceNode(key, path, ctrl);\r\n        return visit_(key, ctrl, visitor, path);\r\n    }\r\n    if (typeof ctrl !== 'symbol') {\r\n        if (isCollection$1(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            for (let i = 0; i < node.items.length; ++i) {\r\n                const ci = visit_(i, node.items[i], visitor, path);\r\n                if (typeof ci === 'number')\r\n                    i = ci - 1;\r\n                else if (ci === BREAK$1)\r\n                    return BREAK$1;\r\n                else if (ci === REMOVE$1) {\r\n                    node.items.splice(i, 1);\r\n                    i -= 1;\r\n                }\r\n            }\r\n        }\r\n        else if (isPair(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            const ck = visit_('key', node.key, visitor, path);\r\n            if (ck === BREAK$1)\r\n                return BREAK$1;\r\n            else if (ck === REMOVE$1)\r\n                node.key = null;\r\n            const cv = visit_('value', node.value, visitor, path);\r\n            if (cv === BREAK$1)\r\n                return BREAK$1;\r\n            else if (cv === REMOVE$1)\r\n                node.value = null;\r\n        }\r\n    }\r\n    return ctrl;\r\n}\r\n/**\r\n * Apply an async visitor to an AST node or document.\r\n *\r\n * Walks through the tree (depth-first) starting from `node`, calling a\r\n * `visitor` function with three arguments:\r\n *   - `key`: For sequence values and map `Pair`, the node's index in the\r\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\r\n *     `null` for the root node.\r\n *   - `node`: The current node.\r\n *   - `path`: The ancestry of the current node.\r\n *\r\n * The return value of the visitor may be used to control the traversal:\r\n *   - `Promise`: Must resolve to one of the following values\r\n *   - `undefined` (default): Do nothing and continue\r\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\r\n *     sibling\r\n *   - `visit.BREAK`: Terminate traversal completely\r\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\r\n *   - `Node`: Replace the current node, then continue by visiting it\r\n *   - `number`: While iterating the items of a sequence or map, set the index\r\n *     of the next step. This is useful especially if the index of the current\r\n *     node has changed.\r\n *\r\n * If `visitor` is a single function, it will be called with all values\r\n * encountered in the tree, including e.g. `null` values. Alternatively,\r\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\r\n * `Alias` and `Scalar` node. To define the same visitor function for more than\r\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\r\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\r\n * specific defined one will be used for each node.\r\n */\r\nasync function visitAsync(node, visitor) {\r\n    const visitor_ = initVisitor(visitor);\r\n    if (isDocument(node)) {\r\n        const cd = await visitAsync_(null, node.contents, visitor_, Object.freeze([node]));\r\n        if (cd === REMOVE$1)\r\n            node.contents = null;\r\n    }\r\n    else\r\n        await visitAsync_(null, node, visitor_, Object.freeze([]));\r\n}\r\n// Without the `as symbol` casts, TS declares these in the `visit`\r\n// namespace using `var`, but then complains about that because\r\n// `unique symbol` must be `const`.\r\n/** Terminate visit traversal completely */\r\nvisitAsync.BREAK = BREAK$1;\r\n/** Do not visit the children of the current node */\r\nvisitAsync.SKIP = SKIP$1;\r\n/** Remove the current node */\r\nvisitAsync.REMOVE = REMOVE$1;\r\nasync function visitAsync_(key, node, visitor, path) {\r\n    const ctrl = await callVisitor(key, node, visitor, path);\r\n    if (isNode(ctrl) || isPair(ctrl)) {\r\n        replaceNode(key, path, ctrl);\r\n        return visitAsync_(key, ctrl, visitor, path);\r\n    }\r\n    if (typeof ctrl !== 'symbol') {\r\n        if (isCollection$1(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            for (let i = 0; i < node.items.length; ++i) {\r\n                const ci = await visitAsync_(i, node.items[i], visitor, path);\r\n                if (typeof ci === 'number')\r\n                    i = ci - 1;\r\n                else if (ci === BREAK$1)\r\n                    return BREAK$1;\r\n                else if (ci === REMOVE$1) {\r\n                    node.items.splice(i, 1);\r\n                    i -= 1;\r\n                }\r\n            }\r\n        }\r\n        else if (isPair(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            const ck = await visitAsync_('key', node.key, visitor, path);\r\n            if (ck === BREAK$1)\r\n                return BREAK$1;\r\n            else if (ck === REMOVE$1)\r\n                node.key = null;\r\n            const cv = await visitAsync_('value', node.value, visitor, path);\r\n            if (cv === BREAK$1)\r\n                return BREAK$1;\r\n            else if (cv === REMOVE$1)\r\n                node.value = null;\r\n        }\r\n    }\r\n    return ctrl;\r\n}\r\nfunction initVisitor(visitor) {\r\n    if (typeof visitor === 'object' &&\r\n        (visitor.Collection || visitor.Node || visitor.Value)) {\r\n        return Object.assign({\r\n            Alias: visitor.Node,\r\n            Map: visitor.Node,\r\n            Scalar: visitor.Node,\r\n            Seq: visitor.Node\r\n        }, visitor.Value && {\r\n            Map: visitor.Value,\r\n            Scalar: visitor.Value,\r\n            Seq: visitor.Value\r\n        }, visitor.Collection && {\r\n            Map: visitor.Collection,\r\n            Seq: visitor.Collection\r\n        }, visitor);\r\n    }\r\n    return visitor;\r\n}\r\nfunction callVisitor(key, node, visitor, path) {\r\n    if (typeof visitor === 'function')\r\n        return visitor(key, node, path);\r\n    if (isMap(node))\r\n        return visitor.Map?.(key, node, path);\r\n    if (isSeq(node))\r\n        return visitor.Seq?.(key, node, path);\r\n    if (isPair(node))\r\n        return visitor.Pair?.(key, node, path);\r\n    if (isScalar$1(node))\r\n        return visitor.Scalar?.(key, node, path);\r\n    if (isAlias(node))\r\n        return visitor.Alias?.(key, node, path);\r\n    return undefined;\r\n}\r\nfunction replaceNode(key, path, node) {\r\n    const parent = path[path.length - 1];\r\n    if (isCollection$1(parent)) {\r\n        parent.items[key] = node;\r\n    }\r\n    else if (isPair(parent)) {\r\n        if (key === 'key')\r\n            parent.key = node;\r\n        else\r\n            parent.value = node;\r\n    }\r\n    else if (isDocument(parent)) {\r\n        parent.contents = node;\r\n    }\r\n    else {\r\n        const pt = isAlias(parent) ? 'alias' : 'scalar';\r\n        throw new Error(`Cannot replace node with ${pt} parent`);\r\n    }\r\n}\r\n\r\nconst escapeChars = {\r\n    '!': '%21',\r\n    ',': '%2C',\r\n    '[': '%5B',\r\n    ']': '%5D',\r\n    '{': '%7B',\r\n    '}': '%7D'\r\n};\r\nconst escapeTagName = (tn) => tn.replace(/[!,[\\]{}]/g, ch => escapeChars[ch]);\r\nclass Directives {\r\n    constructor(yaml, tags) {\r\n        /**\r\n         * The directives-end/doc-start marker `---`. If `null`, a marker may still be\r\n         * included in the document's stringified representation.\r\n         */\r\n        this.docStart = null;\r\n        /** The doc-end marker `...`.  */\r\n        this.docEnd = false;\r\n        this.yaml = Object.assign({}, Directives.defaultYaml, yaml);\r\n        this.tags = Object.assign({}, Directives.defaultTags, tags);\r\n    }\r\n    clone() {\r\n        const copy = new Directives(this.yaml, this.tags);\r\n        copy.docStart = this.docStart;\r\n        return copy;\r\n    }\r\n    /**\r\n     * During parsing, get a Directives instance for the current document and\r\n     * update the stream state according to the current version's spec.\r\n     */\r\n    atDocument() {\r\n        const res = new Directives(this.yaml, this.tags);\r\n        switch (this.yaml.version) {\r\n            case '1.1':\r\n                this.atNextDocument = true;\r\n                break;\r\n            case '1.2':\r\n                this.atNextDocument = false;\r\n                this.yaml = {\r\n                    explicit: Directives.defaultYaml.explicit,\r\n                    version: '1.2'\r\n                };\r\n                this.tags = Object.assign({}, Directives.defaultTags);\r\n                break;\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * @param onError - May be called even if the action was successful\r\n     * @returns `true` on success\r\n     */\r\n    add(line, onError) {\r\n        if (this.atNextDocument) {\r\n            this.yaml = { explicit: Directives.defaultYaml.explicit, version: '1.1' };\r\n            this.tags = Object.assign({}, Directives.defaultTags);\r\n            this.atNextDocument = false;\r\n        }\r\n        const parts = line.trim().split(/[ \\t]+/);\r\n        const name = parts.shift();\r\n        switch (name) {\r\n            case '%TAG': {\r\n                if (parts.length !== 2) {\r\n                    onError(0, '%TAG directive should contain exactly two parts');\r\n                    if (parts.length < 2)\r\n                        return false;\r\n                }\r\n                const [handle, prefix] = parts;\r\n                this.tags[handle] = prefix;\r\n                return true;\r\n            }\r\n            case '%YAML': {\r\n                this.yaml.explicit = true;\r\n                if (parts.length !== 1) {\r\n                    onError(0, '%YAML directive should contain exactly one part');\r\n                    return false;\r\n                }\r\n                const [version] = parts;\r\n                if (version === '1.1' || version === '1.2') {\r\n                    this.yaml.version = version;\r\n                    return true;\r\n                }\r\n                else {\r\n                    const isValid = /^\\d+\\.\\d+$/.test(version);\r\n                    onError(6, `Unsupported YAML version ${version}`, isValid);\r\n                    return false;\r\n                }\r\n            }\r\n            default:\r\n                onError(0, `Unknown directive ${name}`, true);\r\n                return false;\r\n        }\r\n    }\r\n    /**\r\n     * Resolves a tag, matching handles to those defined in %TAG directives.\r\n     *\r\n     * @returns Resolved tag, which may also be the non-specific tag `'!'` or a\r\n     *   `'!local'` tag, or `null` if unresolvable.\r\n     */\r\n    tagName(source, onError) {\r\n        if (source === '!')\r\n            return '!'; // non-specific tag\r\n        if (source[0] !== '!') {\r\n            onError(`Not a valid tag: ${source}`);\r\n            return null;\r\n        }\r\n        if (source[1] === '<') {\r\n            const verbatim = source.slice(2, -1);\r\n            if (verbatim === '!' || verbatim === '!!') {\r\n                onError(`Verbatim tags aren't resolved, so ${source} is invalid.`);\r\n                return null;\r\n            }\r\n            if (source[source.length - 1] !== '>')\r\n                onError('Verbatim tags must end with a >');\r\n            return verbatim;\r\n        }\r\n        const [, handle, suffix] = source.match(/^(.*!)([^!]*)$/);\r\n        if (!suffix)\r\n            onError(`The ${source} tag has no suffix`);\r\n        const prefix = this.tags[handle];\r\n        if (prefix)\r\n            return prefix + decodeURIComponent(suffix);\r\n        if (handle === '!')\r\n            return source; // local tag\r\n        onError(`Could not resolve tag: ${source}`);\r\n        return null;\r\n    }\r\n    /**\r\n     * Given a fully resolved tag, returns its printable string form,\r\n     * taking into account current tag prefixes and defaults.\r\n     */\r\n    tagString(tag) {\r\n        for (const [handle, prefix] of Object.entries(this.tags)) {\r\n            if (tag.startsWith(prefix))\r\n                return handle + escapeTagName(tag.substring(prefix.length));\r\n        }\r\n        return tag[0] === '!' ? tag : `!<${tag}>`;\r\n    }\r\n    toString(doc) {\r\n        const lines = this.yaml.explicit\r\n            ? [`%YAML ${this.yaml.version || '1.2'}`]\r\n            : [];\r\n        const tagEntries = Object.entries(this.tags);\r\n        let tagNames;\r\n        if (doc && tagEntries.length > 0 && isNode(doc.contents)) {\r\n            const tags = {};\r\n            visit$1(doc.contents, (_key, node) => {\r\n                if (isNode(node) && node.tag)\r\n                    tags[node.tag] = true;\r\n            });\r\n            tagNames = Object.keys(tags);\r\n        }\r\n        else\r\n            tagNames = [];\r\n        for (const [handle, prefix] of tagEntries) {\r\n            if (handle === '!!' && prefix === 'tag:yaml.org,2002:')\r\n                continue;\r\n            if (!doc || tagNames.some(tn => tn.startsWith(prefix)))\r\n                lines.push(`%TAG ${handle} ${prefix}`);\r\n        }\r\n        return lines.join('\\n');\r\n    }\r\n}\r\nDirectives.defaultYaml = { explicit: false, version: '1.2' };\r\nDirectives.defaultTags = { '!!': 'tag:yaml.org,2002:' };\r\n\r\n/**\r\n * Verify that the input string is a valid anchor.\r\n *\r\n * Will throw on errors.\r\n */\r\nfunction anchorIsValid(anchor) {\r\n    if (/[\\x00-\\x19\\s,[\\]{}]/.test(anchor)) {\r\n        const sa = JSON.stringify(anchor);\r\n        const msg = `Anchor must not contain whitespace or control characters: ${sa}`;\r\n        throw new Error(msg);\r\n    }\r\n    return true;\r\n}\r\nfunction anchorNames(root) {\r\n    const anchors = new Set();\r\n    visit$1(root, {\r\n        Value(_key, node) {\r\n            if (node.anchor)\r\n                anchors.add(node.anchor);\r\n        }\r\n    });\r\n    return anchors;\r\n}\r\n/** Find a new anchor name with the given `prefix` and a one-indexed suffix. */\r\nfunction findNewAnchor(prefix, exclude) {\r\n    for (let i = 1; true; ++i) {\r\n        const name = `${prefix}${i}`;\r\n        if (!exclude.has(name))\r\n            return name;\r\n    }\r\n}\r\nfunction createNodeAnchors(doc, prefix) {\r\n    const aliasObjects = [];\r\n    const sourceObjects = new Map();\r\n    let prevAnchors = null;\r\n    return {\r\n        onAnchor: (source) => {\r\n            aliasObjects.push(source);\r\n            if (!prevAnchors)\r\n                prevAnchors = anchorNames(doc);\r\n            const anchor = findNewAnchor(prefix, prevAnchors);\r\n            prevAnchors.add(anchor);\r\n            return anchor;\r\n        },\r\n        /**\r\n         * With circular references, the source node is only resolved after all\r\n         * of its child nodes are. This is why anchors are set only after all of\r\n         * the nodes have been created.\r\n         */\r\n        setAnchors: () => {\r\n            for (const source of aliasObjects) {\r\n                const ref = sourceObjects.get(source);\r\n                if (typeof ref === 'object' &&\r\n                    ref.anchor &&\r\n                    (isScalar$1(ref.node) || isCollection$1(ref.node))) {\r\n                    ref.node.anchor = ref.anchor;\r\n                }\r\n                else {\r\n                    const error = new Error('Failed to resolve repeated object (this should not happen)');\r\n                    error.source = source;\r\n                    throw error;\r\n                }\r\n            }\r\n        },\r\n        sourceObjects\r\n    };\r\n}\r\n\r\nclass Alias extends NodeBase {\r\n    constructor(source) {\r\n        super(ALIAS);\r\n        this.source = source;\r\n        Object.defineProperty(this, 'tag', {\r\n            set() {\r\n                throw new Error('Alias nodes cannot have tags');\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Resolve the value of this alias within `doc`, finding the last\r\n     * instance of the `source` anchor before this node.\r\n     */\r\n    resolve(doc) {\r\n        let found = undefined;\r\n        visit$1(doc, {\r\n            Node: (_key, node) => {\r\n                if (node === this)\r\n                    return visit$1.BREAK;\r\n                if (node.anchor === this.source)\r\n                    found = node;\r\n            }\r\n        });\r\n        return found;\r\n    }\r\n    toJSON(_arg, ctx) {\r\n        if (!ctx)\r\n            return { source: this.source };\r\n        const { anchors, doc, maxAliasCount } = ctx;\r\n        const source = this.resolve(doc);\r\n        if (!source) {\r\n            const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\r\n            throw new ReferenceError(msg);\r\n        }\r\n        const data = anchors.get(source);\r\n        /* istanbul ignore if */\r\n        if (!data || data.res === undefined) {\r\n            const msg = 'This should not happen: Alias anchor was not resolved?';\r\n            throw new ReferenceError(msg);\r\n        }\r\n        if (maxAliasCount >= 0) {\r\n            data.count += 1;\r\n            if (data.aliasCount === 0)\r\n                data.aliasCount = getAliasCount(doc, source, anchors);\r\n            if (data.count * data.aliasCount > maxAliasCount) {\r\n                const msg = 'Excessive alias count indicates a resource exhaustion attack';\r\n                throw new ReferenceError(msg);\r\n            }\r\n        }\r\n        return data.res;\r\n    }\r\n    toString(ctx, _onComment, _onChompKeep) {\r\n        const src = `*${this.source}`;\r\n        if (ctx) {\r\n            anchorIsValid(this.source);\r\n            if (ctx.options.verifyAliasOrder && !ctx.anchors.has(this.source)) {\r\n                const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\r\n                throw new Error(msg);\r\n            }\r\n            if (ctx.implicitKey)\r\n                return `${src} `;\r\n        }\r\n        return src;\r\n    }\r\n}\r\nfunction getAliasCount(doc, node, anchors) {\r\n    if (isAlias(node)) {\r\n        const source = node.resolve(doc);\r\n        const anchor = anchors && source && anchors.get(source);\r\n        return anchor ? anchor.count * anchor.aliasCount : 0;\r\n    }\r\n    else if (isCollection$1(node)) {\r\n        let count = 0;\r\n        for (const item of node.items) {\r\n            const c = getAliasCount(doc, item, anchors);\r\n            if (c > count)\r\n                count = c;\r\n        }\r\n        return count;\r\n    }\r\n    else if (isPair(node)) {\r\n        const kc = getAliasCount(doc, node.key, anchors);\r\n        const vc = getAliasCount(doc, node.value, anchors);\r\n        return Math.max(kc, vc);\r\n    }\r\n    return 1;\r\n}\r\n\r\n/**\r\n * Recursively convert any node or its contents to native JavaScript\r\n *\r\n * @param value - The input value\r\n * @param arg - If `value` defines a `toJSON()` method, use this\r\n *   as its first argument\r\n * @param ctx - Conversion context, originally set in Document#toJS(). If\r\n *   `{ keep: true }` is not set, output should be suitable for JSON\r\n *   stringification.\r\n */\r\nfunction toJS(value, arg, ctx) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n    if (Array.isArray(value))\r\n        return value.map((v, i) => toJS(v, String(i), ctx));\r\n    if (value && typeof value.toJSON === 'function') {\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n        if (!ctx || !hasAnchor(value))\r\n            return value.toJSON(arg, ctx);\r\n        const data = { aliasCount: 0, count: 1, res: undefined };\r\n        ctx.anchors.set(value, data);\r\n        ctx.onCreate = res => {\r\n            data.res = res;\r\n            delete ctx.onCreate;\r\n        };\r\n        const res = value.toJSON(arg, ctx);\r\n        if (ctx.onCreate)\r\n            ctx.onCreate(res);\r\n        return res;\r\n    }\r\n    if (typeof value === 'bigint' && !ctx?.keep)\r\n        return Number(value);\r\n    return value;\r\n}\r\n\r\nconst isScalarValue = (value) => !value || (typeof value !== 'function' && typeof value !== 'object');\r\nclass Scalar extends NodeBase {\r\n    constructor(value) {\r\n        super(SCALAR$1);\r\n        this.value = value;\r\n    }\r\n    toJSON(arg, ctx) {\r\n        return ctx?.keep ? this.value : toJS(this.value, arg, ctx);\r\n    }\r\n    toString() {\r\n        return String(this.value);\r\n    }\r\n}\r\nScalar.BLOCK_FOLDED = 'BLOCK_FOLDED';\r\nScalar.BLOCK_LITERAL = 'BLOCK_LITERAL';\r\nScalar.PLAIN = 'PLAIN';\r\nScalar.QUOTE_DOUBLE = 'QUOTE_DOUBLE';\r\nScalar.QUOTE_SINGLE = 'QUOTE_SINGLE';\r\n\r\nconst defaultTagPrefix = 'tag:yaml.org,2002:';\r\nfunction findTagObject(value, tagName, tags) {\r\n    if (tagName) {\r\n        const match = tags.filter(t => t.tag === tagName);\r\n        const tagObj = match.find(t => !t.format) ?? match[0];\r\n        if (!tagObj)\r\n            throw new Error(`Tag ${tagName} not found`);\r\n        return tagObj;\r\n    }\r\n    return tags.find(t => t.identify?.(value) && !t.format);\r\n}\r\nfunction createNode(value, tagName, ctx) {\r\n    if (isDocument(value))\r\n        value = value.contents;\r\n    if (isNode(value))\r\n        return value;\r\n    if (isPair(value)) {\r\n        const map = ctx.schema[MAP].createNode?.(ctx.schema, null, ctx);\r\n        map.items.push(value);\r\n        return map;\r\n    }\r\n    if (value instanceof String ||\r\n        value instanceof Number ||\r\n        value instanceof Boolean ||\r\n        (typeof BigInt === 'function' && value instanceof BigInt) // not supported everywhere\r\n    ) {\r\n        // https://tc39.es/ecma262/#sec-serializejsonproperty\r\n        value = value.valueOf();\r\n    }\r\n    const { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;\r\n    // Detect duplicate references to the same object & use Alias nodes for all\r\n    // after first. The `ref` wrapper allows for circular references to resolve.\r\n    let ref = undefined;\r\n    if (aliasDuplicateObjects && value && typeof value === 'object') {\r\n        ref = sourceObjects.get(value);\r\n        if (ref) {\r\n            if (!ref.anchor)\r\n                ref.anchor = onAnchor(value);\r\n            return new Alias(ref.anchor);\r\n        }\r\n        else {\r\n            ref = { anchor: null, node: null };\r\n            sourceObjects.set(value, ref);\r\n        }\r\n    }\r\n    if (tagName?.startsWith('!!'))\r\n        tagName = defaultTagPrefix + tagName.slice(2);\r\n    let tagObj = findTagObject(value, tagName, schema.tags);\r\n    if (!tagObj) {\r\n        if (value && typeof value.toJSON === 'function') {\r\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n            value = value.toJSON();\r\n        }\r\n        if (!value || typeof value !== 'object') {\r\n            const node = new Scalar(value);\r\n            if (ref)\r\n                ref.node = node;\r\n            return node;\r\n        }\r\n        tagObj =\r\n            value instanceof Map\r\n                ? schema[MAP]\r\n                : Symbol.iterator in Object(value)\r\n                    ? schema[SEQ]\r\n                    : schema[MAP];\r\n    }\r\n    if (onTagObj) {\r\n        onTagObj(tagObj);\r\n        delete ctx.onTagObj;\r\n    }\r\n    const node = tagObj?.createNode\r\n        ? tagObj.createNode(ctx.schema, value, ctx)\r\n        : new Scalar(value);\r\n    if (tagName)\r\n        node.tag = tagName;\r\n    if (ref)\r\n        ref.node = node;\r\n    return node;\r\n}\r\n\r\nfunction collectionFromPath(schema, path, value) {\r\n    let v = value;\r\n    for (let i = path.length - 1; i >= 0; --i) {\r\n        const k = path[i];\r\n        if (typeof k === 'number' && Number.isInteger(k) && k >= 0) {\r\n            const a = [];\r\n            a[k] = v;\r\n            v = a;\r\n        }\r\n        else {\r\n            v = new Map([[k, v]]);\r\n        }\r\n    }\r\n    return createNode(v, undefined, {\r\n        aliasDuplicateObjects: false,\r\n        keepUndefined: false,\r\n        onAnchor: () => {\r\n            throw new Error('This should not happen, please report a bug.');\r\n        },\r\n        schema,\r\n        sourceObjects: new Map()\r\n    });\r\n}\r\n// Type guard is intentionally a little wrong so as to be more useful,\r\n// as it does not cover untypable empty non-string iterables (e.g. []).\r\nconst isEmptyPath = (path) => path == null ||\r\n    (typeof path === 'object' && !!path[Symbol.iterator]().next().done);\r\nclass Collection extends NodeBase {\r\n    constructor(type, schema) {\r\n        super(type);\r\n        Object.defineProperty(this, 'schema', {\r\n            value: schema,\r\n            configurable: true,\r\n            enumerable: false,\r\n            writable: true\r\n        });\r\n    }\r\n    /**\r\n     * Create a copy of this collection.\r\n     *\r\n     * @param schema - If defined, overwrites the original's schema\r\n     */\r\n    clone(schema) {\r\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\r\n        if (schema)\r\n            copy.schema = schema;\r\n        copy.items = copy.items.map(it => isNode(it) || isPair(it) ? it.clone(schema) : it);\r\n        if (this.range)\r\n            copy.range = this.range.slice();\r\n        return copy;\r\n    }\r\n    /**\r\n     * Adds a value to the collection. For `!!map` and `!!omap` the value must\r\n     * be a Pair instance or a `{ key, value }` object, which may not have a key\r\n     * that already exists in the map.\r\n     */\r\n    addIn(path, value) {\r\n        if (isEmptyPath(path))\r\n            this.add(value);\r\n        else {\r\n            const [key, ...rest] = path;\r\n            const node = this.get(key, true);\r\n            if (isCollection$1(node))\r\n                node.addIn(rest, value);\r\n            else if (node === undefined && this.schema)\r\n                this.set(key, collectionFromPath(this.schema, rest, value));\r\n            else\r\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\r\n        }\r\n    }\r\n    /**\r\n     * Removes a value from the collection.\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    deleteIn(path) {\r\n        const [key, ...rest] = path;\r\n        if (rest.length === 0)\r\n            return this.delete(key);\r\n        const node = this.get(key, true);\r\n        if (isCollection$1(node))\r\n            return node.deleteIn(rest);\r\n        else\r\n            throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\r\n    }\r\n    /**\r\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\r\n     * scalar values from their surrounding node; to disable set `keepScalar` to\r\n     * `true` (collections are always returned intact).\r\n     */\r\n    getIn(path, keepScalar) {\r\n        const [key, ...rest] = path;\r\n        const node = this.get(key, true);\r\n        if (rest.length === 0)\r\n            return !keepScalar && isScalar$1(node) ? node.value : node;\r\n        else\r\n            return isCollection$1(node) ? node.getIn(rest, keepScalar) : undefined;\r\n    }\r\n    hasAllNullValues(allowScalar) {\r\n        return this.items.every(node => {\r\n            if (!isPair(node))\r\n                return false;\r\n            const n = node.value;\r\n            return (n == null ||\r\n                (allowScalar &&\r\n                    isScalar$1(n) &&\r\n                    n.value == null &&\r\n                    !n.commentBefore &&\r\n                    !n.comment &&\r\n                    !n.tag));\r\n        });\r\n    }\r\n    /**\r\n     * Checks if the collection includes a value with the key `key`.\r\n     */\r\n    hasIn(path) {\r\n        const [key, ...rest] = path;\r\n        if (rest.length === 0)\r\n            return this.has(key);\r\n        const node = this.get(key, true);\r\n        return isCollection$1(node) ? node.hasIn(rest) : false;\r\n    }\r\n    /**\r\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     */\r\n    setIn(path, value) {\r\n        const [key, ...rest] = path;\r\n        if (rest.length === 0) {\r\n            this.set(key, value);\r\n        }\r\n        else {\r\n            const node = this.get(key, true);\r\n            if (isCollection$1(node))\r\n                node.setIn(rest, value);\r\n            else if (node === undefined && this.schema)\r\n                this.set(key, collectionFromPath(this.schema, rest, value));\r\n            else\r\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\r\n        }\r\n    }\r\n}\r\nCollection.maxFlowStringSingleLineLength = 60;\r\n\r\n/**\r\n * Stringifies a comment.\r\n *\r\n * Empty comment lines are left empty,\r\n * lines consisting of a single space are replaced by `#`,\r\n * and all other lines are prefixed with a `#`.\r\n */\r\nconst stringifyComment = (str) => str.replace(/^(?!$)(?: $)?/gm, '#');\r\nfunction indentComment(comment, indent) {\r\n    if (/^\\n+$/.test(comment))\r\n        return comment.substring(1);\r\n    return indent ? comment.replace(/^(?! *$)/gm, indent) : comment;\r\n}\r\nconst lineComment = (str, indent, comment) => str.endsWith('\\n')\r\n    ? indentComment(comment, indent)\r\n    : comment.includes('\\n')\r\n        ? '\\n' + indentComment(comment, indent)\r\n        : (str.endsWith(' ') ? '' : ' ') + comment;\r\n\r\nconst FOLD_FLOW = 'flow';\r\nconst FOLD_BLOCK = 'block';\r\nconst FOLD_QUOTED = 'quoted';\r\n/**\r\n * Tries to keep input at up to `lineWidth` characters, splitting only on spaces\r\n * not followed by newlines or spaces unless `mode` is `'quoted'`. Lines are\r\n * terminated with `\\n` and started with `indent`.\r\n */\r\nfunction foldFlowLines(text, indent, mode = 'flow', { indentAtStart, lineWidth = 80, minContentWidth = 20, onFold, onOverflow } = {}) {\r\n    if (!lineWidth || lineWidth < 0)\r\n        return text;\r\n    const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);\r\n    if (text.length <= endStep)\r\n        return text;\r\n    const folds = [];\r\n    const escapedFolds = {};\r\n    let end = lineWidth - indent.length;\r\n    if (typeof indentAtStart === 'number') {\r\n        if (indentAtStart > lineWidth - Math.max(2, minContentWidth))\r\n            folds.push(0);\r\n        else\r\n            end = lineWidth - indentAtStart;\r\n    }\r\n    let split = undefined;\r\n    let prev = undefined;\r\n    let overflow = false;\r\n    let i = -1;\r\n    let escStart = -1;\r\n    let escEnd = -1;\r\n    if (mode === FOLD_BLOCK) {\r\n        i = consumeMoreIndentedLines(text, i);\r\n        if (i !== -1)\r\n            end = i + endStep;\r\n    }\r\n    for (let ch; (ch = text[(i += 1)]);) {\r\n        if (mode === FOLD_QUOTED && ch === '\\\\') {\r\n            escStart = i;\r\n            switch (text[i + 1]) {\r\n                case 'x':\r\n                    i += 3;\r\n                    break;\r\n                case 'u':\r\n                    i += 5;\r\n                    break;\r\n                case 'U':\r\n                    i += 9;\r\n                    break;\r\n                default:\r\n                    i += 1;\r\n            }\r\n            escEnd = i;\r\n        }\r\n        if (ch === '\\n') {\r\n            if (mode === FOLD_BLOCK)\r\n                i = consumeMoreIndentedLines(text, i);\r\n            end = i + endStep;\r\n            split = undefined;\r\n        }\r\n        else {\r\n            if (ch === ' ' &&\r\n                prev &&\r\n                prev !== ' ' &&\r\n                prev !== '\\n' &&\r\n                prev !== '\\t') {\r\n                // space surrounded by non-space can be replaced with newline + indent\r\n                const next = text[i + 1];\r\n                if (next && next !== ' ' && next !== '\\n' && next !== '\\t')\r\n                    split = i;\r\n            }\r\n            if (i >= end) {\r\n                if (split) {\r\n                    folds.push(split);\r\n                    end = split + endStep;\r\n                    split = undefined;\r\n                }\r\n                else if (mode === FOLD_QUOTED) {\r\n                    // white-space collected at end may stretch past lineWidth\r\n                    while (prev === ' ' || prev === '\\t') {\r\n                        prev = ch;\r\n                        ch = text[(i += 1)];\r\n                        overflow = true;\r\n                    }\r\n                    // Account for newline escape, but don't break preceding escape\r\n                    const j = i > escEnd + 1 ? i - 2 : escStart - 1;\r\n                    // Bail out if lineWidth & minContentWidth are shorter than an escape string\r\n                    if (escapedFolds[j])\r\n                        return text;\r\n                    folds.push(j);\r\n                    escapedFolds[j] = true;\r\n                    end = j + endStep;\r\n                    split = undefined;\r\n                }\r\n                else {\r\n                    overflow = true;\r\n                }\r\n            }\r\n        }\r\n        prev = ch;\r\n    }\r\n    if (overflow && onOverflow)\r\n        onOverflow();\r\n    if (folds.length === 0)\r\n        return text;\r\n    if (onFold)\r\n        onFold();\r\n    let res = text.slice(0, folds[0]);\r\n    for (let i = 0; i < folds.length; ++i) {\r\n        const fold = folds[i];\r\n        const end = folds[i + 1] || text.length;\r\n        if (fold === 0)\r\n            res = `\\n${indent}${text.slice(0, end)}`;\r\n        else {\r\n            if (mode === FOLD_QUOTED && escapedFolds[fold])\r\n                res += `${text[fold]}\\\\`;\r\n            res += `\\n${indent}${text.slice(fold + 1, end)}`;\r\n        }\r\n    }\r\n    return res;\r\n}\r\n/**\r\n * Presumes `i + 1` is at the start of a line\r\n * @returns index of last newline in more-indented block\r\n */\r\nfunction consumeMoreIndentedLines(text, i) {\r\n    let ch = text[i + 1];\r\n    while (ch === ' ' || ch === '\\t') {\r\n        do {\r\n            ch = text[(i += 1)];\r\n        } while (ch && ch !== '\\n');\r\n        ch = text[i + 1];\r\n    }\r\n    return i;\r\n}\r\n\r\nconst getFoldOptions = (ctx) => ({\r\n    indentAtStart: ctx.indentAtStart,\r\n    lineWidth: ctx.options.lineWidth,\r\n    minContentWidth: ctx.options.minContentWidth\r\n});\r\n// Also checks for lines starting with %, as parsing the output as YAML 1.1 will\r\n// presume that's starting a new document.\r\nconst containsDocumentMarker = (str) => /^(%|---|\\.\\.\\.)/m.test(str);\r\nfunction lineLengthOverLimit(str, lineWidth, indentLength) {\r\n    if (!lineWidth || lineWidth < 0)\r\n        return false;\r\n    const limit = lineWidth - indentLength;\r\n    const strLen = str.length;\r\n    if (strLen <= limit)\r\n        return false;\r\n    for (let i = 0, start = 0; i < strLen; ++i) {\r\n        if (str[i] === '\\n') {\r\n            if (i - start > limit)\r\n                return true;\r\n            start = i + 1;\r\n            if (strLen - start <= limit)\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction doubleQuotedString(value, ctx) {\r\n    const json = JSON.stringify(value);\r\n    if (ctx.options.doubleQuotedAsJSON)\r\n        return json;\r\n    const { implicitKey } = ctx;\r\n    const minMultiLineLength = ctx.options.doubleQuotedMinMultiLineLength;\r\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\r\n    let str = '';\r\n    let start = 0;\r\n    for (let i = 0, ch = json[i]; ch; ch = json[++i]) {\r\n        if (ch === ' ' && json[i + 1] === '\\\\' && json[i + 2] === 'n') {\r\n            // space before newline needs to be escaped to not be folded\r\n            str += json.slice(start, i) + '\\\\ ';\r\n            i += 1;\r\n            start = i;\r\n            ch = '\\\\';\r\n        }\r\n        if (ch === '\\\\')\r\n            switch (json[i + 1]) {\r\n                case 'u':\r\n                    {\r\n                        str += json.slice(start, i);\r\n                        const code = json.substr(i + 2, 4);\r\n                        switch (code) {\r\n                            case '0000':\r\n                                str += '\\\\0';\r\n                                break;\r\n                            case '0007':\r\n                                str += '\\\\a';\r\n                                break;\r\n                            case '000b':\r\n                                str += '\\\\v';\r\n                                break;\r\n                            case '001b':\r\n                                str += '\\\\e';\r\n                                break;\r\n                            case '0085':\r\n                                str += '\\\\N';\r\n                                break;\r\n                            case '00a0':\r\n                                str += '\\\\_';\r\n                                break;\r\n                            case '2028':\r\n                                str += '\\\\L';\r\n                                break;\r\n                            case '2029':\r\n                                str += '\\\\P';\r\n                                break;\r\n                            default:\r\n                                if (code.substr(0, 2) === '00')\r\n                                    str += '\\\\x' + code.substr(2);\r\n                                else\r\n                                    str += json.substr(i, 6);\r\n                        }\r\n                        i += 5;\r\n                        start = i + 1;\r\n                    }\r\n                    break;\r\n                case 'n':\r\n                    if (implicitKey ||\r\n                        json[i + 2] === '\"' ||\r\n                        json.length < minMultiLineLength) {\r\n                        i += 1;\r\n                    }\r\n                    else {\r\n                        // folding will eat first newline\r\n                        str += json.slice(start, i) + '\\n\\n';\r\n                        while (json[i + 2] === '\\\\' &&\r\n                            json[i + 3] === 'n' &&\r\n                            json[i + 4] !== '\"') {\r\n                            str += '\\n';\r\n                            i += 2;\r\n                        }\r\n                        str += indent;\r\n                        // space after newline needs to be escaped to not be folded\r\n                        if (json[i + 2] === ' ')\r\n                            str += '\\\\';\r\n                        i += 1;\r\n                        start = i + 1;\r\n                    }\r\n                    break;\r\n                default:\r\n                    i += 1;\r\n            }\r\n    }\r\n    str = start ? str + json.slice(start) : json;\r\n    return implicitKey\r\n        ? str\r\n        : foldFlowLines(str, indent, FOLD_QUOTED, getFoldOptions(ctx));\r\n}\r\nfunction singleQuotedString(value, ctx) {\r\n    if (ctx.options.singleQuote === false ||\r\n        (ctx.implicitKey && value.includes('\\n')) ||\r\n        /[ \\t]\\n|\\n[ \\t]/.test(value) // single quoted string can't have leading or trailing whitespace around newline\r\n    )\r\n        return doubleQuotedString(value, ctx);\r\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\r\n    const res = \"'\" + value.replace(/'/g, \"''\").replace(/\\n+/g, `$&\\n${indent}`) + \"'\";\r\n    return ctx.implicitKey\r\n        ? res\r\n        : foldFlowLines(res, indent, FOLD_FLOW, getFoldOptions(ctx));\r\n}\r\nfunction quotedString(value, ctx) {\r\n    const { singleQuote } = ctx.options;\r\n    let qs;\r\n    if (singleQuote === false)\r\n        qs = doubleQuotedString;\r\n    else {\r\n        const hasDouble = value.includes('\"');\r\n        const hasSingle = value.includes(\"'\");\r\n        if (hasDouble && !hasSingle)\r\n            qs = singleQuotedString;\r\n        else if (hasSingle && !hasDouble)\r\n            qs = doubleQuotedString;\r\n        else\r\n            qs = singleQuote ? singleQuotedString : doubleQuotedString;\r\n    }\r\n    return qs(value, ctx);\r\n}\r\nfunction blockString({ comment, type, value }, ctx, onComment, onChompKeep) {\r\n    const { blockQuote, commentString, lineWidth } = ctx.options;\r\n    // 1. Block can't end in whitespace unless the last line is non-empty.\r\n    // 2. Strings consisting of only whitespace are best rendered explicitly.\r\n    if (!blockQuote || /\\n[\\t ]+$/.test(value) || /^\\s*$/.test(value)) {\r\n        return quotedString(value, ctx);\r\n    }\r\n    const indent = ctx.indent ||\r\n        (ctx.forceBlockIndent || containsDocumentMarker(value) ? '  ' : '');\r\n    const literal = blockQuote === 'literal'\r\n        ? true\r\n        : blockQuote === 'folded' || type === Scalar.BLOCK_FOLDED\r\n            ? false\r\n            : type === Scalar.BLOCK_LITERAL\r\n                ? true\r\n                : !lineLengthOverLimit(value, lineWidth, indent.length);\r\n    if (!value)\r\n        return literal ? '|\\n' : '>\\n';\r\n    // determine chomping from whitespace at value end\r\n    let chomp;\r\n    let endStart;\r\n    for (endStart = value.length; endStart > 0; --endStart) {\r\n        const ch = value[endStart - 1];\r\n        if (ch !== '\\n' && ch !== '\\t' && ch !== ' ')\r\n            break;\r\n    }\r\n    let end = value.substring(endStart);\r\n    const endNlPos = end.indexOf('\\n');\r\n    if (endNlPos === -1) {\r\n        chomp = '-'; // strip\r\n    }\r\n    else if (value === end || endNlPos !== end.length - 1) {\r\n        chomp = '+'; // keep\r\n        if (onChompKeep)\r\n            onChompKeep();\r\n    }\r\n    else {\r\n        chomp = ''; // clip\r\n    }\r\n    if (end) {\r\n        value = value.slice(0, -end.length);\r\n        if (end[end.length - 1] === '\\n')\r\n            end = end.slice(0, -1);\r\n        end = end.replace(/\\n+(?!\\n|$)/g, `$&${indent}`);\r\n    }\r\n    // determine indent indicator from whitespace at value start\r\n    let startWithSpace = false;\r\n    let startEnd;\r\n    let startNlPos = -1;\r\n    for (startEnd = 0; startEnd < value.length; ++startEnd) {\r\n        const ch = value[startEnd];\r\n        if (ch === ' ')\r\n            startWithSpace = true;\r\n        else if (ch === '\\n')\r\n            startNlPos = startEnd;\r\n        else\r\n            break;\r\n    }\r\n    let start = value.substring(0, startNlPos < startEnd ? startNlPos + 1 : startEnd);\r\n    if (start) {\r\n        value = value.substring(start.length);\r\n        start = start.replace(/\\n+/g, `$&${indent}`);\r\n    }\r\n    const indentSize = indent ? '2' : '1'; // root is at -1\r\n    let header = (literal ? '|' : '>') + (startWithSpace ? indentSize : '') + chomp;\r\n    if (comment) {\r\n        header += ' ' + commentString(comment.replace(/ ?[\\r\\n]+/g, ' '));\r\n        if (onComment)\r\n            onComment();\r\n    }\r\n    if (literal) {\r\n        value = value.replace(/\\n+/g, `$&${indent}`);\r\n        return `${header}\\n${indent}${start}${value}${end}`;\r\n    }\r\n    value = value\r\n        .replace(/\\n+/g, '\\n$&')\r\n        .replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g, '$1$2') // more-indented lines aren't folded\r\n        //                ^ more-ind. ^ empty     ^ capture next empty lines only at end of indent\r\n        .replace(/\\n+/g, `$&${indent}`);\r\n    const body = foldFlowLines(`${start}${value}${end}`, indent, FOLD_BLOCK, getFoldOptions(ctx));\r\n    return `${header}\\n${indent}${body}`;\r\n}\r\nfunction plainString(item, ctx, onComment, onChompKeep) {\r\n    const { type, value } = item;\r\n    const { actualString, implicitKey, indent, inFlow } = ctx;\r\n    if ((implicitKey && /[\\n[\\]{},]/.test(value)) ||\r\n        (inFlow && /[[\\]{},]/.test(value))) {\r\n        return quotedString(value, ctx);\r\n    }\r\n    if (!value ||\r\n        /^[\\n\\t ,[\\]{}#&*!|>'\"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(value)) {\r\n        // not allowed:\r\n        // - empty string, '-' or '?'\r\n        // - start with an indicator character (except [?:-]) or /[?-] /\r\n        // - '\\n ', ': ' or ' \\n' anywhere\r\n        // - '#' not preceded by a non-space char\r\n        // - end with ' ' or ':'\r\n        return implicitKey || inFlow || !value.includes('\\n')\r\n            ? quotedString(value, ctx)\r\n            : blockString(item, ctx, onComment, onChompKeep);\r\n    }\r\n    if (!implicitKey &&\r\n        !inFlow &&\r\n        type !== Scalar.PLAIN &&\r\n        value.includes('\\n')) {\r\n        // Where allowed & type not set explicitly, prefer block style for multiline strings\r\n        return blockString(item, ctx, onComment, onChompKeep);\r\n    }\r\n    if (indent === '' && containsDocumentMarker(value)) {\r\n        ctx.forceBlockIndent = true;\r\n        return blockString(item, ctx, onComment, onChompKeep);\r\n    }\r\n    const str = value.replace(/\\n+/g, `$&\\n${indent}`);\r\n    // Verify that output will be parsed as a string, as e.g. plain numbers and\r\n    // booleans get parsed with those types in v1.2 (e.g. '42', 'true' & '0.9e-3'),\r\n    // and others in v1.1.\r\n    if (actualString) {\r\n        const test = (tag) => tag.default && tag.tag !== 'tag:yaml.org,2002:str' && tag.test?.test(str);\r\n        const { compat, tags } = ctx.doc.schema;\r\n        if (tags.some(test) || compat?.some(test))\r\n            return quotedString(value, ctx);\r\n    }\r\n    return implicitKey\r\n        ? str\r\n        : foldFlowLines(str, indent, FOLD_FLOW, getFoldOptions(ctx));\r\n}\r\nfunction stringifyString(item, ctx, onComment, onChompKeep) {\r\n    const { implicitKey, inFlow } = ctx;\r\n    const ss = typeof item.value === 'string'\r\n        ? item\r\n        : Object.assign({}, item, { value: String(item.value) });\r\n    let { type } = item;\r\n    if (type !== Scalar.QUOTE_DOUBLE) {\r\n        // force double quotes on control characters & unpaired surrogates\r\n        if (/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(ss.value))\r\n            type = Scalar.QUOTE_DOUBLE;\r\n    }\r\n    const _stringify = (_type) => {\r\n        switch (_type) {\r\n            case Scalar.BLOCK_FOLDED:\r\n            case Scalar.BLOCK_LITERAL:\r\n                return implicitKey || inFlow\r\n                    ? quotedString(ss.value, ctx) // blocks are not valid inside flow containers\r\n                    : blockString(ss, ctx, onComment, onChompKeep);\r\n            case Scalar.QUOTE_DOUBLE:\r\n                return doubleQuotedString(ss.value, ctx);\r\n            case Scalar.QUOTE_SINGLE:\r\n                return singleQuotedString(ss.value, ctx);\r\n            case Scalar.PLAIN:\r\n                return plainString(ss, ctx, onComment, onChompKeep);\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n    let res = _stringify(type);\r\n    if (res === null) {\r\n        const { defaultKeyType, defaultStringType } = ctx.options;\r\n        const t = (implicitKey && defaultKeyType) || defaultStringType;\r\n        res = _stringify(t);\r\n        if (res === null)\r\n            throw new Error(`Unsupported default string type ${t}`);\r\n    }\r\n    return res;\r\n}\r\n\r\nfunction createStringifyContext(doc, options) {\r\n    const opt = Object.assign({\r\n        blockQuote: true,\r\n        commentString: stringifyComment,\r\n        defaultKeyType: null,\r\n        defaultStringType: 'PLAIN',\r\n        directives: null,\r\n        doubleQuotedAsJSON: false,\r\n        doubleQuotedMinMultiLineLength: 40,\r\n        falseStr: 'false',\r\n        indentSeq: true,\r\n        lineWidth: 80,\r\n        minContentWidth: 20,\r\n        nullStr: 'null',\r\n        simpleKeys: false,\r\n        singleQuote: null,\r\n        trueStr: 'true',\r\n        verifyAliasOrder: true\r\n    }, doc.schema.toStringOptions, options);\r\n    let inFlow;\r\n    switch (opt.collectionStyle) {\r\n        case 'block':\r\n            inFlow = false;\r\n            break;\r\n        case 'flow':\r\n            inFlow = true;\r\n            break;\r\n        default:\r\n            inFlow = null;\r\n    }\r\n    return {\r\n        anchors: new Set(),\r\n        doc,\r\n        indent: '',\r\n        indentStep: typeof opt.indent === 'number' ? ' '.repeat(opt.indent) : '  ',\r\n        inFlow,\r\n        options: opt\r\n    };\r\n}\r\nfunction getTagObject(tags, item) {\r\n    if (item.tag) {\r\n        const match = tags.filter(t => t.tag === item.tag);\r\n        if (match.length > 0)\r\n            return match.find(t => t.format === item.format) ?? match[0];\r\n    }\r\n    let tagObj = undefined;\r\n    let obj;\r\n    if (isScalar$1(item)) {\r\n        obj = item.value;\r\n        const match = tags.filter(t => t.identify?.(obj));\r\n        tagObj =\r\n            match.find(t => t.format === item.format) ?? match.find(t => !t.format);\r\n    }\r\n    else {\r\n        obj = item;\r\n        tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);\r\n    }\r\n    if (!tagObj) {\r\n        const name = obj?.constructor?.name ?? typeof obj;\r\n        throw new Error(`Tag not resolved for ${name} value`);\r\n    }\r\n    return tagObj;\r\n}\r\n// needs to be called before value stringifier to allow for circular anchor refs\r\nfunction stringifyProps(node, tagObj, { anchors, doc }) {\r\n    if (!doc.directives)\r\n        return '';\r\n    const props = [];\r\n    const anchor = (isScalar$1(node) || isCollection$1(node)) && node.anchor;\r\n    if (anchor && anchorIsValid(anchor)) {\r\n        anchors.add(anchor);\r\n        props.push(`&${anchor}`);\r\n    }\r\n    const tag = node.tag ? node.tag : tagObj.default ? null : tagObj.tag;\r\n    if (tag)\r\n        props.push(doc.directives.tagString(tag));\r\n    return props.join(' ');\r\n}\r\nfunction stringify$3(item, ctx, onComment, onChompKeep) {\r\n    if (isPair(item))\r\n        return item.toString(ctx, onComment, onChompKeep);\r\n    if (isAlias(item)) {\r\n        if (ctx.doc.directives)\r\n            return item.toString(ctx);\r\n        if (ctx.resolvedAliases?.has(item)) {\r\n            throw new TypeError(`Cannot stringify circular structure without alias nodes`);\r\n        }\r\n        else {\r\n            if (ctx.resolvedAliases)\r\n                ctx.resolvedAliases.add(item);\r\n            else\r\n                ctx.resolvedAliases = new Set([item]);\r\n            item = item.resolve(ctx.doc);\r\n        }\r\n    }\r\n    let tagObj = undefined;\r\n    const node = isNode(item)\r\n        ? item\r\n        : ctx.doc.createNode(item, { onTagObj: o => (tagObj = o) });\r\n    if (!tagObj)\r\n        tagObj = getTagObject(ctx.doc.schema.tags, node);\r\n    const props = stringifyProps(node, tagObj, ctx);\r\n    if (props.length > 0)\r\n        ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;\r\n    const str = typeof tagObj.stringify === 'function'\r\n        ? tagObj.stringify(node, ctx, onComment, onChompKeep)\r\n        : isScalar$1(node)\r\n            ? stringifyString(node, ctx, onComment, onChompKeep)\r\n            : node.toString(ctx, onComment, onChompKeep);\r\n    if (!props)\r\n        return str;\r\n    return isScalar$1(node) || str[0] === '{' || str[0] === '['\r\n        ? `${props} ${str}`\r\n        : `${props}\\n${ctx.indent}${str}`;\r\n}\r\n\r\nfunction stringifyPair({ key, value }, ctx, onComment, onChompKeep) {\r\n    const { allNullValues, doc, indent, indentStep, options: { commentString, indentSeq, simpleKeys } } = ctx;\r\n    let keyComment = (isNode(key) && key.comment) || null;\r\n    if (simpleKeys) {\r\n        if (keyComment) {\r\n            throw new Error('With simple keys, key nodes cannot have comments');\r\n        }\r\n        if (isCollection$1(key)) {\r\n            const msg = 'With simple keys, collection cannot be used as a key value';\r\n            throw new Error(msg);\r\n        }\r\n    }\r\n    let explicitKey = !simpleKeys &&\r\n        (!key ||\r\n            (keyComment && value == null && !ctx.inFlow) ||\r\n            isCollection$1(key) ||\r\n            (isScalar$1(key)\r\n                ? key.type === Scalar.BLOCK_FOLDED || key.type === Scalar.BLOCK_LITERAL\r\n                : typeof key === 'object'));\r\n    ctx = Object.assign({}, ctx, {\r\n        allNullValues: false,\r\n        implicitKey: !explicitKey && (simpleKeys || !allNullValues),\r\n        indent: indent + indentStep\r\n    });\r\n    let keyCommentDone = false;\r\n    let chompKeep = false;\r\n    let str = stringify$3(key, ctx, () => (keyCommentDone = true), () => (chompKeep = true));\r\n    if (!explicitKey && !ctx.inFlow && str.length > 1024) {\r\n        if (simpleKeys)\r\n            throw new Error('With simple keys, single line scalar must not span more than 1024 characters');\r\n        explicitKey = true;\r\n    }\r\n    if (ctx.inFlow) {\r\n        if (allNullValues || value == null) {\r\n            if (keyCommentDone && onComment)\r\n                onComment();\r\n            return str === '' ? '?' : explicitKey ? `? ${str}` : str;\r\n        }\r\n    }\r\n    else if ((allNullValues && !simpleKeys) || (value == null && explicitKey)) {\r\n        str = `? ${str}`;\r\n        if (keyComment && !keyCommentDone) {\r\n            str += lineComment(str, ctx.indent, commentString(keyComment));\r\n        }\r\n        else if (chompKeep && onChompKeep)\r\n            onChompKeep();\r\n        return str;\r\n    }\r\n    if (keyCommentDone)\r\n        keyComment = null;\r\n    if (explicitKey) {\r\n        if (keyComment)\r\n            str += lineComment(str, ctx.indent, commentString(keyComment));\r\n        str = `? ${str}\\n${indent}:`;\r\n    }\r\n    else {\r\n        str = `${str}:`;\r\n        if (keyComment)\r\n            str += lineComment(str, ctx.indent, commentString(keyComment));\r\n    }\r\n    let vcb = '';\r\n    let valueComment = null;\r\n    if (isNode(value)) {\r\n        if (value.spaceBefore)\r\n            vcb = '\\n';\r\n        if (value.commentBefore) {\r\n            const cs = commentString(value.commentBefore);\r\n            vcb += `\\n${indentComment(cs, ctx.indent)}`;\r\n        }\r\n        valueComment = value.comment;\r\n    }\r\n    else if (value && typeof value === 'object') {\r\n        value = doc.createNode(value);\r\n    }\r\n    ctx.implicitKey = false;\r\n    if (!explicitKey && !keyComment && isScalar$1(value))\r\n        ctx.indentAtStart = str.length + 1;\r\n    chompKeep = false;\r\n    if (!indentSeq &&\r\n        indentStep.length >= 2 &&\r\n        !ctx.inFlow &&\r\n        !explicitKey &&\r\n        isSeq(value) &&\r\n        !value.flow &&\r\n        !value.tag &&\r\n        !value.anchor) {\r\n        // If indentSeq === false, consider '- ' as part of indentation where possible\r\n        ctx.indent = ctx.indent.substr(2);\r\n    }\r\n    let valueCommentDone = false;\r\n    const valueStr = stringify$3(value, ctx, () => (valueCommentDone = true), () => (chompKeep = true));\r\n    let ws = ' ';\r\n    if (vcb || keyComment) {\r\n        if (valueStr === '' && !ctx.inFlow)\r\n            ws = vcb === '\\n' ? '\\n\\n' : vcb;\r\n        else\r\n            ws = `${vcb}\\n${ctx.indent}`;\r\n    }\r\n    else if (!explicitKey && isCollection$1(value)) {\r\n        const flow = valueStr[0] === '[' || valueStr[0] === '{';\r\n        if (!flow || valueStr.includes('\\n'))\r\n            ws = `\\n${ctx.indent}`;\r\n    }\r\n    else if (valueStr === '' || valueStr[0] === '\\n')\r\n        ws = '';\r\n    str += ws + valueStr;\r\n    if (ctx.inFlow) {\r\n        if (valueCommentDone && onComment)\r\n            onComment();\r\n    }\r\n    else if (valueComment && !valueCommentDone) {\r\n        str += lineComment(str, ctx.indent, commentString(valueComment));\r\n    }\r\n    else if (chompKeep && onChompKeep) {\r\n        onChompKeep();\r\n    }\r\n    return str;\r\n}\r\n\r\nfunction warn(logLevel, warning) {\r\n    if (logLevel === 'debug' || logLevel === 'warn') {\r\n        if (typeof process !== 'undefined' && process.emitWarning)\r\n            process.emitWarning(warning);\r\n        else\r\n            console.warn(warning);\r\n    }\r\n}\r\n\r\nconst MERGE_KEY = '<<';\r\nfunction addPairToJSMap(ctx, map, { key, value }) {\r\n    if (ctx?.doc.schema.merge && isMergeKey(key)) {\r\n        value = isAlias(value) ? value.resolve(ctx.doc) : value;\r\n        if (isSeq(value))\r\n            for (const it of value.items)\r\n                mergeToJSMap(ctx, map, it);\r\n        else if (Array.isArray(value))\r\n            for (const it of value)\r\n                mergeToJSMap(ctx, map, it);\r\n        else\r\n            mergeToJSMap(ctx, map, value);\r\n    }\r\n    else {\r\n        const jsKey = toJS(key, '', ctx);\r\n        if (map instanceof Map) {\r\n            map.set(jsKey, toJS(value, jsKey, ctx));\r\n        }\r\n        else if (map instanceof Set) {\r\n            map.add(jsKey);\r\n        }\r\n        else {\r\n            const stringKey = stringifyKey(key, jsKey, ctx);\r\n            const jsValue = toJS(value, stringKey, ctx);\r\n            if (stringKey in map)\r\n                Object.defineProperty(map, stringKey, {\r\n                    value: jsValue,\r\n                    writable: true,\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n            else\r\n                map[stringKey] = jsValue;\r\n        }\r\n    }\r\n    return map;\r\n}\r\nconst isMergeKey = (key) => key === MERGE_KEY ||\r\n    (isScalar$1(key) &&\r\n        key.value === MERGE_KEY &&\r\n        (!key.type || key.type === Scalar.PLAIN));\r\n// If the value associated with a merge key is a single mapping node, each of\r\n// its key/value pairs is inserted into the current mapping, unless the key\r\n// already exists in it. If the value associated with the merge key is a\r\n// sequence, then this sequence is expected to contain mapping nodes and each\r\n// of these nodes is merged in turn according to its order in the sequence.\r\n// Keys in mapping nodes earlier in the sequence override keys specified in\r\n// later mapping nodes. -- http://yaml.org/type/merge.html\r\nfunction mergeToJSMap(ctx, map, value) {\r\n    const source = ctx && isAlias(value) ? value.resolve(ctx.doc) : value;\r\n    if (!isMap(source))\r\n        throw new Error('Merge sources must be maps or map aliases');\r\n    const srcMap = source.toJSON(null, ctx, Map);\r\n    for (const [key, value] of srcMap) {\r\n        if (map instanceof Map) {\r\n            if (!map.has(key))\r\n                map.set(key, value);\r\n        }\r\n        else if (map instanceof Set) {\r\n            map.add(key);\r\n        }\r\n        else if (!Object.prototype.hasOwnProperty.call(map, key)) {\r\n            Object.defineProperty(map, key, {\r\n                value,\r\n                writable: true,\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n        }\r\n    }\r\n    return map;\r\n}\r\nfunction stringifyKey(key, jsKey, ctx) {\r\n    if (jsKey === null)\r\n        return '';\r\n    if (typeof jsKey !== 'object')\r\n        return String(jsKey);\r\n    if (isNode(key) && ctx && ctx.doc) {\r\n        const strCtx = createStringifyContext(ctx.doc, {});\r\n        strCtx.anchors = new Set();\r\n        for (const node of ctx.anchors.keys())\r\n            strCtx.anchors.add(node.anchor);\r\n        strCtx.inFlow = true;\r\n        strCtx.inStringifyKey = true;\r\n        const strKey = key.toString(strCtx);\r\n        if (!ctx.mapKeyWarned) {\r\n            let jsonStr = JSON.stringify(strKey);\r\n            if (jsonStr.length > 40)\r\n                jsonStr = jsonStr.substring(0, 36) + '...\"';\r\n            warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);\r\n            ctx.mapKeyWarned = true;\r\n        }\r\n        return strKey;\r\n    }\r\n    return JSON.stringify(jsKey);\r\n}\r\n\r\nfunction createPair(key, value, ctx) {\r\n    const k = createNode(key, undefined, ctx);\r\n    const v = createNode(value, undefined, ctx);\r\n    return new Pair(k, v);\r\n}\r\nclass Pair {\r\n    constructor(key, value = null) {\r\n        Object.defineProperty(this, NODE_TYPE, { value: PAIR });\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    clone(schema) {\r\n        let { key, value } = this;\r\n        if (isNode(key))\r\n            key = key.clone(schema);\r\n        if (isNode(value))\r\n            value = value.clone(schema);\r\n        return new Pair(key, value);\r\n    }\r\n    toJSON(_, ctx) {\r\n        const pair = ctx?.mapAsMap ? new Map() : {};\r\n        return addPairToJSMap(ctx, pair, this);\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        return ctx?.doc\r\n            ? stringifyPair(this, ctx, onComment, onChompKeep)\r\n            : JSON.stringify(this);\r\n    }\r\n}\r\n\r\nfunction stringifyCollection(collection, ctx, options) {\r\n    const flow = ctx.inFlow ?? collection.flow;\r\n    const stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;\r\n    return stringify(collection, ctx, options);\r\n}\r\nfunction stringifyBlockCollection({ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }) {\r\n    const { indent, options: { commentString } } = ctx;\r\n    const itemCtx = Object.assign({}, ctx, { indent: itemIndent, type: null });\r\n    let chompKeep = false; // flag for the preceding node's status\r\n    const lines = [];\r\n    for (let i = 0; i < items.length; ++i) {\r\n        const item = items[i];\r\n        let comment = null;\r\n        if (isNode(item)) {\r\n            if (!chompKeep && item.spaceBefore)\r\n                lines.push('');\r\n            addCommentBefore(ctx, lines, item.commentBefore, chompKeep);\r\n            if (item.comment)\r\n                comment = item.comment;\r\n        }\r\n        else if (isPair(item)) {\r\n            const ik = isNode(item.key) ? item.key : null;\r\n            if (ik) {\r\n                if (!chompKeep && ik.spaceBefore)\r\n                    lines.push('');\r\n                addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);\r\n            }\r\n        }\r\n        chompKeep = false;\r\n        let str = stringify$3(item, itemCtx, () => (comment = null), () => (chompKeep = true));\r\n        if (comment)\r\n            str += lineComment(str, itemIndent, commentString(comment));\r\n        if (chompKeep && comment)\r\n            chompKeep = false;\r\n        lines.push(blockItemPrefix + str);\r\n    }\r\n    let str;\r\n    if (lines.length === 0) {\r\n        str = flowChars.start + flowChars.end;\r\n    }\r\n    else {\r\n        str = lines[0];\r\n        for (let i = 1; i < lines.length; ++i) {\r\n            const line = lines[i];\r\n            str += line ? `\\n${indent}${line}` : '\\n';\r\n        }\r\n    }\r\n    if (comment) {\r\n        str += '\\n' + indentComment(commentString(comment), indent);\r\n        if (onComment)\r\n            onComment();\r\n    }\r\n    else if (chompKeep && onChompKeep)\r\n        onChompKeep();\r\n    return str;\r\n}\r\nfunction stringifyFlowCollection({ comment, items }, ctx, { flowChars, itemIndent, onComment }) {\r\n    const { indent, indentStep, options: { commentString } } = ctx;\r\n    itemIndent += indentStep;\r\n    const itemCtx = Object.assign({}, ctx, {\r\n        indent: itemIndent,\r\n        inFlow: true,\r\n        type: null\r\n    });\r\n    let reqNewline = false;\r\n    let linesAtValue = 0;\r\n    const lines = [];\r\n    for (let i = 0; i < items.length; ++i) {\r\n        const item = items[i];\r\n        let comment = null;\r\n        if (isNode(item)) {\r\n            if (item.spaceBefore)\r\n                lines.push('');\r\n            addCommentBefore(ctx, lines, item.commentBefore, false);\r\n            if (item.comment)\r\n                comment = item.comment;\r\n        }\r\n        else if (isPair(item)) {\r\n            const ik = isNode(item.key) ? item.key : null;\r\n            if (ik) {\r\n                if (ik.spaceBefore)\r\n                    lines.push('');\r\n                addCommentBefore(ctx, lines, ik.commentBefore, false);\r\n                if (ik.comment)\r\n                    reqNewline = true;\r\n            }\r\n            const iv = isNode(item.value) ? item.value : null;\r\n            if (iv) {\r\n                if (iv.comment)\r\n                    comment = iv.comment;\r\n                if (iv.commentBefore)\r\n                    reqNewline = true;\r\n            }\r\n            else if (item.value == null && ik && ik.comment) {\r\n                comment = ik.comment;\r\n            }\r\n        }\r\n        if (comment)\r\n            reqNewline = true;\r\n        let str = stringify$3(item, itemCtx, () => (comment = null));\r\n        if (i < items.length - 1)\r\n            str += ',';\r\n        if (comment)\r\n            str += lineComment(str, itemIndent, commentString(comment));\r\n        if (!reqNewline && (lines.length > linesAtValue || str.includes('\\n')))\r\n            reqNewline = true;\r\n        lines.push(str);\r\n        linesAtValue = lines.length;\r\n    }\r\n    let str;\r\n    const { start, end } = flowChars;\r\n    if (lines.length === 0) {\r\n        str = start + end;\r\n    }\r\n    else {\r\n        if (!reqNewline) {\r\n            const len = lines.reduce((sum, line) => sum + line.length + 2, 2);\r\n            reqNewline = len > Collection.maxFlowStringSingleLineLength;\r\n        }\r\n        if (reqNewline) {\r\n            str = start;\r\n            for (const line of lines)\r\n                str += line ? `\\n${indentStep}${indent}${line}` : '\\n';\r\n            str += `\\n${indent}${end}`;\r\n        }\r\n        else {\r\n            str = `${start} ${lines.join(' ')} ${end}`;\r\n        }\r\n    }\r\n    if (comment) {\r\n        str += lineComment(str, commentString(comment), indent);\r\n        if (onComment)\r\n            onComment();\r\n    }\r\n    return str;\r\n}\r\nfunction addCommentBefore({ indent, options: { commentString } }, lines, comment, chompKeep) {\r\n    if (comment && chompKeep)\r\n        comment = comment.replace(/^\\n+/, '');\r\n    if (comment) {\r\n        const ic = indentComment(commentString(comment), indent);\r\n        lines.push(ic.trimStart()); // Avoid double indent on first line\r\n    }\r\n}\r\n\r\nfunction findPair(items, key) {\r\n    const k = isScalar$1(key) ? key.value : key;\r\n    for (const it of items) {\r\n        if (isPair(it)) {\r\n            if (it.key === key || it.key === k)\r\n                return it;\r\n            if (isScalar$1(it.key) && it.key.value === k)\r\n                return it;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nclass YAMLMap extends Collection {\r\n    constructor(schema) {\r\n        super(MAP, schema);\r\n        this.items = [];\r\n    }\r\n    static get tagName() {\r\n        return 'tag:yaml.org,2002:map';\r\n    }\r\n    /**\r\n     * Adds a value to the collection.\r\n     *\r\n     * @param overwrite - If not set `true`, using a key that is already in the\r\n     *   collection will throw. Otherwise, overwrites the previous value.\r\n     */\r\n    add(pair, overwrite) {\r\n        let _pair;\r\n        if (isPair(pair))\r\n            _pair = pair;\r\n        else if (!pair || typeof pair !== 'object' || !('key' in pair)) {\r\n            // In TypeScript, this never happens.\r\n            _pair = new Pair(pair, pair?.value);\r\n        }\r\n        else\r\n            _pair = new Pair(pair.key, pair.value);\r\n        const prev = findPair(this.items, _pair.key);\r\n        const sortEntries = this.schema?.sortMapEntries;\r\n        if (prev) {\r\n            if (!overwrite)\r\n                throw new Error(`Key ${_pair.key} already set`);\r\n            // For scalars, keep the old node & its comments and anchors\r\n            if (isScalar$1(prev.value) && isScalarValue(_pair.value))\r\n                prev.value.value = _pair.value;\r\n            else\r\n                prev.value = _pair.value;\r\n        }\r\n        else if (sortEntries) {\r\n            const i = this.items.findIndex(item => sortEntries(_pair, item) < 0);\r\n            if (i === -1)\r\n                this.items.push(_pair);\r\n            else\r\n                this.items.splice(i, 0, _pair);\r\n        }\r\n        else {\r\n            this.items.push(_pair);\r\n        }\r\n    }\r\n    delete(key) {\r\n        const it = findPair(this.items, key);\r\n        if (!it)\r\n            return false;\r\n        const del = this.items.splice(this.items.indexOf(it), 1);\r\n        return del.length > 0;\r\n    }\r\n    get(key, keepScalar) {\r\n        const it = findPair(this.items, key);\r\n        const node = it?.value;\r\n        return (!keepScalar && isScalar$1(node) ? node.value : node) ?? undefined;\r\n    }\r\n    has(key) {\r\n        return !!findPair(this.items, key);\r\n    }\r\n    set(key, value) {\r\n        this.add(new Pair(key, value), true);\r\n    }\r\n    /**\r\n     * @param ctx - Conversion context, originally set in Document#toJS()\r\n     * @param {Class} Type - If set, forces the returned collection type\r\n     * @returns Instance of Type, Map, or Object\r\n     */\r\n    toJSON(_, ctx, Type) {\r\n        const map = Type ? new Type() : ctx?.mapAsMap ? new Map() : {};\r\n        if (ctx?.onCreate)\r\n            ctx.onCreate(map);\r\n        for (const item of this.items)\r\n            addPairToJSMap(ctx, map, item);\r\n        return map;\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        if (!ctx)\r\n            return JSON.stringify(this);\r\n        for (const item of this.items) {\r\n            if (!isPair(item))\r\n                throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);\r\n        }\r\n        if (!ctx.allNullValues && this.hasAllNullValues(false))\r\n            ctx = Object.assign({}, ctx, { allNullValues: true });\r\n        return stringifyCollection(this, ctx, {\r\n            blockItemPrefix: '',\r\n            flowChars: { start: '{', end: '}' },\r\n            itemIndent: ctx.indent || '',\r\n            onChompKeep,\r\n            onComment\r\n        });\r\n    }\r\n}\r\n\r\nfunction createMap(schema, obj, ctx) {\r\n    const { keepUndefined, replacer } = ctx;\r\n    const map = new YAMLMap(schema);\r\n    const add = (key, value) => {\r\n        if (typeof replacer === 'function')\r\n            value = replacer.call(obj, key, value);\r\n        else if (Array.isArray(replacer) && !replacer.includes(key))\r\n            return;\r\n        if (value !== undefined || keepUndefined)\r\n            map.items.push(createPair(key, value, ctx));\r\n    };\r\n    if (obj instanceof Map) {\r\n        for (const [key, value] of obj)\r\n            add(key, value);\r\n    }\r\n    else if (obj && typeof obj === 'object') {\r\n        for (const key of Object.keys(obj))\r\n            add(key, obj[key]);\r\n    }\r\n    if (typeof schema.sortMapEntries === 'function') {\r\n        map.items.sort(schema.sortMapEntries);\r\n    }\r\n    return map;\r\n}\r\nconst map = {\r\n    collection: 'map',\r\n    createNode: createMap,\r\n    default: true,\r\n    nodeClass: YAMLMap,\r\n    tag: 'tag:yaml.org,2002:map',\r\n    resolve(map, onError) {\r\n        if (!isMap(map))\r\n            onError('Expected a mapping for this tag');\r\n        return map;\r\n    }\r\n};\r\n\r\nclass YAMLSeq extends Collection {\r\n    constructor(schema) {\r\n        super(SEQ, schema);\r\n        this.items = [];\r\n    }\r\n    static get tagName() {\r\n        return 'tag:yaml.org,2002:seq';\r\n    }\r\n    add(value) {\r\n        this.items.push(value);\r\n    }\r\n    /**\r\n     * Removes a value from the collection.\r\n     *\r\n     * `key` must contain a representation of an integer for this to succeed.\r\n     * It may be wrapped in a `Scalar`.\r\n     *\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    delete(key) {\r\n        const idx = asItemIndex(key);\r\n        if (typeof idx !== 'number')\r\n            return false;\r\n        const del = this.items.splice(idx, 1);\r\n        return del.length > 0;\r\n    }\r\n    get(key, keepScalar) {\r\n        const idx = asItemIndex(key);\r\n        if (typeof idx !== 'number')\r\n            return undefined;\r\n        const it = this.items[idx];\r\n        return !keepScalar && isScalar$1(it) ? it.value : it;\r\n    }\r\n    /**\r\n     * Checks if the collection includes a value with the key `key`.\r\n     *\r\n     * `key` must contain a representation of an integer for this to succeed.\r\n     * It may be wrapped in a `Scalar`.\r\n     */\r\n    has(key) {\r\n        const idx = asItemIndex(key);\r\n        return typeof idx === 'number' && idx < this.items.length;\r\n    }\r\n    /**\r\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     *\r\n     * If `key` does not contain a representation of an integer, this will throw.\r\n     * It may be wrapped in a `Scalar`.\r\n     */\r\n    set(key, value) {\r\n        const idx = asItemIndex(key);\r\n        if (typeof idx !== 'number')\r\n            throw new Error(`Expected a valid index, not ${key}.`);\r\n        const prev = this.items[idx];\r\n        if (isScalar$1(prev) && isScalarValue(value))\r\n            prev.value = value;\r\n        else\r\n            this.items[idx] = value;\r\n    }\r\n    toJSON(_, ctx) {\r\n        const seq = [];\r\n        if (ctx?.onCreate)\r\n            ctx.onCreate(seq);\r\n        let i = 0;\r\n        for (const item of this.items)\r\n            seq.push(toJS(item, String(i++), ctx));\r\n        return seq;\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        if (!ctx)\r\n            return JSON.stringify(this);\r\n        return stringifyCollection(this, ctx, {\r\n            blockItemPrefix: '- ',\r\n            flowChars: { start: '[', end: ']' },\r\n            itemIndent: (ctx.indent || '') + '  ',\r\n            onChompKeep,\r\n            onComment\r\n        });\r\n    }\r\n}\r\nfunction asItemIndex(key) {\r\n    let idx = isScalar$1(key) ? key.value : key;\r\n    if (idx && typeof idx === 'string')\r\n        idx = Number(idx);\r\n    return typeof idx === 'number' && Number.isInteger(idx) && idx >= 0\r\n        ? idx\r\n        : null;\r\n}\r\n\r\nfunction createSeq(schema, obj, ctx) {\r\n    const { replacer } = ctx;\r\n    const seq = new YAMLSeq(schema);\r\n    if (obj && Symbol.iterator in Object(obj)) {\r\n        let i = 0;\r\n        for (let it of obj) {\r\n            if (typeof replacer === 'function') {\r\n                const key = obj instanceof Set ? it : String(i++);\r\n                it = replacer.call(obj, key, it);\r\n            }\r\n            seq.items.push(createNode(it, undefined, ctx));\r\n        }\r\n    }\r\n    return seq;\r\n}\r\nconst seq = {\r\n    collection: 'seq',\r\n    createNode: createSeq,\r\n    default: true,\r\n    nodeClass: YAMLSeq,\r\n    tag: 'tag:yaml.org,2002:seq',\r\n    resolve(seq, onError) {\r\n        if (!isSeq(seq))\r\n            onError('Expected a sequence for this tag');\r\n        return seq;\r\n    }\r\n};\r\n\r\nconst string = {\r\n    identify: value => typeof value === 'string',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:str',\r\n    resolve: str => str,\r\n    stringify(item, ctx, onComment, onChompKeep) {\r\n        ctx = Object.assign({ actualString: true }, ctx);\r\n        return stringifyString(item, ctx, onComment, onChompKeep);\r\n    }\r\n};\r\n\r\nconst nullTag = {\r\n    identify: value => value == null,\r\n    createNode: () => new Scalar(null),\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:null',\r\n    test: /^(?:~|[Nn]ull|NULL)?$/,\r\n    resolve: () => new Scalar(null),\r\n    stringify: ({ source }, ctx) => typeof source === 'string' && nullTag.test.test(source)\r\n        ? source\r\n        : ctx.options.nullStr\r\n};\r\n\r\nconst boolTag = {\r\n    identify: value => typeof value === 'boolean',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:bool',\r\n    test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,\r\n    resolve: str => new Scalar(str[0] === 't' || str[0] === 'T'),\r\n    stringify({ source, value }, ctx) {\r\n        if (source && boolTag.test.test(source)) {\r\n            const sv = source[0] === 't' || source[0] === 'T';\r\n            if (value === sv)\r\n                return source;\r\n        }\r\n        return value ? ctx.options.trueStr : ctx.options.falseStr;\r\n    }\r\n};\r\n\r\nfunction stringifyNumber({ format, minFractionDigits, tag, value }) {\r\n    if (typeof value === 'bigint')\r\n        return String(value);\r\n    const num = typeof value === 'number' ? value : Number(value);\r\n    if (!isFinite(num))\r\n        return isNaN(num) ? '.nan' : num < 0 ? '-.inf' : '.inf';\r\n    let n = JSON.stringify(value);\r\n    if (!format &&\r\n        minFractionDigits &&\r\n        (!tag || tag === 'tag:yaml.org,2002:float') &&\r\n        /^\\d/.test(n)) {\r\n        let i = n.indexOf('.');\r\n        if (i < 0) {\r\n            i = n.length;\r\n            n += '.';\r\n        }\r\n        let d = minFractionDigits - (n.length - i - 1);\r\n        while (d-- > 0)\r\n            n += '0';\r\n    }\r\n    return n;\r\n}\r\n\r\nconst floatNaN$1 = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN))$/,\r\n    resolve: str => str.slice(-3).toLowerCase() === 'nan'\r\n        ? NaN\r\n        : str[0] === '-'\r\n            ? Number.NEGATIVE_INFINITY\r\n            : Number.POSITIVE_INFINITY,\r\n    stringify: stringifyNumber\r\n};\r\nconst floatExp$1 = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    format: 'EXP',\r\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,\r\n    resolve: str => parseFloat(str),\r\n    stringify(node) {\r\n        const num = Number(node.value);\r\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\r\n    }\r\n};\r\nconst float$1 = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,\r\n    resolve(str) {\r\n        const node = new Scalar(parseFloat(str));\r\n        const dot = str.indexOf('.');\r\n        if (dot !== -1 && str[str.length - 1] === '0')\r\n            node.minFractionDigits = str.length - dot - 1;\r\n        return node;\r\n    },\r\n    stringify: stringifyNumber\r\n};\r\n\r\nconst intIdentify$2 = (value) => typeof value === 'bigint' || Number.isInteger(value);\r\nconst intResolve$1 = (str, offset, radix, { intAsBigInt }) => (intAsBigInt ? BigInt(str) : parseInt(str.substring(offset), radix));\r\nfunction intStringify$1(node, radix, prefix) {\r\n    const { value } = node;\r\n    if (intIdentify$2(value) && value >= 0)\r\n        return prefix + value.toString(radix);\r\n    return stringifyNumber(node);\r\n}\r\nconst intOct$1 = {\r\n    identify: value => intIdentify$2(value) && value >= 0,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'OCT',\r\n    test: /^0o[0-7]+$/,\r\n    resolve: (str, _onError, opt) => intResolve$1(str, 2, 8, opt),\r\n    stringify: node => intStringify$1(node, 8, '0o')\r\n};\r\nconst int$1 = {\r\n    identify: intIdentify$2,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    test: /^[-+]?[0-9]+$/,\r\n    resolve: (str, _onError, opt) => intResolve$1(str, 0, 10, opt),\r\n    stringify: stringifyNumber\r\n};\r\nconst intHex$1 = {\r\n    identify: value => intIdentify$2(value) && value >= 0,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'HEX',\r\n    test: /^0x[0-9a-fA-F]+$/,\r\n    resolve: (str, _onError, opt) => intResolve$1(str, 2, 16, opt),\r\n    stringify: node => intStringify$1(node, 16, '0x')\r\n};\r\n\r\nconst schema$2 = [\r\n    map,\r\n    seq,\r\n    string,\r\n    nullTag,\r\n    boolTag,\r\n    intOct$1,\r\n    int$1,\r\n    intHex$1,\r\n    floatNaN$1,\r\n    floatExp$1,\r\n    float$1\r\n];\r\n\r\nfunction intIdentify$1(value) {\r\n    return typeof value === 'bigint' || Number.isInteger(value);\r\n}\r\nconst stringifyJSON = ({ value }) => JSON.stringify(value);\r\nconst jsonScalars = [\r\n    {\r\n        identify: value => typeof value === 'string',\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:str',\r\n        resolve: str => str,\r\n        stringify: stringifyJSON\r\n    },\r\n    {\r\n        identify: value => value == null,\r\n        createNode: () => new Scalar(null),\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:null',\r\n        test: /^null$/,\r\n        resolve: () => null,\r\n        stringify: stringifyJSON\r\n    },\r\n    {\r\n        identify: value => typeof value === 'boolean',\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:bool',\r\n        test: /^true|false$/,\r\n        resolve: str => str === 'true',\r\n        stringify: stringifyJSON\r\n    },\r\n    {\r\n        identify: intIdentify$1,\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:int',\r\n        test: /^-?(?:0|[1-9][0-9]*)$/,\r\n        resolve: (str, _onError, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str, 10),\r\n        stringify: ({ value }) => intIdentify$1(value) ? value.toString() : JSON.stringify(value)\r\n    },\r\n    {\r\n        identify: value => typeof value === 'number',\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:float',\r\n        test: /^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,\r\n        resolve: str => parseFloat(str),\r\n        stringify: stringifyJSON\r\n    }\r\n];\r\nconst jsonError = {\r\n    default: true,\r\n    tag: '',\r\n    test: /^/,\r\n    resolve(str, onError) {\r\n        onError(`Unresolved plain scalar ${JSON.stringify(str)}`);\r\n        return str;\r\n    }\r\n};\r\nconst schema$1 = [map, seq].concat(jsonScalars, jsonError);\r\n\r\nconst binary = {\r\n    identify: value => value instanceof Uint8Array,\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:binary',\r\n    /**\r\n     * Returns a Buffer in node and an Uint8Array in browsers\r\n     *\r\n     * To use the resulting buffer as an image, you'll want to do something like:\r\n     *\r\n     *   const blob = new Blob([buffer], { type: 'image/jpeg' })\r\n     *   document.querySelector('#photo').src = URL.createObjectURL(blob)\r\n     */\r\n    resolve(src, onError) {\r\n        if (typeof Buffer === 'function') {\r\n            return Buffer.from(src, 'base64');\r\n        }\r\n        else if (typeof atob === 'function') {\r\n            // On IE 11, atob() can't handle newlines\r\n            const str = atob(src.replace(/[\\n\\r]/g, ''));\r\n            const buffer = new Uint8Array(str.length);\r\n            for (let i = 0; i < str.length; ++i)\r\n                buffer[i] = str.charCodeAt(i);\r\n            return buffer;\r\n        }\r\n        else {\r\n            onError('This environment does not support reading binary tags; either Buffer or atob is required');\r\n            return src;\r\n        }\r\n    },\r\n    stringify({ comment, type, value }, ctx, onComment, onChompKeep) {\r\n        const buf = value; // checked earlier by binary.identify()\r\n        let str;\r\n        if (typeof Buffer === 'function') {\r\n            str =\r\n                buf instanceof Buffer\r\n                    ? buf.toString('base64')\r\n                    : Buffer.from(buf.buffer).toString('base64');\r\n        }\r\n        else if (typeof btoa === 'function') {\r\n            let s = '';\r\n            for (let i = 0; i < buf.length; ++i)\r\n                s += String.fromCharCode(buf[i]);\r\n            str = btoa(s);\r\n        }\r\n        else {\r\n            throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');\r\n        }\r\n        if (!type)\r\n            type = Scalar.BLOCK_LITERAL;\r\n        if (type !== Scalar.QUOTE_DOUBLE) {\r\n            const lineWidth = Math.max(ctx.options.lineWidth - ctx.indent.length, ctx.options.minContentWidth);\r\n            const n = Math.ceil(str.length / lineWidth);\r\n            const lines = new Array(n);\r\n            for (let i = 0, o = 0; i < n; ++i, o += lineWidth) {\r\n                lines[i] = str.substr(o, lineWidth);\r\n            }\r\n            str = lines.join(type === Scalar.BLOCK_LITERAL ? '\\n' : ' ');\r\n        }\r\n        return stringifyString({ comment, type, value: str }, ctx, onComment, onChompKeep);\r\n    }\r\n};\r\n\r\nfunction resolvePairs(seq, onError) {\r\n    if (isSeq(seq)) {\r\n        for (let i = 0; i < seq.items.length; ++i) {\r\n            let item = seq.items[i];\r\n            if (isPair(item))\r\n                continue;\r\n            else if (isMap(item)) {\r\n                if (item.items.length > 1)\r\n                    onError('Each pair must have its own sequence indicator');\r\n                const pair = item.items[0] || new Pair(new Scalar(null));\r\n                if (item.commentBefore)\r\n                    pair.key.commentBefore = pair.key.commentBefore\r\n                        ? `${item.commentBefore}\\n${pair.key.commentBefore}`\r\n                        : item.commentBefore;\r\n                if (item.comment) {\r\n                    const cn = pair.value ?? pair.key;\r\n                    cn.comment = cn.comment\r\n                        ? `${item.comment}\\n${cn.comment}`\r\n                        : item.comment;\r\n                }\r\n                item = pair;\r\n            }\r\n            seq.items[i] = isPair(item) ? item : new Pair(item);\r\n        }\r\n    }\r\n    else\r\n        onError('Expected a sequence for this tag');\r\n    return seq;\r\n}\r\nfunction createPairs(schema, iterable, ctx) {\r\n    const { replacer } = ctx;\r\n    const pairs = new YAMLSeq(schema);\r\n    pairs.tag = 'tag:yaml.org,2002:pairs';\r\n    let i = 0;\r\n    if (iterable && Symbol.iterator in Object(iterable))\r\n        for (let it of iterable) {\r\n            if (typeof replacer === 'function')\r\n                it = replacer.call(iterable, String(i++), it);\r\n            let key, value;\r\n            if (Array.isArray(it)) {\r\n                if (it.length === 2) {\r\n                    key = it[0];\r\n                    value = it[1];\r\n                }\r\n                else\r\n                    throw new TypeError(`Expected [key, value] tuple: ${it}`);\r\n            }\r\n            else if (it && it instanceof Object) {\r\n                const keys = Object.keys(it);\r\n                if (keys.length === 1) {\r\n                    key = keys[0];\r\n                    value = it[key];\r\n                }\r\n                else\r\n                    throw new TypeError(`Expected { key: value } tuple: ${it}`);\r\n            }\r\n            else {\r\n                key = it;\r\n            }\r\n            pairs.items.push(createPair(key, value, ctx));\r\n        }\r\n    return pairs;\r\n}\r\nconst pairs = {\r\n    collection: 'seq',\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:pairs',\r\n    resolve: resolvePairs,\r\n    createNode: createPairs\r\n};\r\n\r\nclass YAMLOMap extends YAMLSeq {\r\n    constructor() {\r\n        super();\r\n        this.add = YAMLMap.prototype.add.bind(this);\r\n        this.delete = YAMLMap.prototype.delete.bind(this);\r\n        this.get = YAMLMap.prototype.get.bind(this);\r\n        this.has = YAMLMap.prototype.has.bind(this);\r\n        this.set = YAMLMap.prototype.set.bind(this);\r\n        this.tag = YAMLOMap.tag;\r\n    }\r\n    /**\r\n     * If `ctx` is given, the return type is actually `Map<unknown, unknown>`,\r\n     * but TypeScript won't allow widening the signature of a child method.\r\n     */\r\n    toJSON(_, ctx) {\r\n        if (!ctx)\r\n            return super.toJSON(_);\r\n        const map = new Map();\r\n        if (ctx?.onCreate)\r\n            ctx.onCreate(map);\r\n        for (const pair of this.items) {\r\n            let key, value;\r\n            if (isPair(pair)) {\r\n                key = toJS(pair.key, '', ctx);\r\n                value = toJS(pair.value, key, ctx);\r\n            }\r\n            else {\r\n                key = toJS(pair, '', ctx);\r\n            }\r\n            if (map.has(key))\r\n                throw new Error('Ordered maps must not include duplicate keys');\r\n            map.set(key, value);\r\n        }\r\n        return map;\r\n    }\r\n}\r\nYAMLOMap.tag = 'tag:yaml.org,2002:omap';\r\nconst omap = {\r\n    collection: 'seq',\r\n    identify: value => value instanceof Map,\r\n    nodeClass: YAMLOMap,\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:omap',\r\n    resolve(seq, onError) {\r\n        const pairs = resolvePairs(seq, onError);\r\n        const seenKeys = [];\r\n        for (const { key } of pairs.items) {\r\n            if (isScalar$1(key)) {\r\n                if (seenKeys.includes(key.value)) {\r\n                    onError(`Ordered maps must not include duplicate keys: ${key.value}`);\r\n                }\r\n                else {\r\n                    seenKeys.push(key.value);\r\n                }\r\n            }\r\n        }\r\n        return Object.assign(new YAMLOMap(), pairs);\r\n    },\r\n    createNode(schema, iterable, ctx) {\r\n        const pairs = createPairs(schema, iterable, ctx);\r\n        const omap = new YAMLOMap();\r\n        omap.items = pairs.items;\r\n        return omap;\r\n    }\r\n};\r\n\r\nfunction boolStringify({ value, source }, ctx) {\r\n    const boolObj = value ? trueTag : falseTag;\r\n    if (source && boolObj.test.test(source))\r\n        return source;\r\n    return value ? ctx.options.trueStr : ctx.options.falseStr;\r\n}\r\nconst trueTag = {\r\n    identify: value => value === true,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:bool',\r\n    test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,\r\n    resolve: () => new Scalar(true),\r\n    stringify: boolStringify\r\n};\r\nconst falseTag = {\r\n    identify: value => value === false,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:bool',\r\n    test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,\r\n    resolve: () => new Scalar(false),\r\n    stringify: boolStringify\r\n};\r\n\r\nconst floatNaN = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^[-+]?\\.(?:inf|Inf|INF|nan|NaN|NAN)$/,\r\n    resolve: (str) => str.slice(-3).toLowerCase() === 'nan'\r\n        ? NaN\r\n        : str[0] === '-'\r\n            ? Number.NEGATIVE_INFINITY\r\n            : Number.POSITIVE_INFINITY,\r\n    stringify: stringifyNumber\r\n};\r\nconst floatExp = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    format: 'EXP',\r\n    test: /^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,\r\n    resolve: (str) => parseFloat(str.replace(/_/g, '')),\r\n    stringify(node) {\r\n        const num = Number(node.value);\r\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\r\n    }\r\n};\r\nconst float = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,\r\n    resolve(str) {\r\n        const node = new Scalar(parseFloat(str.replace(/_/g, '')));\r\n        const dot = str.indexOf('.');\r\n        if (dot !== -1) {\r\n            const f = str.substring(dot + 1).replace(/_/g, '');\r\n            if (f[f.length - 1] === '0')\r\n                node.minFractionDigits = f.length;\r\n        }\r\n        return node;\r\n    },\r\n    stringify: stringifyNumber\r\n};\r\n\r\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\r\nfunction intResolve(str, offset, radix, { intAsBigInt }) {\r\n    const sign = str[0];\r\n    if (sign === '-' || sign === '+')\r\n        offset += 1;\r\n    str = str.substring(offset).replace(/_/g, '');\r\n    if (intAsBigInt) {\r\n        switch (radix) {\r\n            case 2:\r\n                str = `0b${str}`;\r\n                break;\r\n            case 8:\r\n                str = `0o${str}`;\r\n                break;\r\n            case 16:\r\n                str = `0x${str}`;\r\n                break;\r\n        }\r\n        const n = BigInt(str);\r\n        return sign === '-' ? BigInt(-1) * n : n;\r\n    }\r\n    const n = parseInt(str, radix);\r\n    return sign === '-' ? -1 * n : n;\r\n}\r\nfunction intStringify(node, radix, prefix) {\r\n    const { value } = node;\r\n    if (intIdentify(value)) {\r\n        const str = value.toString(radix);\r\n        return value < 0 ? '-' + prefix + str.substr(1) : prefix + str;\r\n    }\r\n    return stringifyNumber(node);\r\n}\r\nconst intBin = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'BIN',\r\n    test: /^[-+]?0b[0-1_]+$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 2, 2, opt),\r\n    stringify: node => intStringify(node, 2, '0b')\r\n};\r\nconst intOct = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'OCT',\r\n    test: /^[-+]?0[0-7_]+$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 1, 8, opt),\r\n    stringify: node => intStringify(node, 8, '0')\r\n};\r\nconst int = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    test: /^[-+]?[0-9][0-9_]*$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\r\n    stringify: stringifyNumber\r\n};\r\nconst intHex = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'HEX',\r\n    test: /^[-+]?0x[0-9a-fA-F_]+$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\r\n    stringify: node => intStringify(node, 16, '0x')\r\n};\r\n\r\nclass YAMLSet extends YAMLMap {\r\n    constructor(schema) {\r\n        super(schema);\r\n        this.tag = YAMLSet.tag;\r\n    }\r\n    add(key) {\r\n        let pair;\r\n        if (isPair(key))\r\n            pair = key;\r\n        else if (typeof key === 'object' &&\r\n            'key' in key &&\r\n            'value' in key &&\r\n            key.value === null)\r\n            pair = new Pair(key.key, null);\r\n        else\r\n            pair = new Pair(key, null);\r\n        const prev = findPair(this.items, pair.key);\r\n        if (!prev)\r\n            this.items.push(pair);\r\n    }\r\n    /**\r\n     * If `keepPair` is `true`, returns the Pair matching `key`.\r\n     * Otherwise, returns the value of that Pair's key.\r\n     */\r\n    get(key, keepPair) {\r\n        const pair = findPair(this.items, key);\r\n        return !keepPair && isPair(pair)\r\n            ? isScalar$1(pair.key)\r\n                ? pair.key.value\r\n                : pair.key\r\n            : pair;\r\n    }\r\n    set(key, value) {\r\n        if (typeof value !== 'boolean')\r\n            throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);\r\n        const prev = findPair(this.items, key);\r\n        if (prev && !value) {\r\n            this.items.splice(this.items.indexOf(prev), 1);\r\n        }\r\n        else if (!prev && value) {\r\n            this.items.push(new Pair(key));\r\n        }\r\n    }\r\n    toJSON(_, ctx) {\r\n        return super.toJSON(_, ctx, Set);\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        if (!ctx)\r\n            return JSON.stringify(this);\r\n        if (this.hasAllNullValues(true))\r\n            return super.toString(Object.assign({}, ctx, { allNullValues: true }), onComment, onChompKeep);\r\n        else\r\n            throw new Error('Set items must all have null values');\r\n    }\r\n}\r\nYAMLSet.tag = 'tag:yaml.org,2002:set';\r\nconst set = {\r\n    collection: 'map',\r\n    identify: value => value instanceof Set,\r\n    nodeClass: YAMLSet,\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:set',\r\n    resolve(map, onError) {\r\n        if (isMap(map)) {\r\n            if (map.hasAllNullValues(true))\r\n                return Object.assign(new YAMLSet(), map);\r\n            else\r\n                onError('Set items must all have null values');\r\n        }\r\n        else\r\n            onError('Expected a mapping for this tag');\r\n        return map;\r\n    },\r\n    createNode(schema, iterable, ctx) {\r\n        const { replacer } = ctx;\r\n        const set = new YAMLSet(schema);\r\n        if (iterable && Symbol.iterator in Object(iterable))\r\n            for (let value of iterable) {\r\n                if (typeof replacer === 'function')\r\n                    value = replacer.call(iterable, value, value);\r\n                set.items.push(createPair(value, null, ctx));\r\n            }\r\n        return set;\r\n    }\r\n};\r\n\r\n/** Internal types handle bigint as number, because TS can't figure it out. */\r\nfunction parseSexagesimal(str, asBigInt) {\r\n    const sign = str[0];\r\n    const parts = sign === '-' || sign === '+' ? str.substring(1) : str;\r\n    const num = (n) => asBigInt ? BigInt(n) : Number(n);\r\n    const res = parts\r\n        .replace(/_/g, '')\r\n        .split(':')\r\n        .reduce((res, p) => res * num(60) + num(p), num(0));\r\n    return (sign === '-' ? num(-1) * res : res);\r\n}\r\n/**\r\n * hhhh:mm:ss.sss\r\n *\r\n * Internal types handle bigint as number, because TS can't figure it out.\r\n */\r\nfunction stringifySexagesimal(node) {\r\n    let { value } = node;\r\n    let num = (n) => n;\r\n    if (typeof value === 'bigint')\r\n        num = n => BigInt(n);\r\n    else if (isNaN(value) || !isFinite(value))\r\n        return stringifyNumber(node);\r\n    let sign = '';\r\n    if (value < 0) {\r\n        sign = '-';\r\n        value *= num(-1);\r\n    }\r\n    const _60 = num(60);\r\n    const parts = [value % _60]; // seconds, including ms\r\n    if (value < 60) {\r\n        parts.unshift(0); // at least one : is required\r\n    }\r\n    else {\r\n        value = (value - parts[0]) / _60;\r\n        parts.unshift(value % _60); // minutes\r\n        if (value >= 60) {\r\n            value = (value - parts[0]) / _60;\r\n            parts.unshift(value); // hours\r\n        }\r\n    }\r\n    return (sign +\r\n        parts\r\n            .map(n => (n < 10 ? '0' + String(n) : String(n)))\r\n            .join(':')\r\n            .replace(/000000\\d*$/, '') // % 60 may introduce error\r\n    );\r\n}\r\nconst intTime = {\r\n    identify: value => typeof value === 'bigint' || Number.isInteger(value),\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'TIME',\r\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,\r\n    resolve: (str, _onError, { intAsBigInt }) => parseSexagesimal(str, intAsBigInt),\r\n    stringify: stringifySexagesimal\r\n};\r\nconst floatTime = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    format: 'TIME',\r\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,\r\n    resolve: str => parseSexagesimal(str, false),\r\n    stringify: stringifySexagesimal\r\n};\r\nconst timestamp = {\r\n    identify: value => value instanceof Date,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:timestamp',\r\n    // If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part\r\n    // may be omitted altogether, resulting in a date format. In such a case, the time part is\r\n    // assumed to be 00:00:00Z (start of day, UTC).\r\n    test: RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})' + // YYYY-Mm-Dd\r\n        '(?:' + // time is optional\r\n        '(?:t|T|[ \\\\t]+)' + // t | T | whitespace\r\n        '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)' + // Hh:Mm:Ss(.ss)?\r\n        '(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?' + // Z | +5 | -03:30\r\n        ')?$'),\r\n    resolve(str) {\r\n        const match = str.match(timestamp.test);\r\n        if (!match)\r\n            throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');\r\n        const [, year, month, day, hour, minute, second] = match.map(Number);\r\n        const millisec = match[7] ? Number((match[7] + '00').substr(1, 3)) : 0;\r\n        let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec);\r\n        const tz = match[8];\r\n        if (tz && tz !== 'Z') {\r\n            let d = parseSexagesimal(tz, false);\r\n            if (Math.abs(d) < 30)\r\n                d *= 60;\r\n            date -= 60000 * d;\r\n        }\r\n        return new Date(date);\r\n    },\r\n    stringify: ({ value }) => value.toISOString().replace(/((T00:00)?:00)?\\.000Z$/, '')\r\n};\r\n\r\nconst schema = [\r\n    map,\r\n    seq,\r\n    string,\r\n    nullTag,\r\n    trueTag,\r\n    falseTag,\r\n    intBin,\r\n    intOct,\r\n    int,\r\n    intHex,\r\n    floatNaN,\r\n    floatExp,\r\n    float,\r\n    binary,\r\n    omap,\r\n    pairs,\r\n    set,\r\n    intTime,\r\n    floatTime,\r\n    timestamp\r\n];\r\n\r\nconst schemas = new Map([\r\n    ['core', schema$2],\r\n    ['failsafe', [map, seq, string]],\r\n    ['json', schema$1],\r\n    ['yaml11', schema],\r\n    ['yaml-1.1', schema]\r\n]);\r\nconst tagsByName = {\r\n    binary,\r\n    bool: boolTag,\r\n    float: float$1,\r\n    floatExp: floatExp$1,\r\n    floatNaN: floatNaN$1,\r\n    floatTime,\r\n    int: int$1,\r\n    intHex: intHex$1,\r\n    intOct: intOct$1,\r\n    intTime,\r\n    map,\r\n    null: nullTag,\r\n    omap,\r\n    pairs,\r\n    seq,\r\n    set,\r\n    timestamp\r\n};\r\nconst coreKnownTags = {\r\n    'tag:yaml.org,2002:binary': binary,\r\n    'tag:yaml.org,2002:omap': omap,\r\n    'tag:yaml.org,2002:pairs': pairs,\r\n    'tag:yaml.org,2002:set': set,\r\n    'tag:yaml.org,2002:timestamp': timestamp\r\n};\r\nfunction getTags(customTags, schemaName) {\r\n    let tags = schemas.get(schemaName);\r\n    if (!tags) {\r\n        if (Array.isArray(customTags))\r\n            tags = [];\r\n        else {\r\n            const keys = Array.from(schemas.keys())\r\n                .filter(key => key !== 'yaml11')\r\n                .map(key => JSON.stringify(key))\r\n                .join(', ');\r\n            throw new Error(`Unknown schema \"${schemaName}\"; use one of ${keys} or define customTags array`);\r\n        }\r\n    }\r\n    if (Array.isArray(customTags)) {\r\n        for (const tag of customTags)\r\n            tags = tags.concat(tag);\r\n    }\r\n    else if (typeof customTags === 'function') {\r\n        tags = customTags(tags.slice());\r\n    }\r\n    return tags.map(tag => {\r\n        if (typeof tag !== 'string')\r\n            return tag;\r\n        const tagObj = tagsByName[tag];\r\n        if (tagObj)\r\n            return tagObj;\r\n        const keys = Object.keys(tagsByName)\r\n            .map(key => JSON.stringify(key))\r\n            .join(', ');\r\n        throw new Error(`Unknown custom tag \"${tag}\"; use one of ${keys}`);\r\n    });\r\n}\r\n\r\nconst sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;\r\nclass Schema {\r\n    constructor({ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }) {\r\n        this.compat = Array.isArray(compat)\r\n            ? getTags(compat, 'compat')\r\n            : compat\r\n                ? getTags(null, compat)\r\n                : null;\r\n        this.merge = !!merge;\r\n        this.name = (typeof schema === 'string' && schema) || 'core';\r\n        this.knownTags = resolveKnownTags ? coreKnownTags : {};\r\n        this.tags = getTags(customTags, this.name);\r\n        this.toStringOptions = toStringDefaults ?? null;\r\n        Object.defineProperty(this, MAP, { value: map });\r\n        Object.defineProperty(this, SCALAR$1, { value: string });\r\n        Object.defineProperty(this, SEQ, { value: seq });\r\n        // Used by createMap()\r\n        this.sortMapEntries =\r\n            typeof sortMapEntries === 'function'\r\n                ? sortMapEntries\r\n                : sortMapEntries === true\r\n                    ? sortMapEntriesByKey\r\n                    : null;\r\n    }\r\n    clone() {\r\n        const copy = Object.create(Schema.prototype, Object.getOwnPropertyDescriptors(this));\r\n        copy.tags = this.tags.slice();\r\n        return copy;\r\n    }\r\n}\r\n\r\nfunction stringifyDocument(doc, options) {\r\n    const lines = [];\r\n    let hasDirectives = options.directives === true;\r\n    if (options.directives !== false && doc.directives) {\r\n        const dir = doc.directives.toString(doc);\r\n        if (dir) {\r\n            lines.push(dir);\r\n            hasDirectives = true;\r\n        }\r\n        else if (doc.directives.docStart)\r\n            hasDirectives = true;\r\n    }\r\n    if (hasDirectives)\r\n        lines.push('---');\r\n    const ctx = createStringifyContext(doc, options);\r\n    const { commentString } = ctx.options;\r\n    if (doc.commentBefore) {\r\n        if (lines.length !== 1)\r\n            lines.unshift('');\r\n        const cs = commentString(doc.commentBefore);\r\n        lines.unshift(indentComment(cs, ''));\r\n    }\r\n    let chompKeep = false;\r\n    let contentComment = null;\r\n    if (doc.contents) {\r\n        if (isNode(doc.contents)) {\r\n            if (doc.contents.spaceBefore && hasDirectives)\r\n                lines.push('');\r\n            if (doc.contents.commentBefore) {\r\n                const cs = commentString(doc.contents.commentBefore);\r\n                lines.push(indentComment(cs, ''));\r\n            }\r\n            // top-level block scalars need to be indented if followed by a comment\r\n            ctx.forceBlockIndent = !!doc.comment;\r\n            contentComment = doc.contents.comment;\r\n        }\r\n        const onChompKeep = contentComment ? undefined : () => (chompKeep = true);\r\n        let body = stringify$3(doc.contents, ctx, () => (contentComment = null), onChompKeep);\r\n        if (contentComment)\r\n            body += lineComment(body, '', commentString(contentComment));\r\n        if ((body[0] === '|' || body[0] === '>') &&\r\n            lines[lines.length - 1] === '---') {\r\n            // Top-level block scalars with a preceding doc marker ought to use the\r\n            // same line for their header.\r\n            lines[lines.length - 1] = `--- ${body}`;\r\n        }\r\n        else\r\n            lines.push(body);\r\n    }\r\n    else {\r\n        lines.push(stringify$3(doc.contents, ctx));\r\n    }\r\n    if (doc.directives?.docEnd) {\r\n        if (doc.comment) {\r\n            const cs = commentString(doc.comment);\r\n            if (cs.includes('\\n')) {\r\n                lines.push('...');\r\n                lines.push(indentComment(cs, ''));\r\n            }\r\n            else {\r\n                lines.push(`... ${cs}`);\r\n            }\r\n        }\r\n        else {\r\n            lines.push('...');\r\n        }\r\n    }\r\n    else {\r\n        let dc = doc.comment;\r\n        if (dc && chompKeep)\r\n            dc = dc.replace(/^\\n+/, '');\r\n        if (dc) {\r\n            if ((!chompKeep || contentComment) && lines[lines.length - 1] !== '')\r\n                lines.push('');\r\n            lines.push(indentComment(commentString(dc), ''));\r\n        }\r\n    }\r\n    return lines.join('\\n') + '\\n';\r\n}\r\n\r\n/**\r\n * Applies the JSON.parse reviver algorithm as defined in the ECMA-262 spec,\r\n * in section 24.5.1.1 \"Runtime Semantics: InternalizeJSONProperty\" of the\r\n * 2021 edition: https://tc39.es/ecma262/#sec-json.parse\r\n *\r\n * Includes extensions for handling Map and Set objects.\r\n */\r\nfunction applyReviver(reviver, obj, key, val) {\r\n    if (val && typeof val === 'object') {\r\n        if (Array.isArray(val)) {\r\n            for (let i = 0, len = val.length; i < len; ++i) {\r\n                const v0 = val[i];\r\n                const v1 = applyReviver(reviver, val, String(i), v0);\r\n                if (v1 === undefined)\r\n                    delete val[i];\r\n                else if (v1 !== v0)\r\n                    val[i] = v1;\r\n            }\r\n        }\r\n        else if (val instanceof Map) {\r\n            for (const k of Array.from(val.keys())) {\r\n                const v0 = val.get(k);\r\n                const v1 = applyReviver(reviver, val, k, v0);\r\n                if (v1 === undefined)\r\n                    val.delete(k);\r\n                else if (v1 !== v0)\r\n                    val.set(k, v1);\r\n            }\r\n        }\r\n        else if (val instanceof Set) {\r\n            for (const v0 of Array.from(val)) {\r\n                const v1 = applyReviver(reviver, val, v0, v0);\r\n                if (v1 === undefined)\r\n                    val.delete(v0);\r\n                else if (v1 !== v0) {\r\n                    val.delete(v0);\r\n                    val.add(v1);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (const [k, v0] of Object.entries(val)) {\r\n                const v1 = applyReviver(reviver, val, k, v0);\r\n                if (v1 === undefined)\r\n                    delete val[k];\r\n                else if (v1 !== v0)\r\n                    val[k] = v1;\r\n            }\r\n        }\r\n    }\r\n    return reviver.call(obj, key, val);\r\n}\r\n\r\nclass Document {\r\n    constructor(value, replacer, options) {\r\n        /** A comment before this Document */\r\n        this.commentBefore = null;\r\n        /** A comment immediately after this Document */\r\n        this.comment = null;\r\n        /** Errors encountered during parsing. */\r\n        this.errors = [];\r\n        /** Warnings encountered during parsing. */\r\n        this.warnings = [];\r\n        Object.defineProperty(this, NODE_TYPE, { value: DOC });\r\n        let _replacer = null;\r\n        if (typeof replacer === 'function' || Array.isArray(replacer)) {\r\n            _replacer = replacer;\r\n        }\r\n        else if (options === undefined && replacer) {\r\n            options = replacer;\r\n            replacer = undefined;\r\n        }\r\n        const opt = Object.assign({\r\n            intAsBigInt: false,\r\n            keepSourceTokens: false,\r\n            logLevel: 'warn',\r\n            prettyErrors: true,\r\n            strict: true,\r\n            uniqueKeys: true,\r\n            version: '1.2'\r\n        }, options);\r\n        this.options = opt;\r\n        let { version } = opt;\r\n        if (options?._directives) {\r\n            this.directives = options._directives.atDocument();\r\n            if (this.directives.yaml.explicit)\r\n                version = this.directives.yaml.version;\r\n        }\r\n        else\r\n            this.directives = new Directives({ version });\r\n        this.setSchema(version, options);\r\n        if (value === undefined)\r\n            this.contents = null;\r\n        else {\r\n            this.contents = this.createNode(value, _replacer, options);\r\n        }\r\n    }\r\n    /**\r\n     * Create a deep copy of this Document and its contents.\r\n     *\r\n     * Custom Node values that inherit from `Object` still refer to their original instances.\r\n     */\r\n    clone() {\r\n        const copy = Object.create(Document.prototype, {\r\n            [NODE_TYPE]: { value: DOC }\r\n        });\r\n        copy.commentBefore = this.commentBefore;\r\n        copy.comment = this.comment;\r\n        copy.errors = this.errors.slice();\r\n        copy.warnings = this.warnings.slice();\r\n        copy.options = Object.assign({}, this.options);\r\n        if (this.directives)\r\n            copy.directives = this.directives.clone();\r\n        copy.schema = this.schema.clone();\r\n        copy.contents = isNode(this.contents)\r\n            ? this.contents.clone(copy.schema)\r\n            : this.contents;\r\n        if (this.range)\r\n            copy.range = this.range.slice();\r\n        return copy;\r\n    }\r\n    /** Adds a value to the document. */\r\n    add(value) {\r\n        if (assertCollection(this.contents))\r\n            this.contents.add(value);\r\n    }\r\n    /** Adds a value to the document. */\r\n    addIn(path, value) {\r\n        if (assertCollection(this.contents))\r\n            this.contents.addIn(path, value);\r\n    }\r\n    /**\r\n     * Create a new `Alias` node, ensuring that the target `node` has the required anchor.\r\n     *\r\n     * If `node` already has an anchor, `name` is ignored.\r\n     * Otherwise, the `node.anchor` value will be set to `name`,\r\n     * or if an anchor with that name is already present in the document,\r\n     * `name` will be used as a prefix for a new unique anchor.\r\n     * If `name` is undefined, the generated anchor will use 'a' as a prefix.\r\n     */\r\n    createAlias(node, name) {\r\n        if (!node.anchor) {\r\n            const prev = anchorNames(this);\r\n            node.anchor =\r\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\r\n                !name || prev.has(name) ? findNewAnchor(name || 'a', prev) : name;\r\n        }\r\n        return new Alias(node.anchor);\r\n    }\r\n    createNode(value, replacer, options) {\r\n        let _replacer = undefined;\r\n        if (typeof replacer === 'function') {\r\n            value = replacer.call({ '': value }, '', value);\r\n            _replacer = replacer;\r\n        }\r\n        else if (Array.isArray(replacer)) {\r\n            const keyToStr = (v) => typeof v === 'number' || v instanceof String || v instanceof Number;\r\n            const asStr = replacer.filter(keyToStr).map(String);\r\n            if (asStr.length > 0)\r\n                replacer = replacer.concat(asStr);\r\n            _replacer = replacer;\r\n        }\r\n        else if (options === undefined && replacer) {\r\n            options = replacer;\r\n            replacer = undefined;\r\n        }\r\n        const { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};\r\n        const { onAnchor, setAnchors, sourceObjects } = createNodeAnchors(this, \r\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\r\n        anchorPrefix || 'a');\r\n        const ctx = {\r\n            aliasDuplicateObjects: aliasDuplicateObjects ?? true,\r\n            keepUndefined: keepUndefined ?? false,\r\n            onAnchor,\r\n            onTagObj,\r\n            replacer: _replacer,\r\n            schema: this.schema,\r\n            sourceObjects\r\n        };\r\n        const node = createNode(value, tag, ctx);\r\n        if (flow && isCollection$1(node))\r\n            node.flow = true;\r\n        setAnchors();\r\n        return node;\r\n    }\r\n    /**\r\n     * Convert a key and a value into a `Pair` using the current schema,\r\n     * recursively wrapping all values as `Scalar` or `Collection` nodes.\r\n     */\r\n    createPair(key, value, options = {}) {\r\n        const k = this.createNode(key, null, options);\r\n        const v = this.createNode(value, null, options);\r\n        return new Pair(k, v);\r\n    }\r\n    /**\r\n     * Removes a value from the document.\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    delete(key) {\r\n        return assertCollection(this.contents) ? this.contents.delete(key) : false;\r\n    }\r\n    /**\r\n     * Removes a value from the document.\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    deleteIn(path) {\r\n        if (isEmptyPath(path)) {\r\n            if (this.contents == null)\r\n                return false;\r\n            this.contents = null;\r\n            return true;\r\n        }\r\n        return assertCollection(this.contents)\r\n            ? this.contents.deleteIn(path)\r\n            : false;\r\n    }\r\n    /**\r\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\r\n     * scalar values from their surrounding node; to disable set `keepScalar` to\r\n     * `true` (collections are always returned intact).\r\n     */\r\n    get(key, keepScalar) {\r\n        return isCollection$1(this.contents)\r\n            ? this.contents.get(key, keepScalar)\r\n            : undefined;\r\n    }\r\n    /**\r\n     * Returns item at `path`, or `undefined` if not found. By default unwraps\r\n     * scalar values from their surrounding node; to disable set `keepScalar` to\r\n     * `true` (collections are always returned intact).\r\n     */\r\n    getIn(path, keepScalar) {\r\n        if (isEmptyPath(path))\r\n            return !keepScalar && isScalar$1(this.contents)\r\n                ? this.contents.value\r\n                : this.contents;\r\n        return isCollection$1(this.contents)\r\n            ? this.contents.getIn(path, keepScalar)\r\n            : undefined;\r\n    }\r\n    /**\r\n     * Checks if the document includes a value with the key `key`.\r\n     */\r\n    has(key) {\r\n        return isCollection$1(this.contents) ? this.contents.has(key) : false;\r\n    }\r\n    /**\r\n     * Checks if the document includes a value at `path`.\r\n     */\r\n    hasIn(path) {\r\n        if (isEmptyPath(path))\r\n            return this.contents !== undefined;\r\n        return isCollection$1(this.contents) ? this.contents.hasIn(path) : false;\r\n    }\r\n    /**\r\n     * Sets a value in this document. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     */\r\n    set(key, value) {\r\n        if (this.contents == null) {\r\n            this.contents = collectionFromPath(this.schema, [key], value);\r\n        }\r\n        else if (assertCollection(this.contents)) {\r\n            this.contents.set(key, value);\r\n        }\r\n    }\r\n    /**\r\n     * Sets a value in this document. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     */\r\n    setIn(path, value) {\r\n        if (isEmptyPath(path))\r\n            this.contents = value;\r\n        else if (this.contents == null) {\r\n            this.contents = collectionFromPath(this.schema, Array.from(path), value);\r\n        }\r\n        else if (assertCollection(this.contents)) {\r\n            this.contents.setIn(path, value);\r\n        }\r\n    }\r\n    /**\r\n     * Change the YAML version and schema used by the document.\r\n     * A `null` version disables support for directives, explicit tags, anchors, and aliases.\r\n     * It also requires the `schema` option to be given as a `Schema` instance value.\r\n     *\r\n     * Overrides all previously set schema options.\r\n     */\r\n    setSchema(version, options = {}) {\r\n        if (typeof version === 'number')\r\n            version = String(version);\r\n        let opt;\r\n        switch (version) {\r\n            case '1.1':\r\n                if (this.directives)\r\n                    this.directives.yaml.version = '1.1';\r\n                else\r\n                    this.directives = new Directives({ version: '1.1' });\r\n                opt = { merge: true, resolveKnownTags: false, schema: 'yaml-1.1' };\r\n                break;\r\n            case '1.2':\r\n            case 'next':\r\n                if (this.directives)\r\n                    this.directives.yaml.version = version;\r\n                else\r\n                    this.directives = new Directives({ version });\r\n                opt = { merge: false, resolveKnownTags: true, schema: 'core' };\r\n                break;\r\n            case null:\r\n                if (this.directives)\r\n                    delete this.directives;\r\n                opt = null;\r\n                break;\r\n            default: {\r\n                const sv = JSON.stringify(version);\r\n                throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`);\r\n            }\r\n        }\r\n        // Not using `instanceof Schema` to allow for duck typing\r\n        if (options.schema instanceof Object)\r\n            this.schema = options.schema;\r\n        else if (opt)\r\n            this.schema = new Schema(Object.assign(opt, options));\r\n        else\r\n            throw new Error(`With a null YAML version, the { schema: Schema } option is required`);\r\n    }\r\n    // json & jsonArg are only used from toJSON()\r\n    toJS({ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\r\n        const ctx = {\r\n            anchors: new Map(),\r\n            doc: this,\r\n            keep: !json,\r\n            mapAsMap: mapAsMap === true,\r\n            mapKeyWarned: false,\r\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100,\r\n            stringify: stringify$3\r\n        };\r\n        const res = toJS(this.contents, jsonArg ?? '', ctx);\r\n        if (typeof onAnchor === 'function')\r\n            for (const { count, res } of ctx.anchors.values())\r\n                onAnchor(res, count);\r\n        return typeof reviver === 'function'\r\n            ? applyReviver(reviver, { '': res }, '', res)\r\n            : res;\r\n    }\r\n    /**\r\n     * A JSON representation of the document `contents`.\r\n     *\r\n     * @param jsonArg Used by `JSON.stringify` to indicate the array index or\r\n     *   property name.\r\n     */\r\n    toJSON(jsonArg, onAnchor) {\r\n        return this.toJS({ json: true, jsonArg, mapAsMap: false, onAnchor });\r\n    }\r\n    /** A YAML representation of the document. */\r\n    toString(options = {}) {\r\n        if (this.errors.length > 0)\r\n            throw new Error('Document with errors cannot be stringified');\r\n        if ('indent' in options &&\r\n            (!Number.isInteger(options.indent) || Number(options.indent) <= 0)) {\r\n            const s = JSON.stringify(options.indent);\r\n            throw new Error(`\"indent\" option must be a positive integer, not ${s}`);\r\n        }\r\n        return stringifyDocument(this, options);\r\n    }\r\n}\r\nfunction assertCollection(contents) {\r\n    if (isCollection$1(contents))\r\n        return true;\r\n    throw new Error('Expected a YAML collection as document contents');\r\n}\r\n\r\nclass YAMLError extends Error {\r\n    constructor(name, pos, code, message) {\r\n        super();\r\n        this.name = name;\r\n        this.code = code;\r\n        this.message = message;\r\n        this.pos = pos;\r\n    }\r\n}\r\nclass YAMLParseError extends YAMLError {\r\n    constructor(pos, code, message) {\r\n        super('YAMLParseError', pos, code, message);\r\n    }\r\n}\r\nclass YAMLWarning extends YAMLError {\r\n    constructor(pos, code, message) {\r\n        super('YAMLWarning', pos, code, message);\r\n    }\r\n}\r\nconst prettifyError = (src, lc) => (error) => {\r\n    if (error.pos[0] === -1)\r\n        return;\r\n    error.linePos = error.pos.map(pos => lc.linePos(pos));\r\n    const { line, col } = error.linePos[0];\r\n    error.message += ` at line ${line}, column ${col}`;\r\n    let ci = col - 1;\r\n    let lineStr = src\r\n        .substring(lc.lineStarts[line - 1], lc.lineStarts[line])\r\n        .replace(/[\\n\\r]+$/, '');\r\n    // Trim to max 80 chars, keeping col position near the middle\r\n    if (ci >= 60 && lineStr.length > 80) {\r\n        const trimStart = Math.min(ci - 39, lineStr.length - 79);\r\n        lineStr = '\u2026' + lineStr.substring(trimStart);\r\n        ci -= trimStart - 1;\r\n    }\r\n    if (lineStr.length > 80)\r\n        lineStr = lineStr.substring(0, 79) + '\u2026';\r\n    // Include previous line in context if pointing at line start\r\n    if (line > 1 && /^ *$/.test(lineStr.substring(0, ci))) {\r\n        // Regexp won't match if start is trimmed\r\n        let prev = src.substring(lc.lineStarts[line - 2], lc.lineStarts[line - 1]);\r\n        if (prev.length > 80)\r\n            prev = prev.substring(0, 79) + '\u2026\\n';\r\n        lineStr = prev + lineStr;\r\n    }\r\n    if (/[^ ]/.test(lineStr)) {\r\n        let count = 1;\r\n        const end = error.linePos[1];\r\n        if (end && end.line === line && end.col > col) {\r\n            count = Math.min(end.col - col, 80 - ci);\r\n        }\r\n        const pointer = ' '.repeat(ci) + '^'.repeat(count);\r\n        error.message += `:\\n\\n${lineStr}\\n${pointer}\\n`;\r\n    }\r\n};\r\n\r\nfunction resolveProps(tokens, { flow, indicator, next, offset, onError, startOnNewline }) {\r\n    let spaceBefore = false;\r\n    let atNewline = startOnNewline;\r\n    let hasSpace = startOnNewline;\r\n    let comment = '';\r\n    let commentSep = '';\r\n    let hasNewline = false;\r\n    let hasNewlineAfterProp = false;\r\n    let reqSpace = false;\r\n    let anchor = null;\r\n    let tag = null;\r\n    let comma = null;\r\n    let found = null;\r\n    let start = null;\r\n    for (const token of tokens) {\r\n        if (reqSpace) {\r\n            if (token.type !== 'space' &&\r\n                token.type !== 'newline' &&\r\n                token.type !== 'comma')\r\n                onError(token.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\r\n            reqSpace = false;\r\n        }\r\n        switch (token.type) {\r\n            case 'space':\r\n                // At the doc level, tabs at line start may be parsed\r\n                // as leading white space rather than indentation.\r\n                // In a flow collection, only the parser handles indent.\r\n                if (!flow &&\r\n                    atNewline &&\r\n                    indicator !== 'doc-start' &&\r\n                    token.source[0] === '\\t')\r\n                    onError(token, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\r\n                hasSpace = true;\r\n                break;\r\n            case 'comment': {\r\n                if (!hasSpace)\r\n                    onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\r\n                const cb = token.source.substring(1) || ' ';\r\n                if (!comment)\r\n                    comment = cb;\r\n                else\r\n                    comment += commentSep + cb;\r\n                commentSep = '';\r\n                atNewline = false;\r\n                break;\r\n            }\r\n            case 'newline':\r\n                if (atNewline) {\r\n                    if (comment)\r\n                        comment += token.source;\r\n                    else\r\n                        spaceBefore = true;\r\n                }\r\n                else\r\n                    commentSep += token.source;\r\n                atNewline = true;\r\n                hasNewline = true;\r\n                if (anchor || tag)\r\n                    hasNewlineAfterProp = true;\r\n                hasSpace = true;\r\n                break;\r\n            case 'anchor':\r\n                if (anchor)\r\n                    onError(token, 'MULTIPLE_ANCHORS', 'A node can have at most one anchor');\r\n                if (token.source.endsWith(':'))\r\n                    onError(token.offset + token.source.length - 1, 'BAD_ALIAS', 'Anchor ending in : is ambiguous', true);\r\n                anchor = token;\r\n                if (start === null)\r\n                    start = token.offset;\r\n                atNewline = false;\r\n                hasSpace = false;\r\n                reqSpace = true;\r\n                break;\r\n            case 'tag': {\r\n                if (tag)\r\n                    onError(token, 'MULTIPLE_TAGS', 'A node can have at most one tag');\r\n                tag = token;\r\n                if (start === null)\r\n                    start = token.offset;\r\n                atNewline = false;\r\n                hasSpace = false;\r\n                reqSpace = true;\r\n                break;\r\n            }\r\n            case indicator:\r\n                // Could here handle preceding comments differently\r\n                if (anchor || tag)\r\n                    onError(token, 'BAD_PROP_ORDER', `Anchors and tags must be after the ${token.source} indicator`);\r\n                if (found)\r\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.source} in ${flow ?? 'collection'}`);\r\n                found = token;\r\n                atNewline = false;\r\n                hasSpace = false;\r\n                break;\r\n            case 'comma':\r\n                if (flow) {\r\n                    if (comma)\r\n                        onError(token, 'UNEXPECTED_TOKEN', `Unexpected , in ${flow}`);\r\n                    comma = token;\r\n                    atNewline = false;\r\n                    hasSpace = false;\r\n                    break;\r\n                }\r\n            // else fallthrough\r\n            default:\r\n                onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.type} token`);\r\n                atNewline = false;\r\n                hasSpace = false;\r\n        }\r\n    }\r\n    const last = tokens[tokens.length - 1];\r\n    const end = last ? last.offset + last.source.length : offset;\r\n    if (reqSpace &&\r\n        next &&\r\n        next.type !== 'space' &&\r\n        next.type !== 'newline' &&\r\n        next.type !== 'comma' &&\r\n        (next.type !== 'scalar' || next.source !== ''))\r\n        onError(next.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\r\n    return {\r\n        comma,\r\n        found,\r\n        spaceBefore,\r\n        comment,\r\n        hasNewline,\r\n        hasNewlineAfterProp,\r\n        anchor,\r\n        tag,\r\n        end,\r\n        start: start ?? end\r\n    };\r\n}\r\n\r\nfunction containsNewline(key) {\r\n    if (!key)\r\n        return null;\r\n    switch (key.type) {\r\n        case 'alias':\r\n        case 'scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'single-quoted-scalar':\r\n            if (key.source.includes('\\n'))\r\n                return true;\r\n            if (key.end)\r\n                for (const st of key.end)\r\n                    if (st.type === 'newline')\r\n                        return true;\r\n            return false;\r\n        case 'flow-collection':\r\n            for (const it of key.items) {\r\n                for (const st of it.start)\r\n                    if (st.type === 'newline')\r\n                        return true;\r\n                if (it.sep)\r\n                    for (const st of it.sep)\r\n                        if (st.type === 'newline')\r\n                            return true;\r\n                if (containsNewline(it.key) || containsNewline(it.value))\r\n                    return true;\r\n            }\r\n            return false;\r\n        default:\r\n            return true;\r\n    }\r\n}\r\n\r\nfunction flowIndentCheck(indent, fc, onError) {\r\n    if (fc?.type === 'flow-collection') {\r\n        const end = fc.end[0];\r\n        if (end.indent === indent &&\r\n            (end.source === ']' || end.source === '}') &&\r\n            containsNewline(fc)) {\r\n            const msg = 'Flow end indicator should be more indented than parent';\r\n            onError(end, 'BAD_INDENT', msg, true);\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapIncludes(ctx, items, search) {\r\n    const { uniqueKeys } = ctx.options;\r\n    if (uniqueKeys === false)\r\n        return false;\r\n    const isEqual = typeof uniqueKeys === 'function'\r\n        ? uniqueKeys\r\n        : (a, b) => a === b ||\r\n            (isScalar$1(a) &&\r\n                isScalar$1(b) &&\r\n                a.value === b.value &&\r\n                !(a.value === '<<' && ctx.schema.merge));\r\n    return items.some(pair => isEqual(pair.key, search));\r\n}\r\n\r\nconst startColMsg = 'All mapping items must start at the same column';\r\nfunction resolveBlockMap({ composeNode, composeEmptyNode }, ctx, bm, onError) {\r\n    const map = new YAMLMap(ctx.schema);\r\n    if (ctx.atRoot)\r\n        ctx.atRoot = false;\r\n    let offset = bm.offset;\r\n    for (const collItem of bm.items) {\r\n        const { start, key, sep, value } = collItem;\r\n        // key properties\r\n        const keyProps = resolveProps(start, {\r\n            indicator: 'explicit-key-ind',\r\n            next: key ?? sep?.[0],\r\n            offset,\r\n            onError,\r\n            startOnNewline: true\r\n        });\r\n        const implicitKey = !keyProps.found;\r\n        if (implicitKey) {\r\n            if (key) {\r\n                if (key.type === 'block-seq')\r\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'A block sequence may not be used as an implicit map key');\r\n                else if ('indent' in key && key.indent !== bm.indent)\r\n                    onError(offset, 'BAD_INDENT', startColMsg);\r\n            }\r\n            if (!keyProps.anchor && !keyProps.tag && !sep) {\r\n                // TODO: assert being at last item?\r\n                if (keyProps.comment) {\r\n                    if (map.comment)\r\n                        map.comment += '\\n' + keyProps.comment;\r\n                    else\r\n                        map.comment = keyProps.comment;\r\n                }\r\n                continue;\r\n            }\r\n            if (keyProps.hasNewlineAfterProp || containsNewline(key)) {\r\n                onError(key ?? start[start.length - 1], 'MULTILINE_IMPLICIT_KEY', 'Implicit keys need to be on a single line');\r\n            }\r\n        }\r\n        else if (keyProps.found?.indent !== bm.indent) {\r\n            onError(offset, 'BAD_INDENT', startColMsg);\r\n        }\r\n        // key value\r\n        const keyStart = keyProps.end;\r\n        const keyNode = key\r\n            ? composeNode(ctx, key, keyProps, onError)\r\n            : composeEmptyNode(ctx, keyStart, start, null, keyProps, onError);\r\n        if (ctx.schema.compat)\r\n            flowIndentCheck(bm.indent, key, onError);\r\n        if (mapIncludes(ctx, map.items, keyNode))\r\n            onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\r\n        // value properties\r\n        const valueProps = resolveProps(sep ?? [], {\r\n            indicator: 'map-value-ind',\r\n            next: value,\r\n            offset: keyNode.range[2],\r\n            onError,\r\n            startOnNewline: !key || key.type === 'block-scalar'\r\n        });\r\n        offset = valueProps.end;\r\n        if (valueProps.found) {\r\n            if (implicitKey) {\r\n                if (value?.type === 'block-map' && !valueProps.hasNewline)\r\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'Nested mappings are not allowed in compact mappings');\r\n                if (ctx.options.strict &&\r\n                    keyProps.start < valueProps.found.offset - 1024)\r\n                    onError(keyNode.range, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit block mapping key');\r\n            }\r\n            // value value\r\n            const valueNode = value\r\n                ? composeNode(ctx, value, valueProps, onError)\r\n                : composeEmptyNode(ctx, offset, sep, null, valueProps, onError);\r\n            if (ctx.schema.compat)\r\n                flowIndentCheck(bm.indent, value, onError);\r\n            offset = valueNode.range[2];\r\n            const pair = new Pair(keyNode, valueNode);\r\n            if (ctx.options.keepSourceTokens)\r\n                pair.srcToken = collItem;\r\n            map.items.push(pair);\r\n        }\r\n        else {\r\n            // key with no value\r\n            if (implicitKey)\r\n                onError(keyNode.range, 'MISSING_CHAR', 'Implicit map keys need to be followed by map values');\r\n            if (valueProps.comment) {\r\n                if (keyNode.comment)\r\n                    keyNode.comment += '\\n' + valueProps.comment;\r\n                else\r\n                    keyNode.comment = valueProps.comment;\r\n            }\r\n            const pair = new Pair(keyNode);\r\n            if (ctx.options.keepSourceTokens)\r\n                pair.srcToken = collItem;\r\n            map.items.push(pair);\r\n        }\r\n    }\r\n    map.range = [bm.offset, offset, offset];\r\n    return map;\r\n}\r\n\r\nfunction resolveBlockSeq({ composeNode, composeEmptyNode }, ctx, bs, onError) {\r\n    const seq = new YAMLSeq(ctx.schema);\r\n    if (ctx.atRoot)\r\n        ctx.atRoot = false;\r\n    let offset = bs.offset;\r\n    for (const { start, value } of bs.items) {\r\n        const props = resolveProps(start, {\r\n            indicator: 'seq-item-ind',\r\n            next: value,\r\n            offset,\r\n            onError,\r\n            startOnNewline: true\r\n        });\r\n        offset = props.end;\r\n        if (!props.found) {\r\n            if (props.anchor || props.tag || value) {\r\n                if (value && value.type === 'block-seq')\r\n                    onError(offset, 'BAD_INDENT', 'All sequence items must start at the same column');\r\n                else\r\n                    onError(offset, 'MISSING_CHAR', 'Sequence item without - indicator');\r\n            }\r\n            else {\r\n                // TODO: assert being at last item?\r\n                if (props.comment)\r\n                    seq.comment = props.comment;\r\n                continue;\r\n            }\r\n        }\r\n        const node = value\r\n            ? composeNode(ctx, value, props, onError)\r\n            : composeEmptyNode(ctx, offset, start, null, props, onError);\r\n        if (ctx.schema.compat)\r\n            flowIndentCheck(bs.indent, value, onError);\r\n        offset = node.range[2];\r\n        seq.items.push(node);\r\n    }\r\n    seq.range = [bs.offset, offset, offset];\r\n    return seq;\r\n}\r\n\r\nfunction resolveEnd(end, offset, reqSpace, onError) {\r\n    let comment = '';\r\n    if (end) {\r\n        let hasSpace = false;\r\n        let sep = '';\r\n        for (const token of end) {\r\n            const { source, type } = token;\r\n            switch (type) {\r\n                case 'space':\r\n                    hasSpace = true;\r\n                    break;\r\n                case 'comment': {\r\n                    if (reqSpace && !hasSpace)\r\n                        onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\r\n                    const cb = source.substring(1) || ' ';\r\n                    if (!comment)\r\n                        comment = cb;\r\n                    else\r\n                        comment += sep + cb;\r\n                    sep = '';\r\n                    break;\r\n                }\r\n                case 'newline':\r\n                    if (comment)\r\n                        sep += source;\r\n                    hasSpace = true;\r\n                    break;\r\n                default:\r\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${type} at node end`);\r\n            }\r\n            offset += source.length;\r\n        }\r\n    }\r\n    return { comment, offset };\r\n}\r\n\r\nconst blockMsg = 'Block collections are not allowed within flow collections';\r\nconst isBlock = (token) => token && (token.type === 'block-map' || token.type === 'block-seq');\r\nfunction resolveFlowCollection({ composeNode, composeEmptyNode }, ctx, fc, onError) {\r\n    const isMap = fc.start.source === '{';\r\n    const fcName = isMap ? 'flow map' : 'flow sequence';\r\n    const coll = isMap\r\n        ? new YAMLMap(ctx.schema)\r\n        : new YAMLSeq(ctx.schema);\r\n    coll.flow = true;\r\n    const atRoot = ctx.atRoot;\r\n    if (atRoot)\r\n        ctx.atRoot = false;\r\n    let offset = fc.offset + fc.start.source.length;\r\n    for (let i = 0; i < fc.items.length; ++i) {\r\n        const collItem = fc.items[i];\r\n        const { start, key, sep, value } = collItem;\r\n        const props = resolveProps(start, {\r\n            flow: fcName,\r\n            indicator: 'explicit-key-ind',\r\n            next: key ?? sep?.[0],\r\n            offset,\r\n            onError,\r\n            startOnNewline: false\r\n        });\r\n        if (!props.found) {\r\n            if (!props.anchor && !props.tag && !sep && !value) {\r\n                if (i === 0 && props.comma)\r\n                    onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\r\n                else if (i < fc.items.length - 1)\r\n                    onError(props.start, 'UNEXPECTED_TOKEN', `Unexpected empty item in ${fcName}`);\r\n                if (props.comment) {\r\n                    if (coll.comment)\r\n                        coll.comment += '\\n' + props.comment;\r\n                    else\r\n                        coll.comment = props.comment;\r\n                }\r\n                offset = props.end;\r\n                continue;\r\n            }\r\n            if (!isMap && ctx.options.strict && containsNewline(key))\r\n                onError(key, // checked by containsNewline()\r\n                'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\r\n        }\r\n        if (i === 0) {\r\n            if (props.comma)\r\n                onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\r\n        }\r\n        else {\r\n            if (!props.comma)\r\n                onError(props.start, 'MISSING_CHAR', `Missing , between ${fcName} items`);\r\n            if (props.comment) {\r\n                let prevItemComment = '';\r\n                loop: for (const st of start) {\r\n                    switch (st.type) {\r\n                        case 'comma':\r\n                        case 'space':\r\n                            break;\r\n                        case 'comment':\r\n                            prevItemComment = st.source.substring(1);\r\n                            break loop;\r\n                        default:\r\n                            break loop;\r\n                    }\r\n                }\r\n                if (prevItemComment) {\r\n                    let prev = coll.items[coll.items.length - 1];\r\n                    if (isPair(prev))\r\n                        prev = prev.value ?? prev.key;\r\n                    if (prev.comment)\r\n                        prev.comment += '\\n' + prevItemComment;\r\n                    else\r\n                        prev.comment = prevItemComment;\r\n                    props.comment = props.comment.substring(prevItemComment.length + 1);\r\n                }\r\n            }\r\n        }\r\n        if (!isMap && !sep && !props.found) {\r\n            // item is a value in a seq\r\n            // \u2192 key & sep are empty, start does not include ? or :\r\n            const valueNode = value\r\n                ? composeNode(ctx, value, props, onError)\r\n                : composeEmptyNode(ctx, props.end, sep, null, props, onError);\r\n            coll.items.push(valueNode);\r\n            offset = valueNode.range[2];\r\n            if (isBlock(value))\r\n                onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\r\n        }\r\n        else {\r\n            // item is a key+value pair\r\n            // key value\r\n            const keyStart = props.end;\r\n            const keyNode = key\r\n                ? composeNode(ctx, key, props, onError)\r\n                : composeEmptyNode(ctx, keyStart, start, null, props, onError);\r\n            if (isBlock(key))\r\n                onError(keyNode.range, 'BLOCK_IN_FLOW', blockMsg);\r\n            // value properties\r\n            const valueProps = resolveProps(sep ?? [], {\r\n                flow: fcName,\r\n                indicator: 'map-value-ind',\r\n                next: value,\r\n                offset: keyNode.range[2],\r\n                onError,\r\n                startOnNewline: false\r\n            });\r\n            if (valueProps.found) {\r\n                if (!isMap && !props.found && ctx.options.strict) {\r\n                    if (sep)\r\n                        for (const st of sep) {\r\n                            if (st === valueProps.found)\r\n                                break;\r\n                            if (st.type === 'newline') {\r\n                                onError(st, 'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\r\n                                break;\r\n                            }\r\n                        }\r\n                    if (props.start < valueProps.found.offset - 1024)\r\n                        onError(valueProps.found, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit flow sequence key');\r\n                }\r\n            }\r\n            else if (value) {\r\n                if ('source' in value && value.source && value.source[0] === ':')\r\n                    onError(value, 'MISSING_CHAR', `Missing space after : in ${fcName}`);\r\n                else\r\n                    onError(valueProps.start, 'MISSING_CHAR', `Missing , or : between ${fcName} items`);\r\n            }\r\n            // value value\r\n            const valueNode = value\r\n                ? composeNode(ctx, value, valueProps, onError)\r\n                : valueProps.found\r\n                    ? composeEmptyNode(ctx, valueProps.end, sep, null, valueProps, onError)\r\n                    : null;\r\n            if (valueNode) {\r\n                if (isBlock(value))\r\n                    onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\r\n            }\r\n            else if (valueProps.comment) {\r\n                if (keyNode.comment)\r\n                    keyNode.comment += '\\n' + valueProps.comment;\r\n                else\r\n                    keyNode.comment = valueProps.comment;\r\n            }\r\n            const pair = new Pair(keyNode, valueNode);\r\n            if (ctx.options.keepSourceTokens)\r\n                pair.srcToken = collItem;\r\n            if (isMap) {\r\n                const map = coll;\r\n                if (mapIncludes(ctx, map.items, keyNode))\r\n                    onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\r\n                map.items.push(pair);\r\n            }\r\n            else {\r\n                const map = new YAMLMap(ctx.schema);\r\n                map.flow = true;\r\n                map.items.push(pair);\r\n                coll.items.push(map);\r\n            }\r\n            offset = valueNode ? valueNode.range[2] : valueProps.end;\r\n        }\r\n    }\r\n    const expectedEnd = isMap ? '}' : ']';\r\n    const [ce, ...ee] = fc.end;\r\n    let cePos = offset;\r\n    if (ce && ce.source === expectedEnd)\r\n        cePos = ce.offset + ce.source.length;\r\n    else {\r\n        const name = fcName[0].toUpperCase() + fcName.substring(1);\r\n        const msg = atRoot\r\n            ? `${name} must end with a ${expectedEnd}`\r\n            : `${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;\r\n        onError(offset, atRoot ? 'MISSING_CHAR' : 'BAD_INDENT', msg);\r\n        if (ce && ce.source.length !== 1)\r\n            ee.unshift(ce);\r\n    }\r\n    if (ee.length > 0) {\r\n        const end = resolveEnd(ee, cePos, ctx.options.strict, onError);\r\n        if (end.comment) {\r\n            if (coll.comment)\r\n                coll.comment += '\\n' + end.comment;\r\n            else\r\n                coll.comment = end.comment;\r\n        }\r\n        coll.range = [fc.offset, cePos, end.offset];\r\n    }\r\n    else {\r\n        coll.range = [fc.offset, cePos, cePos];\r\n    }\r\n    return coll;\r\n}\r\n\r\nfunction composeCollection(CN, ctx, token, tagToken, onError) {\r\n    let coll;\r\n    switch (token.type) {\r\n        case 'block-map': {\r\n            coll = resolveBlockMap(CN, ctx, token, onError);\r\n            break;\r\n        }\r\n        case 'block-seq': {\r\n            coll = resolveBlockSeq(CN, ctx, token, onError);\r\n            break;\r\n        }\r\n        case 'flow-collection': {\r\n            coll = resolveFlowCollection(CN, ctx, token, onError);\r\n            break;\r\n        }\r\n    }\r\n    if (!tagToken)\r\n        return coll;\r\n    const tagName = ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg));\r\n    if (!tagName)\r\n        return coll;\r\n    // Cast needed due to: https://github.com/Microsoft/TypeScript/issues/3841\r\n    const Coll = coll.constructor;\r\n    if (tagName === '!' || tagName === Coll.tagName) {\r\n        coll.tag = Coll.tagName;\r\n        return coll;\r\n    }\r\n    const expType = isMap(coll) ? 'map' : 'seq';\r\n    let tag = ctx.schema.tags.find(t => t.collection === expType && t.tag === tagName);\r\n    if (!tag) {\r\n        const kt = ctx.schema.knownTags[tagName];\r\n        if (kt && kt.collection === expType) {\r\n            ctx.schema.tags.push(Object.assign({}, kt, { default: false }));\r\n            tag = kt;\r\n        }\r\n        else {\r\n            onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, true);\r\n            coll.tag = tagName;\r\n            return coll;\r\n        }\r\n    }\r\n    const res = tag.resolve(coll, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg), ctx.options);\r\n    const node = isNode(res)\r\n        ? res\r\n        : new Scalar(res);\r\n    node.range = coll.range;\r\n    node.tag = tagName;\r\n    if (tag?.format)\r\n        node.format = tag.format;\r\n    return node;\r\n}\r\n\r\nfunction resolveBlockScalar(scalar, strict, onError) {\r\n    const start = scalar.offset;\r\n    const header = parseBlockScalarHeader(scalar, strict, onError);\r\n    if (!header)\r\n        return { value: '', type: null, comment: '', range: [start, start, start] };\r\n    const type = header.mode === '>' ? Scalar.BLOCK_FOLDED : Scalar.BLOCK_LITERAL;\r\n    const lines = scalar.source ? splitLines(scalar.source) : [];\r\n    // determine the end of content & start of chomping\r\n    let chompStart = lines.length;\r\n    for (let i = lines.length - 1; i >= 0; --i) {\r\n        const content = lines[i][1];\r\n        if (content === '' || content === '\\r')\r\n            chompStart = i;\r\n        else\r\n            break;\r\n    }\r\n    // shortcut for empty contents\r\n    if (chompStart === 0) {\r\n        const value = header.chomp === '+' && lines.length > 0\r\n            ? '\\n'.repeat(Math.max(1, lines.length - 1))\r\n            : '';\r\n        let end = start + header.length;\r\n        if (scalar.source)\r\n            end += scalar.source.length;\r\n        return { value, type, comment: header.comment, range: [start, end, end] };\r\n    }\r\n    // find the indentation level to trim from start\r\n    let trimIndent = scalar.indent + header.indent;\r\n    let offset = scalar.offset + header.length;\r\n    let contentStart = 0;\r\n    for (let i = 0; i < chompStart; ++i) {\r\n        const [indent, content] = lines[i];\r\n        if (content === '' || content === '\\r') {\r\n            if (header.indent === 0 && indent.length > trimIndent)\r\n                trimIndent = indent.length;\r\n        }\r\n        else {\r\n            if (indent.length < trimIndent) {\r\n                const message = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';\r\n                onError(offset + indent.length, 'MISSING_CHAR', message);\r\n            }\r\n            if (header.indent === 0)\r\n                trimIndent = indent.length;\r\n            contentStart = i;\r\n            break;\r\n        }\r\n        offset += indent.length + content.length + 1;\r\n    }\r\n    // include trailing more-indented empty lines in content\r\n    for (let i = lines.length - 1; i >= chompStart; --i) {\r\n        if (lines[i][0].length > trimIndent)\r\n            chompStart = i + 1;\r\n    }\r\n    let value = '';\r\n    let sep = '';\r\n    let prevMoreIndented = false;\r\n    // leading whitespace is kept intact\r\n    for (let i = 0; i < contentStart; ++i)\r\n        value += lines[i][0].slice(trimIndent) + '\\n';\r\n    for (let i = contentStart; i < chompStart; ++i) {\r\n        let [indent, content] = lines[i];\r\n        offset += indent.length + content.length + 1;\r\n        const crlf = content[content.length - 1] === '\\r';\r\n        if (crlf)\r\n            content = content.slice(0, -1);\r\n        /* istanbul ignore if already caught in lexer */\r\n        if (content && indent.length < trimIndent) {\r\n            const src = header.indent\r\n                ? 'explicit indentation indicator'\r\n                : 'first line';\r\n            const message = `Block scalar lines must not be less indented than their ${src}`;\r\n            onError(offset - content.length - (crlf ? 2 : 1), 'BAD_INDENT', message);\r\n            indent = '';\r\n        }\r\n        if (type === Scalar.BLOCK_LITERAL) {\r\n            value += sep + indent.slice(trimIndent) + content;\r\n            sep = '\\n';\r\n        }\r\n        else if (indent.length > trimIndent || content[0] === '\\t') {\r\n            // more-indented content within a folded block\r\n            if (sep === ' ')\r\n                sep = '\\n';\r\n            else if (!prevMoreIndented && sep === '\\n')\r\n                sep = '\\n\\n';\r\n            value += sep + indent.slice(trimIndent) + content;\r\n            sep = '\\n';\r\n            prevMoreIndented = true;\r\n        }\r\n        else if (content === '') {\r\n            // empty line\r\n            if (sep === '\\n')\r\n                value += '\\n';\r\n            else\r\n                sep = '\\n';\r\n        }\r\n        else {\r\n            value += sep + content;\r\n            sep = ' ';\r\n            prevMoreIndented = false;\r\n        }\r\n    }\r\n    switch (header.chomp) {\r\n        case '-':\r\n            break;\r\n        case '+':\r\n            for (let i = chompStart; i < lines.length; ++i)\r\n                value += '\\n' + lines[i][0].slice(trimIndent);\r\n            if (value[value.length - 1] !== '\\n')\r\n                value += '\\n';\r\n            break;\r\n        default:\r\n            value += '\\n';\r\n    }\r\n    const end = start + header.length + scalar.source.length;\r\n    return { value, type, comment: header.comment, range: [start, end, end] };\r\n}\r\nfunction parseBlockScalarHeader({ offset, props }, strict, onError) {\r\n    /* istanbul ignore if should not happen */\r\n    if (props[0].type !== 'block-scalar-header') {\r\n        onError(props[0], 'IMPOSSIBLE', 'Block scalar header not found');\r\n        return null;\r\n    }\r\n    const { source } = props[0];\r\n    const mode = source[0];\r\n    let indent = 0;\r\n    let chomp = '';\r\n    let error = -1;\r\n    for (let i = 1; i < source.length; ++i) {\r\n        const ch = source[i];\r\n        if (!chomp && (ch === '-' || ch === '+'))\r\n            chomp = ch;\r\n        else {\r\n            const n = Number(ch);\r\n            if (!indent && n)\r\n                indent = n;\r\n            else if (error === -1)\r\n                error = offset + i;\r\n        }\r\n    }\r\n    if (error !== -1)\r\n        onError(error, 'UNEXPECTED_TOKEN', `Block scalar header includes extra characters: ${source}`);\r\n    let hasSpace = false;\r\n    let comment = '';\r\n    let length = source.length;\r\n    for (let i = 1; i < props.length; ++i) {\r\n        const token = props[i];\r\n        switch (token.type) {\r\n            case 'space':\r\n                hasSpace = true;\r\n            // fallthrough\r\n            case 'newline':\r\n                length += token.source.length;\r\n                break;\r\n            case 'comment':\r\n                if (strict && !hasSpace) {\r\n                    const message = 'Comments must be separated from other tokens by white space characters';\r\n                    onError(token, 'MISSING_CHAR', message);\r\n                }\r\n                length += token.source.length;\r\n                comment = token.source.substring(1);\r\n                break;\r\n            case 'error':\r\n                onError(token, 'UNEXPECTED_TOKEN', token.message);\r\n                length += token.source.length;\r\n                break;\r\n            /* istanbul ignore next should not happen */\r\n            default: {\r\n                const message = `Unexpected token in block scalar header: ${token.type}`;\r\n                onError(token, 'UNEXPECTED_TOKEN', message);\r\n                const ts = token.source;\r\n                if (ts && typeof ts === 'string')\r\n                    length += ts.length;\r\n            }\r\n        }\r\n    }\r\n    return { mode, indent, chomp, comment, length };\r\n}\r\n/** @returns Array of lines split up as `[indent, content]` */\r\nfunction splitLines(source) {\r\n    const split = source.split(/\\n( *)/);\r\n    const first = split[0];\r\n    const m = first.match(/^( *)/);\r\n    const line0 = m?.[1]\r\n        ? [m[1], first.slice(m[1].length)]\r\n        : ['', first];\r\n    const lines = [line0];\r\n    for (let i = 1; i < split.length; i += 2)\r\n        lines.push([split[i], split[i + 1]]);\r\n    return lines;\r\n}\r\n\r\nfunction resolveFlowScalar(scalar, strict, onError) {\r\n    const { offset, type, source, end } = scalar;\r\n    let _type;\r\n    let value;\r\n    const _onError = (rel, code, msg) => onError(offset + rel, code, msg);\r\n    switch (type) {\r\n        case 'scalar':\r\n            _type = Scalar.PLAIN;\r\n            value = plainValue(source, _onError);\r\n            break;\r\n        case 'single-quoted-scalar':\r\n            _type = Scalar.QUOTE_SINGLE;\r\n            value = singleQuotedValue(source, _onError);\r\n            break;\r\n        case 'double-quoted-scalar':\r\n            _type = Scalar.QUOTE_DOUBLE;\r\n            value = doubleQuotedValue(source, _onError);\r\n            break;\r\n        /* istanbul ignore next should not happen */\r\n        default:\r\n            onError(scalar, 'UNEXPECTED_TOKEN', `Expected a flow scalar value, but found: ${type}`);\r\n            return {\r\n                value: '',\r\n                type: null,\r\n                comment: '',\r\n                range: [offset, offset + source.length, offset + source.length]\r\n            };\r\n    }\r\n    const valueEnd = offset + source.length;\r\n    const re = resolveEnd(end, valueEnd, strict, onError);\r\n    return {\r\n        value,\r\n        type: _type,\r\n        comment: re.comment,\r\n        range: [offset, valueEnd, re.offset]\r\n    };\r\n}\r\nfunction plainValue(source, onError) {\r\n    let badChar = '';\r\n    switch (source[0]) {\r\n        /* istanbul ignore next should not happen */\r\n        case '\\t':\r\n            badChar = 'a tab character';\r\n            break;\r\n        case ',':\r\n            badChar = 'flow indicator character ,';\r\n            break;\r\n        case '%':\r\n            badChar = 'directive indicator character %';\r\n            break;\r\n        case '|':\r\n        case '>': {\r\n            badChar = `block scalar indicator ${source[0]}`;\r\n            break;\r\n        }\r\n        case '@':\r\n        case '`': {\r\n            badChar = `reserved character ${source[0]}`;\r\n            break;\r\n        }\r\n    }\r\n    if (badChar)\r\n        onError(0, 'BAD_SCALAR_START', `Plain value cannot start with ${badChar}`);\r\n    return foldLines(source);\r\n}\r\nfunction singleQuotedValue(source, onError) {\r\n    if (source[source.length - 1] !== \"'\" || source.length === 1)\r\n        onError(source.length, 'MISSING_CHAR', \"Missing closing 'quote\");\r\n    return foldLines(source.slice(1, -1)).replace(/''/g, \"'\");\r\n}\r\nfunction foldLines(source) {\r\n    /**\r\n     * The negative lookbehind here and in the `re` RegExp is to\r\n     * prevent causing a polynomial search time in certain cases.\r\n     *\r\n     * The try-catch is for Safari, which doesn't support this yet:\r\n     * https://caniuse.com/js-regexp-lookbehind\r\n     */\r\n    let first, line;\r\n    try {\r\n        first = new RegExp('(.*?)(?<![ \\t])[ \\t]*\\r?\\n', 'sy');\r\n        line = new RegExp('[ \\t]*(.*?)(?:(?<![ \\t])[ \\t]*)?\\r?\\n', 'sy');\r\n    }\r\n    catch (_) {\r\n        first = /(.*?)[ \\t]*\\r?\\n/sy;\r\n        line = /[ \\t]*(.*?)[ \\t]*\\r?\\n/sy;\r\n    }\r\n    let match = first.exec(source);\r\n    if (!match)\r\n        return source;\r\n    let res = match[1];\r\n    let sep = ' ';\r\n    let pos = first.lastIndex;\r\n    line.lastIndex = pos;\r\n    while ((match = line.exec(source))) {\r\n        if (match[1] === '') {\r\n            if (sep === '\\n')\r\n                res += sep;\r\n            else\r\n                sep = '\\n';\r\n        }\r\n        else {\r\n            res += sep + match[1];\r\n            sep = ' ';\r\n        }\r\n        pos = line.lastIndex;\r\n    }\r\n    const last = /[ \\t]*(.*)/sy;\r\n    last.lastIndex = pos;\r\n    match = last.exec(source);\r\n    return res + sep + (match?.[1] ?? '');\r\n}\r\nfunction doubleQuotedValue(source, onError) {\r\n    let res = '';\r\n    for (let i = 1; i < source.length - 1; ++i) {\r\n        const ch = source[i];\r\n        if (ch === '\\r' && source[i + 1] === '\\n')\r\n            continue;\r\n        if (ch === '\\n') {\r\n            const { fold, offset } = foldNewline(source, i);\r\n            res += fold;\r\n            i = offset;\r\n        }\r\n        else if (ch === '\\\\') {\r\n            let next = source[++i];\r\n            const cc = escapeCodes[next];\r\n            if (cc)\r\n                res += cc;\r\n            else if (next === '\\n') {\r\n                // skip escaped newlines, but still trim the following line\r\n                next = source[i + 1];\r\n                while (next === ' ' || next === '\\t')\r\n                    next = source[++i + 1];\r\n            }\r\n            else if (next === '\\r' && source[i + 1] === '\\n') {\r\n                // skip escaped CRLF newlines, but still trim the following line\r\n                next = source[++i + 1];\r\n                while (next === ' ' || next === '\\t')\r\n                    next = source[++i + 1];\r\n            }\r\n            else if (next === 'x' || next === 'u' || next === 'U') {\r\n                const length = { x: 2, u: 4, U: 8 }[next];\r\n                res += parseCharCode(source, i + 1, length, onError);\r\n                i += length;\r\n            }\r\n            else {\r\n                const raw = source.substr(i - 1, 2);\r\n                onError(i - 1, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\r\n                res += raw;\r\n            }\r\n        }\r\n        else if (ch === ' ' || ch === '\\t') {\r\n            // trim trailing whitespace\r\n            const wsStart = i;\r\n            let next = source[i + 1];\r\n            while (next === ' ' || next === '\\t')\r\n                next = source[++i + 1];\r\n            if (next !== '\\n' && !(next === '\\r' && source[i + 2] === '\\n'))\r\n                res += i > wsStart ? source.slice(wsStart, i + 1) : ch;\r\n        }\r\n        else {\r\n            res += ch;\r\n        }\r\n    }\r\n    if (source[source.length - 1] !== '\"' || source.length === 1)\r\n        onError(source.length, 'MISSING_CHAR', 'Missing closing \"quote');\r\n    return res;\r\n}\r\n/**\r\n * Fold a single newline into a space, multiple newlines to N - 1 newlines.\r\n * Presumes `source[offset] === '\\n'`\r\n */\r\nfunction foldNewline(source, offset) {\r\n    let fold = '';\r\n    let ch = source[offset + 1];\r\n    while (ch === ' ' || ch === '\\t' || ch === '\\n' || ch === '\\r') {\r\n        if (ch === '\\r' && source[offset + 2] !== '\\n')\r\n            break;\r\n        if (ch === '\\n')\r\n            fold += '\\n';\r\n        offset += 1;\r\n        ch = source[offset + 1];\r\n    }\r\n    if (!fold)\r\n        fold = ' ';\r\n    return { fold, offset };\r\n}\r\nconst escapeCodes = {\r\n    '0': '\\0',\r\n    a: '\\x07',\r\n    b: '\\b',\r\n    e: '\\x1b',\r\n    f: '\\f',\r\n    n: '\\n',\r\n    r: '\\r',\r\n    t: '\\t',\r\n    v: '\\v',\r\n    N: '\\u0085',\r\n    _: '\\u00a0',\r\n    L: '\\u2028',\r\n    P: '\\u2029',\r\n    ' ': ' ',\r\n    '\"': '\"',\r\n    '/': '/',\r\n    '\\\\': '\\\\',\r\n    '\\t': '\\t'\r\n};\r\nfunction parseCharCode(source, offset, length, onError) {\r\n    const cc = source.substr(offset, length);\r\n    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);\r\n    const code = ok ? parseInt(cc, 16) : NaN;\r\n    if (isNaN(code)) {\r\n        const raw = source.substr(offset - 2, length + 2);\r\n        onError(offset - 2, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\r\n        return raw;\r\n    }\r\n    return String.fromCodePoint(code);\r\n}\r\n\r\nfunction composeScalar(ctx, token, tagToken, onError) {\r\n    const { value, type, comment, range } = token.type === 'block-scalar'\r\n        ? resolveBlockScalar(token, ctx.options.strict, onError)\r\n        : resolveFlowScalar(token, ctx.options.strict, onError);\r\n    const tagName = tagToken\r\n        ? ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg))\r\n        : null;\r\n    const tag = tagToken && tagName\r\n        ? findScalarTagByName(ctx.schema, value, tagName, tagToken, onError)\r\n        : token.type === 'scalar'\r\n            ? findScalarTagByTest(ctx, value, token, onError)\r\n            : ctx.schema[SCALAR$1];\r\n    let scalar;\r\n    try {\r\n        const res = tag.resolve(value, msg => onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg), ctx.options);\r\n        scalar = isScalar$1(res) ? res : new Scalar(res);\r\n    }\r\n    catch (error) {\r\n        const msg = error instanceof Error ? error.message : String(error);\r\n        onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg);\r\n        scalar = new Scalar(value);\r\n    }\r\n    scalar.range = range;\r\n    scalar.source = value;\r\n    if (type)\r\n        scalar.type = type;\r\n    if (tagName)\r\n        scalar.tag = tagName;\r\n    if (tag.format)\r\n        scalar.format = tag.format;\r\n    if (comment)\r\n        scalar.comment = comment;\r\n    return scalar;\r\n}\r\nfunction findScalarTagByName(schema, value, tagName, tagToken, onError) {\r\n    if (tagName === '!')\r\n        return schema[SCALAR$1]; // non-specific tag\r\n    const matchWithTest = [];\r\n    for (const tag of schema.tags) {\r\n        if (!tag.collection && tag.tag === tagName) {\r\n            if (tag.default && tag.test)\r\n                matchWithTest.push(tag);\r\n            else\r\n                return tag;\r\n        }\r\n    }\r\n    for (const tag of matchWithTest)\r\n        if (tag.test?.test(value))\r\n            return tag;\r\n    const kt = schema.knownTags[tagName];\r\n    if (kt && !kt.collection) {\r\n        // Ensure that the known tag is available for stringifying,\r\n        // but does not get used by default.\r\n        schema.tags.push(Object.assign({}, kt, { default: false, test: undefined }));\r\n        return kt;\r\n    }\r\n    onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, tagName !== 'tag:yaml.org,2002:str');\r\n    return schema[SCALAR$1];\r\n}\r\nfunction findScalarTagByTest({ directives, schema }, value, token, onError) {\r\n    const tag = schema.tags.find(tag => tag.default && tag.test?.test(value)) || schema[SCALAR$1];\r\n    if (schema.compat) {\r\n        const compat = schema.compat.find(tag => tag.default && tag.test?.test(value)) ??\r\n            schema[SCALAR$1];\r\n        if (tag.tag !== compat.tag) {\r\n            const ts = directives.tagString(tag.tag);\r\n            const cs = directives.tagString(compat.tag);\r\n            const msg = `Value may be parsed as either ${ts} or ${cs}`;\r\n            onError(token, 'TAG_RESOLVE_FAILED', msg, true);\r\n        }\r\n    }\r\n    return tag;\r\n}\r\n\r\nfunction emptyScalarPosition(offset, before, pos) {\r\n    if (before) {\r\n        if (pos === null)\r\n            pos = before.length;\r\n        for (let i = pos - 1; i >= 0; --i) {\r\n            let st = before[i];\r\n            switch (st.type) {\r\n                case 'space':\r\n                case 'comment':\r\n                case 'newline':\r\n                    offset -= st.source.length;\r\n                    continue;\r\n            }\r\n            // Technically, an empty scalar is immediately after the last non-empty\r\n            // node, but it's more useful to place it after any whitespace.\r\n            st = before[++i];\r\n            while (st?.type === 'space') {\r\n                offset += st.source.length;\r\n                st = before[++i];\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return offset;\r\n}\r\n\r\nconst CN = { composeNode, composeEmptyNode };\r\nfunction composeNode(ctx, token, props, onError) {\r\n    const { spaceBefore, comment, anchor, tag } = props;\r\n    let node;\r\n    let isSrcToken = true;\r\n    switch (token.type) {\r\n        case 'alias':\r\n            node = composeAlias(ctx, token, onError);\r\n            if (anchor || tag)\r\n                onError(token, 'ALIAS_PROPS', 'An alias node must not specify any properties');\r\n            break;\r\n        case 'scalar':\r\n        case 'single-quoted-scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'block-scalar':\r\n            node = composeScalar(ctx, token, tag, onError);\r\n            if (anchor)\r\n                node.anchor = anchor.source.substring(1);\r\n            break;\r\n        case 'block-map':\r\n        case 'block-seq':\r\n        case 'flow-collection':\r\n            node = composeCollection(CN, ctx, token, tag, onError);\r\n            if (anchor)\r\n                node.anchor = anchor.source.substring(1);\r\n            break;\r\n        default: {\r\n            const message = token.type === 'error'\r\n                ? token.message\r\n                : `Unsupported token (type: ${token.type})`;\r\n            onError(token, 'UNEXPECTED_TOKEN', message);\r\n            node = composeEmptyNode(ctx, token.offset, undefined, null, props, onError);\r\n            isSrcToken = false;\r\n        }\r\n    }\r\n    if (anchor && node.anchor === '')\r\n        onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\r\n    if (spaceBefore)\r\n        node.spaceBefore = true;\r\n    if (comment) {\r\n        if (token.type === 'scalar' && token.source === '')\r\n            node.comment = comment;\r\n        else\r\n            node.commentBefore = comment;\r\n    }\r\n    // @ts-expect-error Type checking misses meaning of isSrcToken\r\n    if (ctx.options.keepSourceTokens && isSrcToken)\r\n        node.srcToken = token;\r\n    return node;\r\n}\r\nfunction composeEmptyNode(ctx, offset, before, pos, { spaceBefore, comment, anchor, tag }, onError) {\r\n    const token = {\r\n        type: 'scalar',\r\n        offset: emptyScalarPosition(offset, before, pos),\r\n        indent: -1,\r\n        source: ''\r\n    };\r\n    const node = composeScalar(ctx, token, tag, onError);\r\n    if (anchor) {\r\n        node.anchor = anchor.source.substring(1);\r\n        if (node.anchor === '')\r\n            onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\r\n    }\r\n    if (spaceBefore)\r\n        node.spaceBefore = true;\r\n    if (comment)\r\n        node.comment = comment;\r\n    return node;\r\n}\r\nfunction composeAlias({ options }, { offset, source, end }, onError) {\r\n    const alias = new Alias(source.substring(1));\r\n    if (alias.source === '')\r\n        onError(offset, 'BAD_ALIAS', 'Alias cannot be an empty string');\r\n    if (alias.source.endsWith(':'))\r\n        onError(offset + source.length - 1, 'BAD_ALIAS', 'Alias ending in : is ambiguous', true);\r\n    const valueEnd = offset + source.length;\r\n    const re = resolveEnd(end, valueEnd, options.strict, onError);\r\n    alias.range = [offset, valueEnd, re.offset];\r\n    if (re.comment)\r\n        alias.comment = re.comment;\r\n    return alias;\r\n}\r\n\r\nfunction composeDoc(options, directives, { offset, start, value, end }, onError) {\r\n    const opts = Object.assign({ _directives: directives }, options);\r\n    const doc = new Document(undefined, opts);\r\n    const ctx = {\r\n        atRoot: true,\r\n        directives: doc.directives,\r\n        options: doc.options,\r\n        schema: doc.schema\r\n    };\r\n    const props = resolveProps(start, {\r\n        indicator: 'doc-start',\r\n        next: value ?? end?.[0],\r\n        offset,\r\n        onError,\r\n        startOnNewline: true\r\n    });\r\n    if (props.found) {\r\n        doc.directives.docStart = true;\r\n        if (value &&\r\n            (value.type === 'block-map' || value.type === 'block-seq') &&\r\n            !props.hasNewline)\r\n            onError(props.end, 'MISSING_CHAR', 'Block collection cannot start on same line with directives-end marker');\r\n    }\r\n    doc.contents = value\r\n        ? composeNode(ctx, value, props, onError)\r\n        : composeEmptyNode(ctx, props.end, start, null, props, onError);\r\n    const contentEnd = doc.contents.range[2];\r\n    const re = resolveEnd(end, contentEnd, false, onError);\r\n    if (re.comment)\r\n        doc.comment = re.comment;\r\n    doc.range = [offset, contentEnd, re.offset];\r\n    return doc;\r\n}\r\n\r\nfunction getErrorPos(src) {\r\n    if (typeof src === 'number')\r\n        return [src, src + 1];\r\n    if (Array.isArray(src))\r\n        return src.length === 2 ? src : [src[0], src[1]];\r\n    const { offset, source } = src;\r\n    return [offset, offset + (typeof source === 'string' ? source.length : 1)];\r\n}\r\nfunction parsePrelude(prelude) {\r\n    let comment = '';\r\n    let atComment = false;\r\n    let afterEmptyLine = false;\r\n    for (let i = 0; i < prelude.length; ++i) {\r\n        const source = prelude[i];\r\n        switch (source[0]) {\r\n            case '#':\r\n                comment +=\r\n                    (comment === '' ? '' : afterEmptyLine ? '\\n\\n' : '\\n') +\r\n                        (source.substring(1) || ' ');\r\n                atComment = true;\r\n                afterEmptyLine = false;\r\n                break;\r\n            case '%':\r\n                if (prelude[i + 1]?.[0] !== '#')\r\n                    i += 1;\r\n                atComment = false;\r\n                break;\r\n            default:\r\n                // This may be wrong after doc-end, but in that case it doesn't matter\r\n                if (!atComment)\r\n                    afterEmptyLine = true;\r\n                atComment = false;\r\n        }\r\n    }\r\n    return { comment, afterEmptyLine };\r\n}\r\n/**\r\n * Compose a stream of CST nodes into a stream of YAML Documents.\r\n *\r\n * ```ts\r\n * import { Composer, Parser } from 'yaml'\r\n *\r\n * const src: string = ...\r\n * const tokens = new Parser().parse(src)\r\n * const docs = new Composer().compose(tokens)\r\n * ```\r\n */\r\nclass Composer {\r\n    constructor(options = {}) {\r\n        this.doc = null;\r\n        this.atDirectives = false;\r\n        this.prelude = [];\r\n        this.errors = [];\r\n        this.warnings = [];\r\n        this.onError = (source, code, message, warning) => {\r\n            const pos = getErrorPos(source);\r\n            if (warning)\r\n                this.warnings.push(new YAMLWarning(pos, code, message));\r\n            else\r\n                this.errors.push(new YAMLParseError(pos, code, message));\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\r\n        this.directives = new Directives({ version: options.version || '1.2' });\r\n        this.options = options;\r\n    }\r\n    decorate(doc, afterDoc) {\r\n        const { comment, afterEmptyLine } = parsePrelude(this.prelude);\r\n        //console.log({ dc: doc.comment, prelude, comment })\r\n        if (comment) {\r\n            const dc = doc.contents;\r\n            if (afterDoc) {\r\n                doc.comment = doc.comment ? `${doc.comment}\\n${comment}` : comment;\r\n            }\r\n            else if (afterEmptyLine || doc.directives.docStart || !dc) {\r\n                doc.commentBefore = comment;\r\n            }\r\n            else if (isCollection$1(dc) && !dc.flow && dc.items.length > 0) {\r\n                let it = dc.items[0];\r\n                if (isPair(it))\r\n                    it = it.key;\r\n                const cb = it.commentBefore;\r\n                it.commentBefore = cb ? `${comment}\\n${cb}` : comment;\r\n            }\r\n            else {\r\n                const cb = dc.commentBefore;\r\n                dc.commentBefore = cb ? `${comment}\\n${cb}` : comment;\r\n            }\r\n        }\r\n        if (afterDoc) {\r\n            Array.prototype.push.apply(doc.errors, this.errors);\r\n            Array.prototype.push.apply(doc.warnings, this.warnings);\r\n        }\r\n        else {\r\n            doc.errors = this.errors;\r\n            doc.warnings = this.warnings;\r\n        }\r\n        this.prelude = [];\r\n        this.errors = [];\r\n        this.warnings = [];\r\n    }\r\n    /**\r\n     * Current stream status information.\r\n     *\r\n     * Mostly useful at the end of input for an empty stream.\r\n     */\r\n    streamInfo() {\r\n        return {\r\n            comment: parsePrelude(this.prelude).comment,\r\n            directives: this.directives,\r\n            errors: this.errors,\r\n            warnings: this.warnings\r\n        };\r\n    }\r\n    /**\r\n     * Compose tokens into documents.\r\n     *\r\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\r\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\r\n     */\r\n    *compose(tokens, forceDoc = false, endOffset = -1) {\r\n        for (const token of tokens)\r\n            yield* this.next(token);\r\n        yield* this.end(forceDoc, endOffset);\r\n    }\r\n    /** Advance the composer by one CST token. */\r\n    *next(token) {\r\n        switch (token.type) {\r\n            case 'directive':\r\n                this.directives.add(token.source, (offset, message, warning) => {\r\n                    const pos = getErrorPos(token);\r\n                    pos[0] += offset;\r\n                    this.onError(pos, 'BAD_DIRECTIVE', message, warning);\r\n                });\r\n                this.prelude.push(token.source);\r\n                this.atDirectives = true;\r\n                break;\r\n            case 'document': {\r\n                const doc = composeDoc(this.options, this.directives, token, this.onError);\r\n                if (this.atDirectives && !doc.directives.docStart)\r\n                    this.onError(token, 'MISSING_CHAR', 'Missing directives-end/doc-start indicator line');\r\n                this.decorate(doc, false);\r\n                if (this.doc)\r\n                    yield this.doc;\r\n                this.doc = doc;\r\n                this.atDirectives = false;\r\n                break;\r\n            }\r\n            case 'byte-order-mark':\r\n            case 'space':\r\n                break;\r\n            case 'comment':\r\n            case 'newline':\r\n                this.prelude.push(token.source);\r\n                break;\r\n            case 'error': {\r\n                const msg = token.source\r\n                    ? `${token.message}: ${JSON.stringify(token.source)}`\r\n                    : token.message;\r\n                const error = new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg);\r\n                if (this.atDirectives || !this.doc)\r\n                    this.errors.push(error);\r\n                else\r\n                    this.doc.errors.push(error);\r\n                break;\r\n            }\r\n            case 'doc-end': {\r\n                if (!this.doc) {\r\n                    const msg = 'Unexpected doc-end without preceding document';\r\n                    this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg));\r\n                    break;\r\n                }\r\n                this.doc.directives.docEnd = true;\r\n                const end = resolveEnd(token.end, token.offset + token.source.length, this.doc.options.strict, this.onError);\r\n                this.decorate(this.doc, true);\r\n                if (end.comment) {\r\n                    const dc = this.doc.comment;\r\n                    this.doc.comment = dc ? `${dc}\\n${end.comment}` : end.comment;\r\n                }\r\n                this.doc.range[2] = end.offset;\r\n                break;\r\n            }\r\n            default:\r\n                this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', `Unsupported token ${token.type}`));\r\n        }\r\n    }\r\n    /**\r\n     * Call at end of input to yield any remaining document.\r\n     *\r\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\r\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\r\n     */\r\n    *end(forceDoc = false, endOffset = -1) {\r\n        if (this.doc) {\r\n            this.decorate(this.doc, true);\r\n            yield this.doc;\r\n            this.doc = null;\r\n        }\r\n        else if (forceDoc) {\r\n            const opts = Object.assign({ _directives: this.directives }, this.options);\r\n            const doc = new Document(undefined, opts);\r\n            if (this.atDirectives)\r\n                this.onError(endOffset, 'MISSING_CHAR', 'Missing directives-end indicator line');\r\n            doc.range = [0, endOffset, endOffset];\r\n            this.decorate(doc, false);\r\n            yield doc;\r\n        }\r\n    }\r\n}\r\n\r\nfunction resolveAsScalar(token, strict = true, onError) {\r\n    if (token) {\r\n        const _onError = (pos, code, message) => {\r\n            const offset = typeof pos === 'number' ? pos : Array.isArray(pos) ? pos[0] : pos.offset;\r\n            if (onError)\r\n                onError(offset, code, message);\r\n            else\r\n                throw new YAMLParseError([offset, offset + 1], code, message);\r\n        };\r\n        switch (token.type) {\r\n            case 'scalar':\r\n            case 'single-quoted-scalar':\r\n            case 'double-quoted-scalar':\r\n                return resolveFlowScalar(token, strict, _onError);\r\n            case 'block-scalar':\r\n                return resolveBlockScalar(token, strict, _onError);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Create a new scalar token with `value`\r\n *\r\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\r\n * as this function does not support any schema operations and won't check for such conflicts.\r\n *\r\n * @param value The string representation of the value, which will have its content properly indented.\r\n * @param context.end Comments and whitespace after the end of the value, or after the block scalar header. If undefined, a newline will be added.\r\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\r\n * @param context.indent The indent level of the token.\r\n * @param context.inFlow Is this scalar within a flow collection? This may affect the resolved type of the token's value.\r\n * @param context.offset The offset position of the token.\r\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\r\n */\r\nfunction createScalarToken(value, context) {\r\n    const { implicitKey = false, indent, inFlow = false, offset = -1, type = 'PLAIN' } = context;\r\n    const source = stringifyString({ type, value }, {\r\n        implicitKey,\r\n        indent: indent > 0 ? ' '.repeat(indent) : '',\r\n        inFlow,\r\n        options: { blockQuote: true, lineWidth: -1 }\r\n    });\r\n    const end = context.end ?? [\r\n        { type: 'newline', offset: -1, indent, source: '\\n' }\r\n    ];\r\n    switch (source[0]) {\r\n        case '|':\r\n        case '>': {\r\n            const he = source.indexOf('\\n');\r\n            const head = source.substring(0, he);\r\n            const body = source.substring(he + 1) + '\\n';\r\n            const props = [\r\n                { type: 'block-scalar-header', offset, indent, source: head }\r\n            ];\r\n            if (!addEndtoBlockProps(props, end))\r\n                props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\r\n            return { type: 'block-scalar', offset, indent, props, source: body };\r\n        }\r\n        case '\"':\r\n            return { type: 'double-quoted-scalar', offset, indent, source, end };\r\n        case \"'\":\r\n            return { type: 'single-quoted-scalar', offset, indent, source, end };\r\n        default:\r\n            return { type: 'scalar', offset, indent, source, end };\r\n    }\r\n}\r\n/**\r\n * Set the value of `token` to the given string `value`, overwriting any previous contents and type that it may have.\r\n *\r\n * Best efforts are made to retain any comments previously associated with the `token`,\r\n * though all contents within a collection's `items` will be overwritten.\r\n *\r\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\r\n * as this function does not support any schema operations and won't check for such conflicts.\r\n *\r\n * @param token Any token. If it does not include an `indent` value, the value will be stringified as if it were an implicit key.\r\n * @param value The string representation of the value, which will have its content properly indented.\r\n * @param context.afterKey In most cases, values after a key should have an additional level of indentation.\r\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\r\n * @param context.inFlow Being within a flow collection may affect the resolved type of the token's value.\r\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\r\n */\r\nfunction setScalarValue(token, value, context = {}) {\r\n    let { afterKey = false, implicitKey = false, inFlow = false, type } = context;\r\n    let indent = 'indent' in token ? token.indent : null;\r\n    if (afterKey && typeof indent === 'number')\r\n        indent += 2;\r\n    if (!type)\r\n        switch (token.type) {\r\n            case 'single-quoted-scalar':\r\n                type = 'QUOTE_SINGLE';\r\n                break;\r\n            case 'double-quoted-scalar':\r\n                type = 'QUOTE_DOUBLE';\r\n                break;\r\n            case 'block-scalar': {\r\n                const header = token.props[0];\r\n                if (header.type !== 'block-scalar-header')\r\n                    throw new Error('Invalid block scalar header');\r\n                type = header.source[0] === '>' ? 'BLOCK_FOLDED' : 'BLOCK_LITERAL';\r\n                break;\r\n            }\r\n            default:\r\n                type = 'PLAIN';\r\n        }\r\n    const source = stringifyString({ type, value }, {\r\n        implicitKey: implicitKey || indent === null,\r\n        indent: indent !== null && indent > 0 ? ' '.repeat(indent) : '',\r\n        inFlow,\r\n        options: { blockQuote: true, lineWidth: -1 }\r\n    });\r\n    switch (source[0]) {\r\n        case '|':\r\n        case '>':\r\n            setBlockScalarValue(token, source);\r\n            break;\r\n        case '\"':\r\n            setFlowScalarValue(token, source, 'double-quoted-scalar');\r\n            break;\r\n        case \"'\":\r\n            setFlowScalarValue(token, source, 'single-quoted-scalar');\r\n            break;\r\n        default:\r\n            setFlowScalarValue(token, source, 'scalar');\r\n    }\r\n}\r\nfunction setBlockScalarValue(token, source) {\r\n    const he = source.indexOf('\\n');\r\n    const head = source.substring(0, he);\r\n    const body = source.substring(he + 1) + '\\n';\r\n    if (token.type === 'block-scalar') {\r\n        const header = token.props[0];\r\n        if (header.type !== 'block-scalar-header')\r\n            throw new Error('Invalid block scalar header');\r\n        header.source = head;\r\n        token.source = body;\r\n    }\r\n    else {\r\n        const { offset } = token;\r\n        const indent = 'indent' in token ? token.indent : -1;\r\n        const props = [\r\n            { type: 'block-scalar-header', offset, indent, source: head }\r\n        ];\r\n        if (!addEndtoBlockProps(props, 'end' in token ? token.end : undefined))\r\n            props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\r\n        for (const key of Object.keys(token))\r\n            if (key !== 'type' && key !== 'offset')\r\n                delete token[key];\r\n        Object.assign(token, { type: 'block-scalar', indent, props, source: body });\r\n    }\r\n}\r\n/** @returns `true` if last token is a newline */\r\nfunction addEndtoBlockProps(props, end) {\r\n    if (end)\r\n        for (const st of end)\r\n            switch (st.type) {\r\n                case 'space':\r\n                case 'comment':\r\n                    props.push(st);\r\n                    break;\r\n                case 'newline':\r\n                    props.push(st);\r\n                    return true;\r\n            }\r\n    return false;\r\n}\r\nfunction setFlowScalarValue(token, source, type) {\r\n    switch (token.type) {\r\n        case 'scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'single-quoted-scalar':\r\n            token.type = type;\r\n            token.source = source;\r\n            break;\r\n        case 'block-scalar': {\r\n            const end = token.props.slice(1);\r\n            let oa = source.length;\r\n            if (token.props[0].type === 'block-scalar-header')\r\n                oa -= token.props[0].source.length;\r\n            for (const tok of end)\r\n                tok.offset += oa;\r\n            delete token.props;\r\n            Object.assign(token, { type, source, end });\r\n            break;\r\n        }\r\n        case 'block-map':\r\n        case 'block-seq': {\r\n            const offset = token.offset + source.length;\r\n            const nl = { type: 'newline', offset, indent: token.indent, source: '\\n' };\r\n            delete token.items;\r\n            Object.assign(token, { type, source, end: [nl] });\r\n            break;\r\n        }\r\n        default: {\r\n            const indent = 'indent' in token ? token.indent : -1;\r\n            const end = 'end' in token && Array.isArray(token.end)\r\n                ? token.end.filter(st => st.type === 'space' ||\r\n                    st.type === 'comment' ||\r\n                    st.type === 'newline')\r\n                : [];\r\n            for (const key of Object.keys(token))\r\n                if (key !== 'type' && key !== 'offset')\r\n                    delete token[key];\r\n            Object.assign(token, { type, indent, source, end });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Stringify a CST document, token, or collection item\r\n *\r\n * Fair warning: This applies no validation whatsoever, and\r\n * simply concatenates the sources in their logical order.\r\n */\r\nconst stringify$2 = (cst) => 'type' in cst ? stringifyToken(cst) : stringifyItem(cst);\r\nfunction stringifyToken(token) {\r\n    switch (token.type) {\r\n        case 'block-scalar': {\r\n            let res = '';\r\n            for (const tok of token.props)\r\n                res += stringifyToken(tok);\r\n            return res + token.source;\r\n        }\r\n        case 'block-map':\r\n        case 'block-seq': {\r\n            let res = '';\r\n            for (const item of token.items)\r\n                res += stringifyItem(item);\r\n            return res;\r\n        }\r\n        case 'flow-collection': {\r\n            let res = token.start.source;\r\n            for (const item of token.items)\r\n                res += stringifyItem(item);\r\n            for (const st of token.end)\r\n                res += st.source;\r\n            return res;\r\n        }\r\n        case 'document': {\r\n            let res = stringifyItem(token);\r\n            if (token.end)\r\n                for (const st of token.end)\r\n                    res += st.source;\r\n            return res;\r\n        }\r\n        default: {\r\n            let res = token.source;\r\n            if ('end' in token && token.end)\r\n                for (const st of token.end)\r\n                    res += st.source;\r\n            return res;\r\n        }\r\n    }\r\n}\r\nfunction stringifyItem({ start, key, sep, value }) {\r\n    let res = '';\r\n    for (const st of start)\r\n        res += st.source;\r\n    if (key)\r\n        res += stringifyToken(key);\r\n    if (sep)\r\n        for (const st of sep)\r\n            res += st.source;\r\n    if (value)\r\n        res += stringifyToken(value);\r\n    return res;\r\n}\r\n\r\nconst BREAK = Symbol('break visit');\r\nconst SKIP = Symbol('skip children');\r\nconst REMOVE = Symbol('remove item');\r\n/**\r\n * Apply a visitor to a CST document or item.\r\n *\r\n * Walks through the tree (depth-first) starting from the root, calling a\r\n * `visitor` function with two arguments when entering each item:\r\n *   - `item`: The current item, which included the following members:\r\n *     - `start: SourceToken[]` \u2013 Source tokens before the key or value,\r\n *       possibly including its anchor or tag.\r\n *     - `key?: Token | null` \u2013 Set for pair values. May then be `null`, if\r\n *       the key before the `:` separator is empty.\r\n *     - `sep?: SourceToken[]` \u2013 Source tokens between the key and the value,\r\n *       which should include the `:` map value indicator if `value` is set.\r\n *     - `value?: Token` \u2013 The value of a sequence item, or of a map pair.\r\n *   - `path`: The steps from the root to the current node, as an array of\r\n *     `['key' | 'value', number]` tuples.\r\n *\r\n * The return value of the visitor may be used to control the traversal:\r\n *   - `undefined` (default): Do nothing and continue\r\n *   - `visit.SKIP`: Do not visit the children of this token, continue with\r\n *      next sibling\r\n *   - `visit.BREAK`: Terminate traversal completely\r\n *   - `visit.REMOVE`: Remove the current item, then continue with the next one\r\n *   - `number`: Set the index of the next step. This is useful especially if\r\n *     the index of the current token has changed.\r\n *   - `function`: Define the next visitor for this item. After the original\r\n *     visitor is called on item entry, next visitors are called after handling\r\n *     a non-empty `key` and when exiting the item.\r\n */\r\nfunction visit(cst, visitor) {\r\n    if ('type' in cst && cst.type === 'document')\r\n        cst = { start: cst.start, value: cst.value };\r\n    _visit(Object.freeze([]), cst, visitor);\r\n}\r\n// Without the `as symbol` casts, TS declares these in the `visit`\r\n// namespace using `var`, but then complains about that because\r\n// `unique symbol` must be `const`.\r\n/** Terminate visit traversal completely */\r\nvisit.BREAK = BREAK;\r\n/** Do not visit the children of the current item */\r\nvisit.SKIP = SKIP;\r\n/** Remove the current item */\r\nvisit.REMOVE = REMOVE;\r\n/** Find the item at `path` from `cst` as the root */\r\nvisit.itemAtPath = (cst, path) => {\r\n    let item = cst;\r\n    for (const [field, index] of path) {\r\n        const tok = item?.[field];\r\n        if (tok && 'items' in tok) {\r\n            item = tok.items[index];\r\n        }\r\n        else\r\n            return undefined;\r\n    }\r\n    return item;\r\n};\r\n/**\r\n * Get the immediate parent collection of the item at `path` from `cst` as the root.\r\n *\r\n * Throws an error if the collection is not found, which should never happen if the item itself exists.\r\n */\r\nvisit.parentCollection = (cst, path) => {\r\n    const parent = visit.itemAtPath(cst, path.slice(0, -1));\r\n    const field = path[path.length - 1][0];\r\n    const coll = parent?.[field];\r\n    if (coll && 'items' in coll)\r\n        return coll;\r\n    throw new Error('Parent collection not found');\r\n};\r\nfunction _visit(path, item, visitor) {\r\n    let ctrl = visitor(item, path);\r\n    if (typeof ctrl === 'symbol')\r\n        return ctrl;\r\n    for (const field of ['key', 'value']) {\r\n        const token = item[field];\r\n        if (token && 'items' in token) {\r\n            for (let i = 0; i < token.items.length; ++i) {\r\n                const ci = _visit(Object.freeze(path.concat([[field, i]])), token.items[i], visitor);\r\n                if (typeof ci === 'number')\r\n                    i = ci - 1;\r\n                else if (ci === BREAK)\r\n                    return BREAK;\r\n                else if (ci === REMOVE) {\r\n                    token.items.splice(i, 1);\r\n                    i -= 1;\r\n                }\r\n            }\r\n            if (typeof ctrl === 'function' && field === 'key')\r\n                ctrl = ctrl(item, path);\r\n        }\r\n    }\r\n    return typeof ctrl === 'function' ? ctrl(item, path) : ctrl;\r\n}\r\n\r\n/** The byte order mark */\r\nconst BOM = '\\u{FEFF}';\r\n/** Start of doc-mode */\r\nconst DOCUMENT = '\\x02'; // C0: Start of Text\r\n/** Unexpected end of flow-mode */\r\nconst FLOW_END = '\\x18'; // C0: Cancel\r\n/** Next token is a scalar value */\r\nconst SCALAR = '\\x1f'; // C0: Unit Separator\r\n/** @returns `true` if `token` is a flow or block collection */\r\nconst isCollection = (token) => !!token && 'items' in token;\r\n/** @returns `true` if `token` is a flow or block scalar; not an alias */\r\nconst isScalar = (token) => !!token &&\r\n    (token.type === 'scalar' ||\r\n        token.type === 'single-quoted-scalar' ||\r\n        token.type === 'double-quoted-scalar' ||\r\n        token.type === 'block-scalar');\r\n/* istanbul ignore next */\r\n/** Get a printable representation of a lexer token */\r\nfunction prettyToken(token) {\r\n    switch (token) {\r\n        case BOM:\r\n            return '<BOM>';\r\n        case DOCUMENT:\r\n            return '<DOC>';\r\n        case FLOW_END:\r\n            return '<FLOW_END>';\r\n        case SCALAR:\r\n            return '<SCALAR>';\r\n        default:\r\n            return JSON.stringify(token);\r\n    }\r\n}\r\n/** Identify the type of a lexer token. May return `null` for unknown tokens. */\r\nfunction tokenType(source) {\r\n    switch (source) {\r\n        case BOM:\r\n            return 'byte-order-mark';\r\n        case DOCUMENT:\r\n            return 'doc-mode';\r\n        case FLOW_END:\r\n            return 'flow-error-end';\r\n        case SCALAR:\r\n            return 'scalar';\r\n        case '---':\r\n            return 'doc-start';\r\n        case '...':\r\n            return 'doc-end';\r\n        case '':\r\n        case '\\n':\r\n        case '\\r\\n':\r\n            return 'newline';\r\n        case '-':\r\n            return 'seq-item-ind';\r\n        case '?':\r\n            return 'explicit-key-ind';\r\n        case ':':\r\n            return 'map-value-ind';\r\n        case '{':\r\n            return 'flow-map-start';\r\n        case '}':\r\n            return 'flow-map-end';\r\n        case '[':\r\n            return 'flow-seq-start';\r\n        case ']':\r\n            return 'flow-seq-end';\r\n        case ',':\r\n            return 'comma';\r\n    }\r\n    switch (source[0]) {\r\n        case ' ':\r\n        case '\\t':\r\n            return 'space';\r\n        case '#':\r\n            return 'comment';\r\n        case '%':\r\n            return 'directive-line';\r\n        case '*':\r\n            return 'alias';\r\n        case '&':\r\n            return 'anchor';\r\n        case '!':\r\n            return 'tag';\r\n        case \"'\":\r\n            return 'single-quoted-scalar';\r\n        case '\"':\r\n            return 'double-quoted-scalar';\r\n        case '|':\r\n        case '>':\r\n            return 'block-scalar-header';\r\n    }\r\n    return null;\r\n}\r\n\r\nvar cst = {\r\n\t__proto__: null,\r\n\tBOM: BOM,\r\n\tDOCUMENT: DOCUMENT,\r\n\tFLOW_END: FLOW_END,\r\n\tSCALAR: SCALAR,\r\n\tisCollection: isCollection,\r\n\tisScalar: isScalar,\r\n\tprettyToken: prettyToken,\r\n\ttokenType: tokenType,\r\n\tcreateScalarToken: createScalarToken,\r\n\tresolveAsScalar: resolveAsScalar,\r\n\tsetScalarValue: setScalarValue,\r\n\tstringify: stringify$2,\r\n\tvisit: visit\r\n};\r\n\r\n/*\r\nSTART -> stream\r\n\r\nstream\r\n  directive -> line-end -> stream\r\n  indent + line-end -> stream\r\n  [else] -> line-start\r\n\r\nline-end\r\n  comment -> line-end\r\n  newline -> .\r\n  input-end -> END\r\n\r\nline-start\r\n  doc-start -> doc\r\n  doc-end -> stream\r\n  [else] -> indent -> block-start\r\n\r\nblock-start\r\n  seq-item-start -> block-start\r\n  explicit-key-start -> block-start\r\n  map-value-start -> block-start\r\n  [else] -> doc\r\n\r\ndoc\r\n  line-end -> line-start\r\n  spaces -> doc\r\n  anchor -> doc\r\n  tag -> doc\r\n  flow-start -> flow -> doc\r\n  flow-end -> error -> doc\r\n  seq-item-start -> error -> doc\r\n  explicit-key-start -> error -> doc\r\n  map-value-start -> doc\r\n  alias -> doc\r\n  quote-start -> quoted-scalar -> doc\r\n  block-scalar-header -> line-end -> block-scalar(min) -> line-start\r\n  [else] -> plain-scalar(false, min) -> doc\r\n\r\nflow\r\n  line-end -> flow\r\n  spaces -> flow\r\n  anchor -> flow\r\n  tag -> flow\r\n  flow-start -> flow -> flow\r\n  flow-end -> .\r\n  seq-item-start -> error -> flow\r\n  explicit-key-start -> flow\r\n  map-value-start -> flow\r\n  alias -> flow\r\n  quote-start -> quoted-scalar -> flow\r\n  comma -> flow\r\n  [else] -> plain-scalar(true, 0) -> flow\r\n\r\nquoted-scalar\r\n  quote-end -> .\r\n  [else] -> quoted-scalar\r\n\r\nblock-scalar(min)\r\n  newline + peek(indent < min) -> .\r\n  [else] -> block-scalar(min)\r\n\r\nplain-scalar(is-flow, min)\r\n  scalar-end(is-flow) -> .\r\n  peek(newline + (indent < min)) -> .\r\n  [else] -> plain-scalar(min)\r\n*/\r\nfunction isEmpty(ch) {\r\n    switch (ch) {\r\n        case undefined:\r\n        case ' ':\r\n        case '\\n':\r\n        case '\\r':\r\n        case '\\t':\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\nconst hexDigits = '0123456789ABCDEFabcdef'.split('');\r\nconst tagChars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()\".split('');\r\nconst invalidFlowScalarChars = ',[]{}'.split('');\r\nconst invalidAnchorChars = ' ,[]{}\\n\\r\\t'.split('');\r\nconst isNotAnchorChar = (ch) => !ch || invalidAnchorChars.includes(ch);\r\n/**\r\n * Splits an input string into lexical tokens, i.e. smaller strings that are\r\n * easily identifiable by `tokens.tokenType()`.\r\n *\r\n * Lexing starts always in a \"stream\" context. Incomplete input may be buffered\r\n * until a complete token can be emitted.\r\n *\r\n * In addition to slices of the original input, the following control characters\r\n * may also be emitted:\r\n *\r\n * - `\\x02` (Start of Text): A document starts with the next token\r\n * - `\\x18` (Cancel): Unexpected end of flow-mode (indicates an error)\r\n * - `\\x1f` (Unit Separator): Next token is a scalar value\r\n * - `\\u{FEFF}` (Byte order mark): Emitted separately outside documents\r\n */\r\nclass Lexer {\r\n    constructor() {\r\n        /**\r\n         * Flag indicating whether the end of the current buffer marks the end of\r\n         * all input\r\n         */\r\n        this.atEnd = false;\r\n        /**\r\n         * Explicit indent set in block scalar header, as an offset from the current\r\n         * minimum indent, so e.g. set to 1 from a header `|2+`. Set to -1 if not\r\n         * explicitly set.\r\n         */\r\n        this.blockScalarIndent = -1;\r\n        /**\r\n         * Block scalars that include a + (keep) chomping indicator in their header\r\n         * include trailing empty lines, which are otherwise excluded from the\r\n         * scalar's contents.\r\n         */\r\n        this.blockScalarKeep = false;\r\n        /** Current input */\r\n        this.buffer = '';\r\n        /**\r\n         * Flag noting whether the map value indicator : can immediately follow this\r\n         * node within a flow context.\r\n         */\r\n        this.flowKey = false;\r\n        /** Count of surrounding flow collection levels. */\r\n        this.flowLevel = 0;\r\n        /**\r\n         * Minimum level of indentation required for next lines to be parsed as a\r\n         * part of the current scalar value.\r\n         */\r\n        this.indentNext = 0;\r\n        /** Indentation level of the current line. */\r\n        this.indentValue = 0;\r\n        /** Position of the next \\n character. */\r\n        this.lineEndPos = null;\r\n        /** Stores the state of the lexer if reaching the end of incpomplete input */\r\n        this.next = null;\r\n        /** A pointer to `buffer`; the current position of the lexer. */\r\n        this.pos = 0;\r\n    }\r\n    /**\r\n     * Generate YAML tokens from the `source` string. If `incomplete`,\r\n     * a part of the last line may be left as a buffer for the next call.\r\n     *\r\n     * @returns A generator of lexical tokens\r\n     */\r\n    *lex(source, incomplete = false) {\r\n        if (source) {\r\n            this.buffer = this.buffer ? this.buffer + source : source;\r\n            this.lineEndPos = null;\r\n        }\r\n        this.atEnd = !incomplete;\r\n        let next = this.next ?? 'stream';\r\n        while (next && (incomplete || this.hasChars(1)))\r\n            next = yield* this.parseNext(next);\r\n    }\r\n    atLineEnd() {\r\n        let i = this.pos;\r\n        let ch = this.buffer[i];\r\n        while (ch === ' ' || ch === '\\t')\r\n            ch = this.buffer[++i];\r\n        if (!ch || ch === '#' || ch === '\\n')\r\n            return true;\r\n        if (ch === '\\r')\r\n            return this.buffer[i + 1] === '\\n';\r\n        return false;\r\n    }\r\n    charAt(n) {\r\n        return this.buffer[this.pos + n];\r\n    }\r\n    continueScalar(offset) {\r\n        let ch = this.buffer[offset];\r\n        if (this.indentNext > 0) {\r\n            let indent = 0;\r\n            while (ch === ' ')\r\n                ch = this.buffer[++indent + offset];\r\n            if (ch === '\\r') {\r\n                const next = this.buffer[indent + offset + 1];\r\n                if (next === '\\n' || (!next && !this.atEnd))\r\n                    return offset + indent + 1;\r\n            }\r\n            return ch === '\\n' || indent >= this.indentNext || (!ch && !this.atEnd)\r\n                ? offset + indent\r\n                : -1;\r\n        }\r\n        if (ch === '-' || ch === '.') {\r\n            const dt = this.buffer.substr(offset, 3);\r\n            if ((dt === '---' || dt === '...') && isEmpty(this.buffer[offset + 3]))\r\n                return -1;\r\n        }\r\n        return offset;\r\n    }\r\n    getLine() {\r\n        let end = this.lineEndPos;\r\n        if (typeof end !== 'number' || (end !== -1 && end < this.pos)) {\r\n            end = this.buffer.indexOf('\\n', this.pos);\r\n            this.lineEndPos = end;\r\n        }\r\n        if (end === -1)\r\n            return this.atEnd ? this.buffer.substring(this.pos) : null;\r\n        if (this.buffer[end - 1] === '\\r')\r\n            end -= 1;\r\n        return this.buffer.substring(this.pos, end);\r\n    }\r\n    hasChars(n) {\r\n        return this.pos + n <= this.buffer.length;\r\n    }\r\n    setNext(state) {\r\n        this.buffer = this.buffer.substring(this.pos);\r\n        this.pos = 0;\r\n        this.lineEndPos = null;\r\n        this.next = state;\r\n        return null;\r\n    }\r\n    peek(n) {\r\n        return this.buffer.substr(this.pos, n);\r\n    }\r\n    *parseNext(next) {\r\n        switch (next) {\r\n            case 'stream':\r\n                return yield* this.parseStream();\r\n            case 'line-start':\r\n                return yield* this.parseLineStart();\r\n            case 'block-start':\r\n                return yield* this.parseBlockStart();\r\n            case 'doc':\r\n                return yield* this.parseDocument();\r\n            case 'flow':\r\n                return yield* this.parseFlowCollection();\r\n            case 'quoted-scalar':\r\n                return yield* this.parseQuotedScalar();\r\n            case 'block-scalar':\r\n                return yield* this.parseBlockScalar();\r\n            case 'plain-scalar':\r\n                return yield* this.parsePlainScalar();\r\n        }\r\n    }\r\n    *parseStream() {\r\n        let line = this.getLine();\r\n        if (line === null)\r\n            return this.setNext('stream');\r\n        if (line[0] === BOM) {\r\n            yield* this.pushCount(1);\r\n            line = line.substring(1);\r\n        }\r\n        if (line[0] === '%') {\r\n            let dirEnd = line.length;\r\n            const cs = line.indexOf('#');\r\n            if (cs !== -1) {\r\n                const ch = line[cs - 1];\r\n                if (ch === ' ' || ch === '\\t')\r\n                    dirEnd = cs - 1;\r\n            }\r\n            while (true) {\r\n                const ch = line[dirEnd - 1];\r\n                if (ch === ' ' || ch === '\\t')\r\n                    dirEnd -= 1;\r\n                else\r\n                    break;\r\n            }\r\n            const n = (yield* this.pushCount(dirEnd)) + (yield* this.pushSpaces(true));\r\n            yield* this.pushCount(line.length - n); // possible comment\r\n            this.pushNewline();\r\n            return 'stream';\r\n        }\r\n        if (this.atLineEnd()) {\r\n            const sp = yield* this.pushSpaces(true);\r\n            yield* this.pushCount(line.length - sp);\r\n            yield* this.pushNewline();\r\n            return 'stream';\r\n        }\r\n        yield DOCUMENT;\r\n        return yield* this.parseLineStart();\r\n    }\r\n    *parseLineStart() {\r\n        const ch = this.charAt(0);\r\n        if (!ch && !this.atEnd)\r\n            return this.setNext('line-start');\r\n        if (ch === '-' || ch === '.') {\r\n            if (!this.atEnd && !this.hasChars(4))\r\n                return this.setNext('line-start');\r\n            const s = this.peek(3);\r\n            if (s === '---' && isEmpty(this.charAt(3))) {\r\n                yield* this.pushCount(3);\r\n                this.indentValue = 0;\r\n                this.indentNext = 0;\r\n                return 'doc';\r\n            }\r\n            else if (s === '...' && isEmpty(this.charAt(3))) {\r\n                yield* this.pushCount(3);\r\n                return 'stream';\r\n            }\r\n        }\r\n        this.indentValue = yield* this.pushSpaces(false);\r\n        if (this.indentNext > this.indentValue && !isEmpty(this.charAt(1)))\r\n            this.indentNext = this.indentValue;\r\n        return yield* this.parseBlockStart();\r\n    }\r\n    *parseBlockStart() {\r\n        const [ch0, ch1] = this.peek(2);\r\n        if (!ch1 && !this.atEnd)\r\n            return this.setNext('block-start');\r\n        if ((ch0 === '-' || ch0 === '?' || ch0 === ':') && isEmpty(ch1)) {\r\n            const n = (yield* this.pushCount(1)) + (yield* this.pushSpaces(true));\r\n            this.indentNext = this.indentValue + 1;\r\n            this.indentValue += n;\r\n            return yield* this.parseBlockStart();\r\n        }\r\n        return 'doc';\r\n    }\r\n    *parseDocument() {\r\n        yield* this.pushSpaces(true);\r\n        const line = this.getLine();\r\n        if (line === null)\r\n            return this.setNext('doc');\r\n        let n = yield* this.pushIndicators();\r\n        switch (line[n]) {\r\n            case '#':\r\n                yield* this.pushCount(line.length - n);\r\n            // fallthrough\r\n            case undefined:\r\n                yield* this.pushNewline();\r\n                return yield* this.parseLineStart();\r\n            case '{':\r\n            case '[':\r\n                yield* this.pushCount(1);\r\n                this.flowKey = false;\r\n                this.flowLevel = 1;\r\n                return 'flow';\r\n            case '}':\r\n            case ']':\r\n                // this is an error\r\n                yield* this.pushCount(1);\r\n                return 'doc';\r\n            case '*':\r\n                yield* this.pushUntil(isNotAnchorChar);\r\n                return 'doc';\r\n            case '\"':\r\n            case \"'\":\r\n                return yield* this.parseQuotedScalar();\r\n            case '|':\r\n            case '>':\r\n                n += yield* this.parseBlockScalarHeader();\r\n                n += yield* this.pushSpaces(true);\r\n                yield* this.pushCount(line.length - n);\r\n                yield* this.pushNewline();\r\n                return yield* this.parseBlockScalar();\r\n            default:\r\n                return yield* this.parsePlainScalar();\r\n        }\r\n    }\r\n    *parseFlowCollection() {\r\n        let nl, sp;\r\n        let indent = -1;\r\n        do {\r\n            nl = yield* this.pushNewline();\r\n            if (nl > 0) {\r\n                sp = yield* this.pushSpaces(false);\r\n                this.indentValue = indent = sp;\r\n            }\r\n            else {\r\n                sp = 0;\r\n            }\r\n            sp += yield* this.pushSpaces(true);\r\n        } while (nl + sp > 0);\r\n        const line = this.getLine();\r\n        if (line === null)\r\n            return this.setNext('flow');\r\n        if ((indent !== -1 && indent < this.indentNext && line[0] !== '#') ||\r\n            (indent === 0 &&\r\n                (line.startsWith('---') || line.startsWith('...')) &&\r\n                isEmpty(line[3]))) {\r\n            // Allowing for the terminal ] or } at the same (rather than greater)\r\n            // indent level as the initial [ or { is technically invalid, but\r\n            // failing here would be surprising to users.\r\n            const atFlowEndMarker = indent === this.indentNext - 1 &&\r\n                this.flowLevel === 1 &&\r\n                (line[0] === ']' || line[0] === '}');\r\n            if (!atFlowEndMarker) {\r\n                // this is an error\r\n                this.flowLevel = 0;\r\n                yield FLOW_END;\r\n                return yield* this.parseLineStart();\r\n            }\r\n        }\r\n        let n = 0;\r\n        while (line[n] === ',') {\r\n            n += yield* this.pushCount(1);\r\n            n += yield* this.pushSpaces(true);\r\n            this.flowKey = false;\r\n        }\r\n        n += yield* this.pushIndicators();\r\n        switch (line[n]) {\r\n            case undefined:\r\n                return 'flow';\r\n            case '#':\r\n                yield* this.pushCount(line.length - n);\r\n                return 'flow';\r\n            case '{':\r\n            case '[':\r\n                yield* this.pushCount(1);\r\n                this.flowKey = false;\r\n                this.flowLevel += 1;\r\n                return 'flow';\r\n            case '}':\r\n            case ']':\r\n                yield* this.pushCount(1);\r\n                this.flowKey = true;\r\n                this.flowLevel -= 1;\r\n                return this.flowLevel ? 'flow' : 'doc';\r\n            case '*':\r\n                yield* this.pushUntil(isNotAnchorChar);\r\n                return 'flow';\r\n            case '\"':\r\n            case \"'\":\r\n                this.flowKey = true;\r\n                return yield* this.parseQuotedScalar();\r\n            case ':': {\r\n                const next = this.charAt(1);\r\n                if (this.flowKey || isEmpty(next) || next === ',') {\r\n                    this.flowKey = false;\r\n                    yield* this.pushCount(1);\r\n                    yield* this.pushSpaces(true);\r\n                    return 'flow';\r\n                }\r\n            }\r\n            // fallthrough\r\n            default:\r\n                this.flowKey = false;\r\n                return yield* this.parsePlainScalar();\r\n        }\r\n    }\r\n    *parseQuotedScalar() {\r\n        const quote = this.charAt(0);\r\n        let end = this.buffer.indexOf(quote, this.pos + 1);\r\n        if (quote === \"'\") {\r\n            while (end !== -1 && this.buffer[end + 1] === \"'\")\r\n                end = this.buffer.indexOf(\"'\", end + 2);\r\n        }\r\n        else {\r\n            // double-quote\r\n            while (end !== -1) {\r\n                let n = 0;\r\n                while (this.buffer[end - 1 - n] === '\\\\')\r\n                    n += 1;\r\n                if (n % 2 === 0)\r\n                    break;\r\n                end = this.buffer.indexOf('\"', end + 1);\r\n            }\r\n        }\r\n        // Only looking for newlines within the quotes\r\n        const qb = this.buffer.substring(0, end);\r\n        let nl = qb.indexOf('\\n', this.pos);\r\n        if (nl !== -1) {\r\n            while (nl !== -1) {\r\n                const cs = this.continueScalar(nl + 1);\r\n                if (cs === -1)\r\n                    break;\r\n                nl = qb.indexOf('\\n', cs);\r\n            }\r\n            if (nl !== -1) {\r\n                // this is an error caused by an unexpected unindent\r\n                end = nl - (qb[nl - 1] === '\\r' ? 2 : 1);\r\n            }\r\n        }\r\n        if (end === -1) {\r\n            if (!this.atEnd)\r\n                return this.setNext('quoted-scalar');\r\n            end = this.buffer.length;\r\n        }\r\n        yield* this.pushToIndex(end + 1, false);\r\n        return this.flowLevel ? 'flow' : 'doc';\r\n    }\r\n    *parseBlockScalarHeader() {\r\n        this.blockScalarIndent = -1;\r\n        this.blockScalarKeep = false;\r\n        let i = this.pos;\r\n        while (true) {\r\n            const ch = this.buffer[++i];\r\n            if (ch === '+')\r\n                this.blockScalarKeep = true;\r\n            else if (ch > '0' && ch <= '9')\r\n                this.blockScalarIndent = Number(ch) - 1;\r\n            else if (ch !== '-')\r\n                break;\r\n        }\r\n        return yield* this.pushUntil(ch => isEmpty(ch) || ch === '#');\r\n    }\r\n    *parseBlockScalar() {\r\n        let nl = this.pos - 1; // may be -1 if this.pos === 0\r\n        let indent = 0;\r\n        let ch;\r\n        loop: for (let i = this.pos; (ch = this.buffer[i]); ++i) {\r\n            switch (ch) {\r\n                case ' ':\r\n                    indent += 1;\r\n                    break;\r\n                case '\\n':\r\n                    nl = i;\r\n                    indent = 0;\r\n                    break;\r\n                case '\\r': {\r\n                    const next = this.buffer[i + 1];\r\n                    if (!next && !this.atEnd)\r\n                        return this.setNext('block-scalar');\r\n                    if (next === '\\n')\r\n                        break;\r\n                } // fallthrough\r\n                default:\r\n                    break loop;\r\n            }\r\n        }\r\n        if (!ch && !this.atEnd)\r\n            return this.setNext('block-scalar');\r\n        if (indent >= this.indentNext) {\r\n            if (this.blockScalarIndent === -1)\r\n                this.indentNext = indent;\r\n            else\r\n                this.indentNext += this.blockScalarIndent;\r\n            do {\r\n                const cs = this.continueScalar(nl + 1);\r\n                if (cs === -1)\r\n                    break;\r\n                nl = this.buffer.indexOf('\\n', cs);\r\n            } while (nl !== -1);\r\n            if (nl === -1) {\r\n                if (!this.atEnd)\r\n                    return this.setNext('block-scalar');\r\n                nl = this.buffer.length;\r\n            }\r\n        }\r\n        if (!this.blockScalarKeep) {\r\n            do {\r\n                let i = nl - 1;\r\n                let ch = this.buffer[i];\r\n                if (ch === '\\r')\r\n                    ch = this.buffer[--i];\r\n                const lastChar = i; // Drop the line if last char not more indented\r\n                while (ch === ' ' || ch === '\\t')\r\n                    ch = this.buffer[--i];\r\n                if (ch === '\\n' && i >= this.pos && i + 1 + indent > lastChar)\r\n                    nl = i;\r\n                else\r\n                    break;\r\n            } while (true);\r\n        }\r\n        yield SCALAR;\r\n        yield* this.pushToIndex(nl + 1, true);\r\n        return yield* this.parseLineStart();\r\n    }\r\n    *parsePlainScalar() {\r\n        const inFlow = this.flowLevel > 0;\r\n        let end = this.pos - 1;\r\n        let i = this.pos - 1;\r\n        let ch;\r\n        while ((ch = this.buffer[++i])) {\r\n            if (ch === ':') {\r\n                const next = this.buffer[i + 1];\r\n                if (isEmpty(next) || (inFlow && next === ','))\r\n                    break;\r\n                end = i;\r\n            }\r\n            else if (isEmpty(ch)) {\r\n                let next = this.buffer[i + 1];\r\n                if (ch === '\\r') {\r\n                    if (next === '\\n') {\r\n                        i += 1;\r\n                        ch = '\\n';\r\n                        next = this.buffer[i + 1];\r\n                    }\r\n                    else\r\n                        end = i;\r\n                }\r\n                if (next === '#' || (inFlow && invalidFlowScalarChars.includes(next)))\r\n                    break;\r\n                if (ch === '\\n') {\r\n                    const cs = this.continueScalar(i + 1);\r\n                    if (cs === -1)\r\n                        break;\r\n                    i = Math.max(i, cs - 2); // to advance, but still account for ' #'\r\n                }\r\n            }\r\n            else {\r\n                if (inFlow && invalidFlowScalarChars.includes(ch))\r\n                    break;\r\n                end = i;\r\n            }\r\n        }\r\n        if (!ch && !this.atEnd)\r\n            return this.setNext('plain-scalar');\r\n        yield SCALAR;\r\n        yield* this.pushToIndex(end + 1, true);\r\n        return inFlow ? 'flow' : 'doc';\r\n    }\r\n    *pushCount(n) {\r\n        if (n > 0) {\r\n            yield this.buffer.substr(this.pos, n);\r\n            this.pos += n;\r\n            return n;\r\n        }\r\n        return 0;\r\n    }\r\n    *pushToIndex(i, allowEmpty) {\r\n        const s = this.buffer.slice(this.pos, i);\r\n        if (s) {\r\n            yield s;\r\n            this.pos += s.length;\r\n            return s.length;\r\n        }\r\n        else if (allowEmpty)\r\n            yield '';\r\n        return 0;\r\n    }\r\n    *pushIndicators() {\r\n        switch (this.charAt(0)) {\r\n            case '!':\r\n                return ((yield* this.pushTag()) +\r\n                    (yield* this.pushSpaces(true)) +\r\n                    (yield* this.pushIndicators()));\r\n            case '&':\r\n                return ((yield* this.pushUntil(isNotAnchorChar)) +\r\n                    (yield* this.pushSpaces(true)) +\r\n                    (yield* this.pushIndicators()));\r\n            case '-': // this is an error\r\n            case '?': // this is an error outside flow collections\r\n            case ':': {\r\n                const inFlow = this.flowLevel > 0;\r\n                const ch1 = this.charAt(1);\r\n                if (isEmpty(ch1) || (inFlow && invalidFlowScalarChars.includes(ch1))) {\r\n                    if (!inFlow)\r\n                        this.indentNext = this.indentValue + 1;\r\n                    else if (this.flowKey)\r\n                        this.flowKey = false;\r\n                    return ((yield* this.pushCount(1)) +\r\n                        (yield* this.pushSpaces(true)) +\r\n                        (yield* this.pushIndicators()));\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    *pushTag() {\r\n        if (this.charAt(1) === '<') {\r\n            let i = this.pos + 2;\r\n            let ch = this.buffer[i];\r\n            while (!isEmpty(ch) && ch !== '>')\r\n                ch = this.buffer[++i];\r\n            return yield* this.pushToIndex(ch === '>' ? i + 1 : i, false);\r\n        }\r\n        else {\r\n            let i = this.pos + 1;\r\n            let ch = this.buffer[i];\r\n            while (ch) {\r\n                if (tagChars.includes(ch))\r\n                    ch = this.buffer[++i];\r\n                else if (ch === '%' &&\r\n                    hexDigits.includes(this.buffer[i + 1]) &&\r\n                    hexDigits.includes(this.buffer[i + 2])) {\r\n                    ch = this.buffer[(i += 3)];\r\n                }\r\n                else\r\n                    break;\r\n            }\r\n            return yield* this.pushToIndex(i, false);\r\n        }\r\n    }\r\n    *pushNewline() {\r\n        const ch = this.buffer[this.pos];\r\n        if (ch === '\\n')\r\n            return yield* this.pushCount(1);\r\n        else if (ch === '\\r' && this.charAt(1) === '\\n')\r\n            return yield* this.pushCount(2);\r\n        else\r\n            return 0;\r\n    }\r\n    *pushSpaces(allowTabs) {\r\n        let i = this.pos - 1;\r\n        let ch;\r\n        do {\r\n            ch = this.buffer[++i];\r\n        } while (ch === ' ' || (allowTabs && ch === '\\t'));\r\n        const n = i - this.pos;\r\n        if (n > 0) {\r\n            yield this.buffer.substr(this.pos, n);\r\n            this.pos = i;\r\n        }\r\n        return n;\r\n    }\r\n    *pushUntil(test) {\r\n        let i = this.pos;\r\n        let ch = this.buffer[i];\r\n        while (!test(ch))\r\n            ch = this.buffer[++i];\r\n        return yield* this.pushToIndex(i, false);\r\n    }\r\n}\r\n\r\n/**\r\n * Tracks newlines during parsing in order to provide an efficient API for\r\n * determining the one-indexed `{ line, col }` position for any offset\r\n * within the input.\r\n */\r\nclass LineCounter {\r\n    constructor() {\r\n        this.lineStarts = [];\r\n        /**\r\n         * Should be called in ascending order. Otherwise, call\r\n         * `lineCounter.lineStarts.sort()` before calling `linePos()`.\r\n         */\r\n        this.addNewLine = (offset) => this.lineStarts.push(offset);\r\n        /**\r\n         * Performs a binary search and returns the 1-indexed { line, col }\r\n         * position of `offset`. If `line === 0`, `addNewLine` has never been\r\n         * called or `offset` is before the first known newline.\r\n         */\r\n        this.linePos = (offset) => {\r\n            let low = 0;\r\n            let high = this.lineStarts.length;\r\n            while (low < high) {\r\n                const mid = (low + high) >> 1; // Math.floor((low + high) / 2)\r\n                if (this.lineStarts[mid] < offset)\r\n                    low = mid + 1;\r\n                else\r\n                    high = mid;\r\n            }\r\n            if (this.lineStarts[low] === offset)\r\n                return { line: low + 1, col: 1 };\r\n            if (low === 0)\r\n                return { line: 0, col: offset };\r\n            const start = this.lineStarts[low - 1];\r\n            return { line: low, col: offset - start + 1 };\r\n        };\r\n    }\r\n}\r\n\r\nfunction includesToken(list, type) {\r\n    for (let i = 0; i < list.length; ++i)\r\n        if (list[i].type === type)\r\n            return true;\r\n    return false;\r\n}\r\nfunction findNonEmptyIndex(list) {\r\n    for (let i = 0; i < list.length; ++i) {\r\n        switch (list[i].type) {\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                break;\r\n            default:\r\n                return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nfunction isFlowToken(token) {\r\n    switch (token?.type) {\r\n        case 'alias':\r\n        case 'scalar':\r\n        case 'single-quoted-scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'flow-collection':\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\nfunction getPrevProps(parent) {\r\n    switch (parent.type) {\r\n        case 'document':\r\n            return parent.start;\r\n        case 'block-map': {\r\n            const it = parent.items[parent.items.length - 1];\r\n            return it.sep ?? it.start;\r\n        }\r\n        case 'block-seq':\r\n            return parent.items[parent.items.length - 1].start;\r\n        /* istanbul ignore next should not happen */\r\n        default:\r\n            return [];\r\n    }\r\n}\r\n/** Note: May modify input array */\r\nfunction getFirstKeyStartProps(prev) {\r\n    if (prev.length === 0)\r\n        return [];\r\n    let i = prev.length;\r\n    loop: while (--i >= 0) {\r\n        switch (prev[i].type) {\r\n            case 'doc-start':\r\n            case 'explicit-key-ind':\r\n            case 'map-value-ind':\r\n            case 'seq-item-ind':\r\n            case 'newline':\r\n                break loop;\r\n        }\r\n    }\r\n    while (prev[++i]?.type === 'space') {\r\n        /* loop */\r\n    }\r\n    return prev.splice(i, prev.length);\r\n}\r\nfunction fixFlowSeqItems(fc) {\r\n    if (fc.start.type === 'flow-seq-start') {\r\n        for (const it of fc.items) {\r\n            if (it.sep &&\r\n                !it.value &&\r\n                !includesToken(it.start, 'explicit-key-ind') &&\r\n                !includesToken(it.sep, 'map-value-ind')) {\r\n                if (it.key)\r\n                    it.value = it.key;\r\n                delete it.key;\r\n                if (isFlowToken(it.value)) {\r\n                    if (it.value.end)\r\n                        Array.prototype.push.apply(it.value.end, it.sep);\r\n                    else\r\n                        it.value.end = it.sep;\r\n                }\r\n                else\r\n                    Array.prototype.push.apply(it.start, it.sep);\r\n                delete it.sep;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * A YAML concrete syntax tree (CST) parser\r\n *\r\n * ```ts\r\n * const src: string = ...\r\n * for (const token of new Parser().parse(src)) {\r\n *   // token: Token\r\n * }\r\n * ```\r\n *\r\n * To use the parser with a user-provided lexer:\r\n *\r\n * ```ts\r\n * function* parse(source: string, lexer: Lexer) {\r\n *   const parser = new Parser()\r\n *   for (const lexeme of lexer.lex(source))\r\n *     yield* parser.next(lexeme)\r\n *   yield* parser.end()\r\n * }\r\n *\r\n * const src: string = ...\r\n * const lexer = new Lexer()\r\n * for (const token of parse(src, lexer)) {\r\n *   // token: Token\r\n * }\r\n * ```\r\n */\r\nclass Parser$1 {\r\n    /**\r\n     * @param onNewLine - If defined, called separately with the start position of\r\n     *   each new line (in `parse()`, including the start of input).\r\n     */\r\n    constructor(onNewLine) {\r\n        /** If true, space and sequence indicators count as indentation */\r\n        this.atNewLine = true;\r\n        /** If true, next token is a scalar value */\r\n        this.atScalar = false;\r\n        /** Current indentation level */\r\n        this.indent = 0;\r\n        /** Current offset since the start of parsing */\r\n        this.offset = 0;\r\n        /** On the same line with a block map key */\r\n        this.onKeyLine = false;\r\n        /** Top indicates the node that's currently being built */\r\n        this.stack = [];\r\n        /** The source of the current token, set in parse() */\r\n        this.source = '';\r\n        /** The type of the current token, set in parse() */\r\n        this.type = '';\r\n        // Must be defined after `next()`\r\n        this.lexer = new Lexer();\r\n        this.onNewLine = onNewLine;\r\n    }\r\n    /**\r\n     * Parse `source` as a YAML stream.\r\n     * If `incomplete`, a part of the last line may be left as a buffer for the next call.\r\n     *\r\n     * Errors are not thrown, but yielded as `{ type: 'error', message }` tokens.\r\n     *\r\n     * @returns A generator of tokens representing each directive, document, and other structure.\r\n     */\r\n    *parse(source, incomplete = false) {\r\n        if (this.onNewLine && this.offset === 0)\r\n            this.onNewLine(0);\r\n        for (const lexeme of this.lexer.lex(source, incomplete))\r\n            yield* this.next(lexeme);\r\n        if (!incomplete)\r\n            yield* this.end();\r\n    }\r\n    /**\r\n     * Advance the parser by the `source` of one lexical token.\r\n     */\r\n    *next(source) {\r\n        this.source = source;\r\n        if (this.atScalar) {\r\n            this.atScalar = false;\r\n            yield* this.step();\r\n            this.offset += source.length;\r\n            return;\r\n        }\r\n        const type = tokenType(source);\r\n        if (!type) {\r\n            const message = `Not a YAML token: ${source}`;\r\n            yield* this.pop({ type: 'error', offset: this.offset, message, source });\r\n            this.offset += source.length;\r\n        }\r\n        else if (type === 'scalar') {\r\n            this.atNewLine = false;\r\n            this.atScalar = true;\r\n            this.type = 'scalar';\r\n        }\r\n        else {\r\n            this.type = type;\r\n            yield* this.step();\r\n            switch (type) {\r\n                case 'newline':\r\n                    this.atNewLine = true;\r\n                    this.indent = 0;\r\n                    if (this.onNewLine)\r\n                        this.onNewLine(this.offset + source.length);\r\n                    break;\r\n                case 'space':\r\n                    if (this.atNewLine && source[0] === ' ')\r\n                        this.indent += source.length;\r\n                    break;\r\n                case 'explicit-key-ind':\r\n                case 'map-value-ind':\r\n                case 'seq-item-ind':\r\n                    if (this.atNewLine)\r\n                        this.indent += source.length;\r\n                    break;\r\n                case 'doc-mode':\r\n                case 'flow-error-end':\r\n                    return;\r\n                default:\r\n                    this.atNewLine = false;\r\n            }\r\n            this.offset += source.length;\r\n        }\r\n    }\r\n    /** Call at end of input to push out any remaining constructions */\r\n    *end() {\r\n        while (this.stack.length > 0)\r\n            yield* this.pop();\r\n    }\r\n    get sourceToken() {\r\n        const st = {\r\n            type: this.type,\r\n            offset: this.offset,\r\n            indent: this.indent,\r\n            source: this.source\r\n        };\r\n        return st;\r\n    }\r\n    *step() {\r\n        const top = this.peek(1);\r\n        if (this.type === 'doc-end' && (!top || top.type !== 'doc-end')) {\r\n            while (this.stack.length > 0)\r\n                yield* this.pop();\r\n            this.stack.push({\r\n                type: 'doc-end',\r\n                offset: this.offset,\r\n                source: this.source\r\n            });\r\n            return;\r\n        }\r\n        if (!top)\r\n            return yield* this.stream();\r\n        switch (top.type) {\r\n            case 'document':\r\n                return yield* this.document(top);\r\n            case 'alias':\r\n            case 'scalar':\r\n            case 'single-quoted-scalar':\r\n            case 'double-quoted-scalar':\r\n                return yield* this.scalar(top);\r\n            case 'block-scalar':\r\n                return yield* this.blockScalar(top);\r\n            case 'block-map':\r\n                return yield* this.blockMap(top);\r\n            case 'block-seq':\r\n                return yield* this.blockSequence(top);\r\n            case 'flow-collection':\r\n                return yield* this.flowCollection(top);\r\n            case 'doc-end':\r\n                return yield* this.documentEnd(top);\r\n        }\r\n        /* istanbul ignore next should not happen */\r\n        yield* this.pop();\r\n    }\r\n    peek(n) {\r\n        return this.stack[this.stack.length - n];\r\n    }\r\n    *pop(error) {\r\n        const token = error ?? this.stack.pop();\r\n        /* istanbul ignore if should not happen */\r\n        if (!token) {\r\n            const message = 'Tried to pop an empty stack';\r\n            yield { type: 'error', offset: this.offset, source: '', message };\r\n        }\r\n        else if (this.stack.length === 0) {\r\n            yield token;\r\n        }\r\n        else {\r\n            const top = this.peek(1);\r\n            if (token.type === 'block-scalar') {\r\n                // Block scalars use their parent rather than header indent\r\n                token.indent = 'indent' in top ? top.indent : 0;\r\n            }\r\n            else if (token.type === 'flow-collection' && top.type === 'document') {\r\n                // Ignore all indent for top-level flow collections\r\n                token.indent = 0;\r\n            }\r\n            if (token.type === 'flow-collection')\r\n                fixFlowSeqItems(token);\r\n            switch (top.type) {\r\n                case 'document':\r\n                    top.value = token;\r\n                    break;\r\n                case 'block-scalar':\r\n                    top.props.push(token); // error\r\n                    break;\r\n                case 'block-map': {\r\n                    const it = top.items[top.items.length - 1];\r\n                    if (it.value) {\r\n                        top.items.push({ start: [], key: token, sep: [] });\r\n                        this.onKeyLine = true;\r\n                        return;\r\n                    }\r\n                    else if (it.sep) {\r\n                        it.value = token;\r\n                    }\r\n                    else {\r\n                        Object.assign(it, { key: token, sep: [] });\r\n                        this.onKeyLine = !includesToken(it.start, 'explicit-key-ind');\r\n                        return;\r\n                    }\r\n                    break;\r\n                }\r\n                case 'block-seq': {\r\n                    const it = top.items[top.items.length - 1];\r\n                    if (it.value)\r\n                        top.items.push({ start: [], value: token });\r\n                    else\r\n                        it.value = token;\r\n                    break;\r\n                }\r\n                case 'flow-collection': {\r\n                    const it = top.items[top.items.length - 1];\r\n                    if (!it || it.value)\r\n                        top.items.push({ start: [], key: token, sep: [] });\r\n                    else if (it.sep)\r\n                        it.value = token;\r\n                    else\r\n                        Object.assign(it, { key: token, sep: [] });\r\n                    return;\r\n                }\r\n                /* istanbul ignore next should not happen */\r\n                default:\r\n                    yield* this.pop();\r\n                    yield* this.pop(token);\r\n            }\r\n            if ((top.type === 'document' ||\r\n                top.type === 'block-map' ||\r\n                top.type === 'block-seq') &&\r\n                (token.type === 'block-map' || token.type === 'block-seq')) {\r\n                const last = token.items[token.items.length - 1];\r\n                if (last &&\r\n                    !last.sep &&\r\n                    !last.value &&\r\n                    last.start.length > 0 &&\r\n                    findNonEmptyIndex(last.start) === -1 &&\r\n                    (token.indent === 0 ||\r\n                        last.start.every(st => st.type !== 'comment' || st.indent < token.indent))) {\r\n                    if (top.type === 'document')\r\n                        top.end = last.start;\r\n                    else\r\n                        top.items.push({ start: last.start });\r\n                    token.items.splice(-1, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    *stream() {\r\n        switch (this.type) {\r\n            case 'directive-line':\r\n                yield { type: 'directive', offset: this.offset, source: this.source };\r\n                return;\r\n            case 'byte-order-mark':\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                yield this.sourceToken;\r\n                return;\r\n            case 'doc-mode':\r\n            case 'doc-start': {\r\n                const doc = {\r\n                    type: 'document',\r\n                    offset: this.offset,\r\n                    start: []\r\n                };\r\n                if (this.type === 'doc-start')\r\n                    doc.start.push(this.sourceToken);\r\n                this.stack.push(doc);\r\n                return;\r\n            }\r\n        }\r\n        yield {\r\n            type: 'error',\r\n            offset: this.offset,\r\n            message: `Unexpected ${this.type} token in YAML stream`,\r\n            source: this.source\r\n        };\r\n    }\r\n    *document(doc) {\r\n        if (doc.value)\r\n            return yield* this.lineEnd(doc);\r\n        switch (this.type) {\r\n            case 'doc-start': {\r\n                if (findNonEmptyIndex(doc.start) !== -1) {\r\n                    yield* this.pop();\r\n                    yield* this.step();\r\n                }\r\n                else\r\n                    doc.start.push(this.sourceToken);\r\n                return;\r\n            }\r\n            case 'anchor':\r\n            case 'tag':\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                doc.start.push(this.sourceToken);\r\n                return;\r\n        }\r\n        const bv = this.startBlockValue(doc);\r\n        if (bv)\r\n            this.stack.push(bv);\r\n        else {\r\n            yield {\r\n                type: 'error',\r\n                offset: this.offset,\r\n                message: `Unexpected ${this.type} token in YAML document`,\r\n                source: this.source\r\n            };\r\n        }\r\n    }\r\n    *scalar(scalar) {\r\n        if (this.type === 'map-value-ind') {\r\n            const prev = getPrevProps(this.peek(2));\r\n            const start = getFirstKeyStartProps(prev);\r\n            let sep;\r\n            if (scalar.end) {\r\n                sep = scalar.end;\r\n                sep.push(this.sourceToken);\r\n                delete scalar.end;\r\n            }\r\n            else\r\n                sep = [this.sourceToken];\r\n            const map = {\r\n                type: 'block-map',\r\n                offset: scalar.offset,\r\n                indent: scalar.indent,\r\n                items: [{ start, key: scalar, sep }]\r\n            };\r\n            this.onKeyLine = true;\r\n            this.stack[this.stack.length - 1] = map;\r\n        }\r\n        else\r\n            yield* this.lineEnd(scalar);\r\n    }\r\n    *blockScalar(scalar) {\r\n        switch (this.type) {\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                scalar.props.push(this.sourceToken);\r\n                return;\r\n            case 'scalar':\r\n                scalar.source = this.source;\r\n                // block-scalar source includes trailing newline\r\n                this.atNewLine = true;\r\n                this.indent = 0;\r\n                if (this.onNewLine) {\r\n                    let nl = this.source.indexOf('\\n') + 1;\r\n                    while (nl !== 0) {\r\n                        this.onNewLine(this.offset + nl);\r\n                        nl = this.source.indexOf('\\n', nl) + 1;\r\n                    }\r\n                }\r\n                yield* this.pop();\r\n                break;\r\n            /* istanbul ignore next should not happen */\r\n            default:\r\n                yield* this.pop();\r\n                yield* this.step();\r\n        }\r\n    }\r\n    *blockMap(map) {\r\n        const it = map.items[map.items.length - 1];\r\n        // it.sep is true-ish if pair already has key or : separator\r\n        switch (this.type) {\r\n            case 'newline':\r\n                this.onKeyLine = false;\r\n                if (it.value) {\r\n                    const end = 'end' in it.value ? it.value.end : undefined;\r\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\r\n                    if (last?.type === 'comment')\r\n                        end?.push(this.sourceToken);\r\n                    else\r\n                        map.items.push({ start: [this.sourceToken] });\r\n                }\r\n                else if (it.sep) {\r\n                    it.sep.push(this.sourceToken);\r\n                }\r\n                else {\r\n                    it.start.push(this.sourceToken);\r\n                }\r\n                return;\r\n            case 'space':\r\n            case 'comment':\r\n                if (it.value) {\r\n                    map.items.push({ start: [this.sourceToken] });\r\n                }\r\n                else if (it.sep) {\r\n                    it.sep.push(this.sourceToken);\r\n                }\r\n                else {\r\n                    if (this.atIndentedComment(it.start, map.indent)) {\r\n                        const prev = map.items[map.items.length - 2];\r\n                        const end = prev?.value?.end;\r\n                        if (Array.isArray(end)) {\r\n                            Array.prototype.push.apply(end, it.start);\r\n                            end.push(this.sourceToken);\r\n                            map.items.pop();\r\n                            return;\r\n                        }\r\n                    }\r\n                    it.start.push(this.sourceToken);\r\n                }\r\n                return;\r\n        }\r\n        if (this.indent >= map.indent) {\r\n            const atNextItem = !this.onKeyLine && this.indent === map.indent && it.sep;\r\n            // For empty nodes, assign newline-separated not indented empty tokens to following node\r\n            let start = [];\r\n            if (atNextItem && it.sep && !it.value) {\r\n                const nl = [];\r\n                for (let i = 0; i < it.sep.length; ++i) {\r\n                    const st = it.sep[i];\r\n                    switch (st.type) {\r\n                        case 'newline':\r\n                            nl.push(i);\r\n                            break;\r\n                        case 'space':\r\n                            break;\r\n                        case 'comment':\r\n                            if (st.indent > map.indent)\r\n                                nl.length = 0;\r\n                            break;\r\n                        default:\r\n                            nl.length = 0;\r\n                    }\r\n                }\r\n                if (nl.length >= 2)\r\n                    start = it.sep.splice(nl[1]);\r\n            }\r\n            switch (this.type) {\r\n                case 'anchor':\r\n                case 'tag':\r\n                    if (atNextItem || it.value) {\r\n                        start.push(this.sourceToken);\r\n                        map.items.push({ start });\r\n                        this.onKeyLine = true;\r\n                    }\r\n                    else if (it.sep) {\r\n                        it.sep.push(this.sourceToken);\r\n                    }\r\n                    else {\r\n                        it.start.push(this.sourceToken);\r\n                    }\r\n                    return;\r\n                case 'explicit-key-ind':\r\n                    if (!it.sep && !includesToken(it.start, 'explicit-key-ind')) {\r\n                        it.start.push(this.sourceToken);\r\n                    }\r\n                    else if (atNextItem || it.value) {\r\n                        start.push(this.sourceToken);\r\n                        map.items.push({ start });\r\n                    }\r\n                    else {\r\n                        this.stack.push({\r\n                            type: 'block-map',\r\n                            offset: this.offset,\r\n                            indent: this.indent,\r\n                            items: [{ start: [this.sourceToken] }]\r\n                        });\r\n                    }\r\n                    this.onKeyLine = true;\r\n                    return;\r\n                case 'map-value-ind':\r\n                    if (includesToken(it.start, 'explicit-key-ind')) {\r\n                        if (!it.sep) {\r\n                            if (includesToken(it.start, 'newline')) {\r\n                                Object.assign(it, { key: null, sep: [this.sourceToken] });\r\n                            }\r\n                            else {\r\n                                const start = getFirstKeyStartProps(it.start);\r\n                                this.stack.push({\r\n                                    type: 'block-map',\r\n                                    offset: this.offset,\r\n                                    indent: this.indent,\r\n                                    items: [{ start, key: null, sep: [this.sourceToken] }]\r\n                                });\r\n                            }\r\n                        }\r\n                        else if (it.value) {\r\n                            map.items.push({ start: [], key: null, sep: [this.sourceToken] });\r\n                        }\r\n                        else if (includesToken(it.sep, 'map-value-ind')) {\r\n                            this.stack.push({\r\n                                type: 'block-map',\r\n                                offset: this.offset,\r\n                                indent: this.indent,\r\n                                items: [{ start, key: null, sep: [this.sourceToken] }]\r\n                            });\r\n                        }\r\n                        else if (isFlowToken(it.key) &&\r\n                            !includesToken(it.sep, 'newline')) {\r\n                            const start = getFirstKeyStartProps(it.start);\r\n                            const key = it.key;\r\n                            const sep = it.sep;\r\n                            sep.push(this.sourceToken);\r\n                            // @ts-expect-error type guard is wrong here\r\n                            delete it.key, delete it.sep;\r\n                            this.stack.push({\r\n                                type: 'block-map',\r\n                                offset: this.offset,\r\n                                indent: this.indent,\r\n                                items: [{ start, key, sep }]\r\n                            });\r\n                        }\r\n                        else if (start.length > 0) {\r\n                            // Not actually at next item\r\n                            it.sep = it.sep.concat(start, this.sourceToken);\r\n                        }\r\n                        else {\r\n                            it.sep.push(this.sourceToken);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!it.sep) {\r\n                            Object.assign(it, { key: null, sep: [this.sourceToken] });\r\n                        }\r\n                        else if (it.value || atNextItem) {\r\n                            map.items.push({ start, key: null, sep: [this.sourceToken] });\r\n                        }\r\n                        else if (includesToken(it.sep, 'map-value-ind')) {\r\n                            this.stack.push({\r\n                                type: 'block-map',\r\n                                offset: this.offset,\r\n                                indent: this.indent,\r\n                                items: [{ start: [], key: null, sep: [this.sourceToken] }]\r\n                            });\r\n                        }\r\n                        else {\r\n                            it.sep.push(this.sourceToken);\r\n                        }\r\n                    }\r\n                    this.onKeyLine = true;\r\n                    return;\r\n                case 'alias':\r\n                case 'scalar':\r\n                case 'single-quoted-scalar':\r\n                case 'double-quoted-scalar': {\r\n                    const fs = this.flowScalar(this.type);\r\n                    if (atNextItem || it.value) {\r\n                        map.items.push({ start, key: fs, sep: [] });\r\n                        this.onKeyLine = true;\r\n                    }\r\n                    else if (it.sep) {\r\n                        this.stack.push(fs);\r\n                    }\r\n                    else {\r\n                        Object.assign(it, { key: fs, sep: [] });\r\n                        this.onKeyLine = true;\r\n                    }\r\n                    return;\r\n                }\r\n                default: {\r\n                    const bv = this.startBlockValue(map);\r\n                    if (bv) {\r\n                        if (atNextItem &&\r\n                            bv.type !== 'block-seq' &&\r\n                            includesToken(it.start, 'explicit-key-ind')) {\r\n                            map.items.push({ start });\r\n                        }\r\n                        this.stack.push(bv);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        yield* this.pop();\r\n        yield* this.step();\r\n    }\r\n    *blockSequence(seq) {\r\n        const it = seq.items[seq.items.length - 1];\r\n        switch (this.type) {\r\n            case 'newline':\r\n                if (it.value) {\r\n                    const end = 'end' in it.value ? it.value.end : undefined;\r\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\r\n                    if (last?.type === 'comment')\r\n                        end?.push(this.sourceToken);\r\n                    else\r\n                        seq.items.push({ start: [this.sourceToken] });\r\n                }\r\n                else\r\n                    it.start.push(this.sourceToken);\r\n                return;\r\n            case 'space':\r\n            case 'comment':\r\n                if (it.value)\r\n                    seq.items.push({ start: [this.sourceToken] });\r\n                else {\r\n                    if (this.atIndentedComment(it.start, seq.indent)) {\r\n                        const prev = seq.items[seq.items.length - 2];\r\n                        const end = prev?.value?.end;\r\n                        if (Array.isArray(end)) {\r\n                            Array.prototype.push.apply(end, it.start);\r\n                            end.push(this.sourceToken);\r\n                            seq.items.pop();\r\n                            return;\r\n                        }\r\n                    }\r\n                    it.start.push(this.sourceToken);\r\n                }\r\n                return;\r\n            case 'anchor':\r\n            case 'tag':\r\n                if (it.value || this.indent <= seq.indent)\r\n                    break;\r\n                it.start.push(this.sourceToken);\r\n                return;\r\n            case 'seq-item-ind':\r\n                if (this.indent !== seq.indent)\r\n                    break;\r\n                if (it.value || includesToken(it.start, 'seq-item-ind'))\r\n                    seq.items.push({ start: [this.sourceToken] });\r\n                else\r\n                    it.start.push(this.sourceToken);\r\n                return;\r\n        }\r\n        if (this.indent > seq.indent) {\r\n            const bv = this.startBlockValue(seq);\r\n            if (bv) {\r\n                this.stack.push(bv);\r\n                return;\r\n            }\r\n        }\r\n        yield* this.pop();\r\n        yield* this.step();\r\n    }\r\n    *flowCollection(fc) {\r\n        const it = fc.items[fc.items.length - 1];\r\n        if (this.type === 'flow-error-end') {\r\n            let top;\r\n            do {\r\n                yield* this.pop();\r\n                top = this.peek(1);\r\n            } while (top && top.type === 'flow-collection');\r\n        }\r\n        else if (fc.end.length === 0) {\r\n            switch (this.type) {\r\n                case 'comma':\r\n                case 'explicit-key-ind':\r\n                    if (!it || it.sep)\r\n                        fc.items.push({ start: [this.sourceToken] });\r\n                    else\r\n                        it.start.push(this.sourceToken);\r\n                    return;\r\n                case 'map-value-ind':\r\n                    if (!it || it.value)\r\n                        fc.items.push({ start: [], key: null, sep: [this.sourceToken] });\r\n                    else if (it.sep)\r\n                        it.sep.push(this.sourceToken);\r\n                    else\r\n                        Object.assign(it, { key: null, sep: [this.sourceToken] });\r\n                    return;\r\n                case 'space':\r\n                case 'comment':\r\n                case 'newline':\r\n                case 'anchor':\r\n                case 'tag':\r\n                    if (!it || it.value)\r\n                        fc.items.push({ start: [this.sourceToken] });\r\n                    else if (it.sep)\r\n                        it.sep.push(this.sourceToken);\r\n                    else\r\n                        it.start.push(this.sourceToken);\r\n                    return;\r\n                case 'alias':\r\n                case 'scalar':\r\n                case 'single-quoted-scalar':\r\n                case 'double-quoted-scalar': {\r\n                    const fs = this.flowScalar(this.type);\r\n                    if (!it || it.value)\r\n                        fc.items.push({ start: [], key: fs, sep: [] });\r\n                    else if (it.sep)\r\n                        this.stack.push(fs);\r\n                    else\r\n                        Object.assign(it, { key: fs, sep: [] });\r\n                    return;\r\n                }\r\n                case 'flow-map-end':\r\n                case 'flow-seq-end':\r\n                    fc.end.push(this.sourceToken);\r\n                    return;\r\n            }\r\n            const bv = this.startBlockValue(fc);\r\n            /* istanbul ignore else should not happen */\r\n            if (bv)\r\n                this.stack.push(bv);\r\n            else {\r\n                yield* this.pop();\r\n                yield* this.step();\r\n            }\r\n        }\r\n        else {\r\n            const parent = this.peek(2);\r\n            if (parent.type === 'block-map' &&\r\n                ((this.type === 'map-value-ind' && parent.indent === fc.indent) ||\r\n                    (this.type === 'newline' &&\r\n                        !parent.items[parent.items.length - 1].sep))) {\r\n                yield* this.pop();\r\n                yield* this.step();\r\n            }\r\n            else if (this.type === 'map-value-ind' &&\r\n                parent.type !== 'flow-collection') {\r\n                const prev = getPrevProps(parent);\r\n                const start = getFirstKeyStartProps(prev);\r\n                fixFlowSeqItems(fc);\r\n                const sep = fc.end.splice(1, fc.end.length);\r\n                sep.push(this.sourceToken);\r\n                const map = {\r\n                    type: 'block-map',\r\n                    offset: fc.offset,\r\n                    indent: fc.indent,\r\n                    items: [{ start, key: fc, sep }]\r\n                };\r\n                this.onKeyLine = true;\r\n                this.stack[this.stack.length - 1] = map;\r\n            }\r\n            else {\r\n                yield* this.lineEnd(fc);\r\n            }\r\n        }\r\n    }\r\n    flowScalar(type) {\r\n        if (this.onNewLine) {\r\n            let nl = this.source.indexOf('\\n') + 1;\r\n            while (nl !== 0) {\r\n                this.onNewLine(this.offset + nl);\r\n                nl = this.source.indexOf('\\n', nl) + 1;\r\n            }\r\n        }\r\n        return {\r\n            type,\r\n            offset: this.offset,\r\n            indent: this.indent,\r\n            source: this.source\r\n        };\r\n    }\r\n    startBlockValue(parent) {\r\n        switch (this.type) {\r\n            case 'alias':\r\n            case 'scalar':\r\n            case 'single-quoted-scalar':\r\n            case 'double-quoted-scalar':\r\n                return this.flowScalar(this.type);\r\n            case 'block-scalar-header':\r\n                return {\r\n                    type: 'block-scalar',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    props: [this.sourceToken],\r\n                    source: ''\r\n                };\r\n            case 'flow-map-start':\r\n            case 'flow-seq-start':\r\n                return {\r\n                    type: 'flow-collection',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    start: this.sourceToken,\r\n                    items: [],\r\n                    end: []\r\n                };\r\n            case 'seq-item-ind':\r\n                return {\r\n                    type: 'block-seq',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    items: [{ start: [this.sourceToken] }]\r\n                };\r\n            case 'explicit-key-ind': {\r\n                this.onKeyLine = true;\r\n                const prev = getPrevProps(parent);\r\n                const start = getFirstKeyStartProps(prev);\r\n                start.push(this.sourceToken);\r\n                return {\r\n                    type: 'block-map',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    items: [{ start }]\r\n                };\r\n            }\r\n            case 'map-value-ind': {\r\n                this.onKeyLine = true;\r\n                const prev = getPrevProps(parent);\r\n                const start = getFirstKeyStartProps(prev);\r\n                return {\r\n                    type: 'block-map',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    items: [{ start, key: null, sep: [this.sourceToken] }]\r\n                };\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    atIndentedComment(start, indent) {\r\n        if (this.type !== 'comment')\r\n            return false;\r\n        if (this.indent <= indent)\r\n            return false;\r\n        return start.every(st => st.type === 'newline' || st.type === 'space');\r\n    }\r\n    *documentEnd(docEnd) {\r\n        if (this.type !== 'doc-mode') {\r\n            if (docEnd.end)\r\n                docEnd.end.push(this.sourceToken);\r\n            else\r\n                docEnd.end = [this.sourceToken];\r\n            if (this.type === 'newline')\r\n                yield* this.pop();\r\n        }\r\n    }\r\n    *lineEnd(token) {\r\n        switch (this.type) {\r\n            case 'comma':\r\n            case 'doc-start':\r\n            case 'doc-end':\r\n            case 'flow-seq-end':\r\n            case 'flow-map-end':\r\n            case 'map-value-ind':\r\n                yield* this.pop();\r\n                yield* this.step();\r\n                break;\r\n            case 'newline':\r\n                this.onKeyLine = false;\r\n            // fallthrough\r\n            case 'space':\r\n            case 'comment':\r\n            default:\r\n                // all other values are errors\r\n                if (token.end)\r\n                    token.end.push(this.sourceToken);\r\n                else\r\n                    token.end = [this.sourceToken];\r\n                if (this.type === 'newline')\r\n                    yield* this.pop();\r\n        }\r\n    }\r\n}\r\n\r\nfunction parseOptions(options) {\r\n    const prettyErrors = options.prettyErrors !== false;\r\n    const lineCounter = options.lineCounter || (prettyErrors && new LineCounter()) || null;\r\n    return { lineCounter, prettyErrors };\r\n}\r\n/**\r\n * Parse the input as a stream of YAML documents.\r\n *\r\n * Documents should be separated from each other by `...` or `---` marker lines.\r\n *\r\n * @returns If an empty `docs` array is returned, it will be of type\r\n *   EmptyStream and contain additional stream information. In\r\n *   TypeScript, you should use `'empty' in docs` as a type guard for it.\r\n */\r\nfunction parseAllDocuments(source, options = {}) {\r\n    const { lineCounter, prettyErrors } = parseOptions(options);\r\n    const parser = new Parser$1(lineCounter?.addNewLine);\r\n    const composer = new Composer(options);\r\n    const docs = Array.from(composer.compose(parser.parse(source)));\r\n    if (prettyErrors && lineCounter)\r\n        for (const doc of docs) {\r\n            doc.errors.forEach(prettifyError(source, lineCounter));\r\n            doc.warnings.forEach(prettifyError(source, lineCounter));\r\n        }\r\n    if (docs.length > 0)\r\n        return docs;\r\n    return Object.assign([], { empty: true }, composer.streamInfo());\r\n}\r\n/** Parse an input string into a single YAML.Document */\r\nfunction parseDocument(source, options = {}) {\r\n    const { lineCounter, prettyErrors } = parseOptions(options);\r\n    const parser = new Parser$1(lineCounter?.addNewLine);\r\n    const composer = new Composer(options);\r\n    // `doc` is always set by compose.end(true) at the very latest\r\n    let doc = null;\r\n    for (const _doc of composer.compose(parser.parse(source), true, source.length)) {\r\n        if (!doc)\r\n            doc = _doc;\r\n        else if (doc.options.logLevel !== 'silent') {\r\n            doc.errors.push(new YAMLParseError(_doc.range.slice(0, 2), 'MULTIPLE_DOCS', 'Source contains multiple documents; please use YAML.parseAllDocuments()'));\r\n            break;\r\n        }\r\n    }\r\n    if (prettyErrors && lineCounter) {\r\n        doc.errors.forEach(prettifyError(source, lineCounter));\r\n        doc.warnings.forEach(prettifyError(source, lineCounter));\r\n    }\r\n    return doc;\r\n}\r\nfunction parse$d(src, reviver, options) {\r\n    let _reviver = undefined;\r\n    if (typeof reviver === 'function') {\r\n        _reviver = reviver;\r\n    }\r\n    else if (options === undefined && reviver && typeof reviver === 'object') {\r\n        options = reviver;\r\n    }\r\n    const doc = parseDocument(src, options);\r\n    if (!doc)\r\n        return null;\r\n    doc.warnings.forEach(warning => warn(doc.options.logLevel, warning));\r\n    if (doc.errors.length > 0) {\r\n        if (doc.options.logLevel !== 'silent')\r\n            throw doc.errors[0];\r\n        else\r\n            doc.errors = [];\r\n    }\r\n    return doc.toJS(Object.assign({ reviver: _reviver }, options));\r\n}\r\nfunction stringify$1(value, replacer, options) {\r\n    let _replacer = null;\r\n    if (typeof replacer === 'function' || Array.isArray(replacer)) {\r\n        _replacer = replacer;\r\n    }\r\n    else if (options === undefined && replacer) {\r\n        options = replacer;\r\n    }\r\n    if (typeof options === 'string')\r\n        options = options.length;\r\n    if (typeof options === 'number') {\r\n        const indent = Math.round(options);\r\n        options = indent < 1 ? undefined : indent > 8 ? { indent: 8 } : { indent };\r\n    }\r\n    if (value === undefined) {\r\n        const { keepUndefined } = options ?? replacer ?? {};\r\n        if (!keepUndefined)\r\n            return undefined;\r\n    }\r\n    return new Document(value, _replacer, options).toString(options);\r\n}\r\n\r\nvar YAML = {\r\n\t__proto__: null,\r\n\tCST: cst,\r\n\tComposer: Composer,\r\n\tDocument: Document,\r\n\tSchema: Schema,\r\n\tYAMLError: YAMLError,\r\n\tYAMLParseError: YAMLParseError,\r\n\tYAMLWarning: YAMLWarning,\r\n\tAlias: Alias,\r\n\tisAlias: isAlias,\r\n\tisCollection: isCollection$1,\r\n\tisDocument: isDocument,\r\n\tisMap: isMap,\r\n\tisNode: isNode,\r\n\tisPair: isPair,\r\n\tisScalar: isScalar$1,\r\n\tisSeq: isSeq,\r\n\tPair: Pair,\r\n\tScalar: Scalar,\r\n\tYAMLMap: YAMLMap,\r\n\tYAMLSeq: YAMLSeq,\r\n\tLexer: Lexer,\r\n\tLineCounter: LineCounter,\r\n\tParser: Parser$1,\r\n\tparse: parse$d,\r\n\tparseAllDocuments: parseAllDocuments,\r\n\tparseDocument: parseDocument,\r\n\tstringify: stringify$1,\r\n\tvisit: visit$1,\r\n\tvisitAsync: visitAsync\r\n};\r\n\r\n// `export * as default from ...` fails on Webpack v4\r\n\r\nvar browser$1 = {\r\n\t__proto__: null,\r\n\t'default': YAML,\r\n\tComposer: Composer,\r\n\tDocument: Document,\r\n\tSchema: Schema,\r\n\tYAMLError: YAMLError,\r\n\tYAMLParseError: YAMLParseError,\r\n\tYAMLWarning: YAMLWarning,\r\n\tAlias: Alias,\r\n\tisAlias: isAlias,\r\n\tisCollection: isCollection$1,\r\n\tisDocument: isDocument,\r\n\tisMap: isMap,\r\n\tisNode: isNode,\r\n\tisPair: isPair,\r\n\tisScalar: isScalar$1,\r\n\tisSeq: isSeq,\r\n\tPair: Pair,\r\n\tScalar: Scalar,\r\n\tYAMLMap: YAMLMap,\r\n\tYAMLSeq: YAMLSeq,\r\n\tLexer: Lexer,\r\n\tLineCounter: LineCounter,\r\n\tParser: Parser$1,\r\n\tparse: parse$d,\r\n\tparseAllDocuments: parseAllDocuments,\r\n\tparseDocument: parseDocument,\r\n\tstringify: stringify$1,\r\n\tvisit: visit$1,\r\n\tvisitAsync: visitAsync,\r\n\tCST: cst\r\n};\r\n\r\nvar require$$3 = /*@__PURE__*/getAugmentedNamespace(browser$1);\r\n\r\n// eslint-disable-next-line n/no-deprecated-api\r\nconst { createRequire, createRequireFromPath } = require$$0$8;\r\n\r\nfunction req$2 (name, rootFile) {\r\n  const create = createRequire || createRequireFromPath;\r\n  const require = create(rootFile);\r\n  return require(name)\r\n}\r\n\r\nvar req_1 = req$2;\r\n\r\nconst req$1 = req_1;\r\n\r\n/**\r\n * Load Options\r\n *\r\n * @private\r\n * @method options\r\n *\r\n * @param  {Object} config  PostCSS Config\r\n *\r\n * @return {Object} options PostCSS Options\r\n */\r\nconst options = (config, file) => {\r\n  if (config.parser && typeof config.parser === 'string') {\r\n    try {\r\n      config.parser = req$1(config.parser, file);\r\n    } catch (err) {\r\n      throw new Error(`Loading PostCSS Parser failed: ${err.message}\\n\\n(@${file})`)\r\n    }\r\n  }\r\n\r\n  if (config.syntax && typeof config.syntax === 'string') {\r\n    try {\r\n      config.syntax = req$1(config.syntax, file);\r\n    } catch (err) {\r\n      throw new Error(`Loading PostCSS Syntax failed: ${err.message}\\n\\n(@${file})`)\r\n    }\r\n  }\r\n\r\n  if (config.stringifier && typeof config.stringifier === 'string') {\r\n    try {\r\n      config.stringifier = req$1(config.stringifier, file);\r\n    } catch (err) {\r\n      throw new Error(`Loading PostCSS Stringifier failed: ${err.message}\\n\\n(@${file})`)\r\n    }\r\n  }\r\n\r\n  if (config.plugins) {\r\n    delete config.plugins;\r\n  }\r\n\r\n  return config\r\n};\r\n\r\nvar options_1 = options;\r\n\r\nconst req = req_1;\r\n\r\n/**\r\n * Plugin Loader\r\n *\r\n * @private\r\n * @method load\r\n *\r\n * @param  {String} plugin PostCSS Plugin Name\r\n * @param  {Object} options PostCSS Plugin Options\r\n *\r\n * @return {Function} PostCSS Plugin\r\n */\r\nconst load = (plugin, options, file) => {\r\n  try {\r\n    if (\r\n      options === null ||\r\n      options === undefined ||\r\n      Object.keys(options).length === 0\r\n    ) {\r\n      return req(plugin, file)\r\n    } else {\r\n      return req(plugin, file)(options)\r\n    }\r\n  } catch (err) {\r\n    throw new Error(`Loading PostCSS Plugin failed: ${err.message}\\n\\n(@${file})`)\r\n  }\r\n};\r\n\r\n/**\r\n * Load Plugins\r\n *\r\n * @private\r\n * @method plugins\r\n *\r\n * @param {Object} config PostCSS Config Plugins\r\n *\r\n * @return {Array} plugins PostCSS Plugins\r\n */\r\nconst plugins = (config, file) => {\r\n  let plugins = [];\r\n\r\n  if (Array.isArray(config.plugins)) {\r\n    plugins = config.plugins.filter(Boolean);\r\n  } else {\r\n    plugins = Object.keys(config.plugins)\r\n      .filter((plugin) => {\r\n        return config.plugins[plugin] !== false ? plugin : ''\r\n      })\r\n      .map((plugin) => {\r\n        return load(plugin, config.plugins[plugin], file)\r\n      });\r\n  }\r\n\r\n  if (plugins.length && plugins.length > 0) {\r\n    plugins.forEach((plugin, i) => {\r\n      if (plugin.default) {\r\n        plugin = plugin.default;\r\n      }\r\n\r\n      if (plugin.postcss === true) {\r\n        plugin = plugin();\r\n      } else if (plugin.postcss) {\r\n        plugin = plugin.postcss;\r\n      }\r\n\r\n      if (\r\n        // eslint-disable-next-line\r\n        !(\r\n          (typeof plugin === 'object' && Array.isArray(plugin.plugins)) ||\r\n          (typeof plugin === 'object' && plugin.postcssPlugin) ||\r\n          (typeof plugin === 'function')\r\n        )\r\n      ) {\r\n        throw new TypeError(`Invalid PostCSS Plugin found at: plugins[${i}]\\n\\n(@${file})`)\r\n      }\r\n    });\r\n  }\r\n\r\n  return plugins\r\n};\r\n\r\nvar plugins_1 = plugins;\r\n\r\nconst resolve$1 = require$$0$4.resolve;\r\nconst url$4 = require$$0$9;\r\n\r\nconst config$1 = dist;\r\nconst yaml = require$$3;\r\n\r\nconst loadOptions = options_1;\r\nconst loadPlugins = plugins_1;\r\n\r\n/* istanbul ignore next */\r\nconst interopRequireDefault = (obj) => obj && obj.__esModule ? obj : { default: obj };\r\n\r\n/**\r\n * Process the result from cosmiconfig\r\n *\r\n * @param  {Object} ctx Config Context\r\n * @param  {Object} result Cosmiconfig result\r\n *\r\n * @return {Object} PostCSS Config\r\n */\r\nconst processResult = (ctx, result) => {\r\n  const file = result.filepath || '';\r\n  let config = interopRequireDefault(result.config).default || {};\r\n\r\n  if (typeof config === 'function') {\r\n    config = config(ctx);\r\n  } else {\r\n    config = Object.assign({}, config, ctx);\r\n  }\r\n\r\n  if (!config.plugins) {\r\n    config.plugins = [];\r\n  }\r\n\r\n  return {\r\n    plugins: loadPlugins(config, file),\r\n    options: loadOptions(config, file),\r\n    file\r\n  }\r\n};\r\n\r\n/**\r\n * Builds the Config Context\r\n *\r\n * @param  {Object} ctx Config Context\r\n *\r\n * @return {Object} Config Context\r\n */\r\nconst createContext = (ctx) => {\r\n  /**\r\n   * @type {Object}\r\n   *\r\n   * @prop {String} cwd=process.cwd() Config search start location\r\n   * @prop {String} env=process.env.NODE_ENV Config Enviroment, will be set to `development` by `postcss-load-config` if `process.env.NODE_ENV` is `undefined`\r\n   */\r\n  ctx = Object.assign({\r\n    cwd: process.cwd(),\r\n    env: process.env.NODE_ENV\r\n  }, ctx);\r\n\r\n  if (!ctx.env) {\r\n    process.env.NODE_ENV = 'development';\r\n  }\r\n\r\n  return ctx\r\n};\r\n\r\nconst importDefault = async filepath => {\r\n  const module = await import(url$4.pathToFileURL(filepath).href);\r\n  return module.default\r\n};\r\n\r\nconst addTypeScriptLoader = (options = {}, loader) => {\r\n  const moduleName = 'postcss';\r\n\r\n  return {\r\n    ...options,\r\n    searchPlaces: [\r\n      ...(options.searchPlaces || []),\r\n      'package.json',\r\n      `.${moduleName}rc`,\r\n      `.${moduleName}rc.json`,\r\n      `.${moduleName}rc.yaml`,\r\n      `.${moduleName}rc.yml`,\r\n      `.${moduleName}rc.ts`,\r\n      `.${moduleName}rc.js`,\r\n      `.${moduleName}rc.cjs`,\r\n      `.${moduleName}rc.mjs`,\r\n      `${moduleName}.config.ts`,\r\n      `${moduleName}.config.js`,\r\n      `${moduleName}.config.cjs`,\r\n      `${moduleName}.config.mjs`\r\n    ],\r\n    loaders: {\r\n      ...options.loaders,\r\n      '.yaml': (filepath, content) => yaml.parse(content),\r\n      '.yml': (filepath, content) => yaml.parse(content),\r\n      '.js': importDefault,\r\n      '.cjs': importDefault,\r\n      '.mjs': importDefault,\r\n      '.ts': loader\r\n    }\r\n  }\r\n};\r\n\r\nconst withTypeScriptLoader = (rcFunc) => {\r\n  return (ctx, path, options) => {\r\n    return rcFunc(ctx, path, addTypeScriptLoader(options, (configFile) => {\r\n      let registerer = { enabled () {} };\r\n\r\n      try {\r\n        // Register TypeScript compiler instance\r\n        registerer = eval('require')('ts-node').register();\r\n\r\n        return eval('require')(configFile)\r\n      } catch (err) {\r\n        if (err.code === 'MODULE_NOT_FOUND') {\r\n          throw new Error(\r\n            `'ts-node' is required for the TypeScript configuration files. Make sure it is installed\\nError: ${err.message}`\r\n          )\r\n        }\r\n\r\n        throw err\r\n      } finally {\r\n        registerer.enabled(false);\r\n      }\r\n    }))\r\n  }\r\n};\r\n\r\n/**\r\n * Load Config\r\n *\r\n * @method rc\r\n *\r\n * @param  {Object} ctx Config Context\r\n * @param  {String} path Config Path\r\n * @param  {Object} options Config Options\r\n *\r\n * @return {Promise} config PostCSS Config\r\n */\r\nconst rc = withTypeScriptLoader((ctx, path, options) => {\r\n  /**\r\n   * @type {Object} The full Config Context\r\n   */\r\n  ctx = createContext(ctx);\r\n\r\n  /**\r\n   * @type {String} `process.cwd()`\r\n   */\r\n  path = path ? resolve$1(path) : process.cwd();\r\n\r\n  return config$1.lilconfig('postcss', options)\r\n    .search(path)\r\n    .then((result) => {\r\n      if (!result) {\r\n        throw new Error(`No PostCSS Config found in: ${path}`)\r\n      }\r\n\r\n      return processResult(ctx, result)\r\n    })\r\n});\r\n\r\n/**\r\n * Autoload Config for PostCSS\r\n *\r\n * @author Michael Ciniawsky @michael-ciniawsky <michael.ciniawsky@gmail.com>\r\n * @license MIT\r\n *\r\n * @module postcss-load-config\r\n * @version 2.1.0\r\n *\r\n * @requires comsiconfig\r\n * @requires ./options\r\n * @requires ./plugins\r\n */\r\nvar src$1 = rc;\r\n\r\nclass BitSet {\r\n\tconstructor(arg) {\r\n\t\tthis.bits = arg instanceof BitSet ? arg.bits.slice() : [];\r\n\t}\r\n\r\n\tadd(n) {\r\n\t\tthis.bits[n >> 5] |= 1 << (n & 31);\r\n\t}\r\n\r\n\thas(n) {\r\n\t\treturn !!(this.bits[n >> 5] & (1 << (n & 31)));\r\n\t}\r\n}\r\n\r\nclass Chunk {\r\n\tconstructor(start, end, content) {\r\n\t\tthis.start = start;\r\n\t\tthis.end = end;\r\n\t\tthis.original = content;\r\n\r\n\t\tthis.intro = '';\r\n\t\tthis.outro = '';\r\n\r\n\t\tthis.content = content;\r\n\t\tthis.storeName = false;\r\n\t\tthis.edited = false;\r\n\r\n\t\t// we make these non-enumerable, for sanity while debugging\r\n\t\tObject.defineProperties(this, {\r\n\t\t\tprevious: { writable: true, value: null },\r\n\t\t\tnext: { writable: true, value: null },\r\n\t\t});\r\n\t}\r\n\r\n\tappendLeft(content) {\r\n\t\tthis.outro += content;\r\n\t}\r\n\r\n\tappendRight(content) {\r\n\t\tthis.intro = this.intro + content;\r\n\t}\r\n\r\n\tclone() {\r\n\t\tconst chunk = new Chunk(this.start, this.end, this.original);\r\n\r\n\t\tchunk.intro = this.intro;\r\n\t\tchunk.outro = this.outro;\r\n\t\tchunk.content = this.content;\r\n\t\tchunk.storeName = this.storeName;\r\n\t\tchunk.edited = this.edited;\r\n\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tcontains(index) {\r\n\t\treturn this.start < index && index < this.end;\r\n\t}\r\n\r\n\teachNext(fn) {\r\n\t\tlet chunk = this;\r\n\t\twhile (chunk) {\r\n\t\t\tfn(chunk);\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\t}\r\n\r\n\teachPrevious(fn) {\r\n\t\tlet chunk = this;\r\n\t\twhile (chunk) {\r\n\t\t\tfn(chunk);\r\n\t\t\tchunk = chunk.previous;\r\n\t\t}\r\n\t}\r\n\r\n\tedit(content, storeName, contentOnly) {\r\n\t\tthis.content = content;\r\n\t\tif (!contentOnly) {\r\n\t\t\tthis.intro = '';\r\n\t\t\tthis.outro = '';\r\n\t\t}\r\n\t\tthis.storeName = storeName;\r\n\r\n\t\tthis.edited = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprependLeft(content) {\r\n\t\tthis.outro = content + this.outro;\r\n\t}\r\n\r\n\tprependRight(content) {\r\n\t\tthis.intro = content + this.intro;\r\n\t}\r\n\r\n\tsplit(index) {\r\n\t\tconst sliceIndex = index - this.start;\r\n\r\n\t\tconst originalBefore = this.original.slice(0, sliceIndex);\r\n\t\tconst originalAfter = this.original.slice(sliceIndex);\r\n\r\n\t\tthis.original = originalBefore;\r\n\r\n\t\tconst newChunk = new Chunk(index, this.end, originalAfter);\r\n\t\tnewChunk.outro = this.outro;\r\n\t\tthis.outro = '';\r\n\r\n\t\tthis.end = index;\r\n\r\n\t\tif (this.edited) {\r\n\t\t\t// TODO is this block necessary?...\r\n\t\t\tnewChunk.edit('', false);\r\n\t\t\tthis.content = '';\r\n\t\t} else {\r\n\t\t\tthis.content = originalBefore;\r\n\t\t}\r\n\r\n\t\tnewChunk.next = this.next;\r\n\t\tif (newChunk.next) newChunk.next.previous = newChunk;\r\n\t\tnewChunk.previous = this;\r\n\t\tthis.next = newChunk;\r\n\r\n\t\treturn newChunk;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn this.intro + this.content + this.outro;\r\n\t}\r\n\r\n\ttrimEnd(rx) {\r\n\t\tthis.outro = this.outro.replace(rx, '');\r\n\t\tif (this.outro.length) return true;\r\n\r\n\t\tconst trimmed = this.content.replace(rx, '');\r\n\r\n\t\tif (trimmed.length) {\r\n\t\t\tif (trimmed !== this.content) {\r\n\t\t\t\tthis.split(this.start + trimmed.length).edit('', undefined, true);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tthis.edit('', undefined, true);\r\n\r\n\t\t\tthis.intro = this.intro.replace(rx, '');\r\n\t\t\tif (this.intro.length) return true;\r\n\t\t}\r\n\t}\r\n\r\n\ttrimStart(rx) {\r\n\t\tthis.intro = this.intro.replace(rx, '');\r\n\t\tif (this.intro.length) return true;\r\n\r\n\t\tconst trimmed = this.content.replace(rx, '');\r\n\r\n\t\tif (trimmed.length) {\r\n\t\t\tif (trimmed !== this.content) {\r\n\t\t\t\tthis.split(this.end - trimmed.length);\r\n\t\t\t\tthis.edit('', undefined, true);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tthis.edit('', undefined, true);\r\n\r\n\t\t\tthis.outro = this.outro.replace(rx, '');\r\n\t\t\tif (this.outro.length) return true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet btoa$1 = () => {\r\n\tthrow new Error('Unsupported environment: `window.btoa` or `Buffer` should be supported.');\r\n};\r\nif (typeof window !== 'undefined' && typeof window.btoa === 'function') {\r\n\tbtoa$1 = (str) => window.btoa(unescape(encodeURIComponent(str)));\r\n} else if (typeof Buffer === 'function') {\r\n\tbtoa$1 = (str) => Buffer.from(str, 'utf-8').toString('base64');\r\n}\r\n\r\nclass SourceMap {\r\n\tconstructor(properties) {\r\n\t\tthis.version = 3;\r\n\t\tthis.file = properties.file;\r\n\t\tthis.sources = properties.sources;\r\n\t\tthis.sourcesContent = properties.sourcesContent;\r\n\t\tthis.names = properties.names;\r\n\t\tthis.mappings = encode$2(properties.mappings);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn JSON.stringify(this);\r\n\t}\r\n\r\n\ttoUrl() {\r\n\t\treturn 'data:application/json;charset=utf-8;base64,' + btoa$1(this.toString());\r\n\t}\r\n}\r\n\r\nfunction guessIndent(code) {\r\n\tconst lines = code.split('\\n');\r\n\r\n\tconst tabbed = lines.filter((line) => /^\\t+/.test(line));\r\n\tconst spaced = lines.filter((line) => /^ {2,}/.test(line));\r\n\r\n\tif (tabbed.length === 0 && spaced.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// More lines tabbed than spaced? Assume tabs, and\r\n\t// default to tabs in the case of a tie (or nothing\r\n\t// to go on)\r\n\tif (tabbed.length >= spaced.length) {\r\n\t\treturn '\\t';\r\n\t}\r\n\r\n\t// Otherwise, we need to guess the multiple\r\n\tconst min = spaced.reduce((previous, current) => {\r\n\t\tconst numSpaces = /^ +/.exec(current)[0].length;\r\n\t\treturn Math.min(numSpaces, previous);\r\n\t}, Infinity);\r\n\r\n\treturn new Array(min + 1).join(' ');\r\n}\r\n\r\nfunction getRelativePath(from, to) {\r\n\tconst fromParts = from.split(/[/\\\\]/);\r\n\tconst toParts = to.split(/[/\\\\]/);\r\n\r\n\tfromParts.pop(); // get dirname\r\n\r\n\twhile (fromParts[0] === toParts[0]) {\r\n\t\tfromParts.shift();\r\n\t\ttoParts.shift();\r\n\t}\r\n\r\n\tif (fromParts.length) {\r\n\t\tlet i = fromParts.length;\r\n\t\twhile (i--) fromParts[i] = '..';\r\n\t}\r\n\r\n\treturn fromParts.concat(toParts).join('/');\r\n}\r\n\r\nconst toString$2 = Object.prototype.toString;\r\n\r\nfunction isObject(thing) {\r\n\treturn toString$2.call(thing) === '[object Object]';\r\n}\r\n\r\nfunction getLocator(source) {\r\n\tconst originalLines = source.split('\\n');\r\n\tconst lineOffsets = [];\r\n\r\n\tfor (let i = 0, pos = 0; i < originalLines.length; i++) {\r\n\t\tlineOffsets.push(pos);\r\n\t\tpos += originalLines[i].length + 1;\r\n\t}\r\n\r\n\treturn function locate(index) {\r\n\t\tlet i = 0;\r\n\t\tlet j = lineOffsets.length;\r\n\t\twhile (i < j) {\r\n\t\t\tconst m = (i + j) >> 1;\r\n\t\t\tif (index < lineOffsets[m]) {\r\n\t\t\t\tj = m;\r\n\t\t\t} else {\r\n\t\t\t\ti = m + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst line = i - 1;\r\n\t\tconst column = index - lineOffsets[line];\r\n\t\treturn { line, column };\r\n\t};\r\n}\r\n\r\nclass Mappings {\r\n\tconstructor(hires) {\r\n\t\tthis.hires = hires;\r\n\t\tthis.generatedCodeLine = 0;\r\n\t\tthis.generatedCodeColumn = 0;\r\n\t\tthis.raw = [];\r\n\t\tthis.rawSegments = this.raw[this.generatedCodeLine] = [];\r\n\t\tthis.pending = null;\r\n\t}\r\n\r\n\taddEdit(sourceIndex, content, loc, nameIndex) {\r\n\t\tif (content.length) {\r\n\t\t\tconst segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\r\n\t\t\tif (nameIndex >= 0) {\r\n\t\t\t\tsegment.push(nameIndex);\r\n\t\t\t}\r\n\t\t\tthis.rawSegments.push(segment);\r\n\t\t} else if (this.pending) {\r\n\t\t\tthis.rawSegments.push(this.pending);\r\n\t\t}\r\n\r\n\t\tthis.advance(content);\r\n\t\tthis.pending = null;\r\n\t}\r\n\r\n\taddUneditedChunk(sourceIndex, chunk, original, loc, sourcemapLocations) {\r\n\t\tlet originalCharIndex = chunk.start;\r\n\t\tlet first = true;\r\n\r\n\t\twhile (originalCharIndex < chunk.end) {\r\n\t\t\tif (this.hires || first || sourcemapLocations.has(originalCharIndex)) {\r\n\t\t\t\tthis.rawSegments.push([this.generatedCodeColumn, sourceIndex, loc.line, loc.column]);\r\n\t\t\t}\r\n\r\n\t\t\tif (original[originalCharIndex] === '\\n') {\r\n\t\t\t\tloc.line += 1;\r\n\t\t\t\tloc.column = 0;\r\n\t\t\t\tthis.generatedCodeLine += 1;\r\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\r\n\t\t\t\tthis.generatedCodeColumn = 0;\r\n\t\t\t\tfirst = true;\r\n\t\t\t} else {\r\n\t\t\t\tloc.column += 1;\r\n\t\t\t\tthis.generatedCodeColumn += 1;\r\n\t\t\t\tfirst = false;\r\n\t\t\t}\r\n\r\n\t\t\toriginalCharIndex += 1;\r\n\t\t}\r\n\r\n\t\tthis.pending = null;\r\n\t}\r\n\r\n\tadvance(str) {\r\n\t\tif (!str) return;\r\n\r\n\t\tconst lines = str.split('\\n');\r\n\r\n\t\tif (lines.length > 1) {\r\n\t\t\tfor (let i = 0; i < lines.length - 1; i++) {\r\n\t\t\t\tthis.generatedCodeLine++;\r\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\r\n\t\t\t}\r\n\t\t\tthis.generatedCodeColumn = 0;\r\n\t\t}\r\n\r\n\t\tthis.generatedCodeColumn += lines[lines.length - 1].length;\r\n\t}\r\n}\r\n\r\nconst n = '\\n';\r\n\r\nconst warned = {\r\n\tinsertLeft: false,\r\n\tinsertRight: false,\r\n\tstoreName: false,\r\n};\r\n\r\nclass MagicString {\r\n\tconstructor(string, options = {}) {\r\n\t\tconst chunk = new Chunk(0, string.length, string);\r\n\r\n\t\tObject.defineProperties(this, {\r\n\t\t\toriginal: { writable: true, value: string },\r\n\t\t\toutro: { writable: true, value: '' },\r\n\t\t\tintro: { writable: true, value: '' },\r\n\t\t\tfirstChunk: { writable: true, value: chunk },\r\n\t\t\tlastChunk: { writable: true, value: chunk },\r\n\t\t\tlastSearchedChunk: { writable: true, value: chunk },\r\n\t\t\tbyStart: { writable: true, value: {} },\r\n\t\t\tbyEnd: { writable: true, value: {} },\r\n\t\t\tfilename: { writable: true, value: options.filename },\r\n\t\t\tindentExclusionRanges: { writable: true, value: options.indentExclusionRanges },\r\n\t\t\tsourcemapLocations: { writable: true, value: new BitSet() },\r\n\t\t\tstoredNames: { writable: true, value: {} },\r\n\t\t\tindentStr: { writable: true, value: guessIndent(string) },\r\n\t\t});\r\n\r\n\t\tthis.byStart[0] = chunk;\r\n\t\tthis.byEnd[string.length] = chunk;\r\n\t}\r\n\r\n\taddSourcemapLocation(char) {\r\n\t\tthis.sourcemapLocations.add(char);\r\n\t}\r\n\r\n\tappend(content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('outro content must be a string');\r\n\r\n\t\tthis.outro += content;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tappendLeft(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byEnd[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.appendLeft(content);\r\n\t\t} else {\r\n\t\t\tthis.intro += content;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tappendRight(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byStart[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.appendRight(content);\r\n\t\t} else {\r\n\t\t\tthis.outro += content;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tclone() {\r\n\t\tconst cloned = new MagicString(this.original, { filename: this.filename });\r\n\r\n\t\tlet originalChunk = this.firstChunk;\r\n\t\tlet clonedChunk = (cloned.firstChunk = cloned.lastSearchedChunk = originalChunk.clone());\r\n\r\n\t\twhile (originalChunk) {\r\n\t\t\tcloned.byStart[clonedChunk.start] = clonedChunk;\r\n\t\t\tcloned.byEnd[clonedChunk.end] = clonedChunk;\r\n\r\n\t\t\tconst nextOriginalChunk = originalChunk.next;\r\n\t\t\tconst nextClonedChunk = nextOriginalChunk && nextOriginalChunk.clone();\r\n\r\n\t\t\tif (nextClonedChunk) {\r\n\t\t\t\tclonedChunk.next = nextClonedChunk;\r\n\t\t\t\tnextClonedChunk.previous = clonedChunk;\r\n\r\n\t\t\t\tclonedChunk = nextClonedChunk;\r\n\t\t\t}\r\n\r\n\t\t\toriginalChunk = nextOriginalChunk;\r\n\t\t}\r\n\r\n\t\tcloned.lastChunk = clonedChunk;\r\n\r\n\t\tif (this.indentExclusionRanges) {\r\n\t\t\tcloned.indentExclusionRanges = this.indentExclusionRanges.slice();\r\n\t\t}\r\n\r\n\t\tcloned.sourcemapLocations = new BitSet(this.sourcemapLocations);\r\n\r\n\t\tcloned.intro = this.intro;\r\n\t\tcloned.outro = this.outro;\r\n\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tgenerateDecodedMap(options) {\r\n\t\toptions = options || {};\r\n\r\n\t\tconst sourceIndex = 0;\r\n\t\tconst names = Object.keys(this.storedNames);\r\n\t\tconst mappings = new Mappings(options.hires);\r\n\r\n\t\tconst locate = getLocator(this.original);\r\n\r\n\t\tif (this.intro) {\r\n\t\t\tmappings.advance(this.intro);\r\n\t\t}\r\n\r\n\t\tthis.firstChunk.eachNext((chunk) => {\r\n\t\t\tconst loc = locate(chunk.start);\r\n\r\n\t\t\tif (chunk.intro.length) mappings.advance(chunk.intro);\r\n\r\n\t\t\tif (chunk.edited) {\r\n\t\t\t\tmappings.addEdit(\r\n\t\t\t\t\tsourceIndex,\r\n\t\t\t\t\tchunk.content,\r\n\t\t\t\t\tloc,\r\n\t\t\t\t\tchunk.storeName ? names.indexOf(chunk.original) : -1\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tmappings.addUneditedChunk(sourceIndex, chunk, this.original, loc, this.sourcemapLocations);\r\n\t\t\t}\r\n\r\n\t\t\tif (chunk.outro.length) mappings.advance(chunk.outro);\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tfile: options.file ? options.file.split(/[/\\\\]/).pop() : null,\r\n\t\t\tsources: [options.source ? getRelativePath(options.file || '', options.source) : null],\r\n\t\t\tsourcesContent: options.includeContent ? [this.original] : [null],\r\n\t\t\tnames,\r\n\t\t\tmappings: mappings.raw,\r\n\t\t};\r\n\t}\r\n\r\n\tgenerateMap(options) {\r\n\t\treturn new SourceMap(this.generateDecodedMap(options));\r\n\t}\r\n\r\n\tgetIndentString() {\r\n\t\treturn this.indentStr === null ? '\\t' : this.indentStr;\r\n\t}\r\n\r\n\tindent(indentStr, options) {\r\n\t\tconst pattern = /^[^\\r\\n]/gm;\r\n\r\n\t\tif (isObject(indentStr)) {\r\n\t\t\toptions = indentStr;\r\n\t\t\tindentStr = undefined;\r\n\t\t}\r\n\r\n\t\tindentStr = indentStr !== undefined ? indentStr : this.indentStr || '\\t';\r\n\r\n\t\tif (indentStr === '') return this; // noop\r\n\r\n\t\toptions = options || {};\r\n\r\n\t\t// Process exclusion ranges\r\n\t\tconst isExcluded = {};\r\n\r\n\t\tif (options.exclude) {\r\n\t\t\tconst exclusions =\r\n\t\t\t\ttypeof options.exclude[0] === 'number' ? [options.exclude] : options.exclude;\r\n\t\t\texclusions.forEach((exclusion) => {\r\n\t\t\t\tfor (let i = exclusion[0]; i < exclusion[1]; i += 1) {\r\n\t\t\t\t\tisExcluded[i] = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tlet shouldIndentNextCharacter = options.indentStart !== false;\r\n\t\tconst replacer = (match) => {\r\n\t\t\tif (shouldIndentNextCharacter) return `${indentStr}${match}`;\r\n\t\t\tshouldIndentNextCharacter = true;\r\n\t\t\treturn match;\r\n\t\t};\r\n\r\n\t\tthis.intro = this.intro.replace(pattern, replacer);\r\n\r\n\t\tlet charIndex = 0;\r\n\t\tlet chunk = this.firstChunk;\r\n\r\n\t\twhile (chunk) {\r\n\t\t\tconst end = chunk.end;\r\n\r\n\t\t\tif (chunk.edited) {\r\n\t\t\t\tif (!isExcluded[charIndex]) {\r\n\t\t\t\t\tchunk.content = chunk.content.replace(pattern, replacer);\r\n\r\n\t\t\t\t\tif (chunk.content.length) {\r\n\t\t\t\t\t\tshouldIndentNextCharacter = chunk.content[chunk.content.length - 1] === '\\n';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcharIndex = chunk.start;\r\n\r\n\t\t\t\twhile (charIndex < end) {\r\n\t\t\t\t\tif (!isExcluded[charIndex]) {\r\n\t\t\t\t\t\tconst char = this.original[charIndex];\r\n\r\n\t\t\t\t\t\tif (char === '\\n') {\r\n\t\t\t\t\t\t\tshouldIndentNextCharacter = true;\r\n\t\t\t\t\t\t} else if (char !== '\\r' && shouldIndentNextCharacter) {\r\n\t\t\t\t\t\t\tshouldIndentNextCharacter = false;\r\n\r\n\t\t\t\t\t\t\tif (charIndex === chunk.start) {\r\n\t\t\t\t\t\t\t\tchunk.prependRight(indentStr);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis._splitChunk(chunk, charIndex);\r\n\t\t\t\t\t\t\t\tchunk = chunk.next;\r\n\t\t\t\t\t\t\t\tchunk.prependRight(indentStr);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcharIndex += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcharIndex = chunk.end;\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\tthis.outro = this.outro.replace(pattern, replacer);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tinsert() {\r\n\t\tthrow new Error(\r\n\t\t\t'magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)'\r\n\t\t);\r\n\t}\r\n\r\n\tinsertLeft(index, content) {\r\n\t\tif (!warned.insertLeft) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t'magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead'\r\n\t\t\t); // eslint-disable-line no-console\r\n\t\t\twarned.insertLeft = true;\r\n\t\t}\r\n\r\n\t\treturn this.appendLeft(index, content);\r\n\t}\r\n\r\n\tinsertRight(index, content) {\r\n\t\tif (!warned.insertRight) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t'magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead'\r\n\t\t\t); // eslint-disable-line no-console\r\n\t\t\twarned.insertRight = true;\r\n\t\t}\r\n\r\n\t\treturn this.prependRight(index, content);\r\n\t}\r\n\r\n\tmove(start, end, index) {\r\n\t\tif (index >= start && index <= end) throw new Error('Cannot move a selection inside itself');\r\n\r\n\t\tthis._split(start);\r\n\t\tthis._split(end);\r\n\t\tthis._split(index);\r\n\r\n\t\tconst first = this.byStart[start];\r\n\t\tconst last = this.byEnd[end];\r\n\r\n\t\tconst oldLeft = first.previous;\r\n\t\tconst oldRight = last.next;\r\n\r\n\t\tconst newRight = this.byStart[index];\r\n\t\tif (!newRight && last === this.lastChunk) return this;\r\n\t\tconst newLeft = newRight ? newRight.previous : this.lastChunk;\r\n\r\n\t\tif (oldLeft) oldLeft.next = oldRight;\r\n\t\tif (oldRight) oldRight.previous = oldLeft;\r\n\r\n\t\tif (newLeft) newLeft.next = first;\r\n\t\tif (newRight) newRight.previous = last;\r\n\r\n\t\tif (!first.previous) this.firstChunk = last.next;\r\n\t\tif (!last.next) {\r\n\t\t\tthis.lastChunk = first.previous;\r\n\t\t\tthis.lastChunk.next = null;\r\n\t\t}\r\n\r\n\t\tfirst.previous = newLeft;\r\n\t\tlast.next = newRight || null;\r\n\r\n\t\tif (!newLeft) this.firstChunk = first;\r\n\t\tif (!newRight) this.lastChunk = last;\r\n\t\treturn this;\r\n\t}\r\n\r\n\toverwrite(start, end, content, options) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('replacement content must be a string');\r\n\r\n\t\twhile (start < 0) start += this.original.length;\r\n\t\twhile (end < 0) end += this.original.length;\r\n\r\n\t\tif (end > this.original.length) throw new Error('end is out of bounds');\r\n\t\tif (start === end)\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'Cannot overwrite a zero-length range \u2013 use appendLeft or prependRight instead'\r\n\t\t\t);\r\n\r\n\t\tthis._split(start);\r\n\t\tthis._split(end);\r\n\r\n\t\tif (options === true) {\r\n\t\t\tif (!warned.storeName) {\r\n\t\t\t\tconsole.warn(\r\n\t\t\t\t\t'The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string'\r\n\t\t\t\t); // eslint-disable-line no-console\r\n\t\t\t\twarned.storeName = true;\r\n\t\t\t}\r\n\r\n\t\t\toptions = { storeName: true };\r\n\t\t}\r\n\t\tconst storeName = options !== undefined ? options.storeName : false;\r\n\t\tconst contentOnly = options !== undefined ? options.contentOnly : false;\r\n\r\n\t\tif (storeName) {\r\n\t\t\tconst original = this.original.slice(start, end);\r\n\t\t\tObject.defineProperty(this.storedNames, original, {\r\n\t\t\t\twritable: true,\r\n\t\t\t\tvalue: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst first = this.byStart[start];\r\n\t\tconst last = this.byEnd[end];\r\n\r\n\t\tif (first) {\r\n\t\t\tlet chunk = first;\r\n\t\t\twhile (chunk !== last) {\r\n\t\t\t\tif (chunk.next !== this.byStart[chunk.end]) {\r\n\t\t\t\t\tthrow new Error('Cannot overwrite across a split point');\r\n\t\t\t\t}\r\n\t\t\t\tchunk = chunk.next;\r\n\t\t\t\tchunk.edit('', false);\r\n\t\t\t}\r\n\r\n\t\t\tfirst.edit(content, storeName, contentOnly);\r\n\t\t} else {\r\n\t\t\t// must be inserting at the end\r\n\t\t\tconst newChunk = new Chunk(start, end, '').edit(content, storeName);\r\n\r\n\t\t\t// TODO last chunk in the array may not be the last chunk, if it's moved...\r\n\t\t\tlast.next = newChunk;\r\n\t\t\tnewChunk.previous = last;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprepend(content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('outro content must be a string');\r\n\r\n\t\tthis.intro = content + this.intro;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprependLeft(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byEnd[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.prependLeft(content);\r\n\t\t} else {\r\n\t\t\tthis.intro = content + this.intro;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprependRight(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byStart[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.prependRight(content);\r\n\t\t} else {\r\n\t\t\tthis.outro = content + this.outro;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tremove(start, end) {\r\n\t\twhile (start < 0) start += this.original.length;\r\n\t\twhile (end < 0) end += this.original.length;\r\n\r\n\t\tif (start === end) return this;\r\n\r\n\t\tif (start < 0 || end > this.original.length) throw new Error('Character is out of bounds');\r\n\t\tif (start > end) throw new Error('end must be greater than start');\r\n\r\n\t\tthis._split(start);\r\n\t\tthis._split(end);\r\n\r\n\t\tlet chunk = this.byStart[start];\r\n\r\n\t\twhile (chunk) {\r\n\t\t\tchunk.intro = '';\r\n\t\t\tchunk.outro = '';\r\n\t\t\tchunk.edit('');\r\n\r\n\t\t\tchunk = end > chunk.end ? this.byStart[chunk.end] : null;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tlastChar() {\r\n\t\tif (this.outro.length) return this.outro[this.outro.length - 1];\r\n\t\tlet chunk = this.lastChunk;\r\n\t\tdo {\r\n\t\t\tif (chunk.outro.length) return chunk.outro[chunk.outro.length - 1];\r\n\t\t\tif (chunk.content.length) return chunk.content[chunk.content.length - 1];\r\n\t\t\tif (chunk.intro.length) return chunk.intro[chunk.intro.length - 1];\r\n\t\t} while ((chunk = chunk.previous));\r\n\t\tif (this.intro.length) return this.intro[this.intro.length - 1];\r\n\t\treturn '';\r\n\t}\r\n\r\n\tlastLine() {\r\n\t\tlet lineIndex = this.outro.lastIndexOf(n);\r\n\t\tif (lineIndex !== -1) return this.outro.substr(lineIndex + 1);\r\n\t\tlet lineStr = this.outro;\r\n\t\tlet chunk = this.lastChunk;\r\n\t\tdo {\r\n\t\t\tif (chunk.outro.length > 0) {\r\n\t\t\t\tlineIndex = chunk.outro.lastIndexOf(n);\r\n\t\t\t\tif (lineIndex !== -1) return chunk.outro.substr(lineIndex + 1) + lineStr;\r\n\t\t\t\tlineStr = chunk.outro + lineStr;\r\n\t\t\t}\r\n\r\n\t\t\tif (chunk.content.length > 0) {\r\n\t\t\t\tlineIndex = chunk.content.lastIndexOf(n);\r\n\t\t\t\tif (lineIndex !== -1) return chunk.content.substr(lineIndex + 1) + lineStr;\r\n\t\t\t\tlineStr = chunk.content + lineStr;\r\n\t\t\t}\r\n\r\n\t\t\tif (chunk.intro.length > 0) {\r\n\t\t\t\tlineIndex = chunk.intro.lastIndexOf(n);\r\n\t\t\t\tif (lineIndex !== -1) return chunk.intro.substr(lineIndex + 1) + lineStr;\r\n\t\t\t\tlineStr = chunk.intro + lineStr;\r\n\t\t\t}\r\n\t\t} while ((chunk = chunk.previous));\r\n\t\tlineIndex = this.intro.lastIndexOf(n);\r\n\t\tif (lineIndex !== -1) return this.intro.substr(lineIndex + 1) + lineStr;\r\n\t\treturn this.intro + lineStr;\r\n\t}\r\n\r\n\tslice(start = 0, end = this.original.length) {\r\n\t\twhile (start < 0) start += this.original.length;\r\n\t\twhile (end < 0) end += this.original.length;\r\n\r\n\t\tlet result = '';\r\n\r\n\t\t// find start chunk\r\n\t\tlet chunk = this.firstChunk;\r\n\t\twhile (chunk && (chunk.start > start || chunk.end <= start)) {\r\n\t\t\t// found end chunk before start\r\n\t\t\tif (chunk.start < end && chunk.end >= end) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\tif (chunk && chunk.edited && chunk.start !== start)\r\n\t\t\tthrow new Error(`Cannot use replaced character ${start} as slice start anchor.`);\r\n\r\n\t\tconst startChunk = chunk;\r\n\t\twhile (chunk) {\r\n\t\t\tif (chunk.intro && (startChunk !== chunk || chunk.start === start)) {\r\n\t\t\t\tresult += chunk.intro;\r\n\t\t\t}\r\n\r\n\t\t\tconst containsEnd = chunk.start < end && chunk.end >= end;\r\n\t\t\tif (containsEnd && chunk.edited && chunk.end !== end)\r\n\t\t\t\tthrow new Error(`Cannot use replaced character ${end} as slice end anchor.`);\r\n\r\n\t\t\tconst sliceStart = startChunk === chunk ? start - chunk.start : 0;\r\n\t\t\tconst sliceEnd = containsEnd ? chunk.content.length + end - chunk.end : chunk.content.length;\r\n\r\n\t\t\tresult += chunk.content.slice(sliceStart, sliceEnd);\r\n\r\n\t\t\tif (chunk.outro && (!containsEnd || chunk.end === end)) {\r\n\t\t\t\tresult += chunk.outro;\r\n\t\t\t}\r\n\r\n\t\t\tif (containsEnd) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// TODO deprecate this? not really very useful\r\n\tsnip(start, end) {\r\n\t\tconst clone = this.clone();\r\n\t\tclone.remove(0, start);\r\n\t\tclone.remove(end, clone.original.length);\r\n\r\n\t\treturn clone;\r\n\t}\r\n\r\n\t_split(index) {\r\n\t\tif (this.byStart[index] || this.byEnd[index]) return;\r\n\r\n\t\tlet chunk = this.lastSearchedChunk;\r\n\t\tconst searchForward = index > chunk.end;\r\n\r\n\t\twhile (chunk) {\r\n\t\t\tif (chunk.contains(index)) return this._splitChunk(chunk, index);\r\n\r\n\t\t\tchunk = searchForward ? this.byStart[chunk.end] : this.byEnd[chunk.start];\r\n\t\t}\r\n\t}\r\n\r\n\t_splitChunk(chunk, index) {\r\n\t\tif (chunk.edited && chunk.content.length) {\r\n\t\t\t// zero-length edited chunks are a special case (overlapping replacements)\r\n\t\t\tconst loc = getLocator(this.original)(index);\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`Cannot split a chunk that has already been edited (${loc.line}:${loc.column} \u2013 \"${chunk.original}\")`\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst newChunk = chunk.split(index);\r\n\r\n\t\tthis.byEnd[index] = chunk;\r\n\t\tthis.byStart[index] = newChunk;\r\n\t\tthis.byEnd[newChunk.end] = newChunk;\r\n\r\n\t\tif (chunk === this.lastChunk) this.lastChunk = newChunk;\r\n\r\n\t\tthis.lastSearchedChunk = chunk;\r\n\t\treturn true;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tlet str = this.intro;\r\n\r\n\t\tlet chunk = this.firstChunk;\r\n\t\twhile (chunk) {\r\n\t\t\tstr += chunk.toString();\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\treturn str + this.outro;\r\n\t}\r\n\r\n\tisEmpty() {\r\n\t\tlet chunk = this.firstChunk;\r\n\t\tdo {\r\n\t\t\tif (\r\n\t\t\t\t(chunk.intro.length && chunk.intro.trim()) ||\r\n\t\t\t\t(chunk.content.length && chunk.content.trim()) ||\r\n\t\t\t\t(chunk.outro.length && chunk.outro.trim())\r\n\t\t\t)\r\n\t\t\t\treturn false;\r\n\t\t} while ((chunk = chunk.next));\r\n\t\treturn true;\r\n\t}\r\n\r\n\tlength() {\r\n\t\tlet chunk = this.firstChunk;\r\n\t\tlet length = 0;\r\n\t\tdo {\r\n\t\t\tlength += chunk.intro.length + chunk.content.length + chunk.outro.length;\r\n\t\t} while ((chunk = chunk.next));\r\n\t\treturn length;\r\n\t}\r\n\r\n\ttrimLines() {\r\n\t\treturn this.trim('[\\\\r\\\\n]');\r\n\t}\r\n\r\n\ttrim(charType) {\r\n\t\treturn this.trimStart(charType).trimEnd(charType);\r\n\t}\r\n\r\n\ttrimEndAborted(charType) {\r\n\t\tconst rx = new RegExp((charType || '\\\\s') + '+$');\r\n\r\n\t\tthis.outro = this.outro.replace(rx, '');\r\n\t\tif (this.outro.length) return true;\r\n\r\n\t\tlet chunk = this.lastChunk;\r\n\r\n\t\tdo {\r\n\t\t\tconst end = chunk.end;\r\n\t\t\tconst aborted = chunk.trimEnd(rx);\r\n\r\n\t\t\t// if chunk was trimmed, we have a new lastChunk\r\n\t\t\tif (chunk.end !== end) {\r\n\t\t\t\tif (this.lastChunk === chunk) {\r\n\t\t\t\t\tthis.lastChunk = chunk.next;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.byEnd[chunk.end] = chunk;\r\n\t\t\t\tthis.byStart[chunk.next.start] = chunk.next;\r\n\t\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\r\n\t\t\t}\r\n\r\n\t\t\tif (aborted) return true;\r\n\t\t\tchunk = chunk.previous;\r\n\t\t} while (chunk);\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttrimEnd(charType) {\r\n\t\tthis.trimEndAborted(charType);\r\n\t\treturn this;\r\n\t}\r\n\ttrimStartAborted(charType) {\r\n\t\tconst rx = new RegExp('^' + (charType || '\\\\s') + '+');\r\n\r\n\t\tthis.intro = this.intro.replace(rx, '');\r\n\t\tif (this.intro.length) return true;\r\n\r\n\t\tlet chunk = this.firstChunk;\r\n\r\n\t\tdo {\r\n\t\t\tconst end = chunk.end;\r\n\t\t\tconst aborted = chunk.trimStart(rx);\r\n\r\n\t\t\tif (chunk.end !== end) {\r\n\t\t\t\t// special case...\r\n\t\t\t\tif (chunk === this.lastChunk) this.lastChunk = chunk.next;\r\n\r\n\t\t\t\tthis.byEnd[chunk.end] = chunk;\r\n\t\t\t\tthis.byStart[chunk.next.start] = chunk.next;\r\n\t\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\r\n\t\t\t}\r\n\r\n\t\t\tif (aborted) return true;\r\n\t\t\tchunk = chunk.next;\r\n\t\t} while (chunk);\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttrimStart(charType) {\r\n\t\tthis.trimStartAborted(charType);\r\n\t\treturn this;\r\n\t}\r\n\r\n\thasChanged() {\r\n\t\treturn this.original !== this.toString();\r\n\t}\r\n\r\n\treplace(searchValue, replacement) {\r\n\t\tfunction getReplacement(match, str) {\r\n\t\t\tif (typeof replacement === 'string') {\r\n\t\t\t\treturn replacement.replace(/\\$(\\$|&|\\d+)/g, (_, i) => {\r\n\t\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_string_as_a_parameter\r\n\t\t\t\t\tif (i === '$') return '$';\r\n\t\t\t\t\tif (i === '&') return match[0];\r\n\t\t\t\t\tconst num = +i;\r\n\t\t\t\t\tif (num < match.length) return match[+i];\r\n\t\t\t\t\treturn `$${i}`;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn replacement(...match, match.index, str, match.groups);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction matchAll(re, str) {\r\n\t\t\tlet match;\r\n\t\t\tconst matches = [];\r\n\t\t\twhile ((match = re.exec(str))) {\r\n\t\t\t\tmatches.push(match);\r\n\t\t\t}\r\n\t\t\treturn matches;\r\n\t\t}\r\n\t\tif (typeof searchValue !== 'string' && searchValue.global) {\r\n\t\t\tconst matches = matchAll(searchValue, this.original);\r\n\t\t\tmatches.forEach((match) => {\r\n\t\t\t\tif (match.index != null)\r\n\t\t\t\t\tthis.overwrite(\r\n\t\t\t\t\t\tmatch.index,\r\n\t\t\t\t\t\tmatch.index + match[0].length,\r\n\t\t\t\t\t\tgetReplacement(match, this.original)\r\n\t\t\t\t\t);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst match = this.original.match(searchValue);\r\n\t\t\tif (match && match.index != null)\r\n\t\t\t\tthis.overwrite(\r\n\t\t\t\t\tmatch.index,\r\n\t\t\t\t\tmatch.index + match[0].length,\r\n\t\t\t\t\tgetReplacement(match, this.original)\r\n\t\t\t\t);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nconst isDebug$6 = !!process.env.DEBUG;\r\nconst debug$e = createDebugger('vite:sourcemap', {\r\n    onlyWhenFocused: true\r\n});\r\n// Virtual modules should be prefixed with a null byte to avoid a\r\n// false positive \"missing source\" warning. We also check for certain\r\n// prefixes used for special handling in esbuildDepPlugin.\r\nconst virtualSourceRE = /^(\\0|dep:|browser-external:)/;\r\nasync function injectSourcesContent(map, file, logger) {\r\n    let sourceRoot;\r\n    try {\r\n        // The source root is undefined for virtual modules and permission errors.\r\n        sourceRoot = await promises$2.realpath(path$n.resolve(path$n.dirname(file), map.sourceRoot || ''));\r\n    }\r\n    catch { }\r\n    const missingSources = [];\r\n    map.sourcesContent = await Promise.all(map.sources.map((sourcePath) => {\r\n        if (sourcePath && !virtualSourceRE.test(sourcePath)) {\r\n            sourcePath = decodeURI(sourcePath);\r\n            if (sourceRoot) {\r\n                sourcePath = path$n.resolve(sourceRoot, sourcePath);\r\n            }\r\n            return promises$2.readFile(sourcePath, 'utf-8').catch(() => {\r\n                missingSources.push(sourcePath);\r\n                return null;\r\n            });\r\n        }\r\n        return null;\r\n    }));\r\n    // Use this command\u2026\r\n    //    DEBUG=\"vite:sourcemap\" vite build\r\n    // \u2026to log the missing sources.\r\n    if (missingSources.length) {\r\n        logger.warnOnce(`Sourcemap for \"${file}\" points to missing source files`);\r\n        isDebug$6 && debug$e(`Missing sources:\\n  ` + missingSources.join(`\\n  `));\r\n    }\r\n}\r\nfunction genSourceMapUrl(map) {\r\n    if (typeof map !== 'string') {\r\n        map = JSON.stringify(map);\r\n    }\r\n    return `data:application/json;base64,${Buffer.from(map).toString('base64')}`;\r\n}\r\nfunction getCodeWithSourcemap(type, code, map) {\r\n    if (isDebug$6) {\r\n        code += `\\n/*${JSON.stringify(map, null, 2).replace(/\\*\\//g, '*\\\\/')}*/\\n`;\r\n    }\r\n    if (type === 'js') {\r\n        code += `\\n//# sourceMappingURL=${genSourceMapUrl(map ?? undefined)}`;\r\n    }\r\n    else if (type === 'css') {\r\n        code += `\\n/*# sourceMappingURL=${genSourceMapUrl(map ?? undefined)} */`;\r\n    }\r\n    return code;\r\n}\r\n\r\n// This file was generated. Do not modify manually!\r\nvar astralIdentifierCodes = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 574, 3, 9, 9, 370, 1, 154, 10, 50, 3, 123, 2, 54, 14, 32, 10, 3, 1, 11, 3, 46, 10, 8, 0, 46, 9, 7, 2, 37, 13, 2, 9, 6, 1, 45, 0, 13, 2, 49, 13, 9, 3, 2, 11, 83, 11, 7, 0, 161, 11, 6, 9, 7, 3, 56, 1, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 193, 17, 10, 9, 5, 0, 82, 19, 13, 9, 214, 6, 3, 8, 28, 1, 83, 16, 16, 9, 82, 12, 9, 9, 84, 14, 5, 9, 243, 14, 166, 9, 71, 5, 2, 1, 3, 3, 2, 0, 2, 1, 13, 9, 120, 6, 3, 6, 4, 0, 29, 9, 41, 6, 2, 3, 9, 0, 10, 10, 47, 15, 406, 7, 2, 7, 17, 9, 57, 21, 2, 13, 123, 5, 4, 0, 2, 1, 2, 6, 2, 0, 9, 9, 49, 4, 2, 1, 2, 4, 9, 9, 330, 3, 19306, 9, 87, 9, 39, 4, 60, 6, 26, 9, 1014, 0, 2, 54, 8, 3, 82, 0, 12, 1, 19628, 1, 4706, 45, 3, 22, 543, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 513, 54, 5, 49, 9, 0, 15, 0, 23, 4, 2, 14, 1361, 6, 2, 16, 3, 6, 2, 1, 2, 4, 262, 6, 10, 9, 357, 0, 62, 13, 1495, 6, 110, 6, 6, 9, 4759, 9, 787719, 239];\r\n\r\n// This file was generated. Do not modify manually!\r\nvar astralIdentifierStartCodes = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 14, 29, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 19, 35, 5, 35, 5, 39, 9, 51, 13, 10, 2, 14, 2, 6, 2, 1, 2, 10, 2, 14, 2, 6, 2, 1, 68, 310, 10, 21, 11, 7, 25, 5, 2, 41, 2, 8, 70, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 66, 18, 2, 1, 11, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 28, 43, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 56, 50, 14, 50, 14, 35, 349, 41, 7, 1, 79, 28, 11, 0, 9, 21, 43, 17, 47, 20, 28, 22, 13, 52, 58, 1, 3, 0, 14, 44, 33, 24, 27, 35, 30, 0, 3, 0, 9, 34, 4, 0, 13, 47, 15, 3, 22, 0, 2, 0, 36, 17, 2, 24, 85, 6, 2, 0, 2, 3, 2, 14, 2, 9, 8, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 19, 0, 13, 4, 159, 52, 19, 3, 21, 2, 31, 47, 21, 1, 2, 0, 185, 46, 42, 3, 37, 47, 21, 0, 60, 42, 14, 0, 72, 26, 38, 6, 186, 43, 117, 63, 32, 7, 3, 0, 3, 7, 2, 1, 2, 23, 16, 0, 2, 0, 95, 7, 3, 38, 17, 0, 2, 0, 29, 0, 11, 39, 8, 0, 22, 0, 12, 45, 20, 0, 19, 72, 264, 8, 2, 36, 18, 0, 50, 29, 113, 6, 2, 1, 2, 37, 22, 0, 26, 5, 2, 1, 2, 31, 15, 0, 328, 18, 190, 0, 80, 921, 103, 110, 18, 195, 2637, 96, 16, 1070, 4050, 582, 8634, 568, 8, 30, 18, 78, 18, 29, 19, 47, 17, 3, 32, 20, 6, 18, 689, 63, 129, 74, 6, 0, 67, 12, 65, 1, 2, 0, 29, 6135, 9, 1237, 43, 8, 8936, 3, 2, 6, 2, 1, 2, 290, 46, 2, 18, 3, 9, 395, 2309, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 1845, 30, 482, 44, 11, 6, 17, 0, 322, 29, 19, 43, 1269, 6, 2, 3, 2, 1, 2, 14, 2, 196, 60, 67, 8, 0, 1205, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42719, 33, 4152, 8, 221, 3, 5761, 15, 7472, 3104, 541, 1507, 4938];\r\n\r\n// This file was generated. Do not modify manually!\r\nvar nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0898-\\u089f\\u08ca-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b55-\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3c\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d81-\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1715\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u180f-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1abf-\\u1ace\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua82c\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\r\n\r\n// This file was generated. Do not modify manually!\r\nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u0870-\\u0887\\u0889-\\u088e\\u08a0-\\u08c9\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c5d\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cdd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d04-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u1711\\u171f-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4c\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31bf\\u31f0-\\u31ff\\u3400-\\u4dbf\\u4e00-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7ca\\ua7d0\\ua7d1\\ua7d3\\ua7d5-\\ua7d9\\ua7f2-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab69\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\r\n\r\n// These are a run-length and offset encoded representation of the\r\n\r\n// Reserved word lists for various dialects of the language\r\n\r\nvar reservedWords = {\r\n  3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\r\n  5: \"class enum extends super const export import\",\r\n  6: \"enum\",\r\n  strict: \"implements interface let package private protected public static yield\",\r\n  strictBind: \"eval arguments\"\r\n};\r\n\r\n// And the keywords\r\n\r\nvar ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\r\n\r\nvar keywords$1 = {\r\n  5: ecma5AndLessKeywords,\r\n  \"5module\": ecma5AndLessKeywords + \" export import\",\r\n  6: ecma5AndLessKeywords + \" const class extends export import super\"\r\n};\r\n\r\nvar keywordRelationalOperator = /^in(stanceof)?$/;\r\n\r\n// ## Character categories\r\n\r\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\r\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\r\n\r\n// This has a complexity linear to the value of the code. The\r\n// assumption is that looking up astral identifier characters is\r\n// rare.\r\nfunction isInAstralSet(code, set) {\r\n  var pos = 0x10000;\r\n  for (var i = 0; i < set.length; i += 2) {\r\n    pos += set[i];\r\n    if (pos > code) { return false }\r\n    pos += set[i + 1];\r\n    if (pos >= code) { return true }\r\n  }\r\n}\r\n\r\n// Test whether a given character code starts an identifier.\r\n\r\nfunction isIdentifierStart(code, astral) {\r\n  if (code < 65) { return code === 36 }\r\n  if (code < 91) { return true }\r\n  if (code < 97) { return code === 95 }\r\n  if (code < 123) { return true }\r\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\r\n  if (astral === false) { return false }\r\n  return isInAstralSet(code, astralIdentifierStartCodes)\r\n}\r\n\r\n// Test whether a given character is part of an identifier.\r\n\r\nfunction isIdentifierChar(code, astral) {\r\n  if (code < 48) { return code === 36 }\r\n  if (code < 58) { return true }\r\n  if (code < 65) { return false }\r\n  if (code < 91) { return true }\r\n  if (code < 97) { return code === 95 }\r\n  if (code < 123) { return true }\r\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\r\n  if (astral === false) { return false }\r\n  return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\r\n}\r\n\r\n// ## Token types\r\n\r\n// The assignment of fine-grained, information-carrying type objects\r\n// allows the tokenizer to store the information it has about a\r\n// token in a way that is very cheap for the parser to look up.\r\n\r\n// All token type variables start with an underscore, to make them\r\n// easy to recognize.\r\n\r\n// The `beforeExpr` property is used to disambiguate between regular\r\n// expressions and divisions. It is set on all token types that can\r\n// be followed by an expression (thus, a slash after them would be a\r\n// regular expression).\r\n//\r\n// The `startsExpr` property is used to check if the token ends a\r\n// `yield` expression. It is set on all token types that either can\r\n// directly start an expression (like a quotation mark) or can\r\n// continue an expression (like the body of a string).\r\n//\r\n// `isLoop` marks a keyword as starting a loop, which is important\r\n// to know when parsing a label, in order to allow or disallow\r\n// continue jumps to that label.\r\n\r\nvar TokenType = function TokenType(label, conf) {\r\n  if ( conf === void 0 ) conf = {};\r\n\r\n  this.label = label;\r\n  this.keyword = conf.keyword;\r\n  this.beforeExpr = !!conf.beforeExpr;\r\n  this.startsExpr = !!conf.startsExpr;\r\n  this.isLoop = !!conf.isLoop;\r\n  this.isAssign = !!conf.isAssign;\r\n  this.prefix = !!conf.prefix;\r\n  this.postfix = !!conf.postfix;\r\n  this.binop = conf.binop || null;\r\n  this.updateContext = null;\r\n};\r\n\r\nfunction binop(name, prec) {\r\n  return new TokenType(name, {beforeExpr: true, binop: prec})\r\n}\r\nvar beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\r\n\r\n// Map keyword names to token types.\r\n\r\nvar keywords = {};\r\n\r\n// Succinct definitions of keyword token types\r\nfunction kw(name, options) {\r\n  if ( options === void 0 ) options = {};\r\n\r\n  options.keyword = name;\r\n  return keywords[name] = new TokenType(name, options)\r\n}\r\n\r\nvar types$1 = {\r\n  num: new TokenType(\"num\", startsExpr),\r\n  regexp: new TokenType(\"regexp\", startsExpr),\r\n  string: new TokenType(\"string\", startsExpr),\r\n  name: new TokenType(\"name\", startsExpr),\r\n  privateId: new TokenType(\"privateId\", startsExpr),\r\n  eof: new TokenType(\"eof\"),\r\n\r\n  // Punctuation token types.\r\n  bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\r\n  bracketR: new TokenType(\"]\"),\r\n  braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\r\n  braceR: new TokenType(\"}\"),\r\n  parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\r\n  parenR: new TokenType(\")\"),\r\n  comma: new TokenType(\",\", beforeExpr),\r\n  semi: new TokenType(\";\", beforeExpr),\r\n  colon: new TokenType(\":\", beforeExpr),\r\n  dot: new TokenType(\".\"),\r\n  question: new TokenType(\"?\", beforeExpr),\r\n  questionDot: new TokenType(\"?.\"),\r\n  arrow: new TokenType(\"=>\", beforeExpr),\r\n  template: new TokenType(\"template\"),\r\n  invalidTemplate: new TokenType(\"invalidTemplate\"),\r\n  ellipsis: new TokenType(\"...\", beforeExpr),\r\n  backQuote: new TokenType(\"`\", startsExpr),\r\n  dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\r\n\r\n  // Operators. These carry several kinds of properties to help the\r\n  // parser use them properly (the presence of these properties is\r\n  // what categorizes them as operators).\r\n  //\r\n  // `binop`, when present, specifies that this operator is a binary\r\n  // operator, and will refer to its precedence.\r\n  //\r\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\r\n  // unary operator.\r\n  //\r\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\r\n  // binary operators with a very low precedence, that should result\r\n  // in AssignmentExpression nodes.\r\n\r\n  eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\r\n  assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\r\n  incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\r\n  prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\r\n  logicalOR: binop(\"||\", 1),\r\n  logicalAND: binop(\"&&\", 2),\r\n  bitwiseOR: binop(\"|\", 3),\r\n  bitwiseXOR: binop(\"^\", 4),\r\n  bitwiseAND: binop(\"&\", 5),\r\n  equality: binop(\"==/!=/===/!==\", 6),\r\n  relational: binop(\"</>/<=/>=\", 7),\r\n  bitShift: binop(\"<</>>/>>>\", 8),\r\n  plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\r\n  modulo: binop(\"%\", 10),\r\n  star: binop(\"*\", 10),\r\n  slash: binop(\"/\", 10),\r\n  starstar: new TokenType(\"**\", {beforeExpr: true}),\r\n  coalesce: binop(\"??\", 1),\r\n\r\n  // Keyword token types.\r\n  _break: kw(\"break\"),\r\n  _case: kw(\"case\", beforeExpr),\r\n  _catch: kw(\"catch\"),\r\n  _continue: kw(\"continue\"),\r\n  _debugger: kw(\"debugger\"),\r\n  _default: kw(\"default\", beforeExpr),\r\n  _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\r\n  _else: kw(\"else\", beforeExpr),\r\n  _finally: kw(\"finally\"),\r\n  _for: kw(\"for\", {isLoop: true}),\r\n  _function: kw(\"function\", startsExpr),\r\n  _if: kw(\"if\"),\r\n  _return: kw(\"return\", beforeExpr),\r\n  _switch: kw(\"switch\"),\r\n  _throw: kw(\"throw\", beforeExpr),\r\n  _try: kw(\"try\"),\r\n  _var: kw(\"var\"),\r\n  _const: kw(\"const\"),\r\n  _while: kw(\"while\", {isLoop: true}),\r\n  _with: kw(\"with\"),\r\n  _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\r\n  _this: kw(\"this\", startsExpr),\r\n  _super: kw(\"super\", startsExpr),\r\n  _class: kw(\"class\", startsExpr),\r\n  _extends: kw(\"extends\", beforeExpr),\r\n  _export: kw(\"export\"),\r\n  _import: kw(\"import\", startsExpr),\r\n  _null: kw(\"null\", startsExpr),\r\n  _true: kw(\"true\", startsExpr),\r\n  _false: kw(\"false\", startsExpr),\r\n  _in: kw(\"in\", {beforeExpr: true, binop: 7}),\r\n  _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\r\n  _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\r\n  _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\r\n  _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\r\n};\r\n\r\n// Matches a whole line break (where CRLF is considered a single\r\n// line break). Used to count lines.\r\n\r\nvar lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\r\nvar lineBreakG = new RegExp(lineBreak.source, \"g\");\r\n\r\nfunction isNewLine(code) {\r\n  return code === 10 || code === 13 || code === 0x2028 || code === 0x2029\r\n}\r\n\r\nfunction nextLineBreak(code, from, end) {\r\n  if ( end === void 0 ) end = code.length;\r\n\r\n  for (var i = from; i < end; i++) {\r\n    var next = code.charCodeAt(i);\r\n    if (isNewLine(next))\r\n      { return i < end - 1 && next === 13 && code.charCodeAt(i + 1) === 10 ? i + 2 : i + 1 }\r\n  }\r\n  return -1\r\n}\r\n\r\nvar nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\r\n\r\nvar skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\r\n\r\nvar ref = Object.prototype;\r\nvar hasOwnProperty$1 = ref.hasOwnProperty;\r\nvar toString$1 = ref.toString;\r\n\r\nvar hasOwn = Object.hasOwn || (function (obj, propName) { return (\r\n  hasOwnProperty$1.call(obj, propName)\r\n); });\r\n\r\nvar isArray = Array.isArray || (function (obj) { return (\r\n  toString$1.call(obj) === \"[object Array]\"\r\n); });\r\n\r\nfunction wordsRegexp(words) {\r\n  return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\r\n}\r\n\r\nfunction codePointToString(code) {\r\n  // UTF-16 Decoding\r\n  if (code <= 0xFFFF) { return String.fromCharCode(code) }\r\n  code -= 0x10000;\r\n  return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\r\n}\r\n\r\nvar loneSurrogate = /(?:[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\r\n\r\n// These are used when `options.locations` is on, for the\r\n// `startLoc` and `endLoc` properties.\r\n\r\nvar Position = function Position(line, col) {\r\n  this.line = line;\r\n  this.column = col;\r\n};\r\n\r\nPosition.prototype.offset = function offset (n) {\r\n  return new Position(this.line, this.column + n)\r\n};\r\n\r\nvar SourceLocation = function SourceLocation(p, start, end) {\r\n  this.start = start;\r\n  this.end = end;\r\n  if (p.sourceFile !== null) { this.source = p.sourceFile; }\r\n};\r\n\r\n// The `getLineInfo` function is mostly useful when the\r\n// `locations` option is off (for performance reasons) and you\r\n// want to find the line/column position for a given character\r\n// offset. `input` should be the code string that the offset refers\r\n// into.\r\n\r\nfunction getLineInfo(input, offset) {\r\n  for (var line = 1, cur = 0;;) {\r\n    var nextBreak = nextLineBreak(input, cur, offset);\r\n    if (nextBreak < 0) { return new Position(line, offset - cur) }\r\n    ++line;\r\n    cur = nextBreak;\r\n  }\r\n}\r\n\r\n// A second argument must be given to configure the parser process.\r\n// These options are recognized (only `ecmaVersion` is required):\r\n\r\nvar defaultOptions = {\r\n  // `ecmaVersion` indicates the ECMAScript version to parse. Must be\r\n  // either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10\r\n  // (2019), 11 (2020), 12 (2021), 13 (2022), 14 (2023), or `\"latest\"`\r\n  // (the latest version the library supports). This influences\r\n  // support for strict mode, the set of reserved words, and support\r\n  // for new syntax features.\r\n  ecmaVersion: null,\r\n  // `sourceType` indicates the mode the code should be parsed in.\r\n  // Can be either `\"script\"` or `\"module\"`. This influences global\r\n  // strict mode and parsing of `import` and `export` declarations.\r\n  sourceType: \"script\",\r\n  // `onInsertedSemicolon` can be a callback that will be called\r\n  // when a semicolon is automatically inserted. It will be passed\r\n  // the position of the comma as an offset, and if `locations` is\r\n  // enabled, it is given the location as a `{line, column}` object\r\n  // as second argument.\r\n  onInsertedSemicolon: null,\r\n  // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\r\n  // trailing commas.\r\n  onTrailingComma: null,\r\n  // By default, reserved words are only enforced if ecmaVersion >= 5.\r\n  // Set `allowReserved` to a boolean value to explicitly turn this on\r\n  // an off. When this option has the value \"never\", reserved words\r\n  // and keywords can also not be used as property names.\r\n  allowReserved: null,\r\n  // When enabled, a return at the top level is not considered an\r\n  // error.\r\n  allowReturnOutsideFunction: false,\r\n  // When enabled, import/export statements are not constrained to\r\n  // appearing at the top of the program, and an import.meta expression\r\n  // in a script isn't considered an error.\r\n  allowImportExportEverywhere: false,\r\n  // By default, await identifiers are allowed to appear at the top-level scope only if ecmaVersion >= 2022.\r\n  // When enabled, await identifiers are allowed to appear at the top-level scope,\r\n  // but they are still not allowed in non-async functions.\r\n  allowAwaitOutsideFunction: null,\r\n  // When enabled, super identifiers are not constrained to\r\n  // appearing in methods and do not raise an error when they appear elsewhere.\r\n  allowSuperOutsideMethod: null,\r\n  // When enabled, hashbang directive in the beginning of file is\r\n  // allowed and treated as a line comment. Enabled by default when\r\n  // `ecmaVersion` >= 2023.\r\n  allowHashBang: false,\r\n  // When `locations` is on, `loc` properties holding objects with\r\n  // `start` and `end` properties in `{line, column}` form (with\r\n  // line being 1-based and column 0-based) will be attached to the\r\n  // nodes.\r\n  locations: false,\r\n  // A function can be passed as `onToken` option, which will\r\n  // cause Acorn to call that function with object in the same\r\n  // format as tokens returned from `tokenizer().getToken()`. Note\r\n  // that you are not allowed to call the parser from the\r\n  // callback\u2014that will corrupt its internal state.\r\n  onToken: null,\r\n  // A function can be passed as `onComment` option, which will\r\n  // cause Acorn to call that function with `(block, text, start,\r\n  // end)` parameters whenever a comment is skipped. `block` is a\r\n  // boolean indicating whether this is a block (`/* */`) comment,\r\n  // `text` is the content of the comment, and `start` and `end` are\r\n  // character offsets that denote the start and end of the comment.\r\n  // When the `locations` option is on, two more parameters are\r\n  // passed, the full `{line, column}` locations of the start and\r\n  // end of the comments. Note that you are not allowed to call the\r\n  // parser from the callback\u2014that will corrupt its internal state.\r\n  onComment: null,\r\n  // Nodes have their start and end characters offsets recorded in\r\n  // `start` and `end` properties (directly on the node, rather than\r\n  // the `loc` object, which holds line/column data. To also add a\r\n  // [semi-standardized][range] `range` property holding a `[start,\r\n  // end]` array with the same numbers, set the `ranges` option to\r\n  // `true`.\r\n  //\r\n  // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\r\n  ranges: false,\r\n  // It is possible to parse multiple files into a single AST by\r\n  // passing the tree produced by parsing the first file as\r\n  // `program` option in subsequent parses. This will add the\r\n  // toplevel forms of the parsed file to the `Program` (top) node\r\n  // of an existing parse tree.\r\n  program: null,\r\n  // When `locations` is on, you can pass this to record the source\r\n  // file in every node's `loc` object.\r\n  sourceFile: null,\r\n  // This value, if given, is stored in every node, whether\r\n  // `locations` is on or off.\r\n  directSourceFile: null,\r\n  // When enabled, parenthesized expressions are represented by\r\n  // (non-standard) ParenthesizedExpression nodes\r\n  preserveParens: false\r\n};\r\n\r\n// Interpret and default an options object\r\n\r\nvar warnedAboutEcmaVersion = false;\r\n\r\nfunction getOptions(opts) {\r\n  var options = {};\r\n\r\n  for (var opt in defaultOptions)\r\n    { options[opt] = opts && hasOwn(opts, opt) ? opts[opt] : defaultOptions[opt]; }\r\n\r\n  if (options.ecmaVersion === \"latest\") {\r\n    options.ecmaVersion = 1e8;\r\n  } else if (options.ecmaVersion == null) {\r\n    if (!warnedAboutEcmaVersion && typeof console === \"object\" && console.warn) {\r\n      warnedAboutEcmaVersion = true;\r\n      console.warn(\"Since Acorn 8.0.0, options.ecmaVersion is required.\\nDefaulting to 2020, but this will stop working in the future.\");\r\n    }\r\n    options.ecmaVersion = 11;\r\n  } else if (options.ecmaVersion >= 2015) {\r\n    options.ecmaVersion -= 2009;\r\n  }\r\n\r\n  if (options.allowReserved == null)\r\n    { options.allowReserved = options.ecmaVersion < 5; }\r\n\r\n  if (opts.allowHashBang == null)\r\n    { options.allowHashBang = options.ecmaVersion >= 14; }\r\n\r\n  if (isArray(options.onToken)) {\r\n    var tokens = options.onToken;\r\n    options.onToken = function (token) { return tokens.push(token); };\r\n  }\r\n  if (isArray(options.onComment))\r\n    { options.onComment = pushComment(options, options.onComment); }\r\n\r\n  return options\r\n}\r\n\r\nfunction pushComment(options, array) {\r\n  return function(block, text, start, end, startLoc, endLoc) {\r\n    var comment = {\r\n      type: block ? \"Block\" : \"Line\",\r\n      value: text,\r\n      start: start,\r\n      end: end\r\n    };\r\n    if (options.locations)\r\n      { comment.loc = new SourceLocation(this, startLoc, endLoc); }\r\n    if (options.ranges)\r\n      { comment.range = [start, end]; }\r\n    array.push(comment);\r\n  }\r\n}\r\n\r\n// Each scope gets a bitset that may contain these flags\r\nvar\r\n    SCOPE_TOP = 1,\r\n    SCOPE_FUNCTION = 2,\r\n    SCOPE_ASYNC = 4,\r\n    SCOPE_GENERATOR = 8,\r\n    SCOPE_ARROW = 16,\r\n    SCOPE_SIMPLE_CATCH = 32,\r\n    SCOPE_SUPER = 64,\r\n    SCOPE_DIRECT_SUPER = 128,\r\n    SCOPE_CLASS_STATIC_BLOCK = 256,\r\n    SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK;\r\n\r\nfunction functionFlags(async, generator) {\r\n  return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\r\n}\r\n\r\n// Used in checkLVal* and declareName to determine the type of a binding\r\nvar\r\n    BIND_NONE = 0, // Not a binding\r\n    BIND_VAR = 1, // Var-style binding\r\n    BIND_LEXICAL = 2, // Let- or const-style binding\r\n    BIND_FUNCTION = 3, // Function declaration\r\n    BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\r\n    BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\r\n\r\nvar Parser = function Parser(options, input, startPos) {\r\n  this.options = options = getOptions(options);\r\n  this.sourceFile = options.sourceFile;\r\n  this.keywords = wordsRegexp(keywords$1[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\r\n  var reserved = \"\";\r\n  if (options.allowReserved !== true) {\r\n    reserved = reservedWords[options.ecmaVersion >= 6 ? 6 : options.ecmaVersion === 5 ? 5 : 3];\r\n    if (options.sourceType === \"module\") { reserved += \" await\"; }\r\n  }\r\n  this.reservedWords = wordsRegexp(reserved);\r\n  var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\r\n  this.reservedWordsStrict = wordsRegexp(reservedStrict);\r\n  this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\r\n  this.input = String(input);\r\n\r\n  // Used to signal to callers of `readWord1` whether the word\r\n  // contained any escape sequences. This is needed because words with\r\n  // escape sequences must not be interpreted as keywords.\r\n  this.containsEsc = false;\r\n\r\n  // Set up token state\r\n\r\n  // The current position of the tokenizer in the input.\r\n  if (startPos) {\r\n    this.pos = startPos;\r\n    this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\r\n    this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\r\n  } else {\r\n    this.pos = this.lineStart = 0;\r\n    this.curLine = 1;\r\n  }\r\n\r\n  // Properties of the current token:\r\n  // Its type\r\n  this.type = types$1.eof;\r\n  // For tokens that include more information than their type, the value\r\n  this.value = null;\r\n  // Its start and end offset\r\n  this.start = this.end = this.pos;\r\n  // And, if locations are used, the {line, column} object\r\n  // corresponding to those offsets\r\n  this.startLoc = this.endLoc = this.curPosition();\r\n\r\n  // Position information for the previous token\r\n  this.lastTokEndLoc = this.lastTokStartLoc = null;\r\n  this.lastTokStart = this.lastTokEnd = this.pos;\r\n\r\n  // The context stack is used to superficially track syntactic\r\n  // context to predict whether a regular expression is allowed in a\r\n  // given position.\r\n  this.context = this.initialContext();\r\n  this.exprAllowed = true;\r\n\r\n  // Figure out if it's a module code.\r\n  this.inModule = options.sourceType === \"module\";\r\n  this.strict = this.inModule || this.strictDirective(this.pos);\r\n\r\n  // Used to signify the start of a potential arrow function\r\n  this.potentialArrowAt = -1;\r\n  this.potentialArrowInForAwait = false;\r\n\r\n  // Positions to delayed-check that yield/await does not exist in default parameters.\r\n  this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\r\n  // Labels in scope.\r\n  this.labels = [];\r\n  // Thus-far undefined exports.\r\n  this.undefinedExports = Object.create(null);\r\n\r\n  // If enabled, skip leading hashbang line.\r\n  if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\r\n    { this.skipLineComment(2); }\r\n\r\n  // Scope tracking for duplicate variable names (see scope.js)\r\n  this.scopeStack = [];\r\n  this.enterScope(SCOPE_TOP);\r\n\r\n  // For RegExp validation\r\n  this.regexpState = null;\r\n\r\n  // The stack of private names.\r\n  // Each element has two properties: 'declared' and 'used'.\r\n  // When it exited from the outermost class definition, all used private names must be declared.\r\n  this.privateNameStack = [];\r\n};\r\n\r\nvar prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },canAwait: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true },allowNewDotTarget: { configurable: true },inClassStaticBlock: { configurable: true } };\r\n\r\nParser.prototype.parse = function parse () {\r\n  var node = this.options.program || this.startNode();\r\n  this.nextToken();\r\n  return this.parseTopLevel(node)\r\n};\r\n\r\nprototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\r\n\r\nprototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 && !this.currentVarScope().inClassFieldInit };\r\n\r\nprototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 && !this.currentVarScope().inClassFieldInit };\r\n\r\nprototypeAccessors.canAwait.get = function () {\r\n  for (var i = this.scopeStack.length - 1; i >= 0; i--) {\r\n    var scope = this.scopeStack[i];\r\n    if (scope.inClassFieldInit || scope.flags & SCOPE_CLASS_STATIC_BLOCK) { return false }\r\n    if (scope.flags & SCOPE_FUNCTION) { return (scope.flags & SCOPE_ASYNC) > 0 }\r\n  }\r\n  return (this.inModule && this.options.ecmaVersion >= 13) || this.options.allowAwaitOutsideFunction\r\n};\r\n\r\nprototypeAccessors.allowSuper.get = function () {\r\n  var ref = this.currentThisScope();\r\n    var flags = ref.flags;\r\n    var inClassFieldInit = ref.inClassFieldInit;\r\n  return (flags & SCOPE_SUPER) > 0 || inClassFieldInit || this.options.allowSuperOutsideMethod\r\n};\r\n\r\nprototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\r\n\r\nprototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\r\n\r\nprototypeAccessors.allowNewDotTarget.get = function () {\r\n  var ref = this.currentThisScope();\r\n    var flags = ref.flags;\r\n    var inClassFieldInit = ref.inClassFieldInit;\r\n  return (flags & (SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK)) > 0 || inClassFieldInit\r\n};\r\n\r\nprototypeAccessors.inClassStaticBlock.get = function () {\r\n  return (this.currentVarScope().flags & SCOPE_CLASS_STATIC_BLOCK) > 0\r\n};\r\n\r\nParser.extend = function extend () {\r\n    var plugins = [], len = arguments.length;\r\n    while ( len-- ) plugins[ len ] = arguments[ len ];\r\n\r\n  var cls = this;\r\n  for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\r\n  return cls\r\n};\r\n\r\nParser.parse = function parse (input, options) {\r\n  return new this(options, input).parse()\r\n};\r\n\r\nParser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\r\n  var parser = new this(options, input, pos);\r\n  parser.nextToken();\r\n  return parser.parseExpression()\r\n};\r\n\r\nParser.tokenizer = function tokenizer (input, options) {\r\n  return new this(options, input)\r\n};\r\n\r\nObject.defineProperties( Parser.prototype, prototypeAccessors );\r\n\r\nvar pp$9 = Parser.prototype;\r\n\r\n// ## Parser utilities\r\n\r\nvar literal$1 = /^(?:'((?:\\\\.|[^'\\\\])*?)'|\"((?:\\\\.|[^\"\\\\])*?)\")/;\r\npp$9.strictDirective = function(start) {\r\n  if (this.options.ecmaVersion < 5) { return false }\r\n  for (;;) {\r\n    // Try to find string literal.\r\n    skipWhiteSpace.lastIndex = start;\r\n    start += skipWhiteSpace.exec(this.input)[0].length;\r\n    var match = literal$1.exec(this.input.slice(start));\r\n    if (!match) { return false }\r\n    if ((match[1] || match[2]) === \"use strict\") {\r\n      skipWhiteSpace.lastIndex = start + match[0].length;\r\n      var spaceAfter = skipWhiteSpace.exec(this.input), end = spaceAfter.index + spaceAfter[0].length;\r\n      var next = this.input.charAt(end);\r\n      return next === \";\" || next === \"}\" ||\r\n        (lineBreak.test(spaceAfter[0]) &&\r\n         !(/[(`.[+\\-/*%<>=,?^&]/.test(next) || next === \"!\" && this.input.charAt(end + 1) === \"=\"))\r\n    }\r\n    start += match[0].length;\r\n\r\n    // Skip semicolon, if any.\r\n    skipWhiteSpace.lastIndex = start;\r\n    start += skipWhiteSpace.exec(this.input)[0].length;\r\n    if (this.input[start] === \";\")\r\n      { start++; }\r\n  }\r\n};\r\n\r\n// Predicate that tests whether the next token is of the given\r\n// type, and if yes, consumes it as a side effect.\r\n\r\npp$9.eat = function(type) {\r\n  if (this.type === type) {\r\n    this.next();\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n};\r\n\r\n// Tests whether parsed token is a contextual keyword.\r\n\r\npp$9.isContextual = function(name) {\r\n  return this.type === types$1.name && this.value === name && !this.containsEsc\r\n};\r\n\r\n// Consumes contextual keyword if possible.\r\n\r\npp$9.eatContextual = function(name) {\r\n  if (!this.isContextual(name)) { return false }\r\n  this.next();\r\n  return true\r\n};\r\n\r\n// Asserts that following token is given contextual keyword.\r\n\r\npp$9.expectContextual = function(name) {\r\n  if (!this.eatContextual(name)) { this.unexpected(); }\r\n};\r\n\r\n// Test whether a semicolon can be inserted at the current position.\r\n\r\npp$9.canInsertSemicolon = function() {\r\n  return this.type === types$1.eof ||\r\n    this.type === types$1.braceR ||\r\n    lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\r\n};\r\n\r\npp$9.insertSemicolon = function() {\r\n  if (this.canInsertSemicolon()) {\r\n    if (this.options.onInsertedSemicolon)\r\n      { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\r\n    return true\r\n  }\r\n};\r\n\r\n// Consume a semicolon, or, failing that, see if we are allowed to\r\n// pretend that there is a semicolon at this position.\r\n\r\npp$9.semicolon = function() {\r\n  if (!this.eat(types$1.semi) && !this.insertSemicolon()) { this.unexpected(); }\r\n};\r\n\r\npp$9.afterTrailingComma = function(tokType, notNext) {\r\n  if (this.type === tokType) {\r\n    if (this.options.onTrailingComma)\r\n      { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\r\n    if (!notNext)\r\n      { this.next(); }\r\n    return true\r\n  }\r\n};\r\n\r\n// Expect a token of a given type. If found, consume it, otherwise,\r\n// raise an unexpected token error.\r\n\r\npp$9.expect = function(type) {\r\n  this.eat(type) || this.unexpected();\r\n};\r\n\r\n// Raise an unexpected token error.\r\n\r\npp$9.unexpected = function(pos) {\r\n  this.raise(pos != null ? pos : this.start, \"Unexpected token\");\r\n};\r\n\r\nvar DestructuringErrors = function DestructuringErrors() {\r\n  this.shorthandAssign =\r\n  this.trailingComma =\r\n  this.parenthesizedAssign =\r\n  this.parenthesizedBind =\r\n  this.doubleProto =\r\n    -1;\r\n};\r\n\r\npp$9.checkPatternErrors = function(refDestructuringErrors, isAssign) {\r\n  if (!refDestructuringErrors) { return }\r\n  if (refDestructuringErrors.trailingComma > -1)\r\n    { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\r\n  var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\r\n  if (parens > -1) { this.raiseRecoverable(parens, isAssign ? \"Assigning to rvalue\" : \"Parenthesized pattern\"); }\r\n};\r\n\r\npp$9.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\r\n  if (!refDestructuringErrors) { return false }\r\n  var shorthandAssign = refDestructuringErrors.shorthandAssign;\r\n  var doubleProto = refDestructuringErrors.doubleProto;\r\n  if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\r\n  if (shorthandAssign >= 0)\r\n    { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\r\n  if (doubleProto >= 0)\r\n    { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\r\n};\r\n\r\npp$9.checkYieldAwaitInDefaultParams = function() {\r\n  if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\r\n    { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\r\n  if (this.awaitPos)\r\n    { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\r\n};\r\n\r\npp$9.isSimpleAssignTarget = function(expr) {\r\n  if (expr.type === \"ParenthesizedExpression\")\r\n    { return this.isSimpleAssignTarget(expr.expression) }\r\n  return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\r\n};\r\n\r\nvar pp$8 = Parser.prototype;\r\n\r\n// ### Statement parsing\r\n\r\n// Parse a program. Initializes the parser, reads any number of\r\n// statements, and wraps them in a Program node.  Optionally takes a\r\n// `program` argument.  If present, the statements will be appended\r\n// to its body instead of creating a new node.\r\n\r\npp$8.parseTopLevel = function(node) {\r\n  var exports = Object.create(null);\r\n  if (!node.body) { node.body = []; }\r\n  while (this.type !== types$1.eof) {\r\n    var stmt = this.parseStatement(null, true, exports);\r\n    node.body.push(stmt);\r\n  }\r\n  if (this.inModule)\r\n    { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\r\n      {\r\n        var name = list[i];\r\n\r\n        this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\r\n      } }\r\n  this.adaptDirectivePrologue(node.body);\r\n  this.next();\r\n  node.sourceType = this.options.sourceType;\r\n  return this.finishNode(node, \"Program\")\r\n};\r\n\r\nvar loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\r\n\r\npp$8.isLet = function(context) {\r\n  if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\r\n  skipWhiteSpace.lastIndex = this.pos;\r\n  var skip = skipWhiteSpace.exec(this.input);\r\n  var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\r\n  // For ambiguous cases, determine if a LexicalDeclaration (or only a\r\n  // Statement) is allowed here. If context is not empty then only a Statement\r\n  // is allowed. However, `let [` is an explicit negative lookahead for\r\n  // ExpressionStatement, so special-case it first.\r\n  if (nextCh === 91 || nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true } // '[', '/', astral\r\n  if (context) { return false }\r\n\r\n  if (nextCh === 123) { return true } // '{'\r\n  if (isIdentifierStart(nextCh, true)) {\r\n    var pos = next + 1;\r\n    while (isIdentifierChar(nextCh = this.input.charCodeAt(pos), true)) { ++pos; }\r\n    if (nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true }\r\n    var ident = this.input.slice(next, pos);\r\n    if (!keywordRelationalOperator.test(ident)) { return true }\r\n  }\r\n  return false\r\n};\r\n\r\n// check 'async [no LineTerminator here] function'\r\n// - 'async /*foo*/ function' is OK.\r\n// - 'async /*\\n*/ function' is invalid.\r\npp$8.isAsyncFunction = function() {\r\n  if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\r\n    { return false }\r\n\r\n  skipWhiteSpace.lastIndex = this.pos;\r\n  var skip = skipWhiteSpace.exec(this.input);\r\n  var next = this.pos + skip[0].length, after;\r\n  return !lineBreak.test(this.input.slice(this.pos, next)) &&\r\n    this.input.slice(next, next + 8) === \"function\" &&\r\n    (next + 8 === this.input.length ||\r\n     !(isIdentifierChar(after = this.input.charCodeAt(next + 8)) || after > 0xd7ff && after < 0xdc00))\r\n};\r\n\r\n// Parse a single statement.\r\n//\r\n// If expecting a statement and finding a slash operator, parse a\r\n// regular expression literal. This is to handle cases like\r\n// `if (foo) /blah/.exec(foo)`, where looking at the previous token\r\n// does not help.\r\n\r\npp$8.parseStatement = function(context, topLevel, exports) {\r\n  var starttype = this.type, node = this.startNode(), kind;\r\n\r\n  if (this.isLet(context)) {\r\n    starttype = types$1._var;\r\n    kind = \"let\";\r\n  }\r\n\r\n  // Most types of statements are recognized by the keyword they\r\n  // start with. Many are trivial to parse, some require a bit of\r\n  // complexity.\r\n\r\n  switch (starttype) {\r\n  case types$1._break: case types$1._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\r\n  case types$1._debugger: return this.parseDebuggerStatement(node)\r\n  case types$1._do: return this.parseDoStatement(node)\r\n  case types$1._for: return this.parseForStatement(node)\r\n  case types$1._function:\r\n    // Function as sole body of either an if statement or a labeled statement\r\n    // works, but not when it is part of a labeled statement that is the sole\r\n    // body of an if statement.\r\n    if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\r\n    return this.parseFunctionStatement(node, false, !context)\r\n  case types$1._class:\r\n    if (context) { this.unexpected(); }\r\n    return this.parseClass(node, true)\r\n  case types$1._if: return this.parseIfStatement(node)\r\n  case types$1._return: return this.parseReturnStatement(node)\r\n  case types$1._switch: return this.parseSwitchStatement(node)\r\n  case types$1._throw: return this.parseThrowStatement(node)\r\n  case types$1._try: return this.parseTryStatement(node)\r\n  case types$1._const: case types$1._var:\r\n    kind = kind || this.value;\r\n    if (context && kind !== \"var\") { this.unexpected(); }\r\n    return this.parseVarStatement(node, kind)\r\n  case types$1._while: return this.parseWhileStatement(node)\r\n  case types$1._with: return this.parseWithStatement(node)\r\n  case types$1.braceL: return this.parseBlock(true, node)\r\n  case types$1.semi: return this.parseEmptyStatement(node)\r\n  case types$1._export:\r\n  case types$1._import:\r\n    if (this.options.ecmaVersion > 10 && starttype === types$1._import) {\r\n      skipWhiteSpace.lastIndex = this.pos;\r\n      var skip = skipWhiteSpace.exec(this.input);\r\n      var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\r\n      if (nextCh === 40 || nextCh === 46) // '(' or '.'\r\n        { return this.parseExpressionStatement(node, this.parseExpression()) }\r\n    }\r\n\r\n    if (!this.options.allowImportExportEverywhere) {\r\n      if (!topLevel)\r\n        { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\r\n      if (!this.inModule)\r\n        { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\r\n    }\r\n    return starttype === types$1._import ? this.parseImport(node) : this.parseExport(node, exports)\r\n\r\n    // If the statement does not start with a statement keyword or a\r\n    // brace, it's an ExpressionStatement or LabeledStatement. We\r\n    // simply start parsing an expression, and afterwards, if the\r\n    // next token is a colon and the expression was a simple\r\n    // Identifier node, we switch to interpreting it as a label.\r\n  default:\r\n    if (this.isAsyncFunction()) {\r\n      if (context) { this.unexpected(); }\r\n      this.next();\r\n      return this.parseFunctionStatement(node, true, !context)\r\n    }\r\n\r\n    var maybeName = this.value, expr = this.parseExpression();\r\n    if (starttype === types$1.name && expr.type === \"Identifier\" && this.eat(types$1.colon))\r\n      { return this.parseLabeledStatement(node, maybeName, expr, context) }\r\n    else { return this.parseExpressionStatement(node, expr) }\r\n  }\r\n};\r\n\r\npp$8.parseBreakContinueStatement = function(node, keyword) {\r\n  var isBreak = keyword === \"break\";\r\n  this.next();\r\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.label = null; }\r\n  else if (this.type !== types$1.name) { this.unexpected(); }\r\n  else {\r\n    node.label = this.parseIdent();\r\n    this.semicolon();\r\n  }\r\n\r\n  // Verify that there is an actual destination to break or\r\n  // continue to.\r\n  var i = 0;\r\n  for (; i < this.labels.length; ++i) {\r\n    var lab = this.labels[i];\r\n    if (node.label == null || lab.name === node.label.name) {\r\n      if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\r\n      if (node.label && isBreak) { break }\r\n    }\r\n  }\r\n  if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\r\n  return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\r\n};\r\n\r\npp$8.parseDebuggerStatement = function(node) {\r\n  this.next();\r\n  this.semicolon();\r\n  return this.finishNode(node, \"DebuggerStatement\")\r\n};\r\n\r\npp$8.parseDoStatement = function(node) {\r\n  this.next();\r\n  this.labels.push(loopLabel);\r\n  node.body = this.parseStatement(\"do\");\r\n  this.labels.pop();\r\n  this.expect(types$1._while);\r\n  node.test = this.parseParenExpression();\r\n  if (this.options.ecmaVersion >= 6)\r\n    { this.eat(types$1.semi); }\r\n  else\r\n    { this.semicolon(); }\r\n  return this.finishNode(node, \"DoWhileStatement\")\r\n};\r\n\r\n// Disambiguating between a `for` and a `for`/`in` or `for`/`of`\r\n// loop is non-trivial. Basically, we have to parse the init `var`\r\n// statement or expression, disallowing the `in` operator (see\r\n// the second parameter to `parseExpression`), and then check\r\n// whether the next token is `in` or `of`. When there is no init\r\n// part (semicolon immediately after the opening parenthesis), it\r\n// is a regular `for` loop.\r\n\r\npp$8.parseForStatement = function(node) {\r\n  this.next();\r\n  var awaitAt = (this.options.ecmaVersion >= 9 && this.canAwait && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\r\n  this.labels.push(loopLabel);\r\n  this.enterScope(0);\r\n  this.expect(types$1.parenL);\r\n  if (this.type === types$1.semi) {\r\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\r\n    return this.parseFor(node, null)\r\n  }\r\n  var isLet = this.isLet();\r\n  if (this.type === types$1._var || this.type === types$1._const || isLet) {\r\n    var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\r\n    this.next();\r\n    this.parseVar(init$1, true, kind);\r\n    this.finishNode(init$1, \"VariableDeclaration\");\r\n    if ((this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\r\n      if (this.options.ecmaVersion >= 9) {\r\n        if (this.type === types$1._in) {\r\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\r\n        } else { node.await = awaitAt > -1; }\r\n      }\r\n      return this.parseForIn(node, init$1)\r\n    }\r\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\r\n    return this.parseFor(node, init$1)\r\n  }\r\n  var startsWithLet = this.isContextual(\"let\"), isForOf = false;\r\n  var refDestructuringErrors = new DestructuringErrors;\r\n  var init = this.parseExpression(awaitAt > -1 ? \"await\" : true, refDestructuringErrors);\r\n  if (this.type === types$1._in || (isForOf = this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\r\n    if (this.options.ecmaVersion >= 9) {\r\n      if (this.type === types$1._in) {\r\n        if (awaitAt > -1) { this.unexpected(awaitAt); }\r\n      } else { node.await = awaitAt > -1; }\r\n    }\r\n    if (startsWithLet && isForOf) { this.raise(init.start, \"The left-hand side of a for-of loop may not start with 'let'.\"); }\r\n    this.toAssignable(init, false, refDestructuringErrors);\r\n    this.checkLValPattern(init);\r\n    return this.parseForIn(node, init)\r\n  } else {\r\n    this.checkExpressionErrors(refDestructuringErrors, true);\r\n  }\r\n  if (awaitAt > -1) { this.unexpected(awaitAt); }\r\n  return this.parseFor(node, init)\r\n};\r\n\r\npp$8.parseFunctionStatement = function(node, isAsync, declarationPosition) {\r\n  this.next();\r\n  return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\r\n};\r\n\r\npp$8.parseIfStatement = function(node) {\r\n  this.next();\r\n  node.test = this.parseParenExpression();\r\n  // allow function declarations in branches, but only in non-strict mode\r\n  node.consequent = this.parseStatement(\"if\");\r\n  node.alternate = this.eat(types$1._else) ? this.parseStatement(\"if\") : null;\r\n  return this.finishNode(node, \"IfStatement\")\r\n};\r\n\r\npp$8.parseReturnStatement = function(node) {\r\n  if (!this.inFunction && !this.options.allowReturnOutsideFunction)\r\n    { this.raise(this.start, \"'return' outside of function\"); }\r\n  this.next();\r\n\r\n  // In `return` (and `break`/`continue`), the keywords with\r\n  // optional arguments, we eagerly look for a semicolon or the\r\n  // possibility to insert one.\r\n\r\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.argument = null; }\r\n  else { node.argument = this.parseExpression(); this.semicolon(); }\r\n  return this.finishNode(node, \"ReturnStatement\")\r\n};\r\n\r\npp$8.parseSwitchStatement = function(node) {\r\n  this.next();\r\n  node.discriminant = this.parseParenExpression();\r\n  node.cases = [];\r\n  this.expect(types$1.braceL);\r\n  this.labels.push(switchLabel);\r\n  this.enterScope(0);\r\n\r\n  // Statements under must be grouped (by label) in SwitchCase\r\n  // nodes. `cur` is used to keep the node that we are currently\r\n  // adding statements to.\r\n\r\n  var cur;\r\n  for (var sawDefault = false; this.type !== types$1.braceR;) {\r\n    if (this.type === types$1._case || this.type === types$1._default) {\r\n      var isCase = this.type === types$1._case;\r\n      if (cur) { this.finishNode(cur, \"SwitchCase\"); }\r\n      node.cases.push(cur = this.startNode());\r\n      cur.consequent = [];\r\n      this.next();\r\n      if (isCase) {\r\n        cur.test = this.parseExpression();\r\n      } else {\r\n        if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\r\n        sawDefault = true;\r\n        cur.test = null;\r\n      }\r\n      this.expect(types$1.colon);\r\n    } else {\r\n      if (!cur) { this.unexpected(); }\r\n      cur.consequent.push(this.parseStatement(null));\r\n    }\r\n  }\r\n  this.exitScope();\r\n  if (cur) { this.finishNode(cur, \"SwitchCase\"); }\r\n  this.next(); // Closing brace\r\n  this.labels.pop();\r\n  return this.finishNode(node, \"SwitchStatement\")\r\n};\r\n\r\npp$8.parseThrowStatement = function(node) {\r\n  this.next();\r\n  if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\r\n    { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\r\n  node.argument = this.parseExpression();\r\n  this.semicolon();\r\n  return this.finishNode(node, \"ThrowStatement\")\r\n};\r\n\r\n// Reused empty array added for node fields that are always empty.\r\n\r\nvar empty$1 = [];\r\n\r\npp$8.parseTryStatement = function(node) {\r\n  this.next();\r\n  node.block = this.parseBlock();\r\n  node.handler = null;\r\n  if (this.type === types$1._catch) {\r\n    var clause = this.startNode();\r\n    this.next();\r\n    if (this.eat(types$1.parenL)) {\r\n      clause.param = this.parseBindingAtom();\r\n      var simple = clause.param.type === \"Identifier\";\r\n      this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\r\n      this.checkLValPattern(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\r\n      this.expect(types$1.parenR);\r\n    } else {\r\n      if (this.options.ecmaVersion < 10) { this.unexpected(); }\r\n      clause.param = null;\r\n      this.enterScope(0);\r\n    }\r\n    clause.body = this.parseBlock(false);\r\n    this.exitScope();\r\n    node.handler = this.finishNode(clause, \"CatchClause\");\r\n  }\r\n  node.finalizer = this.eat(types$1._finally) ? this.parseBlock() : null;\r\n  if (!node.handler && !node.finalizer)\r\n    { this.raise(node.start, \"Missing catch or finally clause\"); }\r\n  return this.finishNode(node, \"TryStatement\")\r\n};\r\n\r\npp$8.parseVarStatement = function(node, kind) {\r\n  this.next();\r\n  this.parseVar(node, false, kind);\r\n  this.semicolon();\r\n  return this.finishNode(node, \"VariableDeclaration\")\r\n};\r\n\r\npp$8.parseWhileStatement = function(node) {\r\n  this.next();\r\n  node.test = this.parseParenExpression();\r\n  this.labels.push(loopLabel);\r\n  node.body = this.parseStatement(\"while\");\r\n  this.labels.pop();\r\n  return this.finishNode(node, \"WhileStatement\")\r\n};\r\n\r\npp$8.parseWithStatement = function(node) {\r\n  if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\r\n  this.next();\r\n  node.object = this.parseParenExpression();\r\n  node.body = this.parseStatement(\"with\");\r\n  return this.finishNode(node, \"WithStatement\")\r\n};\r\n\r\npp$8.parseEmptyStatement = function(node) {\r\n  this.next();\r\n  return this.finishNode(node, \"EmptyStatement\")\r\n};\r\n\r\npp$8.parseLabeledStatement = function(node, maybeName, expr, context) {\r\n  for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\r\n    {\r\n    var label = list[i$1];\r\n\r\n    if (label.name === maybeName)\r\n      { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\r\n  } }\r\n  var kind = this.type.isLoop ? \"loop\" : this.type === types$1._switch ? \"switch\" : null;\r\n  for (var i = this.labels.length - 1; i >= 0; i--) {\r\n    var label$1 = this.labels[i];\r\n    if (label$1.statementStart === node.start) {\r\n      // Update information about previous labels on this node\r\n      label$1.statementStart = this.start;\r\n      label$1.kind = kind;\r\n    } else { break }\r\n  }\r\n  this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\r\n  node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\r\n  this.labels.pop();\r\n  node.label = expr;\r\n  return this.finishNode(node, \"LabeledStatement\")\r\n};\r\n\r\npp$8.parseExpressionStatement = function(node, expr) {\r\n  node.expression = expr;\r\n  this.semicolon();\r\n  return this.finishNode(node, \"ExpressionStatement\")\r\n};\r\n\r\n// Parse a semicolon-enclosed block of statements, handling `\"use\r\n// strict\"` declarations when `allowStrict` is true (used for\r\n// function bodies).\r\n\r\npp$8.parseBlock = function(createNewLexicalScope, node, exitStrict) {\r\n  if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\r\n  if ( node === void 0 ) node = this.startNode();\r\n\r\n  node.body = [];\r\n  this.expect(types$1.braceL);\r\n  if (createNewLexicalScope) { this.enterScope(0); }\r\n  while (this.type !== types$1.braceR) {\r\n    var stmt = this.parseStatement(null);\r\n    node.body.push(stmt);\r\n  }\r\n  if (exitStrict) { this.strict = false; }\r\n  this.next();\r\n  if (createNewLexicalScope) { this.exitScope(); }\r\n  return this.finishNode(node, \"BlockStatement\")\r\n};\r\n\r\n// Parse a regular `for` loop. The disambiguation code in\r\n// `parseStatement` will already have parsed the init statement or\r\n// expression.\r\n\r\npp$8.parseFor = function(node, init) {\r\n  node.init = init;\r\n  this.expect(types$1.semi);\r\n  node.test = this.type === types$1.semi ? null : this.parseExpression();\r\n  this.expect(types$1.semi);\r\n  node.update = this.type === types$1.parenR ? null : this.parseExpression();\r\n  this.expect(types$1.parenR);\r\n  node.body = this.parseStatement(\"for\");\r\n  this.exitScope();\r\n  this.labels.pop();\r\n  return this.finishNode(node, \"ForStatement\")\r\n};\r\n\r\n// Parse a `for`/`in` and `for`/`of` loop, which are almost\r\n// same from parser's perspective.\r\n\r\npp$8.parseForIn = function(node, init) {\r\n  var isForIn = this.type === types$1._in;\r\n  this.next();\r\n\r\n  if (\r\n    init.type === \"VariableDeclaration\" &&\r\n    init.declarations[0].init != null &&\r\n    (\r\n      !isForIn ||\r\n      this.options.ecmaVersion < 8 ||\r\n      this.strict ||\r\n      init.kind !== \"var\" ||\r\n      init.declarations[0].id.type !== \"Identifier\"\r\n    )\r\n  ) {\r\n    this.raise(\r\n      init.start,\r\n      ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\r\n    );\r\n  }\r\n  node.left = init;\r\n  node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\r\n  this.expect(types$1.parenR);\r\n  node.body = this.parseStatement(\"for\");\r\n  this.exitScope();\r\n  this.labels.pop();\r\n  return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\r\n};\r\n\r\n// Parse a list of variable declarations.\r\n\r\npp$8.parseVar = function(node, isFor, kind) {\r\n  node.declarations = [];\r\n  node.kind = kind;\r\n  for (;;) {\r\n    var decl = this.startNode();\r\n    this.parseVarId(decl, kind);\r\n    if (this.eat(types$1.eq)) {\r\n      decl.init = this.parseMaybeAssign(isFor);\r\n    } else if (kind === \"const\" && !(this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\r\n      this.unexpected();\r\n    } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types$1._in || this.isContextual(\"of\")))) {\r\n      this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\r\n    } else {\r\n      decl.init = null;\r\n    }\r\n    node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\r\n    if (!this.eat(types$1.comma)) { break }\r\n  }\r\n  return node\r\n};\r\n\r\npp$8.parseVarId = function(decl, kind) {\r\n  decl.id = this.parseBindingAtom();\r\n  this.checkLValPattern(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\r\n};\r\n\r\nvar FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\r\n\r\n// Parse a function declaration or literal (depending on the\r\n// `statement & FUNC_STATEMENT`).\r\n\r\n// Remove `allowExpressionBody` for 7.0.0, as it is only called with false\r\npp$8.parseFunction = function(node, statement, allowExpressionBody, isAsync, forInit) {\r\n  this.initFunction(node);\r\n  if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\r\n    if (this.type === types$1.star && (statement & FUNC_HANGING_STATEMENT))\r\n      { this.unexpected(); }\r\n    node.generator = this.eat(types$1.star);\r\n  }\r\n  if (this.options.ecmaVersion >= 8)\r\n    { node.async = !!isAsync; }\r\n\r\n  if (statement & FUNC_STATEMENT) {\r\n    node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types$1.name ? null : this.parseIdent();\r\n    if (node.id && !(statement & FUNC_HANGING_STATEMENT))\r\n      // If it is a regular function declaration in sloppy mode, then it is\r\n      // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\r\n      // mode depends on properties of the current scope (see\r\n      // treatFunctionsAsVar).\r\n      { this.checkLValSimple(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\r\n  }\r\n\r\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\r\n  this.yieldPos = 0;\r\n  this.awaitPos = 0;\r\n  this.awaitIdentPos = 0;\r\n  this.enterScope(functionFlags(node.async, node.generator));\r\n\r\n  if (!(statement & FUNC_STATEMENT))\r\n    { node.id = this.type === types$1.name ? this.parseIdent() : null; }\r\n\r\n  this.parseFunctionParams(node);\r\n  this.parseFunctionBody(node, allowExpressionBody, false, forInit);\r\n\r\n  this.yieldPos = oldYieldPos;\r\n  this.awaitPos = oldAwaitPos;\r\n  this.awaitIdentPos = oldAwaitIdentPos;\r\n  return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\r\n};\r\n\r\npp$8.parseFunctionParams = function(node) {\r\n  this.expect(types$1.parenL);\r\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\r\n  this.checkYieldAwaitInDefaultParams();\r\n};\r\n\r\n// Parse a class declaration or literal (depending on the\r\n// `isStatement` parameter).\r\n\r\npp$8.parseClass = function(node, isStatement) {\r\n  this.next();\r\n\r\n  // ecma-262 14.6 Class Definitions\r\n  // A class definition is always strict mode code.\r\n  var oldStrict = this.strict;\r\n  this.strict = true;\r\n\r\n  this.parseClassId(node, isStatement);\r\n  this.parseClassSuper(node);\r\n  var privateNameMap = this.enterClassBody();\r\n  var classBody = this.startNode();\r\n  var hadConstructor = false;\r\n  classBody.body = [];\r\n  this.expect(types$1.braceL);\r\n  while (this.type !== types$1.braceR) {\r\n    var element = this.parseClassElement(node.superClass !== null);\r\n    if (element) {\r\n      classBody.body.push(element);\r\n      if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\r\n        if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\r\n        hadConstructor = true;\r\n      } else if (element.key && element.key.type === \"PrivateIdentifier\" && isPrivateNameConflicted(privateNameMap, element)) {\r\n        this.raiseRecoverable(element.key.start, (\"Identifier '#\" + (element.key.name) + \"' has already been declared\"));\r\n      }\r\n    }\r\n  }\r\n  this.strict = oldStrict;\r\n  this.next();\r\n  node.body = this.finishNode(classBody, \"ClassBody\");\r\n  this.exitClassBody();\r\n  return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\r\n};\r\n\r\npp$8.parseClassElement = function(constructorAllowsSuper) {\r\n  if (this.eat(types$1.semi)) { return null }\r\n\r\n  var ecmaVersion = this.options.ecmaVersion;\r\n  var node = this.startNode();\r\n  var keyName = \"\";\r\n  var isGenerator = false;\r\n  var isAsync = false;\r\n  var kind = \"method\";\r\n  var isStatic = false;\r\n\r\n  if (this.eatContextual(\"static\")) {\r\n    // Parse static init block\r\n    if (ecmaVersion >= 13 && this.eat(types$1.braceL)) {\r\n      this.parseClassStaticBlock(node);\r\n      return node\r\n    }\r\n    if (this.isClassElementNameStart() || this.type === types$1.star) {\r\n      isStatic = true;\r\n    } else {\r\n      keyName = \"static\";\r\n    }\r\n  }\r\n  node.static = isStatic;\r\n  if (!keyName && ecmaVersion >= 8 && this.eatContextual(\"async\")) {\r\n    if ((this.isClassElementNameStart() || this.type === types$1.star) && !this.canInsertSemicolon()) {\r\n      isAsync = true;\r\n    } else {\r\n      keyName = \"async\";\r\n    }\r\n  }\r\n  if (!keyName && (ecmaVersion >= 9 || !isAsync) && this.eat(types$1.star)) {\r\n    isGenerator = true;\r\n  }\r\n  if (!keyName && !isAsync && !isGenerator) {\r\n    var lastValue = this.value;\r\n    if (this.eatContextual(\"get\") || this.eatContextual(\"set\")) {\r\n      if (this.isClassElementNameStart()) {\r\n        kind = lastValue;\r\n      } else {\r\n        keyName = lastValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Parse element name\r\n  if (keyName) {\r\n    // 'async', 'get', 'set', or 'static' were not a keyword contextually.\r\n    // The last token is any of those. Make it the element name.\r\n    node.computed = false;\r\n    node.key = this.startNodeAt(this.lastTokStart, this.lastTokStartLoc);\r\n    node.key.name = keyName;\r\n    this.finishNode(node.key, \"Identifier\");\r\n  } else {\r\n    this.parseClassElementName(node);\r\n  }\r\n\r\n  // Parse element value\r\n  if (ecmaVersion < 13 || this.type === types$1.parenL || kind !== \"method\" || isGenerator || isAsync) {\r\n    var isConstructor = !node.static && checkKeyName(node, \"constructor\");\r\n    var allowsDirectSuper = isConstructor && constructorAllowsSuper;\r\n    // Couldn't move this check into the 'parseClassMethod' method for backward compatibility.\r\n    if (isConstructor && kind !== \"method\") { this.raise(node.key.start, \"Constructor can't have get/set modifier\"); }\r\n    node.kind = isConstructor ? \"constructor\" : kind;\r\n    this.parseClassMethod(node, isGenerator, isAsync, allowsDirectSuper);\r\n  } else {\r\n    this.parseClassField(node);\r\n  }\r\n\r\n  return node\r\n};\r\n\r\npp$8.isClassElementNameStart = function() {\r\n  return (\r\n    this.type === types$1.name ||\r\n    this.type === types$1.privateId ||\r\n    this.type === types$1.num ||\r\n    this.type === types$1.string ||\r\n    this.type === types$1.bracketL ||\r\n    this.type.keyword\r\n  )\r\n};\r\n\r\npp$8.parseClassElementName = function(element) {\r\n  if (this.type === types$1.privateId) {\r\n    if (this.value === \"constructor\") {\r\n      this.raise(this.start, \"Classes can't have an element named '#constructor'\");\r\n    }\r\n    element.computed = false;\r\n    element.key = this.parsePrivateIdent();\r\n  } else {\r\n    this.parsePropertyName(element);\r\n  }\r\n};\r\n\r\npp$8.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\r\n  // Check key and flags\r\n  var key = method.key;\r\n  if (method.kind === \"constructor\") {\r\n    if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\r\n    if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\r\n  } else if (method.static && checkKeyName(method, \"prototype\")) {\r\n    this.raise(key.start, \"Classes may not have a static property named prototype\");\r\n  }\r\n\r\n  // Parse value\r\n  var value = method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\r\n\r\n  // Check value\r\n  if (method.kind === \"get\" && value.params.length !== 0)\r\n    { this.raiseRecoverable(value.start, \"getter should have no params\"); }\r\n  if (method.kind === \"set\" && value.params.length !== 1)\r\n    { this.raiseRecoverable(value.start, \"setter should have exactly one param\"); }\r\n  if (method.kind === \"set\" && value.params[0].type === \"RestElement\")\r\n    { this.raiseRecoverable(value.params[0].start, \"Setter cannot use rest params\"); }\r\n\r\n  return this.finishNode(method, \"MethodDefinition\")\r\n};\r\n\r\npp$8.parseClassField = function(field) {\r\n  if (checkKeyName(field, \"constructor\")) {\r\n    this.raise(field.key.start, \"Classes can't have a field named 'constructor'\");\r\n  } else if (field.static && checkKeyName(field, \"prototype\")) {\r\n    this.raise(field.key.start, \"Classes can't have a static field named 'prototype'\");\r\n  }\r\n\r\n  if (this.eat(types$1.eq)) {\r\n    // To raise SyntaxError if 'arguments' exists in the initializer.\r\n    var scope = this.currentThisScope();\r\n    var inClassFieldInit = scope.inClassFieldInit;\r\n    scope.inClassFieldInit = true;\r\n    field.value = this.parseMaybeAssign();\r\n    scope.inClassFieldInit = inClassFieldInit;\r\n  } else {\r\n    field.value = null;\r\n  }\r\n  this.semicolon();\r\n\r\n  return this.finishNode(field, \"PropertyDefinition\")\r\n};\r\n\r\npp$8.parseClassStaticBlock = function(node) {\r\n  node.body = [];\r\n\r\n  var oldLabels = this.labels;\r\n  this.labels = [];\r\n  this.enterScope(SCOPE_CLASS_STATIC_BLOCK | SCOPE_SUPER);\r\n  while (this.type !== types$1.braceR) {\r\n    var stmt = this.parseStatement(null);\r\n    node.body.push(stmt);\r\n  }\r\n  this.next();\r\n  this.exitScope();\r\n  this.labels = oldLabels;\r\n\r\n  return this.finishNode(node, \"StaticBlock\")\r\n};\r\n\r\npp$8.parseClassId = function(node, isStatement) {\r\n  if (this.type === types$1.name) {\r\n    node.id = this.parseIdent();\r\n    if (isStatement)\r\n      { this.checkLValSimple(node.id, BIND_LEXICAL, false); }\r\n  } else {\r\n    if (isStatement === true)\r\n      { this.unexpected(); }\r\n    node.id = null;\r\n  }\r\n};\r\n\r\npp$8.parseClassSuper = function(node) {\r\n  node.superClass = this.eat(types$1._extends) ? this.parseExprSubscripts(false) : null;\r\n};\r\n\r\npp$8.enterClassBody = function() {\r\n  var element = {declared: Object.create(null), used: []};\r\n  this.privateNameStack.push(element);\r\n  return element.declared\r\n};\r\n\r\npp$8.exitClassBody = function() {\r\n  var ref = this.privateNameStack.pop();\r\n  var declared = ref.declared;\r\n  var used = ref.used;\r\n  var len = this.privateNameStack.length;\r\n  var parent = len === 0 ? null : this.privateNameStack[len - 1];\r\n  for (var i = 0; i < used.length; ++i) {\r\n    var id = used[i];\r\n    if (!hasOwn(declared, id.name)) {\r\n      if (parent) {\r\n        parent.used.push(id);\r\n      } else {\r\n        this.raiseRecoverable(id.start, (\"Private field '#\" + (id.name) + \"' must be declared in an enclosing class\"));\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction isPrivateNameConflicted(privateNameMap, element) {\r\n  var name = element.key.name;\r\n  var curr = privateNameMap[name];\r\n\r\n  var next = \"true\";\r\n  if (element.type === \"MethodDefinition\" && (element.kind === \"get\" || element.kind === \"set\")) {\r\n    next = (element.static ? \"s\" : \"i\") + element.kind;\r\n  }\r\n\r\n  // `class { get #a(){}; static set #a(_){} }` is also conflict.\r\n  if (\r\n    curr === \"iget\" && next === \"iset\" ||\r\n    curr === \"iset\" && next === \"iget\" ||\r\n    curr === \"sget\" && next === \"sset\" ||\r\n    curr === \"sset\" && next === \"sget\"\r\n  ) {\r\n    privateNameMap[name] = \"true\";\r\n    return false\r\n  } else if (!curr) {\r\n    privateNameMap[name] = next;\r\n    return false\r\n  } else {\r\n    return true\r\n  }\r\n}\r\n\r\nfunction checkKeyName(node, name) {\r\n  var computed = node.computed;\r\n  var key = node.key;\r\n  return !computed && (\r\n    key.type === \"Identifier\" && key.name === name ||\r\n    key.type === \"Literal\" && key.value === name\r\n  )\r\n}\r\n\r\n// Parses module export declaration.\r\n\r\npp$8.parseExport = function(node, exports) {\r\n  this.next();\r\n  // export * from '...'\r\n  if (this.eat(types$1.star)) {\r\n    if (this.options.ecmaVersion >= 11) {\r\n      if (this.eatContextual(\"as\")) {\r\n        node.exported = this.parseModuleExportName();\r\n        this.checkExport(exports, node.exported, this.lastTokStart);\r\n      } else {\r\n        node.exported = null;\r\n      }\r\n    }\r\n    this.expectContextual(\"from\");\r\n    if (this.type !== types$1.string) { this.unexpected(); }\r\n    node.source = this.parseExprAtom();\r\n    this.semicolon();\r\n    return this.finishNode(node, \"ExportAllDeclaration\")\r\n  }\r\n  if (this.eat(types$1._default)) { // export default ...\r\n    this.checkExport(exports, \"default\", this.lastTokStart);\r\n    var isAsync;\r\n    if (this.type === types$1._function || (isAsync = this.isAsyncFunction())) {\r\n      var fNode = this.startNode();\r\n      this.next();\r\n      if (isAsync) { this.next(); }\r\n      node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\r\n    } else if (this.type === types$1._class) {\r\n      var cNode = this.startNode();\r\n      node.declaration = this.parseClass(cNode, \"nullableID\");\r\n    } else {\r\n      node.declaration = this.parseMaybeAssign();\r\n      this.semicolon();\r\n    }\r\n    return this.finishNode(node, \"ExportDefaultDeclaration\")\r\n  }\r\n  // export var|const|let|function|class ...\r\n  if (this.shouldParseExportStatement()) {\r\n    node.declaration = this.parseStatement(null);\r\n    if (node.declaration.type === \"VariableDeclaration\")\r\n      { this.checkVariableExport(exports, node.declaration.declarations); }\r\n    else\r\n      { this.checkExport(exports, node.declaration.id, node.declaration.id.start); }\r\n    node.specifiers = [];\r\n    node.source = null;\r\n  } else { // export { x, y as z } [from '...']\r\n    node.declaration = null;\r\n    node.specifiers = this.parseExportSpecifiers(exports);\r\n    if (this.eatContextual(\"from\")) {\r\n      if (this.type !== types$1.string) { this.unexpected(); }\r\n      node.source = this.parseExprAtom();\r\n    } else {\r\n      for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\r\n        // check for keywords used as local names\r\n        var spec = list[i];\r\n\r\n        this.checkUnreserved(spec.local);\r\n        // check if export is defined\r\n        this.checkLocalExport(spec.local);\r\n\r\n        if (spec.local.type === \"Literal\") {\r\n          this.raise(spec.local.start, \"A string literal cannot be used as an exported binding without `from`.\");\r\n        }\r\n      }\r\n\r\n      node.source = null;\r\n    }\r\n    this.semicolon();\r\n  }\r\n  return this.finishNode(node, \"ExportNamedDeclaration\")\r\n};\r\n\r\npp$8.checkExport = function(exports, name, pos) {\r\n  if (!exports) { return }\r\n  if (typeof name !== \"string\")\r\n    { name = name.type === \"Identifier\" ? name.name : name.value; }\r\n  if (hasOwn(exports, name))\r\n    { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\r\n  exports[name] = true;\r\n};\r\n\r\npp$8.checkPatternExport = function(exports, pat) {\r\n  var type = pat.type;\r\n  if (type === \"Identifier\")\r\n    { this.checkExport(exports, pat, pat.start); }\r\n  else if (type === \"ObjectPattern\")\r\n    { for (var i = 0, list = pat.properties; i < list.length; i += 1)\r\n      {\r\n        var prop = list[i];\r\n\r\n        this.checkPatternExport(exports, prop);\r\n      } }\r\n  else if (type === \"ArrayPattern\")\r\n    { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\r\n      var elt = list$1[i$1];\r\n\r\n        if (elt) { this.checkPatternExport(exports, elt); }\r\n    } }\r\n  else if (type === \"Property\")\r\n    { this.checkPatternExport(exports, pat.value); }\r\n  else if (type === \"AssignmentPattern\")\r\n    { this.checkPatternExport(exports, pat.left); }\r\n  else if (type === \"RestElement\")\r\n    { this.checkPatternExport(exports, pat.argument); }\r\n  else if (type === \"ParenthesizedExpression\")\r\n    { this.checkPatternExport(exports, pat.expression); }\r\n};\r\n\r\npp$8.checkVariableExport = function(exports, decls) {\r\n  if (!exports) { return }\r\n  for (var i = 0, list = decls; i < list.length; i += 1)\r\n    {\r\n    var decl = list[i];\r\n\r\n    this.checkPatternExport(exports, decl.id);\r\n  }\r\n};\r\n\r\npp$8.shouldParseExportStatement = function() {\r\n  return this.type.keyword === \"var\" ||\r\n    this.type.keyword === \"const\" ||\r\n    this.type.keyword === \"class\" ||\r\n    this.type.keyword === \"function\" ||\r\n    this.isLet() ||\r\n    this.isAsyncFunction()\r\n};\r\n\r\n// Parses a comma-separated list of module exports.\r\n\r\npp$8.parseExportSpecifiers = function(exports) {\r\n  var nodes = [], first = true;\r\n  // export { x, y as z } [from '...']\r\n  this.expect(types$1.braceL);\r\n  while (!this.eat(types$1.braceR)) {\r\n    if (!first) {\r\n      this.expect(types$1.comma);\r\n      if (this.afterTrailingComma(types$1.braceR)) { break }\r\n    } else { first = false; }\r\n\r\n    var node = this.startNode();\r\n    node.local = this.parseModuleExportName();\r\n    node.exported = this.eatContextual(\"as\") ? this.parseModuleExportName() : node.local;\r\n    this.checkExport(\r\n      exports,\r\n      node.exported,\r\n      node.exported.start\r\n    );\r\n    nodes.push(this.finishNode(node, \"ExportSpecifier\"));\r\n  }\r\n  return nodes\r\n};\r\n\r\n// Parses import declaration.\r\n\r\npp$8.parseImport = function(node) {\r\n  this.next();\r\n  // import '...'\r\n  if (this.type === types$1.string) {\r\n    node.specifiers = empty$1;\r\n    node.source = this.parseExprAtom();\r\n  } else {\r\n    node.specifiers = this.parseImportSpecifiers();\r\n    this.expectContextual(\"from\");\r\n    node.source = this.type === types$1.string ? this.parseExprAtom() : this.unexpected();\r\n  }\r\n  this.semicolon();\r\n  return this.finishNode(node, \"ImportDeclaration\")\r\n};\r\n\r\n// Parses a comma-separated list of module imports.\r\n\r\npp$8.parseImportSpecifiers = function() {\r\n  var nodes = [], first = true;\r\n  if (this.type === types$1.name) {\r\n    // import defaultObj, { x, y as z } from '...'\r\n    var node = this.startNode();\r\n    node.local = this.parseIdent();\r\n    this.checkLValSimple(node.local, BIND_LEXICAL);\r\n    nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\r\n    if (!this.eat(types$1.comma)) { return nodes }\r\n  }\r\n  if (this.type === types$1.star) {\r\n    var node$1 = this.startNode();\r\n    this.next();\r\n    this.expectContextual(\"as\");\r\n    node$1.local = this.parseIdent();\r\n    this.checkLValSimple(node$1.local, BIND_LEXICAL);\r\n    nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\r\n    return nodes\r\n  }\r\n  this.expect(types$1.braceL);\r\n  while (!this.eat(types$1.braceR)) {\r\n    if (!first) {\r\n      this.expect(types$1.comma);\r\n      if (this.afterTrailingComma(types$1.braceR)) { break }\r\n    } else { first = false; }\r\n\r\n    var node$2 = this.startNode();\r\n    node$2.imported = this.parseModuleExportName();\r\n    if (this.eatContextual(\"as\")) {\r\n      node$2.local = this.parseIdent();\r\n    } else {\r\n      this.checkUnreserved(node$2.imported);\r\n      node$2.local = node$2.imported;\r\n    }\r\n    this.checkLValSimple(node$2.local, BIND_LEXICAL);\r\n    nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\r\n  }\r\n  return nodes\r\n};\r\n\r\npp$8.parseModuleExportName = function() {\r\n  if (this.options.ecmaVersion >= 13 && this.type === types$1.string) {\r\n    var stringLiteral = this.parseLiteral(this.value);\r\n    if (loneSurrogate.test(stringLiteral.value)) {\r\n      this.raise(stringLiteral.start, \"An export name cannot include a lone surrogate.\");\r\n    }\r\n    return stringLiteral\r\n  }\r\n  return this.parseIdent(true)\r\n};\r\n\r\n// Set `ExpressionStatement#directive` property for directive prologues.\r\npp$8.adaptDirectivePrologue = function(statements) {\r\n  for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\r\n    statements[i].directive = statements[i].expression.raw.slice(1, -1);\r\n  }\r\n};\r\npp$8.isDirectiveCandidate = function(statement) {\r\n  return (\r\n    this.options.ecmaVersion >= 5 &&\r\n    statement.type === \"ExpressionStatement\" &&\r\n    statement.expression.type === \"Literal\" &&\r\n    typeof statement.expression.value === \"string\" &&\r\n    // Reject parenthesized strings.\r\n    (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\r\n  )\r\n};\r\n\r\nvar pp$7 = Parser.prototype;\r\n\r\n// Convert existing expression atom to assignable pattern\r\n// if possible.\r\n\r\npp$7.toAssignable = function(node, isBinding, refDestructuringErrors) {\r\n  if (this.options.ecmaVersion >= 6 && node) {\r\n    switch (node.type) {\r\n    case \"Identifier\":\r\n      if (this.inAsync && node.name === \"await\")\r\n        { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\r\n      break\r\n\r\n    case \"ObjectPattern\":\r\n    case \"ArrayPattern\":\r\n    case \"AssignmentPattern\":\r\n    case \"RestElement\":\r\n      break\r\n\r\n    case \"ObjectExpression\":\r\n      node.type = \"ObjectPattern\";\r\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\r\n      for (var i = 0, list = node.properties; i < list.length; i += 1) {\r\n        var prop = list[i];\r\n\r\n      this.toAssignable(prop, isBinding);\r\n        // Early error:\r\n        //   AssignmentRestProperty[Yield, Await] :\r\n        //     `...` DestructuringAssignmentTarget[Yield, Await]\r\n        //\r\n        //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\r\n        if (\r\n          prop.type === \"RestElement\" &&\r\n          (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\r\n        ) {\r\n          this.raise(prop.argument.start, \"Unexpected token\");\r\n        }\r\n      }\r\n      break\r\n\r\n    case \"Property\":\r\n      // AssignmentProperty has type === \"Property\"\r\n      if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\r\n      this.toAssignable(node.value, isBinding);\r\n      break\r\n\r\n    case \"ArrayExpression\":\r\n      node.type = \"ArrayPattern\";\r\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\r\n      this.toAssignableList(node.elements, isBinding);\r\n      break\r\n\r\n    case \"SpreadElement\":\r\n      node.type = \"RestElement\";\r\n      this.toAssignable(node.argument, isBinding);\r\n      if (node.argument.type === \"AssignmentPattern\")\r\n        { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\r\n      break\r\n\r\n    case \"AssignmentExpression\":\r\n      if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\r\n      node.type = \"AssignmentPattern\";\r\n      delete node.operator;\r\n      this.toAssignable(node.left, isBinding);\r\n      break\r\n\r\n    case \"ParenthesizedExpression\":\r\n      this.toAssignable(node.expression, isBinding, refDestructuringErrors);\r\n      break\r\n\r\n    case \"ChainExpression\":\r\n      this.raiseRecoverable(node.start, \"Optional chaining cannot appear in left-hand side\");\r\n      break\r\n\r\n    case \"MemberExpression\":\r\n      if (!isBinding) { break }\r\n\r\n    default:\r\n      this.raise(node.start, \"Assigning to rvalue\");\r\n    }\r\n  } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\r\n  return node\r\n};\r\n\r\n// Convert list of expression atoms to binding list.\r\n\r\npp$7.toAssignableList = function(exprList, isBinding) {\r\n  var end = exprList.length;\r\n  for (var i = 0; i < end; i++) {\r\n    var elt = exprList[i];\r\n    if (elt) { this.toAssignable(elt, isBinding); }\r\n  }\r\n  if (end) {\r\n    var last = exprList[end - 1];\r\n    if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\r\n      { this.unexpected(last.argument.start); }\r\n  }\r\n  return exprList\r\n};\r\n\r\n// Parses spread element.\r\n\r\npp$7.parseSpread = function(refDestructuringErrors) {\r\n  var node = this.startNode();\r\n  this.next();\r\n  node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\r\n  return this.finishNode(node, \"SpreadElement\")\r\n};\r\n\r\npp$7.parseRestBinding = function() {\r\n  var node = this.startNode();\r\n  this.next();\r\n\r\n  // RestElement inside of a function parameter must be an identifier\r\n  if (this.options.ecmaVersion === 6 && this.type !== types$1.name)\r\n    { this.unexpected(); }\r\n\r\n  node.argument = this.parseBindingAtom();\r\n\r\n  return this.finishNode(node, \"RestElement\")\r\n};\r\n\r\n// Parses lvalue (assignable) atom.\r\n\r\npp$7.parseBindingAtom = function() {\r\n  if (this.options.ecmaVersion >= 6) {\r\n    switch (this.type) {\r\n    case types$1.bracketL:\r\n      var node = this.startNode();\r\n      this.next();\r\n      node.elements = this.parseBindingList(types$1.bracketR, true, true);\r\n      return this.finishNode(node, \"ArrayPattern\")\r\n\r\n    case types$1.braceL:\r\n      return this.parseObj(true)\r\n    }\r\n  }\r\n  return this.parseIdent()\r\n};\r\n\r\npp$7.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\r\n  var elts = [], first = true;\r\n  while (!this.eat(close)) {\r\n    if (first) { first = false; }\r\n    else { this.expect(types$1.comma); }\r\n    if (allowEmpty && this.type === types$1.comma) {\r\n      elts.push(null);\r\n    } else if (allowTrailingComma && this.afterTrailingComma(close)) {\r\n      break\r\n    } else if (this.type === types$1.ellipsis) {\r\n      var rest = this.parseRestBinding();\r\n      this.parseBindingListItem(rest);\r\n      elts.push(rest);\r\n      if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\r\n      this.expect(close);\r\n      break\r\n    } else {\r\n      var elem = this.parseMaybeDefault(this.start, this.startLoc);\r\n      this.parseBindingListItem(elem);\r\n      elts.push(elem);\r\n    }\r\n  }\r\n  return elts\r\n};\r\n\r\npp$7.parseBindingListItem = function(param) {\r\n  return param\r\n};\r\n\r\n// Parses assignment pattern around given atom if possible.\r\n\r\npp$7.parseMaybeDefault = function(startPos, startLoc, left) {\r\n  left = left || this.parseBindingAtom();\r\n  if (this.options.ecmaVersion < 6 || !this.eat(types$1.eq)) { return left }\r\n  var node = this.startNodeAt(startPos, startLoc);\r\n  node.left = left;\r\n  node.right = this.parseMaybeAssign();\r\n  return this.finishNode(node, \"AssignmentPattern\")\r\n};\r\n\r\n// The following three functions all verify that a node is an lvalue \u2014\r\n// something that can be bound, or assigned to. In order to do so, they perform\r\n// a variety of checks:\r\n//\r\n// - Check that none of the bound/assigned-to identifiers are reserved words.\r\n// - Record name declarations for bindings in the appropriate scope.\r\n// - Check duplicate argument names, if checkClashes is set.\r\n//\r\n// If a complex binding pattern is encountered (e.g., object and array\r\n// destructuring), the entire pattern is recursively checked.\r\n//\r\n// There are three versions of checkLVal*() appropriate for different\r\n// circumstances:\r\n//\r\n// - checkLValSimple() shall be used if the syntactic construct supports\r\n//   nothing other than identifiers and member expressions. Parenthesized\r\n//   expressions are also correctly handled. This is generally appropriate for\r\n//   constructs for which the spec says\r\n//\r\n//   > It is a Syntax Error if AssignmentTargetType of [the production] is not\r\n//   > simple.\r\n//\r\n//   It is also appropriate for checking if an identifier is valid and not\r\n//   defined elsewhere, like import declarations or function/class identifiers.\r\n//\r\n//   Examples where this is used include:\r\n//     a += \u2026;\r\n//     import a from '\u2026';\r\n//   where a is the node to be checked.\r\n//\r\n// - checkLValPattern() shall be used if the syntactic construct supports\r\n//   anything checkLValSimple() supports, as well as object and array\r\n//   destructuring patterns. This is generally appropriate for constructs for\r\n//   which the spec says\r\n//\r\n//   > It is a Syntax Error if [the production] is neither an ObjectLiteral nor\r\n//   > an ArrayLiteral and AssignmentTargetType of [the production] is not\r\n//   > simple.\r\n//\r\n//   Examples where this is used include:\r\n//     (a = \u2026);\r\n//     const a = \u2026;\r\n//     try { \u2026 } catch (a) { \u2026 }\r\n//   where a is the node to be checked.\r\n//\r\n// - checkLValInnerPattern() shall be used if the syntactic construct supports\r\n//   anything checkLValPattern() supports, as well as default assignment\r\n//   patterns, rest elements, and other constructs that may appear within an\r\n//   object or array destructuring pattern.\r\n//\r\n//   As a special case, function parameters also use checkLValInnerPattern(),\r\n//   as they also support defaults and rest constructs.\r\n//\r\n// These functions deliberately support both assignment and binding constructs,\r\n// as the logic for both is exceedingly similar. If the node is the target of\r\n// an assignment, then bindingType should be set to BIND_NONE. Otherwise, it\r\n// should be set to the appropriate BIND_* constant, like BIND_VAR or\r\n// BIND_LEXICAL.\r\n//\r\n// If the function is called with a non-BIND_NONE bindingType, then\r\n// additionally a checkClashes object may be specified to allow checking for\r\n// duplicate argument names. checkClashes is ignored if the provided construct\r\n// is an assignment (i.e., bindingType is BIND_NONE).\r\n\r\npp$7.checkLValSimple = function(expr, bindingType, checkClashes) {\r\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\r\n\r\n  var isBind = bindingType !== BIND_NONE;\r\n\r\n  switch (expr.type) {\r\n  case \"Identifier\":\r\n    if (this.strict && this.reservedWordsStrictBind.test(expr.name))\r\n      { this.raiseRecoverable(expr.start, (isBind ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\r\n    if (isBind) {\r\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\r\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\r\n      if (checkClashes) {\r\n        if (hasOwn(checkClashes, expr.name))\r\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\r\n        checkClashes[expr.name] = true;\r\n      }\r\n      if (bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\r\n    }\r\n    break\r\n\r\n  case \"ChainExpression\":\r\n    this.raiseRecoverable(expr.start, \"Optional chaining cannot appear in left-hand side\");\r\n    break\r\n\r\n  case \"MemberExpression\":\r\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\r\n    break\r\n\r\n  case \"ParenthesizedExpression\":\r\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding parenthesized expression\"); }\r\n    return this.checkLValSimple(expr.expression, bindingType, checkClashes)\r\n\r\n  default:\r\n    this.raise(expr.start, (isBind ? \"Binding\" : \"Assigning to\") + \" rvalue\");\r\n  }\r\n};\r\n\r\npp$7.checkLValPattern = function(expr, bindingType, checkClashes) {\r\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\r\n\r\n  switch (expr.type) {\r\n  case \"ObjectPattern\":\r\n    for (var i = 0, list = expr.properties; i < list.length; i += 1) {\r\n      var prop = list[i];\r\n\r\n    this.checkLValInnerPattern(prop, bindingType, checkClashes);\r\n    }\r\n    break\r\n\r\n  case \"ArrayPattern\":\r\n    for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\r\n      var elem = list$1[i$1];\r\n\r\n    if (elem) { this.checkLValInnerPattern(elem, bindingType, checkClashes); }\r\n    }\r\n    break\r\n\r\n  default:\r\n    this.checkLValSimple(expr, bindingType, checkClashes);\r\n  }\r\n};\r\n\r\npp$7.checkLValInnerPattern = function(expr, bindingType, checkClashes) {\r\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\r\n\r\n  switch (expr.type) {\r\n  case \"Property\":\r\n    // AssignmentProperty has type === \"Property\"\r\n    this.checkLValInnerPattern(expr.value, bindingType, checkClashes);\r\n    break\r\n\r\n  case \"AssignmentPattern\":\r\n    this.checkLValPattern(expr.left, bindingType, checkClashes);\r\n    break\r\n\r\n  case \"RestElement\":\r\n    this.checkLValPattern(expr.argument, bindingType, checkClashes);\r\n    break\r\n\r\n  default:\r\n    this.checkLValPattern(expr, bindingType, checkClashes);\r\n  }\r\n};\r\n\r\n// The algorithm used to determine whether a regexp can appear at a\r\n\r\nvar TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\r\n  this.token = token;\r\n  this.isExpr = !!isExpr;\r\n  this.preserveSpace = !!preserveSpace;\r\n  this.override = override;\r\n  this.generator = !!generator;\r\n};\r\n\r\nvar types = {\r\n  b_stat: new TokContext(\"{\", false),\r\n  b_expr: new TokContext(\"{\", true),\r\n  b_tmpl: new TokContext(\"${\", false),\r\n  p_stat: new TokContext(\"(\", false),\r\n  p_expr: new TokContext(\"(\", true),\r\n  q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\r\n  f_stat: new TokContext(\"function\", false),\r\n  f_expr: new TokContext(\"function\", true),\r\n  f_expr_gen: new TokContext(\"function\", true, false, null, true),\r\n  f_gen: new TokContext(\"function\", false, false, null, true)\r\n};\r\n\r\nvar pp$6 = Parser.prototype;\r\n\r\npp$6.initialContext = function() {\r\n  return [types.b_stat]\r\n};\r\n\r\npp$6.curContext = function() {\r\n  return this.context[this.context.length - 1]\r\n};\r\n\r\npp$6.braceIsBlock = function(prevType) {\r\n  var parent = this.curContext();\r\n  if (parent === types.f_expr || parent === types.f_stat)\r\n    { return true }\r\n  if (prevType === types$1.colon && (parent === types.b_stat || parent === types.b_expr))\r\n    { return !parent.isExpr }\r\n\r\n  // The check for `tt.name && exprAllowed` detects whether we are\r\n  // after a `yield` or `of` construct. See the `updateContext` for\r\n  // `tt.name`.\r\n  if (prevType === types$1._return || prevType === types$1.name && this.exprAllowed)\r\n    { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\r\n  if (prevType === types$1._else || prevType === types$1.semi || prevType === types$1.eof || prevType === types$1.parenR || prevType === types$1.arrow)\r\n    { return true }\r\n  if (prevType === types$1.braceL)\r\n    { return parent === types.b_stat }\r\n  if (prevType === types$1._var || prevType === types$1._const || prevType === types$1.name)\r\n    { return false }\r\n  return !this.exprAllowed\r\n};\r\n\r\npp$6.inGeneratorContext = function() {\r\n  for (var i = this.context.length - 1; i >= 1; i--) {\r\n    var context = this.context[i];\r\n    if (context.token === \"function\")\r\n      { return context.generator }\r\n  }\r\n  return false\r\n};\r\n\r\npp$6.updateContext = function(prevType) {\r\n  var update, type = this.type;\r\n  if (type.keyword && prevType === types$1.dot)\r\n    { this.exprAllowed = false; }\r\n  else if (update = type.updateContext)\r\n    { update.call(this, prevType); }\r\n  else\r\n    { this.exprAllowed = type.beforeExpr; }\r\n};\r\n\r\n// Used to handle egde cases when token context could not be inferred correctly during tokenization phase\r\n\r\npp$6.overrideContext = function(tokenCtx) {\r\n  if (this.curContext() !== tokenCtx) {\r\n    this.context[this.context.length - 1] = tokenCtx;\r\n  }\r\n};\r\n\r\n// Token-specific context update code\r\n\r\ntypes$1.parenR.updateContext = types$1.braceR.updateContext = function() {\r\n  if (this.context.length === 1) {\r\n    this.exprAllowed = true;\r\n    return\r\n  }\r\n  var out = this.context.pop();\r\n  if (out === types.b_stat && this.curContext().token === \"function\") {\r\n    out = this.context.pop();\r\n  }\r\n  this.exprAllowed = !out.isExpr;\r\n};\r\n\r\ntypes$1.braceL.updateContext = function(prevType) {\r\n  this.context.push(this.braceIsBlock(prevType) ? types.b_stat : types.b_expr);\r\n  this.exprAllowed = true;\r\n};\r\n\r\ntypes$1.dollarBraceL.updateContext = function() {\r\n  this.context.push(types.b_tmpl);\r\n  this.exprAllowed = true;\r\n};\r\n\r\ntypes$1.parenL.updateContext = function(prevType) {\r\n  var statementParens = prevType === types$1._if || prevType === types$1._for || prevType === types$1._with || prevType === types$1._while;\r\n  this.context.push(statementParens ? types.p_stat : types.p_expr);\r\n  this.exprAllowed = true;\r\n};\r\n\r\ntypes$1.incDec.updateContext = function() {\r\n  // tokExprAllowed stays unchanged\r\n};\r\n\r\ntypes$1._function.updateContext = types$1._class.updateContext = function(prevType) {\r\n  if (prevType.beforeExpr && prevType !== types$1._else &&\r\n      !(prevType === types$1.semi && this.curContext() !== types.p_stat) &&\r\n      !(prevType === types$1._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\r\n      !((prevType === types$1.colon || prevType === types$1.braceL) && this.curContext() === types.b_stat))\r\n    { this.context.push(types.f_expr); }\r\n  else\r\n    { this.context.push(types.f_stat); }\r\n  this.exprAllowed = false;\r\n};\r\n\r\ntypes$1.backQuote.updateContext = function() {\r\n  if (this.curContext() === types.q_tmpl)\r\n    { this.context.pop(); }\r\n  else\r\n    { this.context.push(types.q_tmpl); }\r\n  this.exprAllowed = false;\r\n};\r\n\r\ntypes$1.star.updateContext = function(prevType) {\r\n  if (prevType === types$1._function) {\r\n    var index = this.context.length - 1;\r\n    if (this.context[index] === types.f_expr)\r\n      { this.context[index] = types.f_expr_gen; }\r\n    else\r\n      { this.context[index] = types.f_gen; }\r\n  }\r\n  this.exprAllowed = true;\r\n};\r\n\r\ntypes$1.name.updateContext = function(prevType) {\r\n  var allowed = false;\r\n  if (this.options.ecmaVersion >= 6 && prevType !== types$1.dot) {\r\n    if (this.value === \"of\" && !this.exprAllowed ||\r\n        this.value === \"yield\" && this.inGeneratorContext())\r\n      { allowed = true; }\r\n  }\r\n  this.exprAllowed = allowed;\r\n};\r\n\r\n// A recursive descent parser operates by defining functions for all\r\n\r\nvar pp$5 = Parser.prototype;\r\n\r\n// Check if property name clashes with already added.\r\n// Object/class getters and setters are not allowed to clash \u2014\r\n// either with each other or with an init property \u2014 and in\r\n// strict mode, init properties are also not allowed to be repeated.\r\n\r\npp$5.checkPropClash = function(prop, propHash, refDestructuringErrors) {\r\n  if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\r\n    { return }\r\n  if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\r\n    { return }\r\n  var key = prop.key;\r\n  var name;\r\n  switch (key.type) {\r\n  case \"Identifier\": name = key.name; break\r\n  case \"Literal\": name = String(key.value); break\r\n  default: return\r\n  }\r\n  var kind = prop.kind;\r\n  if (this.options.ecmaVersion >= 6) {\r\n    if (name === \"__proto__\" && kind === \"init\") {\r\n      if (propHash.proto) {\r\n        if (refDestructuringErrors) {\r\n          if (refDestructuringErrors.doubleProto < 0) {\r\n            refDestructuringErrors.doubleProto = key.start;\r\n          }\r\n        } else {\r\n          this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\");\r\n        }\r\n      }\r\n      propHash.proto = true;\r\n    }\r\n    return\r\n  }\r\n  name = \"$\" + name;\r\n  var other = propHash[name];\r\n  if (other) {\r\n    var redefinition;\r\n    if (kind === \"init\") {\r\n      redefinition = this.strict && other.init || other.get || other.set;\r\n    } else {\r\n      redefinition = other.init || other[kind];\r\n    }\r\n    if (redefinition)\r\n      { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\r\n  } else {\r\n    other = propHash[name] = {\r\n      init: false,\r\n      get: false,\r\n      set: false\r\n    };\r\n  }\r\n  other[kind] = true;\r\n};\r\n\r\n// ### Expression parsing\r\n\r\n// These nest, from the most general expression type at the top to\r\n// 'atomic', nondivisible expression types at the bottom. Most of\r\n// the functions will simply let the function(s) below them parse,\r\n// and, *if* the syntactic construct they handle is present, wrap\r\n// the AST node that the inner parser gave them in another node.\r\n\r\n// Parse a full expression. The optional arguments are used to\r\n// forbid the `in` operator (in for loops initalization expressions)\r\n// and provide reference for storing '=' operator inside shorthand\r\n// property assignment in contexts where both object expression\r\n// and object pattern might appear (so it's possible to raise\r\n// delayed syntax error at correct position).\r\n\r\npp$5.parseExpression = function(forInit, refDestructuringErrors) {\r\n  var startPos = this.start, startLoc = this.startLoc;\r\n  var expr = this.parseMaybeAssign(forInit, refDestructuringErrors);\r\n  if (this.type === types$1.comma) {\r\n    var node = this.startNodeAt(startPos, startLoc);\r\n    node.expressions = [expr];\r\n    while (this.eat(types$1.comma)) { node.expressions.push(this.parseMaybeAssign(forInit, refDestructuringErrors)); }\r\n    return this.finishNode(node, \"SequenceExpression\")\r\n  }\r\n  return expr\r\n};\r\n\r\n// Parse an assignment expression. This includes applications of\r\n// operators like `+=`.\r\n\r\npp$5.parseMaybeAssign = function(forInit, refDestructuringErrors, afterLeftParse) {\r\n  if (this.isContextual(\"yield\")) {\r\n    if (this.inGenerator) { return this.parseYield(forInit) }\r\n    // The tokenizer will assume an expression is allowed after\r\n    // `yield`, but this isn't that kind of yield\r\n    else { this.exprAllowed = false; }\r\n  }\r\n\r\n  var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1, oldDoubleProto = -1;\r\n  if (refDestructuringErrors) {\r\n    oldParenAssign = refDestructuringErrors.parenthesizedAssign;\r\n    oldTrailingComma = refDestructuringErrors.trailingComma;\r\n    oldDoubleProto = refDestructuringErrors.doubleProto;\r\n    refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\r\n  } else {\r\n    refDestructuringErrors = new DestructuringErrors;\r\n    ownDestructuringErrors = true;\r\n  }\r\n\r\n  var startPos = this.start, startLoc = this.startLoc;\r\n  if (this.type === types$1.parenL || this.type === types$1.name) {\r\n    this.potentialArrowAt = this.start;\r\n    this.potentialArrowInForAwait = forInit === \"await\";\r\n  }\r\n  var left = this.parseMaybeConditional(forInit, refDestructuringErrors);\r\n  if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\r\n  if (this.type.isAssign) {\r\n    var node = this.startNodeAt(startPos, startLoc);\r\n    node.operator = this.value;\r\n    if (this.type === types$1.eq)\r\n      { left = this.toAssignable(left, false, refDestructuringErrors); }\r\n    if (!ownDestructuringErrors) {\r\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\r\n    }\r\n    if (refDestructuringErrors.shorthandAssign >= left.start)\r\n      { refDestructuringErrors.shorthandAssign = -1; } // reset because shorthand default was used correctly\r\n    if (this.type === types$1.eq)\r\n      { this.checkLValPattern(left); }\r\n    else\r\n      { this.checkLValSimple(left); }\r\n    node.left = left;\r\n    this.next();\r\n    node.right = this.parseMaybeAssign(forInit);\r\n    if (oldDoubleProto > -1) { refDestructuringErrors.doubleProto = oldDoubleProto; }\r\n    return this.finishNode(node, \"AssignmentExpression\")\r\n  } else {\r\n    if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\r\n  }\r\n  if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\r\n  if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\r\n  return left\r\n};\r\n\r\n// Parse a ternary conditional (`?:`) operator.\r\n\r\npp$5.parseMaybeConditional = function(forInit, refDestructuringErrors) {\r\n  var startPos = this.start, startLoc = this.startLoc;\r\n  var expr = this.parseExprOps(forInit, refDestructuringErrors);\r\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\r\n  if (this.eat(types$1.question)) {\r\n    var node = this.startNodeAt(startPos, startLoc);\r\n    node.test = expr;\r\n    node.consequent = this.parseMaybeAssign();\r\n    this.expect(types$1.colon);\r\n    node.alternate = this.parseMaybeAssign(forInit);\r\n    return this.finishNode(node, \"ConditionalExpression\")\r\n  }\r\n  return expr\r\n};\r\n\r\n// Start the precedence parser.\r\n\r\npp$5.parseExprOps = function(forInit, refDestructuringErrors) {\r\n  var startPos = this.start, startLoc = this.startLoc;\r\n  var expr = this.parseMaybeUnary(refDestructuringErrors, false, false, forInit);\r\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\r\n  return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, forInit)\r\n};\r\n\r\n// Parse binary operators with the operator precedence parsing\r\n// algorithm. `left` is the left-hand side of the operator.\r\n// `minPrec` provides context that allows the function to stop and\r\n// defer further parser to one of its callers when it encounters an\r\n// operator that has a lower precedence than the set it is parsing.\r\n\r\npp$5.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, forInit) {\r\n  var prec = this.type.binop;\r\n  if (prec != null && (!forInit || this.type !== types$1._in)) {\r\n    if (prec > minPrec) {\r\n      var logical = this.type === types$1.logicalOR || this.type === types$1.logicalAND;\r\n      var coalesce = this.type === types$1.coalesce;\r\n      if (coalesce) {\r\n        // Handle the precedence of `tt.coalesce` as equal to the range of logical expressions.\r\n        // In other words, `node.right` shouldn't contain logical expressions in order to check the mixed error.\r\n        prec = types$1.logicalAND.binop;\r\n      }\r\n      var op = this.value;\r\n      this.next();\r\n      var startPos = this.start, startLoc = this.startLoc;\r\n      var right = this.parseExprOp(this.parseMaybeUnary(null, false, false, forInit), startPos, startLoc, prec, forInit);\r\n      var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical || coalesce);\r\n      if ((logical && this.type === types$1.coalesce) || (coalesce && (this.type === types$1.logicalOR || this.type === types$1.logicalAND))) {\r\n        this.raiseRecoverable(this.start, \"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses\");\r\n      }\r\n      return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, forInit)\r\n    }\r\n  }\r\n  return left\r\n};\r\n\r\npp$5.buildBinary = function(startPos, startLoc, left, right, op, logical) {\r\n  if (right.type === \"PrivateIdentifier\") { this.raise(right.start, \"Private identifier can only be left side of binary expression\"); }\r\n  var node = this.startNodeAt(startPos, startLoc);\r\n  node.left = left;\r\n  node.operator = op;\r\n  node.right = right;\r\n  return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\r\n};\r\n\r\n// Parse unary operators, both prefix and postfix.\r\n\r\npp$5.parseMaybeUnary = function(refDestructuringErrors, sawUnary, incDec, forInit) {\r\n  var startPos = this.start, startLoc = this.startLoc, expr;\r\n  if (this.isContextual(\"await\") && this.canAwait) {\r\n    expr = this.parseAwait(forInit);\r\n    sawUnary = true;\r\n  } else if (this.type.prefix) {\r\n    var node = this.startNode(), update = this.type === types$1.incDec;\r\n    node.operator = this.value;\r\n    node.prefix = true;\r\n    this.next();\r\n    node.argument = this.parseMaybeUnary(null, true, update, forInit);\r\n    this.checkExpressionErrors(refDestructuringErrors, true);\r\n    if (update) { this.checkLValSimple(node.argument); }\r\n    else if (this.strict && node.operator === \"delete\" &&\r\n             node.argument.type === \"Identifier\")\r\n      { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\r\n    else if (node.operator === \"delete\" && isPrivateFieldAccess(node.argument))\r\n      { this.raiseRecoverable(node.start, \"Private fields can not be deleted\"); }\r\n    else { sawUnary = true; }\r\n    expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\r\n  } else if (!sawUnary && this.type === types$1.privateId) {\r\n    if (forInit || this.privateNameStack.length === 0) { this.unexpected(); }\r\n    expr = this.parsePrivateIdent();\r\n    // only could be private fields in 'in', such as #x in obj\r\n    if (this.type !== types$1._in) { this.unexpected(); }\r\n  } else {\r\n    expr = this.parseExprSubscripts(refDestructuringErrors, forInit);\r\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\r\n    while (this.type.postfix && !this.canInsertSemicolon()) {\r\n      var node$1 = this.startNodeAt(startPos, startLoc);\r\n      node$1.operator = this.value;\r\n      node$1.prefix = false;\r\n      node$1.argument = expr;\r\n      this.checkLValSimple(expr);\r\n      this.next();\r\n      expr = this.finishNode(node$1, \"UpdateExpression\");\r\n    }\r\n  }\r\n\r\n  if (!incDec && this.eat(types$1.starstar)) {\r\n    if (sawUnary)\r\n      { this.unexpected(this.lastTokStart); }\r\n    else\r\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false, false, forInit), \"**\", false) }\r\n  } else {\r\n    return expr\r\n  }\r\n};\r\n\r\nfunction isPrivateFieldAccess(node) {\r\n  return (\r\n    node.type === \"MemberExpression\" && node.property.type === \"PrivateIdentifier\" ||\r\n    node.type === \"ChainExpression\" && isPrivateFieldAccess(node.expression)\r\n  )\r\n}\r\n\r\n// Parse call, dot, and `[]`-subscript expressions.\r\n\r\npp$5.parseExprSubscripts = function(refDestructuringErrors, forInit) {\r\n  var startPos = this.start, startLoc = this.startLoc;\r\n  var expr = this.parseExprAtom(refDestructuringErrors, forInit);\r\n  if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\r\n    { return expr }\r\n  var result = this.parseSubscripts(expr, startPos, startLoc, false, forInit);\r\n  if (refDestructuringErrors && result.type === \"MemberExpression\") {\r\n    if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\r\n    if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\r\n    if (refDestructuringErrors.trailingComma >= result.start) { refDestructuringErrors.trailingComma = -1; }\r\n  }\r\n  return result\r\n};\r\n\r\npp$5.parseSubscripts = function(base, startPos, startLoc, noCalls, forInit) {\r\n  var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\r\n      this.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 &&\r\n      this.potentialArrowAt === base.start;\r\n  var optionalChained = false;\r\n\r\n  while (true) {\r\n    var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit);\r\n\r\n    if (element.optional) { optionalChained = true; }\r\n    if (element === base || element.type === \"ArrowFunctionExpression\") {\r\n      if (optionalChained) {\r\n        var chainNode = this.startNodeAt(startPos, startLoc);\r\n        chainNode.expression = element;\r\n        element = this.finishNode(chainNode, \"ChainExpression\");\r\n      }\r\n      return element\r\n    }\r\n\r\n    base = element;\r\n  }\r\n};\r\n\r\npp$5.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit) {\r\n  var optionalSupported = this.options.ecmaVersion >= 11;\r\n  var optional = optionalSupported && this.eat(types$1.questionDot);\r\n  if (noCalls && optional) { this.raise(this.lastTokStart, \"Optional chaining cannot appear in the callee of new expressions\"); }\r\n\r\n  var computed = this.eat(types$1.bracketL);\r\n  if (computed || (optional && this.type !== types$1.parenL && this.type !== types$1.backQuote) || this.eat(types$1.dot)) {\r\n    var node = this.startNodeAt(startPos, startLoc);\r\n    node.object = base;\r\n    if (computed) {\r\n      node.property = this.parseExpression();\r\n      this.expect(types$1.bracketR);\r\n    } else if (this.type === types$1.privateId && base.type !== \"Super\") {\r\n      node.property = this.parsePrivateIdent();\r\n    } else {\r\n      node.property = this.parseIdent(this.options.allowReserved !== \"never\");\r\n    }\r\n    node.computed = !!computed;\r\n    if (optionalSupported) {\r\n      node.optional = optional;\r\n    }\r\n    base = this.finishNode(node, \"MemberExpression\");\r\n  } else if (!noCalls && this.eat(types$1.parenL)) {\r\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\r\n    this.yieldPos = 0;\r\n    this.awaitPos = 0;\r\n    this.awaitIdentPos = 0;\r\n    var exprList = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\r\n    if (maybeAsyncArrow && !optional && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\r\n      this.checkPatternErrors(refDestructuringErrors, false);\r\n      this.checkYieldAwaitInDefaultParams();\r\n      if (this.awaitIdentPos > 0)\r\n        { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\r\n      this.yieldPos = oldYieldPos;\r\n      this.awaitPos = oldAwaitPos;\r\n      this.awaitIdentPos = oldAwaitIdentPos;\r\n      return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true, forInit)\r\n    }\r\n    this.checkExpressionErrors(refDestructuringErrors, true);\r\n    this.yieldPos = oldYieldPos || this.yieldPos;\r\n    this.awaitPos = oldAwaitPos || this.awaitPos;\r\n    this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\r\n    var node$1 = this.startNodeAt(startPos, startLoc);\r\n    node$1.callee = base;\r\n    node$1.arguments = exprList;\r\n    if (optionalSupported) {\r\n      node$1.optional = optional;\r\n    }\r\n    base = this.finishNode(node$1, \"CallExpression\");\r\n  } else if (this.type === types$1.backQuote) {\r\n    if (optional || optionalChained) {\r\n      this.raise(this.start, \"Optional chaining cannot appear in the tag of tagged template expressions\");\r\n    }\r\n    var node$2 = this.startNodeAt(startPos, startLoc);\r\n    node$2.tag = base;\r\n    node$2.quasi = this.parseTemplate({isTagged: true});\r\n    base = this.finishNode(node$2, \"TaggedTemplateExpression\");\r\n  }\r\n  return base\r\n};\r\n\r\n// Parse an atomic expression \u2014 either a single token that is an\r\n// expression, an expression started by a keyword like `function` or\r\n// `new`, or an expression wrapped in punctuation like `()`, `[]`,\r\n// or `{}`.\r\n\r\npp$5.parseExprAtom = function(refDestructuringErrors, forInit) {\r\n  // If a division operator appears in an expression position, the\r\n  // tokenizer got confused, and we force it to read a regexp instead.\r\n  if (this.type === types$1.slash) { this.readRegexp(); }\r\n\r\n  var node, canBeArrow = this.potentialArrowAt === this.start;\r\n  switch (this.type) {\r\n  case types$1._super:\r\n    if (!this.allowSuper)\r\n      { this.raise(this.start, \"'super' keyword outside a method\"); }\r\n    node = this.startNode();\r\n    this.next();\r\n    if (this.type === types$1.parenL && !this.allowDirectSuper)\r\n      { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\r\n    // The `super` keyword can appear at below:\r\n    // SuperProperty:\r\n    //     super [ Expression ]\r\n    //     super . IdentifierName\r\n    // SuperCall:\r\n    //     super ( Arguments )\r\n    if (this.type !== types$1.dot && this.type !== types$1.bracketL && this.type !== types$1.parenL)\r\n      { this.unexpected(); }\r\n    return this.finishNode(node, \"Super\")\r\n\r\n  case types$1._this:\r\n    node = this.startNode();\r\n    this.next();\r\n    return this.finishNode(node, \"ThisExpression\")\r\n\r\n  case types$1.name:\r\n    var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\r\n    var id = this.parseIdent(false);\r\n    if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types$1._function)) {\r\n      this.overrideContext(types.f_expr);\r\n      return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true, forInit)\r\n    }\r\n    if (canBeArrow && !this.canInsertSemicolon()) {\r\n      if (this.eat(types$1.arrow))\r\n        { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false, forInit) }\r\n      if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types$1.name && !containsEsc &&\r\n          (!this.potentialArrowInForAwait || this.value !== \"of\" || this.containsEsc)) {\r\n        id = this.parseIdent(false);\r\n        if (this.canInsertSemicolon() || !this.eat(types$1.arrow))\r\n          { this.unexpected(); }\r\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true, forInit)\r\n      }\r\n    }\r\n    return id\r\n\r\n  case types$1.regexp:\r\n    var value = this.value;\r\n    node = this.parseLiteral(value.value);\r\n    node.regex = {pattern: value.pattern, flags: value.flags};\r\n    return node\r\n\r\n  case types$1.num: case types$1.string:\r\n    return this.parseLiteral(this.value)\r\n\r\n  case types$1._null: case types$1._true: case types$1._false:\r\n    node = this.startNode();\r\n    node.value = this.type === types$1._null ? null : this.type === types$1._true;\r\n    node.raw = this.type.keyword;\r\n    this.next();\r\n    return this.finishNode(node, \"Literal\")\r\n\r\n  case types$1.parenL:\r\n    var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow, forInit);\r\n    if (refDestructuringErrors) {\r\n      if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\r\n        { refDestructuringErrors.parenthesizedAssign = start; }\r\n      if (refDestructuringErrors.parenthesizedBind < 0)\r\n        { refDestructuringErrors.parenthesizedBind = start; }\r\n    }\r\n    return expr\r\n\r\n  case types$1.bracketL:\r\n    node = this.startNode();\r\n    this.next();\r\n    node.elements = this.parseExprList(types$1.bracketR, true, true, refDestructuringErrors);\r\n    return this.finishNode(node, \"ArrayExpression\")\r\n\r\n  case types$1.braceL:\r\n    this.overrideContext(types.b_expr);\r\n    return this.parseObj(false, refDestructuringErrors)\r\n\r\n  case types$1._function:\r\n    node = this.startNode();\r\n    this.next();\r\n    return this.parseFunction(node, 0)\r\n\r\n  case types$1._class:\r\n    return this.parseClass(this.startNode(), false)\r\n\r\n  case types$1._new:\r\n    return this.parseNew()\r\n\r\n  case types$1.backQuote:\r\n    return this.parseTemplate()\r\n\r\n  case types$1._import:\r\n    if (this.options.ecmaVersion >= 11) {\r\n      return this.parseExprImport()\r\n    } else {\r\n      return this.unexpected()\r\n    }\r\n\r\n  default:\r\n    this.unexpected();\r\n  }\r\n};\r\n\r\npp$5.parseExprImport = function() {\r\n  var node = this.startNode();\r\n\r\n  // Consume `import` as an identifier for `import.meta`.\r\n  // Because `this.parseIdent(true)` doesn't check escape sequences, it needs the check of `this.containsEsc`.\r\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword import\"); }\r\n  var meta = this.parseIdent(true);\r\n\r\n  switch (this.type) {\r\n  case types$1.parenL:\r\n    return this.parseDynamicImport(node)\r\n  case types$1.dot:\r\n    node.meta = meta;\r\n    return this.parseImportMeta(node)\r\n  default:\r\n    this.unexpected();\r\n  }\r\n};\r\n\r\npp$5.parseDynamicImport = function(node) {\r\n  this.next(); // skip `(`\r\n\r\n  // Parse node.source.\r\n  node.source = this.parseMaybeAssign();\r\n\r\n  // Verify ending.\r\n  if (!this.eat(types$1.parenR)) {\r\n    var errorPos = this.start;\r\n    if (this.eat(types$1.comma) && this.eat(types$1.parenR)) {\r\n      this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\r\n    } else {\r\n      this.unexpected(errorPos);\r\n    }\r\n  }\r\n\r\n  return this.finishNode(node, \"ImportExpression\")\r\n};\r\n\r\npp$5.parseImportMeta = function(node) {\r\n  this.next(); // skip `.`\r\n\r\n  var containsEsc = this.containsEsc;\r\n  node.property = this.parseIdent(true);\r\n\r\n  if (node.property.name !== \"meta\")\r\n    { this.raiseRecoverable(node.property.start, \"The only valid meta property for import is 'import.meta'\"); }\r\n  if (containsEsc)\r\n    { this.raiseRecoverable(node.start, \"'import.meta' must not contain escaped characters\"); }\r\n  if (this.options.sourceType !== \"module\" && !this.options.allowImportExportEverywhere)\r\n    { this.raiseRecoverable(node.start, \"Cannot use 'import.meta' outside a module\"); }\r\n\r\n  return this.finishNode(node, \"MetaProperty\")\r\n};\r\n\r\npp$5.parseLiteral = function(value) {\r\n  var node = this.startNode();\r\n  node.value = value;\r\n  node.raw = this.input.slice(this.start, this.end);\r\n  if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1).replace(/_/g, \"\"); }\r\n  this.next();\r\n  return this.finishNode(node, \"Literal\")\r\n};\r\n\r\npp$5.parseParenExpression = function() {\r\n  this.expect(types$1.parenL);\r\n  var val = this.parseExpression();\r\n  this.expect(types$1.parenR);\r\n  return val\r\n};\r\n\r\npp$5.parseParenAndDistinguishExpression = function(canBeArrow, forInit) {\r\n  var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\r\n  if (this.options.ecmaVersion >= 6) {\r\n    this.next();\r\n\r\n    var innerStartPos = this.start, innerStartLoc = this.startLoc;\r\n    var exprList = [], first = true, lastIsComma = false;\r\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\r\n    this.yieldPos = 0;\r\n    this.awaitPos = 0;\r\n    // Do not save awaitIdentPos to allow checking awaits nested in parameters\r\n    while (this.type !== types$1.parenR) {\r\n      first ? first = false : this.expect(types$1.comma);\r\n      if (allowTrailingComma && this.afterTrailingComma(types$1.parenR, true)) {\r\n        lastIsComma = true;\r\n        break\r\n      } else if (this.type === types$1.ellipsis) {\r\n        spreadStart = this.start;\r\n        exprList.push(this.parseParenItem(this.parseRestBinding()));\r\n        if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\r\n        break\r\n      } else {\r\n        exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\r\n      }\r\n    }\r\n    var innerEndPos = this.lastTokEnd, innerEndLoc = this.lastTokEndLoc;\r\n    this.expect(types$1.parenR);\r\n\r\n    if (canBeArrow && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\r\n      this.checkPatternErrors(refDestructuringErrors, false);\r\n      this.checkYieldAwaitInDefaultParams();\r\n      this.yieldPos = oldYieldPos;\r\n      this.awaitPos = oldAwaitPos;\r\n      return this.parseParenArrowList(startPos, startLoc, exprList, forInit)\r\n    }\r\n\r\n    if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\r\n    if (spreadStart) { this.unexpected(spreadStart); }\r\n    this.checkExpressionErrors(refDestructuringErrors, true);\r\n    this.yieldPos = oldYieldPos || this.yieldPos;\r\n    this.awaitPos = oldAwaitPos || this.awaitPos;\r\n\r\n    if (exprList.length > 1) {\r\n      val = this.startNodeAt(innerStartPos, innerStartLoc);\r\n      val.expressions = exprList;\r\n      this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\r\n    } else {\r\n      val = exprList[0];\r\n    }\r\n  } else {\r\n    val = this.parseParenExpression();\r\n  }\r\n\r\n  if (this.options.preserveParens) {\r\n    var par = this.startNodeAt(startPos, startLoc);\r\n    par.expression = val;\r\n    return this.finishNode(par, \"ParenthesizedExpression\")\r\n  } else {\r\n    return val\r\n  }\r\n};\r\n\r\npp$5.parseParenItem = function(item) {\r\n  return item\r\n};\r\n\r\npp$5.parseParenArrowList = function(startPos, startLoc, exprList, forInit) {\r\n  return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, false, forInit)\r\n};\r\n\r\n// New's precedence is slightly tricky. It must allow its argument to\r\n// be a `[]` or dot subscript expression, but not a call \u2014 at least,\r\n// not without wrapping it in parentheses. Thus, it uses the noCalls\r\n// argument to parseSubscripts to prevent it from consuming the\r\n// argument list.\r\n\r\nvar empty = [];\r\n\r\npp$5.parseNew = function() {\r\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\r\n  var node = this.startNode();\r\n  var meta = this.parseIdent(true);\r\n  if (this.options.ecmaVersion >= 6 && this.eat(types$1.dot)) {\r\n    node.meta = meta;\r\n    var containsEsc = this.containsEsc;\r\n    node.property = this.parseIdent(true);\r\n    if (node.property.name !== \"target\")\r\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is 'new.target'\"); }\r\n    if (containsEsc)\r\n      { this.raiseRecoverable(node.start, \"'new.target' must not contain escaped characters\"); }\r\n    if (!this.allowNewDotTarget)\r\n      { this.raiseRecoverable(node.start, \"'new.target' can only be used in functions and class static block\"); }\r\n    return this.finishNode(node, \"MetaProperty\")\r\n  }\r\n  var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types$1._import;\r\n  node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true, false);\r\n  if (isImport && node.callee.type === \"ImportExpression\") {\r\n    this.raise(startPos, \"Cannot use new with import()\");\r\n  }\r\n  if (this.eat(types$1.parenL)) { node.arguments = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false); }\r\n  else { node.arguments = empty; }\r\n  return this.finishNode(node, \"NewExpression\")\r\n};\r\n\r\n// Parse template expression.\r\n\r\npp$5.parseTemplateElement = function(ref) {\r\n  var isTagged = ref.isTagged;\r\n\r\n  var elem = this.startNode();\r\n  if (this.type === types$1.invalidTemplate) {\r\n    if (!isTagged) {\r\n      this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\r\n    }\r\n    elem.value = {\r\n      raw: this.value,\r\n      cooked: null\r\n    };\r\n  } else {\r\n    elem.value = {\r\n      raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\r\n      cooked: this.value\r\n    };\r\n  }\r\n  this.next();\r\n  elem.tail = this.type === types$1.backQuote;\r\n  return this.finishNode(elem, \"TemplateElement\")\r\n};\r\n\r\npp$5.parseTemplate = function(ref) {\r\n  if ( ref === void 0 ) ref = {};\r\n  var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\r\n\r\n  var node = this.startNode();\r\n  this.next();\r\n  node.expressions = [];\r\n  var curElt = this.parseTemplateElement({isTagged: isTagged});\r\n  node.quasis = [curElt];\r\n  while (!curElt.tail) {\r\n    if (this.type === types$1.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\r\n    this.expect(types$1.dollarBraceL);\r\n    node.expressions.push(this.parseExpression());\r\n    this.expect(types$1.braceR);\r\n    node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\r\n  }\r\n  this.next();\r\n  return this.finishNode(node, \"TemplateLiteral\")\r\n};\r\n\r\npp$5.isAsyncProp = function(prop) {\r\n  return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\r\n    (this.type === types$1.name || this.type === types$1.num || this.type === types$1.string || this.type === types$1.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types$1.star)) &&\r\n    !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\r\n};\r\n\r\n// Parse an object literal or binding pattern.\r\n\r\npp$5.parseObj = function(isPattern, refDestructuringErrors) {\r\n  var node = this.startNode(), first = true, propHash = {};\r\n  node.properties = [];\r\n  this.next();\r\n  while (!this.eat(types$1.braceR)) {\r\n    if (!first) {\r\n      this.expect(types$1.comma);\r\n      if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types$1.braceR)) { break }\r\n    } else { first = false; }\r\n\r\n    var prop = this.parseProperty(isPattern, refDestructuringErrors);\r\n    if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\r\n    node.properties.push(prop);\r\n  }\r\n  return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\r\n};\r\n\r\npp$5.parseProperty = function(isPattern, refDestructuringErrors) {\r\n  var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\r\n  if (this.options.ecmaVersion >= 9 && this.eat(types$1.ellipsis)) {\r\n    if (isPattern) {\r\n      prop.argument = this.parseIdent(false);\r\n      if (this.type === types$1.comma) {\r\n        this.raise(this.start, \"Comma is not permitted after the rest element\");\r\n      }\r\n      return this.finishNode(prop, \"RestElement\")\r\n    }\r\n    // Parse argument.\r\n    prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\r\n    // To disallow trailing comma via `this.toAssignable()`.\r\n    if (this.type === types$1.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\r\n      refDestructuringErrors.trailingComma = this.start;\r\n    }\r\n    // Finish\r\n    return this.finishNode(prop, \"SpreadElement\")\r\n  }\r\n  if (this.options.ecmaVersion >= 6) {\r\n    prop.method = false;\r\n    prop.shorthand = false;\r\n    if (isPattern || refDestructuringErrors) {\r\n      startPos = this.start;\r\n      startLoc = this.startLoc;\r\n    }\r\n    if (!isPattern)\r\n      { isGenerator = this.eat(types$1.star); }\r\n  }\r\n  var containsEsc = this.containsEsc;\r\n  this.parsePropertyName(prop);\r\n  if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\r\n    isAsync = true;\r\n    isGenerator = this.options.ecmaVersion >= 9 && this.eat(types$1.star);\r\n    this.parsePropertyName(prop, refDestructuringErrors);\r\n  } else {\r\n    isAsync = false;\r\n  }\r\n  this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\r\n  return this.finishNode(prop, \"Property\")\r\n};\r\n\r\npp$5.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\r\n  if ((isGenerator || isAsync) && this.type === types$1.colon)\r\n    { this.unexpected(); }\r\n\r\n  if (this.eat(types$1.colon)) {\r\n    prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\r\n    prop.kind = \"init\";\r\n  } else if (this.options.ecmaVersion >= 6 && this.type === types$1.parenL) {\r\n    if (isPattern) { this.unexpected(); }\r\n    prop.kind = \"init\";\r\n    prop.method = true;\r\n    prop.value = this.parseMethod(isGenerator, isAsync);\r\n  } else if (!isPattern && !containsEsc &&\r\n             this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\r\n             (prop.key.name === \"get\" || prop.key.name === \"set\") &&\r\n             (this.type !== types$1.comma && this.type !== types$1.braceR && this.type !== types$1.eq)) {\r\n    if (isGenerator || isAsync) { this.unexpected(); }\r\n    prop.kind = prop.key.name;\r\n    this.parsePropertyName(prop);\r\n    prop.value = this.parseMethod(false);\r\n    var paramCount = prop.kind === \"get\" ? 0 : 1;\r\n    if (prop.value.params.length !== paramCount) {\r\n      var start = prop.value.start;\r\n      if (prop.kind === \"get\")\r\n        { this.raiseRecoverable(start, \"getter should have no params\"); }\r\n      else\r\n        { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\r\n    } else {\r\n      if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\r\n        { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\r\n    }\r\n  } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\r\n    if (isGenerator || isAsync) { this.unexpected(); }\r\n    this.checkUnreserved(prop.key);\r\n    if (prop.key.name === \"await\" && !this.awaitIdentPos)\r\n      { this.awaitIdentPos = startPos; }\r\n    prop.kind = \"init\";\r\n    if (isPattern) {\r\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\r\n    } else if (this.type === types$1.eq && refDestructuringErrors) {\r\n      if (refDestructuringErrors.shorthandAssign < 0)\r\n        { refDestructuringErrors.shorthandAssign = this.start; }\r\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\r\n    } else {\r\n      prop.value = this.copyNode(prop.key);\r\n    }\r\n    prop.shorthand = true;\r\n  } else { this.unexpected(); }\r\n};\r\n\r\npp$5.parsePropertyName = function(prop) {\r\n  if (this.options.ecmaVersion >= 6) {\r\n    if (this.eat(types$1.bracketL)) {\r\n      prop.computed = true;\r\n      prop.key = this.parseMaybeAssign();\r\n      this.expect(types$1.bracketR);\r\n      return prop.key\r\n    } else {\r\n      prop.computed = false;\r\n    }\r\n  }\r\n  return prop.key = this.type === types$1.num || this.type === types$1.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\r\n};\r\n\r\n// Initialize empty function node.\r\n\r\npp$5.initFunction = function(node) {\r\n  node.id = null;\r\n  if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\r\n  if (this.options.ecmaVersion >= 8) { node.async = false; }\r\n};\r\n\r\n// Parse object or class method.\r\n\r\npp$5.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\r\n  var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\r\n\r\n  this.initFunction(node);\r\n  if (this.options.ecmaVersion >= 6)\r\n    { node.generator = isGenerator; }\r\n  if (this.options.ecmaVersion >= 8)\r\n    { node.async = !!isAsync; }\r\n\r\n  this.yieldPos = 0;\r\n  this.awaitPos = 0;\r\n  this.awaitIdentPos = 0;\r\n  this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\r\n\r\n  this.expect(types$1.parenL);\r\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\r\n  this.checkYieldAwaitInDefaultParams();\r\n  this.parseFunctionBody(node, false, true, false);\r\n\r\n  this.yieldPos = oldYieldPos;\r\n  this.awaitPos = oldAwaitPos;\r\n  this.awaitIdentPos = oldAwaitIdentPos;\r\n  return this.finishNode(node, \"FunctionExpression\")\r\n};\r\n\r\n// Parse arrow function expression with given parameters.\r\n\r\npp$5.parseArrowExpression = function(node, params, isAsync, forInit) {\r\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\r\n\r\n  this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\r\n  this.initFunction(node);\r\n  if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\r\n\r\n  this.yieldPos = 0;\r\n  this.awaitPos = 0;\r\n  this.awaitIdentPos = 0;\r\n\r\n  node.params = this.toAssignableList(params, true);\r\n  this.parseFunctionBody(node, true, false, forInit);\r\n\r\n  this.yieldPos = oldYieldPos;\r\n  this.awaitPos = oldAwaitPos;\r\n  this.awaitIdentPos = oldAwaitIdentPos;\r\n  return this.finishNode(node, \"ArrowFunctionExpression\")\r\n};\r\n\r\n// Parse function body and check parameters.\r\n\r\npp$5.parseFunctionBody = function(node, isArrowFunction, isMethod, forInit) {\r\n  var isExpression = isArrowFunction && this.type !== types$1.braceL;\r\n  var oldStrict = this.strict, useStrict = false;\r\n\r\n  if (isExpression) {\r\n    node.body = this.parseMaybeAssign(forInit);\r\n    node.expression = true;\r\n    this.checkParams(node, false);\r\n  } else {\r\n    var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\r\n    if (!oldStrict || nonSimple) {\r\n      useStrict = this.strictDirective(this.end);\r\n      // If this is a strict mode function, verify that argument names\r\n      // are not repeated, and it does not try to bind the words `eval`\r\n      // or `arguments`.\r\n      if (useStrict && nonSimple)\r\n        { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\r\n    }\r\n    // Start a new scope with regard to labels and the `inFunction`\r\n    // flag (restore them to their old value afterwards).\r\n    var oldLabels = this.labels;\r\n    this.labels = [];\r\n    if (useStrict) { this.strict = true; }\r\n\r\n    // Add the params to varDeclaredNames to ensure that an error is thrown\r\n    // if a let/const declaration in the function clashes with one of the params.\r\n    this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\r\n    // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\r\n    if (this.strict && node.id) { this.checkLValSimple(node.id, BIND_OUTSIDE); }\r\n    node.body = this.parseBlock(false, undefined, useStrict && !oldStrict);\r\n    node.expression = false;\r\n    this.adaptDirectivePrologue(node.body.body);\r\n    this.labels = oldLabels;\r\n  }\r\n  this.exitScope();\r\n};\r\n\r\npp$5.isSimpleParamList = function(params) {\r\n  for (var i = 0, list = params; i < list.length; i += 1)\r\n    {\r\n    var param = list[i];\r\n\r\n    if (param.type !== \"Identifier\") { return false\r\n  } }\r\n  return true\r\n};\r\n\r\n// Checks function params for various disallowed patterns such as using \"eval\"\r\n// or \"arguments\" and duplicate parameters.\r\n\r\npp$5.checkParams = function(node, allowDuplicates) {\r\n  var nameHash = Object.create(null);\r\n  for (var i = 0, list = node.params; i < list.length; i += 1)\r\n    {\r\n    var param = list[i];\r\n\r\n    this.checkLValInnerPattern(param, BIND_VAR, allowDuplicates ? null : nameHash);\r\n  }\r\n};\r\n\r\n// Parses a comma-separated list of expressions, and returns them as\r\n// an array. `close` is the token type that ends the list, and\r\n// `allowEmpty` can be turned on to allow subsequent commas with\r\n// nothing in between them to be parsed as `null` (which is needed\r\n// for array literals).\r\n\r\npp$5.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\r\n  var elts = [], first = true;\r\n  while (!this.eat(close)) {\r\n    if (!first) {\r\n      this.expect(types$1.comma);\r\n      if (allowTrailingComma && this.afterTrailingComma(close)) { break }\r\n    } else { first = false; }\r\n\r\n    var elt = (void 0);\r\n    if (allowEmpty && this.type === types$1.comma)\r\n      { elt = null; }\r\n    else if (this.type === types$1.ellipsis) {\r\n      elt = this.parseSpread(refDestructuringErrors);\r\n      if (refDestructuringErrors && this.type === types$1.comma && refDestructuringErrors.trailingComma < 0)\r\n        { refDestructuringErrors.trailingComma = this.start; }\r\n    } else {\r\n      elt = this.parseMaybeAssign(false, refDestructuringErrors);\r\n    }\r\n    elts.push(elt);\r\n  }\r\n  return elts\r\n};\r\n\r\npp$5.checkUnreserved = function(ref) {\r\n  var start = ref.start;\r\n  var end = ref.end;\r\n  var name = ref.name;\r\n\r\n  if (this.inGenerator && name === \"yield\")\r\n    { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\r\n  if (this.inAsync && name === \"await\")\r\n    { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\r\n  if (this.currentThisScope().inClassFieldInit && name === \"arguments\")\r\n    { this.raiseRecoverable(start, \"Cannot use 'arguments' in class field initializer\"); }\r\n  if (this.inClassStaticBlock && (name === \"arguments\" || name === \"await\"))\r\n    { this.raise(start, (\"Cannot use \" + name + \" in class static initialization block\")); }\r\n  if (this.keywords.test(name))\r\n    { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\r\n  if (this.options.ecmaVersion < 6 &&\r\n    this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\r\n  var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\r\n  if (re.test(name)) {\r\n    if (!this.inAsync && name === \"await\")\r\n      { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\r\n    this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\r\n  }\r\n};\r\n\r\n// Parse the next token as an identifier. If `liberal` is true (used\r\n// when parsing properties), it will also convert keywords into\r\n// identifiers.\r\n\r\npp$5.parseIdent = function(liberal, isBinding) {\r\n  var node = this.startNode();\r\n  if (this.type === types$1.name) {\r\n    node.name = this.value;\r\n  } else if (this.type.keyword) {\r\n    node.name = this.type.keyword;\r\n\r\n    // To fix https://github.com/acornjs/acorn/issues/575\r\n    // `class` and `function` keywords push new context into this.context.\r\n    // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\r\n    // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\r\n    if ((node.name === \"class\" || node.name === \"function\") &&\r\n        (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\r\n      this.context.pop();\r\n    }\r\n  } else {\r\n    this.unexpected();\r\n  }\r\n  this.next(!!liberal);\r\n  this.finishNode(node, \"Identifier\");\r\n  if (!liberal) {\r\n    this.checkUnreserved(node);\r\n    if (node.name === \"await\" && !this.awaitIdentPos)\r\n      { this.awaitIdentPos = node.start; }\r\n  }\r\n  return node\r\n};\r\n\r\npp$5.parsePrivateIdent = function() {\r\n  var node = this.startNode();\r\n  if (this.type === types$1.privateId) {\r\n    node.name = this.value;\r\n  } else {\r\n    this.unexpected();\r\n  }\r\n  this.next();\r\n  this.finishNode(node, \"PrivateIdentifier\");\r\n\r\n  // For validating existence\r\n  if (this.privateNameStack.length === 0) {\r\n    this.raise(node.start, (\"Private field '#\" + (node.name) + \"' must be declared in an enclosing class\"));\r\n  } else {\r\n    this.privateNameStack[this.privateNameStack.length - 1].used.push(node);\r\n  }\r\n\r\n  return node\r\n};\r\n\r\n// Parses yield expression inside generator.\r\n\r\npp$5.parseYield = function(forInit) {\r\n  if (!this.yieldPos) { this.yieldPos = this.start; }\r\n\r\n  var node = this.startNode();\r\n  this.next();\r\n  if (this.type === types$1.semi || this.canInsertSemicolon() || (this.type !== types$1.star && !this.type.startsExpr)) {\r\n    node.delegate = false;\r\n    node.argument = null;\r\n  } else {\r\n    node.delegate = this.eat(types$1.star);\r\n    node.argument = this.parseMaybeAssign(forInit);\r\n  }\r\n  return this.finishNode(node, \"YieldExpression\")\r\n};\r\n\r\npp$5.parseAwait = function(forInit) {\r\n  if (!this.awaitPos) { this.awaitPos = this.start; }\r\n\r\n  var node = this.startNode();\r\n  this.next();\r\n  node.argument = this.parseMaybeUnary(null, true, false, forInit);\r\n  return this.finishNode(node, \"AwaitExpression\")\r\n};\r\n\r\nvar pp$4 = Parser.prototype;\r\n\r\n// This function is used to raise exceptions on parse errors. It\r\n// takes an offset integer (into the current `input`) to indicate\r\n// the location of the error, attaches the position to the end\r\n// of the error message, and then raises a `SyntaxError` with that\r\n// message.\r\n\r\npp$4.raise = function(pos, message) {\r\n  var loc = getLineInfo(this.input, pos);\r\n  message += \" (\" + loc.line + \":\" + loc.column + \")\";\r\n  var err = new SyntaxError(message);\r\n  err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\r\n  throw err\r\n};\r\n\r\npp$4.raiseRecoverable = pp$4.raise;\r\n\r\npp$4.curPosition = function() {\r\n  if (this.options.locations) {\r\n    return new Position(this.curLine, this.pos - this.lineStart)\r\n  }\r\n};\r\n\r\nvar pp$3 = Parser.prototype;\r\n\r\nvar Scope = function Scope(flags) {\r\n  this.flags = flags;\r\n  // A list of var-declared names in the current lexical scope\r\n  this.var = [];\r\n  // A list of lexically-declared names in the current lexical scope\r\n  this.lexical = [];\r\n  // A list of lexically-declared FunctionDeclaration names in the current lexical scope\r\n  this.functions = [];\r\n  // A switch to disallow the identifier reference 'arguments'\r\n  this.inClassFieldInit = false;\r\n};\r\n\r\n// The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\r\n\r\npp$3.enterScope = function(flags) {\r\n  this.scopeStack.push(new Scope(flags));\r\n};\r\n\r\npp$3.exitScope = function() {\r\n  this.scopeStack.pop();\r\n};\r\n\r\n// The spec says:\r\n// > At the top level of a function, or script, function declarations are\r\n// > treated like var declarations rather than like lexical declarations.\r\npp$3.treatFunctionsAsVarInScope = function(scope) {\r\n  return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\r\n};\r\n\r\npp$3.declareName = function(name, bindingType, pos) {\r\n  var redeclared = false;\r\n  if (bindingType === BIND_LEXICAL) {\r\n    var scope = this.currentScope();\r\n    redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\r\n    scope.lexical.push(name);\r\n    if (this.inModule && (scope.flags & SCOPE_TOP))\r\n      { delete this.undefinedExports[name]; }\r\n  } else if (bindingType === BIND_SIMPLE_CATCH) {\r\n    var scope$1 = this.currentScope();\r\n    scope$1.lexical.push(name);\r\n  } else if (bindingType === BIND_FUNCTION) {\r\n    var scope$2 = this.currentScope();\r\n    if (this.treatFunctionsAsVar)\r\n      { redeclared = scope$2.lexical.indexOf(name) > -1; }\r\n    else\r\n      { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\r\n    scope$2.functions.push(name);\r\n  } else {\r\n    for (var i = this.scopeStack.length - 1; i >= 0; --i) {\r\n      var scope$3 = this.scopeStack[i];\r\n      if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\r\n          !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\r\n        redeclared = true;\r\n        break\r\n      }\r\n      scope$3.var.push(name);\r\n      if (this.inModule && (scope$3.flags & SCOPE_TOP))\r\n        { delete this.undefinedExports[name]; }\r\n      if (scope$3.flags & SCOPE_VAR) { break }\r\n    }\r\n  }\r\n  if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\r\n};\r\n\r\npp$3.checkLocalExport = function(id) {\r\n  // scope.functions must be empty as Module code is always strict.\r\n  if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\r\n      this.scopeStack[0].var.indexOf(id.name) === -1) {\r\n    this.undefinedExports[id.name] = id;\r\n  }\r\n};\r\n\r\npp$3.currentScope = function() {\r\n  return this.scopeStack[this.scopeStack.length - 1]\r\n};\r\n\r\npp$3.currentVarScope = function() {\r\n  for (var i = this.scopeStack.length - 1;; i--) {\r\n    var scope = this.scopeStack[i];\r\n    if (scope.flags & SCOPE_VAR) { return scope }\r\n  }\r\n};\r\n\r\n// Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\r\npp$3.currentThisScope = function() {\r\n  for (var i = this.scopeStack.length - 1;; i--) {\r\n    var scope = this.scopeStack[i];\r\n    if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\r\n  }\r\n};\r\n\r\nvar Node = function Node(parser, pos, loc) {\r\n  this.type = \"\";\r\n  this.start = pos;\r\n  this.end = 0;\r\n  if (parser.options.locations)\r\n    { this.loc = new SourceLocation(parser, loc); }\r\n  if (parser.options.directSourceFile)\r\n    { this.sourceFile = parser.options.directSourceFile; }\r\n  if (parser.options.ranges)\r\n    { this.range = [pos, 0]; }\r\n};\r\n\r\n// Start an AST node, attaching a start offset.\r\n\r\nvar pp$2 = Parser.prototype;\r\n\r\npp$2.startNode = function() {\r\n  return new Node(this, this.start, this.startLoc)\r\n};\r\n\r\npp$2.startNodeAt = function(pos, loc) {\r\n  return new Node(this, pos, loc)\r\n};\r\n\r\n// Finish an AST node, adding `type` and `end` properties.\r\n\r\nfunction finishNodeAt(node, type, pos, loc) {\r\n  node.type = type;\r\n  node.end = pos;\r\n  if (this.options.locations)\r\n    { node.loc.end = loc; }\r\n  if (this.options.ranges)\r\n    { node.range[1] = pos; }\r\n  return node\r\n}\r\n\r\npp$2.finishNode = function(node, type) {\r\n  return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\r\n};\r\n\r\n// Finish node at given position\r\n\r\npp$2.finishNodeAt = function(node, type, pos, loc) {\r\n  return finishNodeAt.call(this, node, type, pos, loc)\r\n};\r\n\r\npp$2.copyNode = function(node) {\r\n  var newNode = new Node(this, node.start, this.startLoc);\r\n  for (var prop in node) { newNode[prop] = node[prop]; }\r\n  return newNode\r\n};\r\n\r\n// This file contains Unicode properties extracted from the ECMAScript\r\n// specification. The lists are extracted like so:\r\n// $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\r\n\r\n// #table-binary-unicode-properties\r\nvar ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\r\nvar ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\r\nvar ecma11BinaryProperties = ecma10BinaryProperties;\r\nvar ecma12BinaryProperties = ecma11BinaryProperties + \" EBase EComp EMod EPres ExtPict\";\r\nvar ecma13BinaryProperties = ecma12BinaryProperties;\r\nvar unicodeBinaryProperties = {\r\n  9: ecma9BinaryProperties,\r\n  10: ecma10BinaryProperties,\r\n  11: ecma11BinaryProperties,\r\n  12: ecma12BinaryProperties,\r\n  13: ecma13BinaryProperties\r\n};\r\n\r\n// #table-unicode-general-category-values\r\nvar unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\r\n\r\n// #table-unicode-script-values\r\nvar ecma9ScriptValues = \"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\r\nvar ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\r\nvar ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\r\nvar ecma12ScriptValues = ecma11ScriptValues + \" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi\";\r\nvar ecma13ScriptValues = ecma12ScriptValues + \" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith\";\r\nvar unicodeScriptValues = {\r\n  9: ecma9ScriptValues,\r\n  10: ecma10ScriptValues,\r\n  11: ecma11ScriptValues,\r\n  12: ecma12ScriptValues,\r\n  13: ecma13ScriptValues\r\n};\r\n\r\nvar data = {};\r\nfunction buildUnicodeData(ecmaVersion) {\r\n  var d = data[ecmaVersion] = {\r\n    binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\r\n    nonBinary: {\r\n      General_Category: wordsRegexp(unicodeGeneralCategoryValues),\r\n      Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\r\n    }\r\n  };\r\n  d.nonBinary.Script_Extensions = d.nonBinary.Script;\r\n\r\n  d.nonBinary.gc = d.nonBinary.General_Category;\r\n  d.nonBinary.sc = d.nonBinary.Script;\r\n  d.nonBinary.scx = d.nonBinary.Script_Extensions;\r\n}\r\n\r\nfor (var i$1 = 0, list = [9, 10, 11, 12, 13]; i$1 < list.length; i$1 += 1) {\r\n  var ecmaVersion = list[i$1];\r\n\r\n  buildUnicodeData(ecmaVersion);\r\n}\r\n\r\nvar pp$1 = Parser.prototype;\r\n\r\nvar RegExpValidationState = function RegExpValidationState(parser) {\r\n  this.parser = parser;\r\n  this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\") + (parser.options.ecmaVersion >= 13 ? \"d\" : \"\");\r\n  this.unicodeProperties = data[parser.options.ecmaVersion >= 13 ? 13 : parser.options.ecmaVersion];\r\n  this.source = \"\";\r\n  this.flags = \"\";\r\n  this.start = 0;\r\n  this.switchU = false;\r\n  this.switchN = false;\r\n  this.pos = 0;\r\n  this.lastIntValue = 0;\r\n  this.lastStringValue = \"\";\r\n  this.lastAssertionIsQuantifiable = false;\r\n  this.numCapturingParens = 0;\r\n  this.maxBackReference = 0;\r\n  this.groupNames = [];\r\n  this.backReferenceNames = [];\r\n};\r\n\r\nRegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\r\n  var unicode = flags.indexOf(\"u\") !== -1;\r\n  this.start = start | 0;\r\n  this.source = pattern + \"\";\r\n  this.flags = flags;\r\n  this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\r\n  this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\r\n};\r\n\r\nRegExpValidationState.prototype.raise = function raise (message) {\r\n  this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\r\n};\r\n\r\n// If u flag is given, this returns the code point at the index (it combines a surrogate pair).\r\n// Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\r\nRegExpValidationState.prototype.at = function at (i, forceU) {\r\n    if ( forceU === void 0 ) forceU = false;\r\n\r\n  var s = this.source;\r\n  var l = s.length;\r\n  if (i >= l) {\r\n    return -1\r\n  }\r\n  var c = s.charCodeAt(i);\r\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\r\n    return c\r\n  }\r\n  var next = s.charCodeAt(i + 1);\r\n  return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\r\n};\r\n\r\nRegExpValidationState.prototype.nextIndex = function nextIndex (i, forceU) {\r\n    if ( forceU === void 0 ) forceU = false;\r\n\r\n  var s = this.source;\r\n  var l = s.length;\r\n  if (i >= l) {\r\n    return l\r\n  }\r\n  var c = s.charCodeAt(i), next;\r\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\r\n      (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\r\n    return i + 1\r\n  }\r\n  return i + 2\r\n};\r\n\r\nRegExpValidationState.prototype.current = function current (forceU) {\r\n    if ( forceU === void 0 ) forceU = false;\r\n\r\n  return this.at(this.pos, forceU)\r\n};\r\n\r\nRegExpValidationState.prototype.lookahead = function lookahead (forceU) {\r\n    if ( forceU === void 0 ) forceU = false;\r\n\r\n  return this.at(this.nextIndex(this.pos, forceU), forceU)\r\n};\r\n\r\nRegExpValidationState.prototype.advance = function advance (forceU) {\r\n    if ( forceU === void 0 ) forceU = false;\r\n\r\n  this.pos = this.nextIndex(this.pos, forceU);\r\n};\r\n\r\nRegExpValidationState.prototype.eat = function eat (ch, forceU) {\r\n    if ( forceU === void 0 ) forceU = false;\r\n\r\n  if (this.current(forceU) === ch) {\r\n    this.advance(forceU);\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n/**\r\n * Validate the flags part of a given RegExpLiteral.\r\n *\r\n * @param {RegExpValidationState} state The state to validate RegExp.\r\n * @returns {void}\r\n */\r\npp$1.validateRegExpFlags = function(state) {\r\n  var validFlags = state.validFlags;\r\n  var flags = state.flags;\r\n\r\n  for (var i = 0; i < flags.length; i++) {\r\n    var flag = flags.charAt(i);\r\n    if (validFlags.indexOf(flag) === -1) {\r\n      this.raise(state.start, \"Invalid regular expression flag\");\r\n    }\r\n    if (flags.indexOf(flag, i + 1) > -1) {\r\n      this.raise(state.start, \"Duplicate regular expression flag\");\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Validate the pattern part of a given RegExpLiteral.\r\n *\r\n * @param {RegExpValidationState} state The state to validate RegExp.\r\n * @returns {void}\r\n */\r\npp$1.validateRegExpPattern = function(state) {\r\n  this.regexp_pattern(state);\r\n\r\n  // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\r\n  // parsing contains a |GroupName|, reparse with the goal symbol\r\n  // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\r\n  // exception if _P_ did not conform to the grammar, if any elements of _P_\r\n  // were not matched by the parse, or if any Early Error conditions exist.\r\n  if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\r\n    state.switchN = true;\r\n    this.regexp_pattern(state);\r\n  }\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\r\npp$1.regexp_pattern = function(state) {\r\n  state.pos = 0;\r\n  state.lastIntValue = 0;\r\n  state.lastStringValue = \"\";\r\n  state.lastAssertionIsQuantifiable = false;\r\n  state.numCapturingParens = 0;\r\n  state.maxBackReference = 0;\r\n  state.groupNames.length = 0;\r\n  state.backReferenceNames.length = 0;\r\n\r\n  this.regexp_disjunction(state);\r\n\r\n  if (state.pos !== state.source.length) {\r\n    // Make the same messages as V8.\r\n    if (state.eat(0x29 /* ) */)) {\r\n      state.raise(\"Unmatched ')'\");\r\n    }\r\n    if (state.eat(0x5D /* ] */) || state.eat(0x7D /* } */)) {\r\n      state.raise(\"Lone quantifier brackets\");\r\n    }\r\n  }\r\n  if (state.maxBackReference > state.numCapturingParens) {\r\n    state.raise(\"Invalid escape\");\r\n  }\r\n  for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\r\n    var name = list[i];\r\n\r\n    if (state.groupNames.indexOf(name) === -1) {\r\n      state.raise(\"Invalid named capture referenced\");\r\n    }\r\n  }\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\r\npp$1.regexp_disjunction = function(state) {\r\n  this.regexp_alternative(state);\r\n  while (state.eat(0x7C /* | */)) {\r\n    this.regexp_alternative(state);\r\n  }\r\n\r\n  // Make the same message as V8.\r\n  if (this.regexp_eatQuantifier(state, true)) {\r\n    state.raise(\"Nothing to repeat\");\r\n  }\r\n  if (state.eat(0x7B /* { */)) {\r\n    state.raise(\"Lone quantifier brackets\");\r\n  }\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\r\npp$1.regexp_alternative = function(state) {\r\n  while (state.pos < state.source.length && this.regexp_eatTerm(state))\r\n    { }\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\r\npp$1.regexp_eatTerm = function(state) {\r\n  if (this.regexp_eatAssertion(state)) {\r\n    // Handle `QuantifiableAssertion Quantifier` alternative.\r\n    // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\r\n    // is a QuantifiableAssertion.\r\n    if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\r\n      // Make the same message as V8.\r\n      if (state.switchU) {\r\n        state.raise(\"Invalid quantifier\");\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\r\n    this.regexp_eatQuantifier(state);\r\n    return true\r\n  }\r\n\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\r\npp$1.regexp_eatAssertion = function(state) {\r\n  var start = state.pos;\r\n  state.lastAssertionIsQuantifiable = false;\r\n\r\n  // ^, $\r\n  if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\r\n    return true\r\n  }\r\n\r\n  // \\b \\B\r\n  if (state.eat(0x5C /* \\ */)) {\r\n    if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\r\n      return true\r\n    }\r\n    state.pos = start;\r\n  }\r\n\r\n  // Lookahead / Lookbehind\r\n  if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\r\n    var lookbehind = false;\r\n    if (this.options.ecmaVersion >= 9) {\r\n      lookbehind = state.eat(0x3C /* < */);\r\n    }\r\n    if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\r\n      this.regexp_disjunction(state);\r\n      if (!state.eat(0x29 /* ) */)) {\r\n        state.raise(\"Unterminated group\");\r\n      }\r\n      state.lastAssertionIsQuantifiable = !lookbehind;\r\n      return true\r\n    }\r\n  }\r\n\r\n  state.pos = start;\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\r\npp$1.regexp_eatQuantifier = function(state, noError) {\r\n  if ( noError === void 0 ) noError = false;\r\n\r\n  if (this.regexp_eatQuantifierPrefix(state, noError)) {\r\n    state.eat(0x3F /* ? */);\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\r\npp$1.regexp_eatQuantifierPrefix = function(state, noError) {\r\n  return (\r\n    state.eat(0x2A /* * */) ||\r\n    state.eat(0x2B /* + */) ||\r\n    state.eat(0x3F /* ? */) ||\r\n    this.regexp_eatBracedQuantifier(state, noError)\r\n  )\r\n};\r\npp$1.regexp_eatBracedQuantifier = function(state, noError) {\r\n  var start = state.pos;\r\n  if (state.eat(0x7B /* { */)) {\r\n    var min = 0, max = -1;\r\n    if (this.regexp_eatDecimalDigits(state)) {\r\n      min = state.lastIntValue;\r\n      if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\r\n        max = state.lastIntValue;\r\n      }\r\n      if (state.eat(0x7D /* } */)) {\r\n        // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\r\n        if (max !== -1 && max < min && !noError) {\r\n          state.raise(\"numbers out of order in {} quantifier\");\r\n        }\r\n        return true\r\n      }\r\n    }\r\n    if (state.switchU && !noError) {\r\n      state.raise(\"Incomplete quantifier\");\r\n    }\r\n    state.pos = start;\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\r\npp$1.regexp_eatAtom = function(state) {\r\n  return (\r\n    this.regexp_eatPatternCharacters(state) ||\r\n    state.eat(0x2E /* . */) ||\r\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\r\n    this.regexp_eatCharacterClass(state) ||\r\n    this.regexp_eatUncapturingGroup(state) ||\r\n    this.regexp_eatCapturingGroup(state)\r\n  )\r\n};\r\npp$1.regexp_eatReverseSolidusAtomEscape = function(state) {\r\n  var start = state.pos;\r\n  if (state.eat(0x5C /* \\ */)) {\r\n    if (this.regexp_eatAtomEscape(state)) {\r\n      return true\r\n    }\r\n    state.pos = start;\r\n  }\r\n  return false\r\n};\r\npp$1.regexp_eatUncapturingGroup = function(state) {\r\n  var start = state.pos;\r\n  if (state.eat(0x28 /* ( */)) {\r\n    if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\r\n      this.regexp_disjunction(state);\r\n      if (state.eat(0x29 /* ) */)) {\r\n        return true\r\n      }\r\n      state.raise(\"Unterminated group\");\r\n    }\r\n    state.pos = start;\r\n  }\r\n  return false\r\n};\r\npp$1.regexp_eatCapturingGroup = function(state) {\r\n  if (state.eat(0x28 /* ( */)) {\r\n    if (this.options.ecmaVersion >= 9) {\r\n      this.regexp_groupSpecifier(state);\r\n    } else if (state.current() === 0x3F /* ? */) {\r\n      state.raise(\"Invalid group\");\r\n    }\r\n    this.regexp_disjunction(state);\r\n    if (state.eat(0x29 /* ) */)) {\r\n      state.numCapturingParens += 1;\r\n      return true\r\n    }\r\n    state.raise(\"Unterminated group\");\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\r\npp$1.regexp_eatExtendedAtom = function(state) {\r\n  return (\r\n    state.eat(0x2E /* . */) ||\r\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\r\n    this.regexp_eatCharacterClass(state) ||\r\n    this.regexp_eatUncapturingGroup(state) ||\r\n    this.regexp_eatCapturingGroup(state) ||\r\n    this.regexp_eatInvalidBracedQuantifier(state) ||\r\n    this.regexp_eatExtendedPatternCharacter(state)\r\n  )\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\r\npp$1.regexp_eatInvalidBracedQuantifier = function(state) {\r\n  if (this.regexp_eatBracedQuantifier(state, true)) {\r\n    state.raise(\"Nothing to repeat\");\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\r\npp$1.regexp_eatSyntaxCharacter = function(state) {\r\n  var ch = state.current();\r\n  if (isSyntaxCharacter(ch)) {\r\n    state.lastIntValue = ch;\r\n    state.advance();\r\n    return true\r\n  }\r\n  return false\r\n};\r\nfunction isSyntaxCharacter(ch) {\r\n  return (\r\n    ch === 0x24 /* $ */ ||\r\n    ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\r\n    ch === 0x2E /* . */ ||\r\n    ch === 0x3F /* ? */ ||\r\n    ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\r\n    ch >= 0x7B /* { */ && ch <= 0x7D /* } */\r\n  )\r\n}\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\r\n// But eat eager.\r\npp$1.regexp_eatPatternCharacters = function(state) {\r\n  var start = state.pos;\r\n  var ch = 0;\r\n  while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\r\n    state.advance();\r\n  }\r\n  return state.pos !== start\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\r\npp$1.regexp_eatExtendedPatternCharacter = function(state) {\r\n  var ch = state.current();\r\n  if (\r\n    ch !== -1 &&\r\n    ch !== 0x24 /* $ */ &&\r\n    !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\r\n    ch !== 0x2E /* . */ &&\r\n    ch !== 0x3F /* ? */ &&\r\n    ch !== 0x5B /* [ */ &&\r\n    ch !== 0x5E /* ^ */ &&\r\n    ch !== 0x7C /* | */\r\n  ) {\r\n    state.advance();\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// GroupSpecifier ::\r\n//   [empty]\r\n//   `?` GroupName\r\npp$1.regexp_groupSpecifier = function(state) {\r\n  if (state.eat(0x3F /* ? */)) {\r\n    if (this.regexp_eatGroupName(state)) {\r\n      if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\r\n        state.raise(\"Duplicate capture group name\");\r\n      }\r\n      state.groupNames.push(state.lastStringValue);\r\n      return\r\n    }\r\n    state.raise(\"Invalid group\");\r\n  }\r\n};\r\n\r\n// GroupName ::\r\n//   `<` RegExpIdentifierName `>`\r\n// Note: this updates `state.lastStringValue` property with the eaten name.\r\npp$1.regexp_eatGroupName = function(state) {\r\n  state.lastStringValue = \"\";\r\n  if (state.eat(0x3C /* < */)) {\r\n    if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\r\n      return true\r\n    }\r\n    state.raise(\"Invalid capture group name\");\r\n  }\r\n  return false\r\n};\r\n\r\n// RegExpIdentifierName ::\r\n//   RegExpIdentifierStart\r\n//   RegExpIdentifierName RegExpIdentifierPart\r\n// Note: this updates `state.lastStringValue` property with the eaten name.\r\npp$1.regexp_eatRegExpIdentifierName = function(state) {\r\n  state.lastStringValue = \"\";\r\n  if (this.regexp_eatRegExpIdentifierStart(state)) {\r\n    state.lastStringValue += codePointToString(state.lastIntValue);\r\n    while (this.regexp_eatRegExpIdentifierPart(state)) {\r\n      state.lastStringValue += codePointToString(state.lastIntValue);\r\n    }\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// RegExpIdentifierStart ::\r\n//   UnicodeIDStart\r\n//   `$`\r\n//   `_`\r\n//   `\\` RegExpUnicodeEscapeSequence[+U]\r\npp$1.regexp_eatRegExpIdentifierStart = function(state) {\r\n  var start = state.pos;\r\n  var forceU = this.options.ecmaVersion >= 11;\r\n  var ch = state.current(forceU);\r\n  state.advance(forceU);\r\n\r\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\r\n    ch = state.lastIntValue;\r\n  }\r\n  if (isRegExpIdentifierStart(ch)) {\r\n    state.lastIntValue = ch;\r\n    return true\r\n  }\r\n\r\n  state.pos = start;\r\n  return false\r\n};\r\nfunction isRegExpIdentifierStart(ch) {\r\n  return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\r\n}\r\n\r\n// RegExpIdentifierPart ::\r\n//   UnicodeIDContinue\r\n//   `$`\r\n//   `_`\r\n//   `\\` RegExpUnicodeEscapeSequence[+U]\r\n//   <ZWNJ>\r\n//   <ZWJ>\r\npp$1.regexp_eatRegExpIdentifierPart = function(state) {\r\n  var start = state.pos;\r\n  var forceU = this.options.ecmaVersion >= 11;\r\n  var ch = state.current(forceU);\r\n  state.advance(forceU);\r\n\r\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\r\n    ch = state.lastIntValue;\r\n  }\r\n  if (isRegExpIdentifierPart(ch)) {\r\n    state.lastIntValue = ch;\r\n    return true\r\n  }\r\n\r\n  state.pos = start;\r\n  return false\r\n};\r\nfunction isRegExpIdentifierPart(ch) {\r\n  return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\r\n}\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\r\npp$1.regexp_eatAtomEscape = function(state) {\r\n  if (\r\n    this.regexp_eatBackReference(state) ||\r\n    this.regexp_eatCharacterClassEscape(state) ||\r\n    this.regexp_eatCharacterEscape(state) ||\r\n    (state.switchN && this.regexp_eatKGroupName(state))\r\n  ) {\r\n    return true\r\n  }\r\n  if (state.switchU) {\r\n    // Make the same message as V8.\r\n    if (state.current() === 0x63 /* c */) {\r\n      state.raise(\"Invalid unicode escape\");\r\n    }\r\n    state.raise(\"Invalid escape\");\r\n  }\r\n  return false\r\n};\r\npp$1.regexp_eatBackReference = function(state) {\r\n  var start = state.pos;\r\n  if (this.regexp_eatDecimalEscape(state)) {\r\n    var n = state.lastIntValue;\r\n    if (state.switchU) {\r\n      // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\r\n      if (n > state.maxBackReference) {\r\n        state.maxBackReference = n;\r\n      }\r\n      return true\r\n    }\r\n    if (n <= state.numCapturingParens) {\r\n      return true\r\n    }\r\n    state.pos = start;\r\n  }\r\n  return false\r\n};\r\npp$1.regexp_eatKGroupName = function(state) {\r\n  if (state.eat(0x6B /* k */)) {\r\n    if (this.regexp_eatGroupName(state)) {\r\n      state.backReferenceNames.push(state.lastStringValue);\r\n      return true\r\n    }\r\n    state.raise(\"Invalid named reference\");\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\r\npp$1.regexp_eatCharacterEscape = function(state) {\r\n  return (\r\n    this.regexp_eatControlEscape(state) ||\r\n    this.regexp_eatCControlLetter(state) ||\r\n    this.regexp_eatZero(state) ||\r\n    this.regexp_eatHexEscapeSequence(state) ||\r\n    this.regexp_eatRegExpUnicodeEscapeSequence(state, false) ||\r\n    (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\r\n    this.regexp_eatIdentityEscape(state)\r\n  )\r\n};\r\npp$1.regexp_eatCControlLetter = function(state) {\r\n  var start = state.pos;\r\n  if (state.eat(0x63 /* c */)) {\r\n    if (this.regexp_eatControlLetter(state)) {\r\n      return true\r\n    }\r\n    state.pos = start;\r\n  }\r\n  return false\r\n};\r\npp$1.regexp_eatZero = function(state) {\r\n  if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\r\n    state.lastIntValue = 0;\r\n    state.advance();\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\r\npp$1.regexp_eatControlEscape = function(state) {\r\n  var ch = state.current();\r\n  if (ch === 0x74 /* t */) {\r\n    state.lastIntValue = 0x09; /* \\t */\r\n    state.advance();\r\n    return true\r\n  }\r\n  if (ch === 0x6E /* n */) {\r\n    state.lastIntValue = 0x0A; /* \\n */\r\n    state.advance();\r\n    return true\r\n  }\r\n  if (ch === 0x76 /* v */) {\r\n    state.lastIntValue = 0x0B; /* \\v */\r\n    state.advance();\r\n    return true\r\n  }\r\n  if (ch === 0x66 /* f */) {\r\n    state.lastIntValue = 0x0C; /* \\f */\r\n    state.advance();\r\n    return true\r\n  }\r\n  if (ch === 0x72 /* r */) {\r\n    state.lastIntValue = 0x0D; /* \\r */\r\n    state.advance();\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\r\npp$1.regexp_eatControlLetter = function(state) {\r\n  var ch = state.current();\r\n  if (isControlLetter(ch)) {\r\n    state.lastIntValue = ch % 0x20;\r\n    state.advance();\r\n    return true\r\n  }\r\n  return false\r\n};\r\nfunction isControlLetter(ch) {\r\n  return (\r\n    (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\r\n    (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\r\n  )\r\n}\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\r\npp$1.regexp_eatRegExpUnicodeEscapeSequence = function(state, forceU) {\r\n  if ( forceU === void 0 ) forceU = false;\r\n\r\n  var start = state.pos;\r\n  var switchU = forceU || state.switchU;\r\n\r\n  if (state.eat(0x75 /* u */)) {\r\n    if (this.regexp_eatFixedHexDigits(state, 4)) {\r\n      var lead = state.lastIntValue;\r\n      if (switchU && lead >= 0xD800 && lead <= 0xDBFF) {\r\n        var leadSurrogateEnd = state.pos;\r\n        if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\r\n          var trail = state.lastIntValue;\r\n          if (trail >= 0xDC00 && trail <= 0xDFFF) {\r\n            state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\r\n            return true\r\n          }\r\n        }\r\n        state.pos = leadSurrogateEnd;\r\n        state.lastIntValue = lead;\r\n      }\r\n      return true\r\n    }\r\n    if (\r\n      switchU &&\r\n      state.eat(0x7B /* { */) &&\r\n      this.regexp_eatHexDigits(state) &&\r\n      state.eat(0x7D /* } */) &&\r\n      isValidUnicode(state.lastIntValue)\r\n    ) {\r\n      return true\r\n    }\r\n    if (switchU) {\r\n      state.raise(\"Invalid unicode escape\");\r\n    }\r\n    state.pos = start;\r\n  }\r\n\r\n  return false\r\n};\r\nfunction isValidUnicode(ch) {\r\n  return ch >= 0 && ch <= 0x10FFFF\r\n}\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\r\npp$1.regexp_eatIdentityEscape = function(state) {\r\n  if (state.switchU) {\r\n    if (this.regexp_eatSyntaxCharacter(state)) {\r\n      return true\r\n    }\r\n    if (state.eat(0x2F /* / */)) {\r\n      state.lastIntValue = 0x2F; /* / */\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  var ch = state.current();\r\n  if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\r\n    state.lastIntValue = ch;\r\n    state.advance();\r\n    return true\r\n  }\r\n\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\r\npp$1.regexp_eatDecimalEscape = function(state) {\r\n  state.lastIntValue = 0;\r\n  var ch = state.current();\r\n  if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\r\n    do {\r\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\r\n      state.advance();\r\n    } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\r\npp$1.regexp_eatCharacterClassEscape = function(state) {\r\n  var ch = state.current();\r\n\r\n  if (isCharacterClassEscape(ch)) {\r\n    state.lastIntValue = -1;\r\n    state.advance();\r\n    return true\r\n  }\r\n\r\n  if (\r\n    state.switchU &&\r\n    this.options.ecmaVersion >= 9 &&\r\n    (ch === 0x50 /* P */ || ch === 0x70 /* p */)\r\n  ) {\r\n    state.lastIntValue = -1;\r\n    state.advance();\r\n    if (\r\n      state.eat(0x7B /* { */) &&\r\n      this.regexp_eatUnicodePropertyValueExpression(state) &&\r\n      state.eat(0x7D /* } */)\r\n    ) {\r\n      return true\r\n    }\r\n    state.raise(\"Invalid property name\");\r\n  }\r\n\r\n  return false\r\n};\r\nfunction isCharacterClassEscape(ch) {\r\n  return (\r\n    ch === 0x64 /* d */ ||\r\n    ch === 0x44 /* D */ ||\r\n    ch === 0x73 /* s */ ||\r\n    ch === 0x53 /* S */ ||\r\n    ch === 0x77 /* w */ ||\r\n    ch === 0x57 /* W */\r\n  )\r\n}\r\n\r\n// UnicodePropertyValueExpression ::\r\n//   UnicodePropertyName `=` UnicodePropertyValue\r\n//   LoneUnicodePropertyNameOrValue\r\npp$1.regexp_eatUnicodePropertyValueExpression = function(state) {\r\n  var start = state.pos;\r\n\r\n  // UnicodePropertyName `=` UnicodePropertyValue\r\n  if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\r\n    var name = state.lastStringValue;\r\n    if (this.regexp_eatUnicodePropertyValue(state)) {\r\n      var value = state.lastStringValue;\r\n      this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\r\n      return true\r\n    }\r\n  }\r\n  state.pos = start;\r\n\r\n  // LoneUnicodePropertyNameOrValue\r\n  if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\r\n    var nameOrValue = state.lastStringValue;\r\n    this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\r\n    return true\r\n  }\r\n  return false\r\n};\r\npp$1.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\r\n  if (!hasOwn(state.unicodeProperties.nonBinary, name))\r\n    { state.raise(\"Invalid property name\"); }\r\n  if (!state.unicodeProperties.nonBinary[name].test(value))\r\n    { state.raise(\"Invalid property value\"); }\r\n};\r\npp$1.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\r\n  if (!state.unicodeProperties.binary.test(nameOrValue))\r\n    { state.raise(\"Invalid property name\"); }\r\n};\r\n\r\n// UnicodePropertyName ::\r\n//   UnicodePropertyNameCharacters\r\npp$1.regexp_eatUnicodePropertyName = function(state) {\r\n  var ch = 0;\r\n  state.lastStringValue = \"\";\r\n  while (isUnicodePropertyNameCharacter(ch = state.current())) {\r\n    state.lastStringValue += codePointToString(ch);\r\n    state.advance();\r\n  }\r\n  return state.lastStringValue !== \"\"\r\n};\r\nfunction isUnicodePropertyNameCharacter(ch) {\r\n  return isControlLetter(ch) || ch === 0x5F /* _ */\r\n}\r\n\r\n// UnicodePropertyValue ::\r\n//   UnicodePropertyValueCharacters\r\npp$1.regexp_eatUnicodePropertyValue = function(state) {\r\n  var ch = 0;\r\n  state.lastStringValue = \"\";\r\n  while (isUnicodePropertyValueCharacter(ch = state.current())) {\r\n    state.lastStringValue += codePointToString(ch);\r\n    state.advance();\r\n  }\r\n  return state.lastStringValue !== \"\"\r\n};\r\nfunction isUnicodePropertyValueCharacter(ch) {\r\n  return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\r\n}\r\n\r\n// LoneUnicodePropertyNameOrValue ::\r\n//   UnicodePropertyValueCharacters\r\npp$1.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\r\n  return this.regexp_eatUnicodePropertyValue(state)\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\r\npp$1.regexp_eatCharacterClass = function(state) {\r\n  if (state.eat(0x5B /* [ */)) {\r\n    state.eat(0x5E /* ^ */);\r\n    this.regexp_classRanges(state);\r\n    if (state.eat(0x5D /* ] */)) {\r\n      return true\r\n    }\r\n    // Unreachable since it threw \"unterminated regular expression\" error before.\r\n    state.raise(\"Unterminated character class\");\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\r\npp$1.regexp_classRanges = function(state) {\r\n  while (this.regexp_eatClassAtom(state)) {\r\n    var left = state.lastIntValue;\r\n    if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\r\n      var right = state.lastIntValue;\r\n      if (state.switchU && (left === -1 || right === -1)) {\r\n        state.raise(\"Invalid character class\");\r\n      }\r\n      if (left !== -1 && right !== -1 && left > right) {\r\n        state.raise(\"Range out of order in character class\");\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\r\npp$1.regexp_eatClassAtom = function(state) {\r\n  var start = state.pos;\r\n\r\n  if (state.eat(0x5C /* \\ */)) {\r\n    if (this.regexp_eatClassEscape(state)) {\r\n      return true\r\n    }\r\n    if (state.switchU) {\r\n      // Make the same message as V8.\r\n      var ch$1 = state.current();\r\n      if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\r\n        state.raise(\"Invalid class escape\");\r\n      }\r\n      state.raise(\"Invalid escape\");\r\n    }\r\n    state.pos = start;\r\n  }\r\n\r\n  var ch = state.current();\r\n  if (ch !== 0x5D /* ] */) {\r\n    state.lastIntValue = ch;\r\n    state.advance();\r\n    return true\r\n  }\r\n\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\r\npp$1.regexp_eatClassEscape = function(state) {\r\n  var start = state.pos;\r\n\r\n  if (state.eat(0x62 /* b */)) {\r\n    state.lastIntValue = 0x08; /* <BS> */\r\n    return true\r\n  }\r\n\r\n  if (state.switchU && state.eat(0x2D /* - */)) {\r\n    state.lastIntValue = 0x2D; /* - */\r\n    return true\r\n  }\r\n\r\n  if (!state.switchU && state.eat(0x63 /* c */)) {\r\n    if (this.regexp_eatClassControlLetter(state)) {\r\n      return true\r\n    }\r\n    state.pos = start;\r\n  }\r\n\r\n  return (\r\n    this.regexp_eatCharacterClassEscape(state) ||\r\n    this.regexp_eatCharacterEscape(state)\r\n  )\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\r\npp$1.regexp_eatClassControlLetter = function(state) {\r\n  var ch = state.current();\r\n  if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\r\n    state.lastIntValue = ch % 0x20;\r\n    state.advance();\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\r\npp$1.regexp_eatHexEscapeSequence = function(state) {\r\n  var start = state.pos;\r\n  if (state.eat(0x78 /* x */)) {\r\n    if (this.regexp_eatFixedHexDigits(state, 2)) {\r\n      return true\r\n    }\r\n    if (state.switchU) {\r\n      state.raise(\"Invalid escape\");\r\n    }\r\n    state.pos = start;\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\r\npp$1.regexp_eatDecimalDigits = function(state) {\r\n  var start = state.pos;\r\n  var ch = 0;\r\n  state.lastIntValue = 0;\r\n  while (isDecimalDigit(ch = state.current())) {\r\n    state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\r\n    state.advance();\r\n  }\r\n  return state.pos !== start\r\n};\r\nfunction isDecimalDigit(ch) {\r\n  return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\r\n}\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\r\npp$1.regexp_eatHexDigits = function(state) {\r\n  var start = state.pos;\r\n  var ch = 0;\r\n  state.lastIntValue = 0;\r\n  while (isHexDigit(ch = state.current())) {\r\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\r\n    state.advance();\r\n  }\r\n  return state.pos !== start\r\n};\r\nfunction isHexDigit(ch) {\r\n  return (\r\n    (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\r\n    (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\r\n    (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\r\n  )\r\n}\r\nfunction hexToInt(ch) {\r\n  if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\r\n    return 10 + (ch - 0x41 /* A */)\r\n  }\r\n  if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\r\n    return 10 + (ch - 0x61 /* a */)\r\n  }\r\n  return ch - 0x30 /* 0 */\r\n}\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\r\n// Allows only 0-377(octal) i.e. 0-255(decimal).\r\npp$1.regexp_eatLegacyOctalEscapeSequence = function(state) {\r\n  if (this.regexp_eatOctalDigit(state)) {\r\n    var n1 = state.lastIntValue;\r\n    if (this.regexp_eatOctalDigit(state)) {\r\n      var n2 = state.lastIntValue;\r\n      if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\r\n        state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\r\n      } else {\r\n        state.lastIntValue = n1 * 8 + n2;\r\n      }\r\n    } else {\r\n      state.lastIntValue = n1;\r\n    }\r\n    return true\r\n  }\r\n  return false\r\n};\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\r\npp$1.regexp_eatOctalDigit = function(state) {\r\n  var ch = state.current();\r\n  if (isOctalDigit(ch)) {\r\n    state.lastIntValue = ch - 0x30; /* 0 */\r\n    state.advance();\r\n    return true\r\n  }\r\n  state.lastIntValue = 0;\r\n  return false\r\n};\r\nfunction isOctalDigit(ch) {\r\n  return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\r\n}\r\n\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\r\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\r\n// And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\r\npp$1.regexp_eatFixedHexDigits = function(state, length) {\r\n  var start = state.pos;\r\n  state.lastIntValue = 0;\r\n  for (var i = 0; i < length; ++i) {\r\n    var ch = state.current();\r\n    if (!isHexDigit(ch)) {\r\n      state.pos = start;\r\n      return false\r\n    }\r\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\r\n    state.advance();\r\n  }\r\n  return true\r\n};\r\n\r\n// Object type used to represent tokens. Note that normally, tokens\r\n// simply exist as properties on the parser object. This is only\r\n// used for the onToken callback and the external tokenizer.\r\n\r\nvar Token = function Token(p) {\r\n  this.type = p.type;\r\n  this.value = p.value;\r\n  this.start = p.start;\r\n  this.end = p.end;\r\n  if (p.options.locations)\r\n    { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\r\n  if (p.options.ranges)\r\n    { this.range = [p.start, p.end]; }\r\n};\r\n\r\n// ## Tokenizer\r\n\r\nvar pp = Parser.prototype;\r\n\r\n// Move to the next token\r\n\r\npp.next = function(ignoreEscapeSequenceInKeyword) {\r\n  if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\r\n    { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\r\n  if (this.options.onToken)\r\n    { this.options.onToken(new Token(this)); }\r\n\r\n  this.lastTokEnd = this.end;\r\n  this.lastTokStart = this.start;\r\n  this.lastTokEndLoc = this.endLoc;\r\n  this.lastTokStartLoc = this.startLoc;\r\n  this.nextToken();\r\n};\r\n\r\npp.getToken = function() {\r\n  this.next();\r\n  return new Token(this)\r\n};\r\n\r\n// If we're in an ES6 environment, make parsers iterable\r\nif (typeof Symbol !== \"undefined\")\r\n  { pp[Symbol.iterator] = function() {\r\n    var this$1$1 = this;\r\n\r\n    return {\r\n      next: function () {\r\n        var token = this$1$1.getToken();\r\n        return {\r\n          done: token.type === types$1.eof,\r\n          value: token\r\n        }\r\n      }\r\n    }\r\n  }; }\r\n\r\n// Toggle strict mode. Re-reads the next number or string to please\r\n// pedantic tests (`\"use strict\"; 010;` should fail).\r\n\r\n// Read a single token, updating the parser object's token-related\r\n// properties.\r\n\r\npp.nextToken = function() {\r\n  var curContext = this.curContext();\r\n  if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\r\n\r\n  this.start = this.pos;\r\n  if (this.options.locations) { this.startLoc = this.curPosition(); }\r\n  if (this.pos >= this.input.length) { return this.finishToken(types$1.eof) }\r\n\r\n  if (curContext.override) { return curContext.override(this) }\r\n  else { this.readToken(this.fullCharCodeAtPos()); }\r\n};\r\n\r\npp.readToken = function(code) {\r\n  // Identifier or keyword. '\\uXXXX' sequences are allowed in\r\n  // identifiers, so '\\' also dispatches to that.\r\n  if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\r\n    { return this.readWord() }\r\n\r\n  return this.getTokenFromCode(code)\r\n};\r\n\r\npp.fullCharCodeAtPos = function() {\r\n  var code = this.input.charCodeAt(this.pos);\r\n  if (code <= 0xd7ff || code >= 0xdc00) { return code }\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  return next <= 0xdbff || next >= 0xe000 ? code : (code << 10) + next - 0x35fdc00\r\n};\r\n\r\npp.skipBlockComment = function() {\r\n  var startLoc = this.options.onComment && this.curPosition();\r\n  var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\r\n  if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\r\n  this.pos = end + 2;\r\n  if (this.options.locations) {\r\n    for (var nextBreak = (void 0), pos = start; (nextBreak = nextLineBreak(this.input, pos, this.pos)) > -1;) {\r\n      ++this.curLine;\r\n      pos = this.lineStart = nextBreak;\r\n    }\r\n  }\r\n  if (this.options.onComment)\r\n    { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\r\n                           startLoc, this.curPosition()); }\r\n};\r\n\r\npp.skipLineComment = function(startSkip) {\r\n  var start = this.pos;\r\n  var startLoc = this.options.onComment && this.curPosition();\r\n  var ch = this.input.charCodeAt(this.pos += startSkip);\r\n  while (this.pos < this.input.length && !isNewLine(ch)) {\r\n    ch = this.input.charCodeAt(++this.pos);\r\n  }\r\n  if (this.options.onComment)\r\n    { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\r\n                           startLoc, this.curPosition()); }\r\n};\r\n\r\n// Called at the start of the parse and after every token. Skips\r\n// whitespace and comments, and.\r\n\r\npp.skipSpace = function() {\r\n  loop: while (this.pos < this.input.length) {\r\n    var ch = this.input.charCodeAt(this.pos);\r\n    switch (ch) {\r\n    case 32: case 160: // ' '\r\n      ++this.pos;\r\n      break\r\n    case 13:\r\n      if (this.input.charCodeAt(this.pos + 1) === 10) {\r\n        ++this.pos;\r\n      }\r\n    case 10: case 8232: case 8233:\r\n      ++this.pos;\r\n      if (this.options.locations) {\r\n        ++this.curLine;\r\n        this.lineStart = this.pos;\r\n      }\r\n      break\r\n    case 47: // '/'\r\n      switch (this.input.charCodeAt(this.pos + 1)) {\r\n      case 42: // '*'\r\n        this.skipBlockComment();\r\n        break\r\n      case 47:\r\n        this.skipLineComment(2);\r\n        break\r\n      default:\r\n        break loop\r\n      }\r\n      break\r\n    default:\r\n      if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\r\n        ++this.pos;\r\n      } else {\r\n        break loop\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// Called at the end of every token. Sets `end`, `val`, and\r\n// maintains `context` and `exprAllowed`, and skips the space after\r\n// the token, so that the next one's `start` will point at the\r\n// right position.\r\n\r\npp.finishToken = function(type, val) {\r\n  this.end = this.pos;\r\n  if (this.options.locations) { this.endLoc = this.curPosition(); }\r\n  var prevType = this.type;\r\n  this.type = type;\r\n  this.value = val;\r\n\r\n  this.updateContext(prevType);\r\n};\r\n\r\n// ### Token reading\r\n\r\n// This is the function that is called to fetch the next token. It\r\n// is somewhat obscure, because it works in character codes rather\r\n// than characters, and because operator parsing has been inlined\r\n// into it.\r\n//\r\n// All in the name of speed.\r\n//\r\npp.readToken_dot = function() {\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  if (next >= 48 && next <= 57) { return this.readNumber(true) }\r\n  var next2 = this.input.charCodeAt(this.pos + 2);\r\n  if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\r\n    this.pos += 3;\r\n    return this.finishToken(types$1.ellipsis)\r\n  } else {\r\n    ++this.pos;\r\n    return this.finishToken(types$1.dot)\r\n  }\r\n};\r\n\r\npp.readToken_slash = function() { // '/'\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\r\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\r\n  return this.finishOp(types$1.slash, 1)\r\n};\r\n\r\npp.readToken_mult_modulo_exp = function(code) { // '%*'\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  var size = 1;\r\n  var tokentype = code === 42 ? types$1.star : types$1.modulo;\r\n\r\n  // exponentiation operator ** and **=\r\n  if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\r\n    ++size;\r\n    tokentype = types$1.starstar;\r\n    next = this.input.charCodeAt(this.pos + 2);\r\n  }\r\n\r\n  if (next === 61) { return this.finishOp(types$1.assign, size + 1) }\r\n  return this.finishOp(tokentype, size)\r\n};\r\n\r\npp.readToken_pipe_amp = function(code) { // '|&'\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  if (next === code) {\r\n    if (this.options.ecmaVersion >= 12) {\r\n      var next2 = this.input.charCodeAt(this.pos + 2);\r\n      if (next2 === 61) { return this.finishOp(types$1.assign, 3) }\r\n    }\r\n    return this.finishOp(code === 124 ? types$1.logicalOR : types$1.logicalAND, 2)\r\n  }\r\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\r\n  return this.finishOp(code === 124 ? types$1.bitwiseOR : types$1.bitwiseAND, 1)\r\n};\r\n\r\npp.readToken_caret = function() { // '^'\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\r\n  return this.finishOp(types$1.bitwiseXOR, 1)\r\n};\r\n\r\npp.readToken_plus_min = function(code) { // '+-'\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  if (next === code) {\r\n    if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\r\n        (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\r\n      // A `-->` line comment\r\n      this.skipLineComment(3);\r\n      this.skipSpace();\r\n      return this.nextToken()\r\n    }\r\n    return this.finishOp(types$1.incDec, 2)\r\n  }\r\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\r\n  return this.finishOp(types$1.plusMin, 1)\r\n};\r\n\r\npp.readToken_lt_gt = function(code) { // '<>'\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  var size = 1;\r\n  if (next === code) {\r\n    size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\r\n    if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types$1.assign, size + 1) }\r\n    return this.finishOp(types$1.bitShift, size)\r\n  }\r\n  if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\r\n      this.input.charCodeAt(this.pos + 3) === 45) {\r\n    // `<!--`, an XML-style comment that should be interpreted as a line comment\r\n    this.skipLineComment(4);\r\n    this.skipSpace();\r\n    return this.nextToken()\r\n  }\r\n  if (next === 61) { size = 2; }\r\n  return this.finishOp(types$1.relational, size)\r\n};\r\n\r\npp.readToken_eq_excl = function(code) { // '=!'\r\n  var next = this.input.charCodeAt(this.pos + 1);\r\n  if (next === 61) { return this.finishOp(types$1.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\r\n  if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\r\n    this.pos += 2;\r\n    return this.finishToken(types$1.arrow)\r\n  }\r\n  return this.finishOp(code === 61 ? types$1.eq : types$1.prefix, 1)\r\n};\r\n\r\npp.readToken_question = function() { // '?'\r\n  var ecmaVersion = this.options.ecmaVersion;\r\n  if (ecmaVersion >= 11) {\r\n    var next = this.input.charCodeAt(this.pos + 1);\r\n    if (next === 46) {\r\n      var next2 = this.input.charCodeAt(this.pos + 2);\r\n      if (next2 < 48 || next2 > 57) { return this.finishOp(types$1.questionDot, 2) }\r\n    }\r\n    if (next === 63) {\r\n      if (ecmaVersion >= 12) {\r\n        var next2$1 = this.input.charCodeAt(this.pos + 2);\r\n        if (next2$1 === 61) { return this.finishOp(types$1.assign, 3) }\r\n      }\r\n      return this.finishOp(types$1.coalesce, 2)\r\n    }\r\n  }\r\n  return this.finishOp(types$1.question, 1)\r\n};\r\n\r\npp.readToken_numberSign = function() { // '#'\r\n  var ecmaVersion = this.options.ecmaVersion;\r\n  var code = 35; // '#'\r\n  if (ecmaVersion >= 13) {\r\n    ++this.pos;\r\n    code = this.fullCharCodeAtPos();\r\n    if (isIdentifierStart(code, true) || code === 92 /* '\\' */) {\r\n      return this.finishToken(types$1.privateId, this.readWord1())\r\n    }\r\n  }\r\n\r\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\r\n};\r\n\r\npp.getTokenFromCode = function(code) {\r\n  switch (code) {\r\n  // The interpretation of a dot depends on whether it is followed\r\n  // by a digit or another two dots.\r\n  case 46: // '.'\r\n    return this.readToken_dot()\r\n\r\n  // Punctuation tokens.\r\n  case 40: ++this.pos; return this.finishToken(types$1.parenL)\r\n  case 41: ++this.pos; return this.finishToken(types$1.parenR)\r\n  case 59: ++this.pos; return this.finishToken(types$1.semi)\r\n  case 44: ++this.pos; return this.finishToken(types$1.comma)\r\n  case 91: ++this.pos; return this.finishToken(types$1.bracketL)\r\n  case 93: ++this.pos; return this.finishToken(types$1.bracketR)\r\n  case 123: ++this.pos; return this.finishToken(types$1.braceL)\r\n  case 125: ++this.pos; return this.finishToken(types$1.braceR)\r\n  case 58: ++this.pos; return this.finishToken(types$1.colon)\r\n\r\n  case 96: // '`'\r\n    if (this.options.ecmaVersion < 6) { break }\r\n    ++this.pos;\r\n    return this.finishToken(types$1.backQuote)\r\n\r\n  case 48: // '0'\r\n    var next = this.input.charCodeAt(this.pos + 1);\r\n    if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\r\n    if (this.options.ecmaVersion >= 6) {\r\n      if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\r\n      if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\r\n    }\r\n\r\n  // Anything else beginning with a digit is an integer, octal\r\n  // number, or float.\r\n  case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\r\n    return this.readNumber(false)\r\n\r\n  // Quotes produce strings.\r\n  case 34: case 39: // '\"', \"'\"\r\n    return this.readString(code)\r\n\r\n  // Operators are parsed inline in tiny state machines. '=' (61) is\r\n  // often referred to. `finishOp` simply skips the amount of\r\n  // characters it is given as second argument, and returns a token\r\n  // of the type given by its first argument.\r\n  case 47: // '/'\r\n    return this.readToken_slash()\r\n\r\n  case 37: case 42: // '%*'\r\n    return this.readToken_mult_modulo_exp(code)\r\n\r\n  case 124: case 38: // '|&'\r\n    return this.readToken_pipe_amp(code)\r\n\r\n  case 94: // '^'\r\n    return this.readToken_caret()\r\n\r\n  case 43: case 45: // '+-'\r\n    return this.readToken_plus_min(code)\r\n\r\n  case 60: case 62: // '<>'\r\n    return this.readToken_lt_gt(code)\r\n\r\n  case 61: case 33: // '=!'\r\n    return this.readToken_eq_excl(code)\r\n\r\n  case 63: // '?'\r\n    return this.readToken_question()\r\n\r\n  case 126: // '~'\r\n    return this.finishOp(types$1.prefix, 1)\r\n\r\n  case 35: // '#'\r\n    return this.readToken_numberSign()\r\n  }\r\n\r\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\r\n};\r\n\r\npp.finishOp = function(type, size) {\r\n  var str = this.input.slice(this.pos, this.pos + size);\r\n  this.pos += size;\r\n  return this.finishToken(type, str)\r\n};\r\n\r\npp.readRegexp = function() {\r\n  var escaped, inClass, start = this.pos;\r\n  for (;;) {\r\n    if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\r\n    var ch = this.input.charAt(this.pos);\r\n    if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\r\n    if (!escaped) {\r\n      if (ch === \"[\") { inClass = true; }\r\n      else if (ch === \"]\" && inClass) { inClass = false; }\r\n      else if (ch === \"/\" && !inClass) { break }\r\n      escaped = ch === \"\\\\\";\r\n    } else { escaped = false; }\r\n    ++this.pos;\r\n  }\r\n  var pattern = this.input.slice(start, this.pos);\r\n  ++this.pos;\r\n  var flagsStart = this.pos;\r\n  var flags = this.readWord1();\r\n  if (this.containsEsc) { this.unexpected(flagsStart); }\r\n\r\n  // Validate pattern\r\n  var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\r\n  state.reset(start, pattern, flags);\r\n  this.validateRegExpFlags(state);\r\n  this.validateRegExpPattern(state);\r\n\r\n  // Create Literal#value property value.\r\n  var value = null;\r\n  try {\r\n    value = new RegExp(pattern, flags);\r\n  } catch (e) {\r\n    // ESTree requires null if it failed to instantiate RegExp object.\r\n    // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\r\n  }\r\n\r\n  return this.finishToken(types$1.regexp, {pattern: pattern, flags: flags, value: value})\r\n};\r\n\r\n// Read an integer in the given radix. Return null if zero digits\r\n// were read, the integer value otherwise. When `len` is given, this\r\n// will return `null` unless the integer has exactly `len` digits.\r\n\r\npp.readInt = function(radix, len, maybeLegacyOctalNumericLiteral) {\r\n  // `len` is used for character escape sequences. In that case, disallow separators.\r\n  var allowSeparators = this.options.ecmaVersion >= 12 && len === undefined;\r\n\r\n  // `maybeLegacyOctalNumericLiteral` is true if it doesn't have prefix (0x,0o,0b)\r\n  // and isn't fraction part nor exponent part. In that case, if the first digit\r\n  // is zero then disallow separators.\r\n  var isLegacyOctalNumericLiteral = maybeLegacyOctalNumericLiteral && this.input.charCodeAt(this.pos) === 48;\r\n\r\n  var start = this.pos, total = 0, lastCode = 0;\r\n  for (var i = 0, e = len == null ? Infinity : len; i < e; ++i, ++this.pos) {\r\n    var code = this.input.charCodeAt(this.pos), val = (void 0);\r\n\r\n    if (allowSeparators && code === 95) {\r\n      if (isLegacyOctalNumericLiteral) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed in legacy octal numeric literals\"); }\r\n      if (lastCode === 95) { this.raiseRecoverable(this.pos, \"Numeric separator must be exactly one underscore\"); }\r\n      if (i === 0) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed at the first of digits\"); }\r\n      lastCode = code;\r\n      continue\r\n    }\r\n\r\n    if (code >= 97) { val = code - 97 + 10; } // a\r\n    else if (code >= 65) { val = code - 65 + 10; } // A\r\n    else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\r\n    else { val = Infinity; }\r\n    if (val >= radix) { break }\r\n    lastCode = code;\r\n    total = total * radix + val;\r\n  }\r\n\r\n  if (allowSeparators && lastCode === 95) { this.raiseRecoverable(this.pos - 1, \"Numeric separator is not allowed at the last of digits\"); }\r\n  if (this.pos === start || len != null && this.pos - start !== len) { return null }\r\n\r\n  return total\r\n};\r\n\r\nfunction stringToNumber(str, isLegacyOctalNumericLiteral) {\r\n  if (isLegacyOctalNumericLiteral) {\r\n    return parseInt(str, 8)\r\n  }\r\n\r\n  // `parseFloat(value)` stops parsing at the first numeric separator then returns a wrong value.\r\n  return parseFloat(str.replace(/_/g, \"\"))\r\n}\r\n\r\nfunction stringToBigInt(str) {\r\n  if (typeof BigInt !== \"function\") {\r\n    return null\r\n  }\r\n\r\n  // `BigInt(value)` throws syntax error if the string contains numeric separators.\r\n  return BigInt(str.replace(/_/g, \"\"))\r\n}\r\n\r\npp.readRadixNumber = function(radix) {\r\n  var start = this.pos;\r\n  this.pos += 2; // 0x\r\n  var val = this.readInt(radix);\r\n  if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\r\n  if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\r\n    val = stringToBigInt(this.input.slice(start, this.pos));\r\n    ++this.pos;\r\n  } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\r\n  return this.finishToken(types$1.num, val)\r\n};\r\n\r\n// Read an integer, octal integer, or floating-point number.\r\n\r\npp.readNumber = function(startsWithDot) {\r\n  var start = this.pos;\r\n  if (!startsWithDot && this.readInt(10, undefined, true) === null) { this.raise(start, \"Invalid number\"); }\r\n  var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\r\n  if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\r\n  var next = this.input.charCodeAt(this.pos);\r\n  if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\r\n    var val$1 = stringToBigInt(this.input.slice(start, this.pos));\r\n    ++this.pos;\r\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\r\n    return this.finishToken(types$1.num, val$1)\r\n  }\r\n  if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\r\n  if (next === 46 && !octal) { // '.'\r\n    ++this.pos;\r\n    this.readInt(10);\r\n    next = this.input.charCodeAt(this.pos);\r\n  }\r\n  if ((next === 69 || next === 101) && !octal) { // 'eE'\r\n    next = this.input.charCodeAt(++this.pos);\r\n    if (next === 43 || next === 45) { ++this.pos; } // '+-'\r\n    if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\r\n  }\r\n  if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\r\n\r\n  var val = stringToNumber(this.input.slice(start, this.pos), octal);\r\n  return this.finishToken(types$1.num, val)\r\n};\r\n\r\n// Read a string value, interpreting backslash-escapes.\r\n\r\npp.readCodePoint = function() {\r\n  var ch = this.input.charCodeAt(this.pos), code;\r\n\r\n  if (ch === 123) { // '{'\r\n    if (this.options.ecmaVersion < 6) { this.unexpected(); }\r\n    var codePos = ++this.pos;\r\n    code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\r\n    ++this.pos;\r\n    if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\r\n  } else {\r\n    code = this.readHexChar(4);\r\n  }\r\n  return code\r\n};\r\n\r\npp.readString = function(quote) {\r\n  var out = \"\", chunkStart = ++this.pos;\r\n  for (;;) {\r\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\r\n    var ch = this.input.charCodeAt(this.pos);\r\n    if (ch === quote) { break }\r\n    if (ch === 92) { // '\\'\r\n      out += this.input.slice(chunkStart, this.pos);\r\n      out += this.readEscapedChar(false);\r\n      chunkStart = this.pos;\r\n    } else if (ch === 0x2028 || ch === 0x2029) {\r\n      if (this.options.ecmaVersion < 10) { this.raise(this.start, \"Unterminated string constant\"); }\r\n      ++this.pos;\r\n      if (this.options.locations) {\r\n        this.curLine++;\r\n        this.lineStart = this.pos;\r\n      }\r\n    } else {\r\n      if (isNewLine(ch)) { this.raise(this.start, \"Unterminated string constant\"); }\r\n      ++this.pos;\r\n    }\r\n  }\r\n  out += this.input.slice(chunkStart, this.pos++);\r\n  return this.finishToken(types$1.string, out)\r\n};\r\n\r\n// Reads template string tokens.\r\n\r\nvar INVALID_TEMPLATE_ESCAPE_ERROR = {};\r\n\r\npp.tryReadTemplateToken = function() {\r\n  this.inTemplateElement = true;\r\n  try {\r\n    this.readTmplToken();\r\n  } catch (err) {\r\n    if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\r\n      this.readInvalidTemplateToken();\r\n    } else {\r\n      throw err\r\n    }\r\n  }\r\n\r\n  this.inTemplateElement = false;\r\n};\r\n\r\npp.invalidStringToken = function(position, message) {\r\n  if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\r\n    throw INVALID_TEMPLATE_ESCAPE_ERROR\r\n  } else {\r\n    this.raise(position, message);\r\n  }\r\n};\r\n\r\npp.readTmplToken = function() {\r\n  var out = \"\", chunkStart = this.pos;\r\n  for (;;) {\r\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\r\n    var ch = this.input.charCodeAt(this.pos);\r\n    if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\r\n      if (this.pos === this.start && (this.type === types$1.template || this.type === types$1.invalidTemplate)) {\r\n        if (ch === 36) {\r\n          this.pos += 2;\r\n          return this.finishToken(types$1.dollarBraceL)\r\n        } else {\r\n          ++this.pos;\r\n          return this.finishToken(types$1.backQuote)\r\n        }\r\n      }\r\n      out += this.input.slice(chunkStart, this.pos);\r\n      return this.finishToken(types$1.template, out)\r\n    }\r\n    if (ch === 92) { // '\\'\r\n      out += this.input.slice(chunkStart, this.pos);\r\n      out += this.readEscapedChar(true);\r\n      chunkStart = this.pos;\r\n    } else if (isNewLine(ch)) {\r\n      out += this.input.slice(chunkStart, this.pos);\r\n      ++this.pos;\r\n      switch (ch) {\r\n      case 13:\r\n        if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\r\n      case 10:\r\n        out += \"\\n\";\r\n        break\r\n      default:\r\n        out += String.fromCharCode(ch);\r\n        break\r\n      }\r\n      if (this.options.locations) {\r\n        ++this.curLine;\r\n        this.lineStart = this.pos;\r\n      }\r\n      chunkStart = this.pos;\r\n    } else {\r\n      ++this.pos;\r\n    }\r\n  }\r\n};\r\n\r\n// Reads a template token to search for the end, without validating any escape sequences\r\npp.readInvalidTemplateToken = function() {\r\n  for (; this.pos < this.input.length; this.pos++) {\r\n    switch (this.input[this.pos]) {\r\n    case \"\\\\\":\r\n      ++this.pos;\r\n      break\r\n\r\n    case \"$\":\r\n      if (this.input[this.pos + 1] !== \"{\") {\r\n        break\r\n      }\r\n\r\n    // falls through\r\n    case \"`\":\r\n      return this.finishToken(types$1.invalidTemplate, this.input.slice(this.start, this.pos))\r\n\r\n    // no default\r\n    }\r\n  }\r\n  this.raise(this.start, \"Unterminated template\");\r\n};\r\n\r\n// Used to read escaped characters\r\n\r\npp.readEscapedChar = function(inTemplate) {\r\n  var ch = this.input.charCodeAt(++this.pos);\r\n  ++this.pos;\r\n  switch (ch) {\r\n  case 110: return \"\\n\" // 'n' -> '\\n'\r\n  case 114: return \"\\r\" // 'r' -> '\\r'\r\n  case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\r\n  case 117: return codePointToString(this.readCodePoint()) // 'u'\r\n  case 116: return \"\\t\" // 't' -> '\\t'\r\n  case 98: return \"\\b\" // 'b' -> '\\b'\r\n  case 118: return \"\\u000b\" // 'v' -> '\\u000b'\r\n  case 102: return \"\\f\" // 'f' -> '\\f'\r\n  case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\r\n  case 10: // ' \\n'\r\n    if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\r\n    return \"\"\r\n  case 56:\r\n  case 57:\r\n    if (this.strict) {\r\n      this.invalidStringToken(\r\n        this.pos - 1,\r\n        \"Invalid escape sequence\"\r\n      );\r\n    }\r\n    if (inTemplate) {\r\n      var codePos = this.pos - 1;\r\n\r\n      this.invalidStringToken(\r\n        codePos,\r\n        \"Invalid escape sequence in template string\"\r\n      );\r\n\r\n      return null\r\n    }\r\n  default:\r\n    if (ch >= 48 && ch <= 55) {\r\n      var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\r\n      var octal = parseInt(octalStr, 8);\r\n      if (octal > 255) {\r\n        octalStr = octalStr.slice(0, -1);\r\n        octal = parseInt(octalStr, 8);\r\n      }\r\n      this.pos += octalStr.length - 1;\r\n      ch = this.input.charCodeAt(this.pos);\r\n      if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\r\n        this.invalidStringToken(\r\n          this.pos - 1 - octalStr.length,\r\n          inTemplate\r\n            ? \"Octal literal in template string\"\r\n            : \"Octal literal in strict mode\"\r\n        );\r\n      }\r\n      return String.fromCharCode(octal)\r\n    }\r\n    if (isNewLine(ch)) {\r\n      // Unicode new line characters after \\ get removed from output in both\r\n      // template literals and strings\r\n      return \"\"\r\n    }\r\n    return String.fromCharCode(ch)\r\n  }\r\n};\r\n\r\n// Used to read character escape sequences ('\\x', '\\u', '\\U').\r\n\r\npp.readHexChar = function(len) {\r\n  var codePos = this.pos;\r\n  var n = this.readInt(16, len);\r\n  if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\r\n  return n\r\n};\r\n\r\n// Read an identifier, and return it as a string. Sets `this.containsEsc`\r\n// to whether the word contained a '\\u' escape.\r\n//\r\n// Incrementally adds only escaped chars, adding other chunks as-is\r\n// as a micro-optimization.\r\n\r\npp.readWord1 = function() {\r\n  this.containsEsc = false;\r\n  var word = \"\", first = true, chunkStart = this.pos;\r\n  var astral = this.options.ecmaVersion >= 6;\r\n  while (this.pos < this.input.length) {\r\n    var ch = this.fullCharCodeAtPos();\r\n    if (isIdentifierChar(ch, astral)) {\r\n      this.pos += ch <= 0xffff ? 1 : 2;\r\n    } else if (ch === 92) { // \"\\\"\r\n      this.containsEsc = true;\r\n      word += this.input.slice(chunkStart, this.pos);\r\n      var escStart = this.pos;\r\n      if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\r\n        { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\r\n      ++this.pos;\r\n      var esc = this.readCodePoint();\r\n      if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\r\n        { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\r\n      word += codePointToString(esc);\r\n      chunkStart = this.pos;\r\n    } else {\r\n      break\r\n    }\r\n    first = false;\r\n  }\r\n  return word + this.input.slice(chunkStart, this.pos)\r\n};\r\n\r\n// Read an identifier or keyword token. Will check for reserved\r\n// words when necessary.\r\n\r\npp.readWord = function() {\r\n  var word = this.readWord1();\r\n  var type = types$1.name;\r\n  if (this.keywords.test(word)) {\r\n    type = keywords[word];\r\n  }\r\n  return this.finishToken(type, word)\r\n};\r\n\r\n// Acorn is a tiny, fast JavaScript parser written in JavaScript.\r\n\r\nvar version = \"8.8.0\";\r\n\r\nParser.acorn = {\r\n  Parser: Parser,\r\n  version: version,\r\n  defaultOptions: defaultOptions,\r\n  Position: Position,\r\n  SourceLocation: SourceLocation,\r\n  getLineInfo: getLineInfo,\r\n  Node: Node,\r\n  TokenType: TokenType,\r\n  tokTypes: types$1,\r\n  keywordTypes: keywords,\r\n  TokContext: TokContext,\r\n  tokContexts: types,\r\n  isIdentifierChar: isIdentifierChar,\r\n  isIdentifierStart: isIdentifierStart,\r\n  Token: Token,\r\n  isNewLine: isNewLine,\r\n  lineBreak: lineBreak,\r\n  lineBreakG: lineBreakG,\r\n  nonASCIIwhitespace: nonASCIIwhitespace\r\n};\r\n\r\n// The main exported interface (under `self.acorn` when in the\r\n// browser) is a `parse` function that takes a code string and\r\n// returns an abstract syntax tree as specified by [Mozilla parser\r\n// API][api].\r\n//\r\n// [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\r\n\r\nfunction parse$c(input, options) {\r\n  return Parser.parse(input, options)\r\n}\r\n\r\n// This function tries to parse a single expression at a given\r\n// offset in a string. Useful for parsing mixed-language formats\r\n// that embed JavaScript expressions.\r\n\r\nfunction parseExpressionAt(input, pos, options) {\r\n  return Parser.parseExpressionAt(input, pos, options)\r\n}\r\n\r\n// Acorn is organized as a tokenizer and a recursive-descent parser.\r\n// The `tokenizer` export provides an interface to the tokenizer.\r\n\r\nfunction tokenizer(input, options) {\r\n  return Parser.tokenizer(input, options)\r\n}\r\n\r\nvar acorn = {\r\n\t__proto__: null,\r\n\tNode: Node,\r\n\tParser: Parser,\r\n\tPosition: Position,\r\n\tSourceLocation: SourceLocation,\r\n\tTokContext: TokContext,\r\n\tToken: Token,\r\n\tTokenType: TokenType,\r\n\tdefaultOptions: defaultOptions,\r\n\tgetLineInfo: getLineInfo,\r\n\tisIdentifierChar: isIdentifierChar,\r\n\tisIdentifierStart: isIdentifierStart,\r\n\tisNewLine: isNewLine,\r\n\tkeywordTypes: keywords,\r\n\tlineBreak: lineBreak,\r\n\tlineBreakG: lineBreakG,\r\n\tnonASCIIwhitespace: nonASCIIwhitespace,\r\n\tparse: parse$c,\r\n\tparseExpressionAt: parseExpressionAt,\r\n\ttokContexts: types,\r\n\ttokTypes: types$1,\r\n\ttokenizer: tokenizer,\r\n\tversion: version\r\n};\r\n\r\nfunction stripLiteralAcorn(code) {\r\n  const FILL = \" \";\r\n  let result = \"\";\r\n  function fulfill(index) {\r\n    if (index > result.length)\r\n      result += code.slice(result.length, index).replace(/[^\\n]/g, FILL);\r\n  }\r\n  const tokens = tokenizer(code, {\r\n    ecmaVersion: \"latest\",\r\n    sourceType: \"module\",\r\n    allowHashBang: true,\r\n    allowAwaitOutsideFunction: true,\r\n    allowImportExportEverywhere: true\r\n  });\r\n  const inter = tokens[Symbol.iterator]();\r\n  while (true) {\r\n    const { done, value: token } = inter.next();\r\n    if (done)\r\n      break;\r\n    fulfill(token.start);\r\n    if (token.type.label === \"string\")\r\n      result += code[token.start] + FILL.repeat(token.end - token.start - 2) + code[token.end - 1];\r\n    else if (token.type.label === \"template\")\r\n      result += FILL.repeat(token.end - token.start);\r\n    else\r\n      result += code.slice(token.start, token.end);\r\n  }\r\n  fulfill(code.length);\r\n  return result;\r\n}\r\n\r\nconst multilineCommentsRE = /\\/\\*.*?\\*\\//gms;\r\nconst singlelineCommentsRE = /\\/\\/.*$/gm;\r\nconst templateLiteralRE = /\\$\\{(\\s*(?:(?!\\$\\{).|\\n|\\r)*?\\s*)\\}/g;\r\nconst quotesRE = [\r\n  /([\"'`])((?:\\\\\\1|(?!\\1)|.|\\r)*?)\\1/gm,\r\n  /([`])((?:\\\\\\1|(?!\\1)|.|\\n|\\r)*?)\\1/gm\r\n];\r\nfunction stripLiteralRegex(code) {\r\n  code = code.replace(multilineCommentsRE, (s) => \" \".repeat(s.length)).replace(singlelineCommentsRE, (s) => \" \".repeat(s.length));\r\n  let expanded = code;\r\n  for (let i = 0; i < 16; i++) {\r\n    const before = expanded;\r\n    expanded = expanded.replace(templateLiteralRE, \"` $1`\");\r\n    if (expanded === before)\r\n      break;\r\n  }\r\n  quotesRE.forEach((re) => {\r\n    expanded = expanded.replace(re, (s, quote, body, index) => {\r\n      code = code.slice(0, index + 1) + \" \".repeat(s.length - 2) + code.slice(index + s.length - 1);\r\n      return quote + \" \".repeat(s.length - 2) + quote;\r\n    });\r\n  });\r\n  return code;\r\n}\r\n\r\nfunction stripLiteral(code) {\r\n  try {\r\n    return stripLiteralAcorn(code);\r\n  } catch (e) {\r\n    return stripLiteralRegex(code);\r\n  }\r\n}\r\n\r\nconst mimes$1 = {\r\n  \"ez\": \"application/andrew-inset\",\r\n  \"aw\": \"application/applixware\",\r\n  \"atom\": \"application/atom+xml\",\r\n  \"atomcat\": \"application/atomcat+xml\",\r\n  \"atomdeleted\": \"application/atomdeleted+xml\",\r\n  \"atomsvc\": \"application/atomsvc+xml\",\r\n  \"dwd\": \"application/atsc-dwd+xml\",\r\n  \"held\": \"application/atsc-held+xml\",\r\n  \"rsat\": \"application/atsc-rsat+xml\",\r\n  \"bdoc\": \"application/bdoc\",\r\n  \"xcs\": \"application/calendar+xml\",\r\n  \"ccxml\": \"application/ccxml+xml\",\r\n  \"cdfx\": \"application/cdfx+xml\",\r\n  \"cdmia\": \"application/cdmi-capability\",\r\n  \"cdmic\": \"application/cdmi-container\",\r\n  \"cdmid\": \"application/cdmi-domain\",\r\n  \"cdmio\": \"application/cdmi-object\",\r\n  \"cdmiq\": \"application/cdmi-queue\",\r\n  \"cu\": \"application/cu-seeme\",\r\n  \"mpd\": \"application/dash+xml\",\r\n  \"davmount\": \"application/davmount+xml\",\r\n  \"dbk\": \"application/docbook+xml\",\r\n  \"dssc\": \"application/dssc+der\",\r\n  \"xdssc\": \"application/dssc+xml\",\r\n  \"es\": \"application/ecmascript\",\r\n  \"ecma\": \"application/ecmascript\",\r\n  \"emma\": \"application/emma+xml\",\r\n  \"emotionml\": \"application/emotionml+xml\",\r\n  \"epub\": \"application/epub+zip\",\r\n  \"exi\": \"application/exi\",\r\n  \"fdt\": \"application/fdt+xml\",\r\n  \"pfr\": \"application/font-tdpfr\",\r\n  \"geojson\": \"application/geo+json\",\r\n  \"gml\": \"application/gml+xml\",\r\n  \"gpx\": \"application/gpx+xml\",\r\n  \"gxf\": \"application/gxf\",\r\n  \"gz\": \"application/gzip\",\r\n  \"hjson\": \"application/hjson\",\r\n  \"stk\": \"application/hyperstudio\",\r\n  \"ink\": \"application/inkml+xml\",\r\n  \"inkml\": \"application/inkml+xml\",\r\n  \"ipfix\": \"application/ipfix\",\r\n  \"its\": \"application/its+xml\",\r\n  \"jar\": \"application/java-archive\",\r\n  \"war\": \"application/java-archive\",\r\n  \"ear\": \"application/java-archive\",\r\n  \"ser\": \"application/java-serialized-object\",\r\n  \"class\": \"application/java-vm\",\r\n  \"js\": \"application/javascript\",\r\n  \"mjs\": \"application/javascript\",\r\n  \"json\": \"application/json\",\r\n  \"map\": \"application/json\",\r\n  \"json5\": \"application/json5\",\r\n  \"jsonml\": \"application/jsonml+json\",\r\n  \"jsonld\": \"application/ld+json\",\r\n  \"lgr\": \"application/lgr+xml\",\r\n  \"lostxml\": \"application/lost+xml\",\r\n  \"hqx\": \"application/mac-binhex40\",\r\n  \"cpt\": \"application/mac-compactpro\",\r\n  \"mads\": \"application/mads+xml\",\r\n  \"webmanifest\": \"application/manifest+json\",\r\n  \"mrc\": \"application/marc\",\r\n  \"mrcx\": \"application/marcxml+xml\",\r\n  \"ma\": \"application/mathematica\",\r\n  \"nb\": \"application/mathematica\",\r\n  \"mb\": \"application/mathematica\",\r\n  \"mathml\": \"application/mathml+xml\",\r\n  \"mbox\": \"application/mbox\",\r\n  \"mscml\": \"application/mediaservercontrol+xml\",\r\n  \"metalink\": \"application/metalink+xml\",\r\n  \"meta4\": \"application/metalink4+xml\",\r\n  \"mets\": \"application/mets+xml\",\r\n  \"maei\": \"application/mmt-aei+xml\",\r\n  \"musd\": \"application/mmt-usd+xml\",\r\n  \"mods\": \"application/mods+xml\",\r\n  \"m21\": \"application/mp21\",\r\n  \"mp21\": \"application/mp21\",\r\n  \"mp4s\": \"application/mp4\",\r\n  \"m4p\": \"application/mp4\",\r\n  \"doc\": \"application/msword\",\r\n  \"dot\": \"application/msword\",\r\n  \"mxf\": \"application/mxf\",\r\n  \"nq\": \"application/n-quads\",\r\n  \"nt\": \"application/n-triples\",\r\n  \"cjs\": \"application/node\",\r\n  \"bin\": \"application/octet-stream\",\r\n  \"dms\": \"application/octet-stream\",\r\n  \"lrf\": \"application/octet-stream\",\r\n  \"mar\": \"application/octet-stream\",\r\n  \"so\": \"application/octet-stream\",\r\n  \"dist\": \"application/octet-stream\",\r\n  \"distz\": \"application/octet-stream\",\r\n  \"pkg\": \"application/octet-stream\",\r\n  \"bpk\": \"application/octet-stream\",\r\n  \"dump\": \"application/octet-stream\",\r\n  \"elc\": \"application/octet-stream\",\r\n  \"deploy\": \"application/octet-stream\",\r\n  \"exe\": \"application/octet-stream\",\r\n  \"dll\": \"application/octet-stream\",\r\n  \"deb\": \"application/octet-stream\",\r\n  \"dmg\": \"application/octet-stream\",\r\n  \"iso\": \"application/octet-stream\",\r\n  \"img\": \"application/octet-stream\",\r\n  \"msi\": \"application/octet-stream\",\r\n  \"msp\": \"application/octet-stream\",\r\n  \"msm\": \"application/octet-stream\",\r\n  \"buffer\": \"application/octet-stream\",\r\n  \"oda\": \"application/oda\",\r\n  \"opf\": \"application/oebps-package+xml\",\r\n  \"ogx\": \"application/ogg\",\r\n  \"omdoc\": \"application/omdoc+xml\",\r\n  \"onetoc\": \"application/onenote\",\r\n  \"onetoc2\": \"application/onenote\",\r\n  \"onetmp\": \"application/onenote\",\r\n  \"onepkg\": \"application/onenote\",\r\n  \"oxps\": \"application/oxps\",\r\n  \"relo\": \"application/p2p-overlay+xml\",\r\n  \"xer\": \"application/patch-ops-error+xml\",\r\n  \"pdf\": \"application/pdf\",\r\n  \"pgp\": \"application/pgp-encrypted\",\r\n  \"asc\": \"application/pgp-signature\",\r\n  \"sig\": \"application/pgp-signature\",\r\n  \"prf\": \"application/pics-rules\",\r\n  \"p10\": \"application/pkcs10\",\r\n  \"p7m\": \"application/pkcs7-mime\",\r\n  \"p7c\": \"application/pkcs7-mime\",\r\n  \"p7s\": \"application/pkcs7-signature\",\r\n  \"p8\": \"application/pkcs8\",\r\n  \"ac\": \"application/pkix-attr-cert\",\r\n  \"cer\": \"application/pkix-cert\",\r\n  \"crl\": \"application/pkix-crl\",\r\n  \"pkipath\": \"application/pkix-pkipath\",\r\n  \"pki\": \"application/pkixcmp\",\r\n  \"pls\": \"application/pls+xml\",\r\n  \"ai\": \"application/postscript\",\r\n  \"eps\": \"application/postscript\",\r\n  \"ps\": \"application/postscript\",\r\n  \"provx\": \"application/provenance+xml\",\r\n  \"cww\": \"application/prs.cww\",\r\n  \"pskcxml\": \"application/pskc+xml\",\r\n  \"raml\": \"application/raml+yaml\",\r\n  \"rdf\": \"application/rdf+xml\",\r\n  \"owl\": \"application/rdf+xml\",\r\n  \"rif\": \"application/reginfo+xml\",\r\n  \"rnc\": \"application/relax-ng-compact-syntax\",\r\n  \"rl\": \"application/resource-lists+xml\",\r\n  \"rld\": \"application/resource-lists-diff+xml\",\r\n  \"rs\": \"application/rls-services+xml\",\r\n  \"rapd\": \"application/route-apd+xml\",\r\n  \"sls\": \"application/route-s-tsid+xml\",\r\n  \"rusd\": \"application/route-usd+xml\",\r\n  \"gbr\": \"application/rpki-ghostbusters\",\r\n  \"mft\": \"application/rpki-manifest\",\r\n  \"roa\": \"application/rpki-roa\",\r\n  \"rsd\": \"application/rsd+xml\",\r\n  \"rss\": \"application/rss+xml\",\r\n  \"rtf\": \"application/rtf\",\r\n  \"sbml\": \"application/sbml+xml\",\r\n  \"scq\": \"application/scvp-cv-request\",\r\n  \"scs\": \"application/scvp-cv-response\",\r\n  \"spq\": \"application/scvp-vp-request\",\r\n  \"spp\": \"application/scvp-vp-response\",\r\n  \"sdp\": \"application/sdp\",\r\n  \"senmlx\": \"application/senml+xml\",\r\n  \"sensmlx\": \"application/sensml+xml\",\r\n  \"setpay\": \"application/set-payment-initiation\",\r\n  \"setreg\": \"application/set-registration-initiation\",\r\n  \"shf\": \"application/shf+xml\",\r\n  \"siv\": \"application/sieve\",\r\n  \"sieve\": \"application/sieve\",\r\n  \"smi\": \"application/smil+xml\",\r\n  \"smil\": \"application/smil+xml\",\r\n  \"rq\": \"application/sparql-query\",\r\n  \"srx\": \"application/sparql-results+xml\",\r\n  \"gram\": \"application/srgs\",\r\n  \"grxml\": \"application/srgs+xml\",\r\n  \"sru\": \"application/sru+xml\",\r\n  \"ssdl\": \"application/ssdl+xml\",\r\n  \"ssml\": \"application/ssml+xml\",\r\n  \"swidtag\": \"application/swid+xml\",\r\n  \"tei\": \"application/tei+xml\",\r\n  \"teicorpus\": \"application/tei+xml\",\r\n  \"tfi\": \"application/thraud+xml\",\r\n  \"tsd\": \"application/timestamped-data\",\r\n  \"toml\": \"application/toml\",\r\n  \"trig\": \"application/trig\",\r\n  \"ttml\": \"application/ttml+xml\",\r\n  \"ubj\": \"application/ubjson\",\r\n  \"rsheet\": \"application/urc-ressheet+xml\",\r\n  \"td\": \"application/urc-targetdesc+xml\",\r\n  \"vxml\": \"application/voicexml+xml\",\r\n  \"wasm\": \"application/wasm\",\r\n  \"wgt\": \"application/widget\",\r\n  \"hlp\": \"application/winhlp\",\r\n  \"wsdl\": \"application/wsdl+xml\",\r\n  \"wspolicy\": \"application/wspolicy+xml\",\r\n  \"xaml\": \"application/xaml+xml\",\r\n  \"xav\": \"application/xcap-att+xml\",\r\n  \"xca\": \"application/xcap-caps+xml\",\r\n  \"xdf\": \"application/xcap-diff+xml\",\r\n  \"xel\": \"application/xcap-el+xml\",\r\n  \"xns\": \"application/xcap-ns+xml\",\r\n  \"xenc\": \"application/xenc+xml\",\r\n  \"xhtml\": \"application/xhtml+xml\",\r\n  \"xht\": \"application/xhtml+xml\",\r\n  \"xlf\": \"application/xliff+xml\",\r\n  \"xml\": \"application/xml\",\r\n  \"xsl\": \"application/xml\",\r\n  \"xsd\": \"application/xml\",\r\n  \"rng\": \"application/xml\",\r\n  \"dtd\": \"application/xml-dtd\",\r\n  \"xop\": \"application/xop+xml\",\r\n  \"xpl\": \"application/xproc+xml\",\r\n  \"xslt\": \"application/xml\",\r\n  \"xspf\": \"application/xspf+xml\",\r\n  \"mxml\": \"application/xv+xml\",\r\n  \"xhvml\": \"application/xv+xml\",\r\n  \"xvml\": \"application/xv+xml\",\r\n  \"xvm\": \"application/xv+xml\",\r\n  \"yang\": \"application/yang\",\r\n  \"yin\": \"application/yin+xml\",\r\n  \"zip\": \"application/zip\",\r\n  \"3gpp\": \"video/3gpp\",\r\n  \"adp\": \"audio/adpcm\",\r\n  \"amr\": \"audio/amr\",\r\n  \"au\": \"audio/basic\",\r\n  \"snd\": \"audio/basic\",\r\n  \"mid\": \"audio/midi\",\r\n  \"midi\": \"audio/midi\",\r\n  \"kar\": \"audio/midi\",\r\n  \"rmi\": \"audio/midi\",\r\n  \"mxmf\": \"audio/mobile-xmf\",\r\n  \"mp3\": \"audio/mpeg\",\r\n  \"m4a\": \"audio/mp4\",\r\n  \"mp4a\": \"audio/mp4\",\r\n  \"mpga\": \"audio/mpeg\",\r\n  \"mp2\": \"audio/mpeg\",\r\n  \"mp2a\": \"audio/mpeg\",\r\n  \"m2a\": \"audio/mpeg\",\r\n  \"m3a\": \"audio/mpeg\",\r\n  \"oga\": \"audio/ogg\",\r\n  \"ogg\": \"audio/ogg\",\r\n  \"spx\": \"audio/ogg\",\r\n  \"opus\": \"audio/ogg\",\r\n  \"s3m\": \"audio/s3m\",\r\n  \"sil\": \"audio/silk\",\r\n  \"wav\": \"audio/wav\",\r\n  \"weba\": \"audio/webm\",\r\n  \"xm\": \"audio/xm\",\r\n  \"ttc\": \"font/collection\",\r\n  \"otf\": \"font/otf\",\r\n  \"ttf\": \"font/ttf\",\r\n  \"woff\": \"font/woff\",\r\n  \"woff2\": \"font/woff2\",\r\n  \"exr\": \"image/aces\",\r\n  \"apng\": \"image/apng\",\r\n  \"avif\": \"image/avif\",\r\n  \"bmp\": \"image/bmp\",\r\n  \"cgm\": \"image/cgm\",\r\n  \"drle\": \"image/dicom-rle\",\r\n  \"emf\": \"image/emf\",\r\n  \"fits\": \"image/fits\",\r\n  \"g3\": \"image/g3fax\",\r\n  \"gif\": \"image/gif\",\r\n  \"heic\": \"image/heic\",\r\n  \"heics\": \"image/heic-sequence\",\r\n  \"heif\": \"image/heif\",\r\n  \"heifs\": \"image/heif-sequence\",\r\n  \"hej2\": \"image/hej2k\",\r\n  \"hsj2\": \"image/hsj2\",\r\n  \"ief\": \"image/ief\",\r\n  \"jls\": \"image/jls\",\r\n  \"jp2\": \"image/jp2\",\r\n  \"jpg2\": \"image/jp2\",\r\n  \"jpeg\": \"image/jpeg\",\r\n  \"jpg\": \"image/jpeg\",\r\n  \"jpe\": \"image/jpeg\",\r\n  \"jph\": \"image/jph\",\r\n  \"jhc\": \"image/jphc\",\r\n  \"jpm\": \"image/jpm\",\r\n  \"jpx\": \"image/jpx\",\r\n  \"jpf\": \"image/jpx\",\r\n  \"jxr\": \"image/jxr\",\r\n  \"jxra\": \"image/jxra\",\r\n  \"jxrs\": \"image/jxrs\",\r\n  \"jxs\": \"image/jxs\",\r\n  \"jxsc\": \"image/jxsc\",\r\n  \"jxsi\": \"image/jxsi\",\r\n  \"jxss\": \"image/jxss\",\r\n  \"ktx\": \"image/ktx\",\r\n  \"ktx2\": \"image/ktx2\",\r\n  \"png\": \"image/png\",\r\n  \"btif\": \"image/prs.btif\",\r\n  \"pti\": \"image/prs.pti\",\r\n  \"sgi\": \"image/sgi\",\r\n  \"svg\": \"image/svg+xml\",\r\n  \"svgz\": \"image/svg+xml\",\r\n  \"t38\": \"image/t38\",\r\n  \"tif\": \"image/tiff\",\r\n  \"tiff\": \"image/tiff\",\r\n  \"tfx\": \"image/tiff-fx\",\r\n  \"webp\": \"image/webp\",\r\n  \"wmf\": \"image/wmf\",\r\n  \"disposition-notification\": \"message/disposition-notification\",\r\n  \"u8msg\": \"message/global\",\r\n  \"u8dsn\": \"message/global-delivery-status\",\r\n  \"u8mdn\": \"message/global-disposition-notification\",\r\n  \"u8hdr\": \"message/global-headers\",\r\n  \"eml\": \"message/rfc822\",\r\n  \"mime\": \"message/rfc822\",\r\n  \"3mf\": \"model/3mf\",\r\n  \"gltf\": \"model/gltf+json\",\r\n  \"glb\": \"model/gltf-binary\",\r\n  \"igs\": \"model/iges\",\r\n  \"iges\": \"model/iges\",\r\n  \"msh\": \"model/mesh\",\r\n  \"mesh\": \"model/mesh\",\r\n  \"silo\": \"model/mesh\",\r\n  \"mtl\": \"model/mtl\",\r\n  \"obj\": \"model/obj\",\r\n  \"stpz\": \"model/step+zip\",\r\n  \"stpxz\": \"model/step-xml+zip\",\r\n  \"stl\": \"model/stl\",\r\n  \"wrl\": \"model/vrml\",\r\n  \"vrml\": \"model/vrml\",\r\n  \"x3db\": \"model/x3d+fastinfoset\",\r\n  \"x3dbz\": \"model/x3d+binary\",\r\n  \"x3dv\": \"model/x3d-vrml\",\r\n  \"x3dvz\": \"model/x3d+vrml\",\r\n  \"x3d\": \"model/x3d+xml\",\r\n  \"x3dz\": \"model/x3d+xml\",\r\n  \"appcache\": \"text/cache-manifest\",\r\n  \"manifest\": \"text/cache-manifest\",\r\n  \"ics\": \"text/calendar\",\r\n  \"ifb\": \"text/calendar\",\r\n  \"coffee\": \"text/coffeescript\",\r\n  \"litcoffee\": \"text/coffeescript\",\r\n  \"css\": \"text/css\",\r\n  \"csv\": \"text/csv\",\r\n  \"html\": \"text/html\",\r\n  \"htm\": \"text/html\",\r\n  \"shtml\": \"text/html\",\r\n  \"jade\": \"text/jade\",\r\n  \"jsx\": \"text/jsx\",\r\n  \"less\": \"text/less\",\r\n  \"markdown\": \"text/markdown\",\r\n  \"md\": \"text/markdown\",\r\n  \"mml\": \"text/mathml\",\r\n  \"mdx\": \"text/mdx\",\r\n  \"n3\": \"text/n3\",\r\n  \"txt\": \"text/plain\",\r\n  \"text\": \"text/plain\",\r\n  \"conf\": \"text/plain\",\r\n  \"def\": \"text/plain\",\r\n  \"list\": \"text/plain\",\r\n  \"log\": \"text/plain\",\r\n  \"in\": \"text/plain\",\r\n  \"ini\": \"text/plain\",\r\n  \"dsc\": \"text/prs.lines.tag\",\r\n  \"rtx\": \"text/richtext\",\r\n  \"sgml\": \"text/sgml\",\r\n  \"sgm\": \"text/sgml\",\r\n  \"shex\": \"text/shex\",\r\n  \"slim\": \"text/slim\",\r\n  \"slm\": \"text/slim\",\r\n  \"spdx\": \"text/spdx\",\r\n  \"stylus\": \"text/stylus\",\r\n  \"styl\": \"text/stylus\",\r\n  \"tsv\": \"text/tab-separated-values\",\r\n  \"t\": \"text/troff\",\r\n  \"tr\": \"text/troff\",\r\n  \"roff\": \"text/troff\",\r\n  \"man\": \"text/troff\",\r\n  \"me\": \"text/troff\",\r\n  \"ms\": \"text/troff\",\r\n  \"ttl\": \"text/turtle\",\r\n  \"uri\": \"text/uri-list\",\r\n  \"uris\": \"text/uri-list\",\r\n  \"urls\": \"text/uri-list\",\r\n  \"vcard\": \"text/vcard\",\r\n  \"vtt\": \"text/vtt\",\r\n  \"yaml\": \"text/yaml\",\r\n  \"yml\": \"text/yaml\",\r\n  \"3gp\": \"video/3gpp\",\r\n  \"3g2\": \"video/3gpp2\",\r\n  \"h261\": \"video/h261\",\r\n  \"h263\": \"video/h263\",\r\n  \"h264\": \"video/h264\",\r\n  \"m4s\": \"video/iso.segment\",\r\n  \"jpgv\": \"video/jpeg\",\r\n  \"jpgm\": \"image/jpm\",\r\n  \"mj2\": \"video/mj2\",\r\n  \"mjp2\": \"video/mj2\",\r\n  \"ts\": \"video/mp2t\",\r\n  \"mp4\": \"video/mp4\",\r\n  \"mp4v\": \"video/mp4\",\r\n  \"mpg4\": \"video/mp4\",\r\n  \"mpeg\": \"video/mpeg\",\r\n  \"mpg\": \"video/mpeg\",\r\n  \"mpe\": \"video/mpeg\",\r\n  \"m1v\": \"video/mpeg\",\r\n  \"m2v\": \"video/mpeg\",\r\n  \"ogv\": \"video/ogg\",\r\n  \"qt\": \"video/quicktime\",\r\n  \"mov\": \"video/quicktime\",\r\n  \"webm\": \"video/webm\"\r\n};\r\n\r\nfunction lookup(extn) {\r\n\tlet tmp = ('' + extn).trim().toLowerCase();\r\n\tlet idx = tmp.lastIndexOf('.');\r\n\treturn mimes$1[!~idx ? tmp : tmp.substring(++idx)];\r\n}\r\n\r\nconst assetUrlRE = /__VITE_ASSET__([a-z\\d]{8})__(?:\\$_(.*?)__)?/g;\r\nconst rawRE = /(\\?|&)raw(?:&|$)/;\r\nconst urlRE = /(\\?|&)url(?:&|$)/;\r\nconst assetCache = new WeakMap();\r\nconst assetHashToFilenameMap = new WeakMap();\r\n// save hashes of the files that has been emitted in build watch\r\nconst emittedHashMap = new WeakMap();\r\n// add own dictionary entry by directly assigning mrmime\r\nfunction registerCustomMime() {\r\n    // https://github.com/lukeed/mrmime/issues/3\r\n    mimes$1['ico'] = 'image/x-icon';\r\n    // https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Containers#flac\r\n    mimes$1['flac'] = 'audio/flac';\r\n    // mrmime and mime-db is not released yet: https://github.com/jshttp/mime-db/commit/c9242a9b7d4bb25d7a0c9244adec74aeef08d8a1\r\n    mimes$1['aac'] = 'audio/aac';\r\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\r\n    mimes$1['eot'] = 'application/vnd.ms-fontobject';\r\n}\r\nfunction renderAssetUrlInJS(ctx, config, chunk, opts, code) {\r\n    let match;\r\n    let s;\r\n    // Urls added with JS using e.g.\r\n    // imgElement.src = \"__VITE_ASSET__5aa0ddc0__\" are using quotes\r\n    // Urls added in CSS that is imported in JS end up like\r\n    // var inlined = \".inlined{color:green;background:url(__VITE_ASSET__5aa0ddc0__)}\\n\";\r\n    // In both cases, the wrapping should already be fine\r\n    while ((match = assetUrlRE.exec(code))) {\r\n        s || (s = new MagicString(code));\r\n        const [full, hash, postfix = ''] = match;\r\n        // some internal plugins may still need to emit chunks (e.g. worker) so\r\n        // fallback to this.getFileName for that. TODO: remove, not needed\r\n        const file = getAssetFilename(hash, config) || ctx.getFileName(hash);\r\n        chunk.viteMetadata.importedAssets.add(cleanUrl(file));\r\n        const filename = file + postfix;\r\n        const replacement = toOutputFilePathInString(filename, 'asset', chunk.fileName, 'js', config, opts.format);\r\n        const replacementString = typeof replacement === 'string'\r\n            ? JSON.stringify(replacement).slice(1, -1)\r\n            : `\"+${replacement.runtime}+\"`;\r\n        s.overwrite(match.index, match.index + full.length, replacementString, {\r\n            contentOnly: true\r\n        });\r\n    }\r\n    // Replace __VITE_PUBLIC_ASSET__5aa0ddc0__ with absolute paths\r\n    const publicAssetUrlMap = publicAssetUrlCache.get(config);\r\n    while ((match = publicAssetUrlRE.exec(code))) {\r\n        s || (s = new MagicString(code));\r\n        const [full, hash] = match;\r\n        const publicUrl = publicAssetUrlMap.get(hash).slice(1);\r\n        const replacement = toOutputFilePathInString(publicUrl, 'public', chunk.fileName, 'js', config, opts.format);\r\n        const replacementString = typeof replacement === 'string'\r\n            ? JSON.stringify(replacement).slice(1, -1)\r\n            : `\"+${replacement.runtime}+\"`;\r\n        s.overwrite(match.index, match.index + full.length, replacementString, {\r\n            contentOnly: true\r\n        });\r\n    }\r\n    return s;\r\n}\r\n/**\r\n * Also supports loading plain strings with import text from './foo.txt?raw'\r\n */\r\nfunction assetPlugin(config) {\r\n    // assetHashToFilenameMap initialization in buildStart causes getAssetFilename to return undefined\r\n    assetHashToFilenameMap.set(config, new Map());\r\n    registerCustomMime();\r\n    return {\r\n        name: 'vite:asset',\r\n        buildStart() {\r\n            assetCache.set(config, new Map());\r\n            emittedHashMap.set(config, new Set());\r\n        },\r\n        resolveId(id) {\r\n            if (!config.assetsInclude(cleanUrl(id))) {\r\n                return;\r\n            }\r\n            // imports to absolute urls pointing to files in /public\r\n            // will fail to resolve in the main resolver. handle them here.\r\n            const publicFile = checkPublicFile(id, config);\r\n            if (publicFile) {\r\n                return id;\r\n            }\r\n        },\r\n        async load(id) {\r\n            if (id.startsWith('\\0')) {\r\n                // Rollup convention, this id should be handled by the\r\n                // plugin that marked it with \\0\r\n                return;\r\n            }\r\n            // raw requests, read from disk\r\n            if (rawRE.test(id)) {\r\n                const file = checkPublicFile(id, config) || cleanUrl(id);\r\n                // raw query, read file and return as string\r\n                return `export default ${JSON.stringify(await promises$2.readFile(file, 'utf-8'))}`;\r\n            }\r\n            if (!config.assetsInclude(cleanUrl(id)) && !urlRE.test(id)) {\r\n                return;\r\n            }\r\n            id = id.replace(urlRE, '$1').replace(/[\\?&]$/, '');\r\n            const url = await fileToUrl(id, config, this);\r\n            return `export default ${JSON.stringify(url)}`;\r\n        },\r\n        renderChunk(code, chunk, opts) {\r\n            const s = renderAssetUrlInJS(this, config, chunk, opts, code);\r\n            if (s) {\r\n                return {\r\n                    code: s.toString(),\r\n                    map: config.build.sourcemap ? s.generateMap({ hires: true }) : null\r\n                };\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        },\r\n        generateBundle(_, bundle) {\r\n            // do not emit assets for SSR build\r\n            if (config.command === 'build' && config.build.ssr) {\r\n                for (const file in bundle) {\r\n                    if (bundle[file].type === 'asset' &&\r\n                        !file.includes('ssr-manifest.json')) {\r\n                        delete bundle[file];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction checkPublicFile(url, { publicDir }) {\r\n    // note if the file is in /public, the resolver would have returned it\r\n    // as-is so it's not going to be a fully resolved path.\r\n    if (!publicDir || !url.startsWith('/')) {\r\n        return;\r\n    }\r\n    const publicFile = path$n.join(publicDir, cleanUrl(url));\r\n    if (fs$l.existsSync(publicFile)) {\r\n        return publicFile;\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n}\r\nasync function fileToUrl(id, config, ctx) {\r\n    if (config.command === 'serve') {\r\n        return fileToDevUrl(id, config);\r\n    }\r\n    else {\r\n        return fileToBuiltUrl(id, config, ctx);\r\n    }\r\n}\r\nfunction fileToDevUrl(id, config) {\r\n    let rtn;\r\n    if (checkPublicFile(id, config)) {\r\n        // in public dir, keep the url as-is\r\n        rtn = id;\r\n    }\r\n    else if (id.startsWith(config.root)) {\r\n        // in project root, infer short public path\r\n        rtn = '/' + path$n.posix.relative(config.root, id);\r\n    }\r\n    else {\r\n        // outside of project root, use absolute fs path\r\n        // (this is special handled by the serve static middleware\r\n        rtn = path$n.posix.join(FS_PREFIX + id);\r\n    }\r\n    const origin = config.server?.origin ?? '';\r\n    const devBase = config.base;\r\n    return origin + devBase + rtn.replace(/^\\//, '');\r\n}\r\nfunction getAssetFilename(hash, config) {\r\n    return assetHashToFilenameMap.get(config)?.get(hash);\r\n}\r\nfunction getPublicAssetFilename(hash, config) {\r\n    return publicAssetUrlCache.get(config)?.get(hash);\r\n}\r\nfunction resolveAssetFileNames(config) {\r\n    const output = config.build?.rollupOptions?.output;\r\n    const defaultAssetFileNames = path$n.posix.join(config.build.assetsDir, '[name].[hash][extname]');\r\n    // Steps to determine which assetFileNames will be actually used.\r\n    // First, if output is an object or string, use assetFileNames in it.\r\n    // And a default assetFileNames as fallback.\r\n    let assetFileNames = (output && !Array.isArray(output) ? output.assetFileNames : undefined) ??\r\n        defaultAssetFileNames;\r\n    if (output && Array.isArray(output)) {\r\n        // Second, if output is an array, adopt assetFileNames in the first object.\r\n        assetFileNames = output[0].assetFileNames ?? assetFileNames;\r\n    }\r\n    return assetFileNames;\r\n}\r\n/**\r\n * converts the source filepath of the asset to the output filename based on the assetFileNames option. \\\r\n * this function imitates the behavior of rollup.js. \\\r\n * https://rollupjs.org/guide/en/#outputassetfilenames\r\n *\r\n * @example\r\n * ```ts\r\n * const content = Buffer.from('text');\r\n * const fileName = assetFileNamesToFileName(\r\n *   'assets/[name].[hash][extname]',\r\n *   '/path/to/file.txt',\r\n *   getHash(content),\r\n *   content\r\n * )\r\n * // fileName: 'assets/file.982d9e3e.txt'\r\n * ```\r\n *\r\n * @param assetFileNames filename pattern. e.g. `'assets/[name].[hash][extname]'`\r\n * @param file filepath of the asset\r\n * @param contentHash hash of the asset. used for `'[hash]'` placeholder\r\n * @param content content of the asset. passed to `assetFileNames` if `assetFileNames` is a function\r\n * @returns output filename\r\n */\r\nfunction assetFileNamesToFileName(assetFileNames, file, contentHash, content) {\r\n    const basename = path$n.basename(file);\r\n    // placeholders for `assetFileNames`\r\n    // `hash` is slightly different from the rollup's one\r\n    const extname = path$n.extname(basename);\r\n    const ext = extname.substring(1);\r\n    const name = basename.slice(0, -extname.length);\r\n    const hash = contentHash;\r\n    if (typeof assetFileNames === 'function') {\r\n        assetFileNames = assetFileNames({\r\n            name: file,\r\n            source: content,\r\n            type: 'asset'\r\n        });\r\n        if (typeof assetFileNames !== 'string') {\r\n            throw new TypeError('assetFileNames must return a string');\r\n        }\r\n    }\r\n    else if (typeof assetFileNames !== 'string') {\r\n        throw new TypeError('assetFileNames must be a string or a function');\r\n    }\r\n    const fileName = assetFileNames.replace(/\\[\\w+\\]/g, (placeholder) => {\r\n        switch (placeholder) {\r\n            case '[ext]':\r\n                return ext;\r\n            case '[extname]':\r\n                return extname;\r\n            case '[hash]':\r\n                return hash;\r\n            case '[name]':\r\n                return name;\r\n        }\r\n        throw new Error(`invalid placeholder ${placeholder} in assetFileNames \"${assetFileNames}\"`);\r\n    });\r\n    return fileName;\r\n}\r\nconst publicAssetUrlCache = new WeakMap();\r\nconst publicAssetUrlRE = /__VITE_PUBLIC_ASSET__([a-z\\d]{8})__/g;\r\nfunction publicFileToBuiltUrl(url, config) {\r\n    if (config.command !== 'build') {\r\n        // We don't need relative base or renderBuiltUrl support during dev\r\n        return config.base + url.slice(1);\r\n    }\r\n    const hash = getHash(url);\r\n    let cache = publicAssetUrlCache.get(config);\r\n    if (!cache) {\r\n        cache = new Map();\r\n        publicAssetUrlCache.set(config, cache);\r\n    }\r\n    if (!cache.get(hash)) {\r\n        cache.set(hash, url);\r\n    }\r\n    return `__VITE_PUBLIC_ASSET__${hash}__`;\r\n}\r\n/**\r\n * Register an asset to be emitted as part of the bundle (if necessary)\r\n * and returns the resolved public URL\r\n */\r\nasync function fileToBuiltUrl(id, config, pluginContext, skipPublicCheck = false) {\r\n    if (!skipPublicCheck && checkPublicFile(id, config)) {\r\n        return publicFileToBuiltUrl(id, config);\r\n    }\r\n    const cache = assetCache.get(config);\r\n    const cached = cache.get(id);\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    const file = cleanUrl(id);\r\n    const content = await promises$2.readFile(file);\r\n    let url;\r\n    if (config.build.lib ||\r\n        (!file.endsWith('.svg') &&\r\n            !file.endsWith('.html') &&\r\n            content.length < Number(config.build.assetsInlineLimit))) {\r\n        const mimeType = lookup(file) ?? 'application/octet-stream';\r\n        // base64 inlined as a string\r\n        url = `data:${mimeType};base64,${content.toString('base64')}`;\r\n    }\r\n    else {\r\n        // emit as asset\r\n        // rollup supports `import.meta.ROLLUP_FILE_URL_*`, but it generates code\r\n        // that uses runtime url sniffing and it can be verbose when targeting\r\n        // non-module format. It also fails to cascade the asset content change\r\n        // into the chunk's hash, so we have to do our own content hashing here.\r\n        // https://bundlers.tooling.report/hashing/asset-cascade/\r\n        // https://github.com/rollup/rollup/issues/3415\r\n        const map = assetHashToFilenameMap.get(config);\r\n        const contentHash = getHash(content);\r\n        const { search, hash } = parse$k(id);\r\n        const postfix = (search || '') + (hash || '');\r\n        const fileName = assetFileNamesToFileName(resolveAssetFileNames(config), file, contentHash, content);\r\n        if (!map.has(contentHash)) {\r\n            map.set(contentHash, fileName);\r\n        }\r\n        const emittedSet = emittedHashMap.get(config);\r\n        if (!emittedSet.has(contentHash)) {\r\n            const name = normalizePath$3(path$n.relative(config.root, file));\r\n            pluginContext.emitFile({\r\n                name,\r\n                fileName,\r\n                type: 'asset',\r\n                source: content\r\n            });\r\n            emittedSet.add(contentHash);\r\n        }\r\n        url = `__VITE_ASSET__${contentHash}__${postfix ? `$_${postfix}__` : ``}`; // TODO_BASE\r\n    }\r\n    cache.set(id, url);\r\n    return url;\r\n}\r\nasync function urlToBuiltUrl(url, importer, config, pluginContext) {\r\n    if (checkPublicFile(url, config)) {\r\n        return publicFileToBuiltUrl(url, config);\r\n    }\r\n    const file = url.startsWith('/')\r\n        ? path$n.join(config.root, url)\r\n        : path$n.join(path$n.dirname(importer), url);\r\n    return fileToBuiltUrl(file, config, pluginContext, \r\n    // skip public check since we just did it above\r\n    true);\r\n}\r\n\r\n/* es-module-lexer 1.0.3 */\r\nconst A=1===new Uint8Array(new Uint16Array([1]).buffer)[0];function parse$b(E,g=\"@\"){if(!C)return init.then((()=>parse$b(E)));const I=E.length+1,o=(C.__heap_base.value||C.__heap_base)+4*I-C.memory.buffer.byteLength;o>0&&C.memory.grow(Math.ceil(o/65536));const D=C.sa(I-1);if((A?B:Q)(E,new Uint16Array(C.memory.buffer,D,I)),!C.parse())throw Object.assign(new Error(`Parse error ${g}:${E.slice(0,C.e()).split(\"\\n\").length}:${C.e()-E.lastIndexOf(\"\\n\",C.e()-1)}`),{idx:C.e()});const J=[],K=[];for(;C.ri();){const A=C.is(),Q=C.ie(),B=C.ai(),g=C.id(),I=C.ss(),o=C.se();let D;C.ip()&&(D=w(E.slice(-1===g?A-1:A,-1===g?Q+1:Q))),J.push({n:D,s:A,e:Q,ss:I,se:o,d:g,a:B});}for(;C.re();){const A=C.es(),Q=C.ee(),B=C.els(),g=C.ele(),I=E.slice(A,Q),o=I[0],D=B<0?void 0:E.slice(B,g),J=D?D[0]:\"\";K.push({s:A,e:Q,ls:B,le:g,n:'\"'===o||\"'\"===o?w(I):I,ln:'\"'===J||\"'\"===J?w(D):D});}function w(A){try{return (0, eval)(A)}catch(A){}}return [J,K,!!C.f()]}function Q(A,Q){const B=A.length;let C=0;for(;C<B;){const B=A.charCodeAt(C);Q[C++]=(255&B)<<8|B>>>8;}}function B(A,Q){const B=A.length;let C=0;for(;C<B;)Q[C]=A.charCodeAt(C++);}let C;const init=WebAssembly.compile((E=\"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lApBACgC4AkhAkEBECYhAwJAAkACQEEAKAKUCiIEIAFHDQAgAxAlRQ0BCwJAAkACQAJAIANBKkYNACADQfsARw0BQQAgBEECajYClApBARAmIQRBACgClAohAQNAAkACQCAEQf//A3EiA0EiRg0AIANBJ0YNACADECgaQQAoApQKIQMMAQsgAxAYQQBBACgClApBAmoiAzYClAoLQQEQJhoCQCABIAMQKSIEQSxHDQBBAEEAKAKUCkECajYClApBARAmIQQLQQAoApQKIQMgBEH9AEYNAyADIAFGDQYgAyEBIANBACgCmApNDQAMBgsLQQAgBEECajYClApBARAmGkEAKAKUCiIDIAMQKRoMAgtBAEEAOgD4CQJAAkACQAJAAkACQCADQZ9/ag4MAggEAQgDCAgICAgFAAsgA0H2AEYNBAwHCyAEIARBDmpBAEEAEAIPC0EAIARBCmo2ApQKQQEQJhpBACgClAohBAtBACAEQRBqNgKUCgJAQQEQJiIEQSpHDQBBAEEAKAKUCkECajYClApBARAmIQQLQQAoApQKIQMgBBAoGiADQQAoApQKIgQgAyAEEAJBAEEAKAKUCkF+ajYClAoPCwJAIAQpAAJC7ICEg7COwDlSDQAgBC8BChAeRQ0AQQAgBEEKajYClApBARAmIQRBACgClAohAyAEECgaIANBACgClAoiBCADIAQQAkEAQQAoApQKQX5qNgKUCg8LQQAgBEEEaiIENgKUCgtBACAEQQRqIgM2ApQKQQBBADoA+AkCQANAQQAgA0ECajYClApBARAmIQRBACgClAohAyAEEChBIHJB+wBGDQFBACgClAoiBCADRg0EIAMgBCADIAQQAkEBECZBLEcNAUEAKAKUCiEDDAALC0EAQQAoApQKQX5qNgKUCg8LQQAgA0ECajYClAoLQQEQJiEEQQAoApQKIQMCQCAEQeYARw0AIANBAmpBnghBBhArDQBBACADQQhqNgKUCiAAQQEQJhAnIAJBEGpBzAkgAhshAwNAIAMoAgAiA0UNAiADQgA3AgggA0EQaiEDDAALC0EAIANBfmo2ApQKCw8LECILvgYBBH9BAEEAKAKUCiIAQQxqIgE2ApQKAkACQAJAAkACQAJAAkACQAJAAkBBARAmIgJBWWoOCAQCAQQBAQEDAAsgAkEiRg0DIAJB+wBGDQQLQQAo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\",\"undefined\"!=typeof Buffer?Buffer.from(E,\"base64\"):Uint8Array.from(atob(E),(A=>A.charCodeAt(0))))).then(WebAssembly.instantiate).then((({exports:A})=>{C=A;}));var E;\r\n\r\n/**\r\n * @param {object} exports\r\n * @param {Set<string>} keys\r\n */\r\nfunction loop(exports, keys) {\r\n\tif (typeof exports === 'string') {\r\n\t\treturn exports;\r\n\t}\r\n\r\n\tif (exports) {\r\n\t\tlet idx, tmp;\r\n\t\tif (Array.isArray(exports)) {\r\n\t\t\tfor (idx=0; idx < exports.length; idx++) {\r\n\t\t\t\tif (tmp = loop(exports[idx], keys)) return tmp;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (idx in exports) {\r\n\t\t\t\tif (keys.has(idx)) {\r\n\t\t\t\t\treturn loop(exports[idx], keys);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @param {string} name The package name\r\n * @param {string} entry The target entry, eg \".\"\r\n * @param {number} [condition] Unmatched condition?\r\n */\r\nfunction bail(name, entry, condition) {\r\n\tthrow new Error(\r\n\t\tcondition\r\n\t\t? `No known conditions for \"${entry}\" entry in \"${name}\" package`\r\n\t\t: `Missing \"${entry}\" export in \"${name}\" package`\r\n\t);\r\n}\r\n\r\n/**\r\n * @param {string} name the package name\r\n * @param {string} entry the target path/import\r\n */\r\nfunction toName(name, entry) {\r\n\treturn entry === name ? '.'\r\n\t\t: entry[0] === '.' ? entry\r\n\t\t: entry.replace(new RegExp('^' + name + '\\/'), './');\r\n}\r\n\r\n/**\r\n * @param {object} pkg package.json contents\r\n * @param {string} [entry] entry name or import path\r\n * @param {object} [options]\r\n * @param {boolean} [options.browser]\r\n * @param {boolean} [options.require]\r\n * @param {string[]} [options.conditions]\r\n * @param {boolean} [options.unsafe]\r\n */\r\nfunction resolve(pkg, entry='.', options={}) {\r\n\tlet { name, exports } = pkg;\r\n\r\n\tif (exports) {\r\n\t\tlet { browser, require, unsafe, conditions=[] } = options;\r\n\r\n\t\tlet target = toName(name, entry);\r\n\t\tif (target[0] !== '.') target = './' + target;\r\n\r\n\t\tif (typeof exports === 'string') {\r\n\t\t\treturn target === '.' ? exports : bail(name, target);\r\n\t\t}\r\n\r\n\t\tlet allows = new Set(['default', ...conditions]);\r\n\t\tunsafe || allows.add(require ? 'require' : 'import');\r\n\t\tunsafe || allows.add(browser ? 'browser' : 'node');\r\n\r\n\t\tlet key, tmp, isSingle=false;\r\n\r\n\t\tfor (key in exports) {\r\n\t\t\tisSingle = key[0] !== '.';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (isSingle) {\r\n\t\t\treturn target === '.'\r\n\t\t\t\t? loop(exports, allows) || bail(name, target, 1)\r\n\t\t\t\t: bail(name, target);\r\n\t\t}\r\n\r\n\t\tif (tmp = exports[target]) {\r\n\t\t\treturn loop(tmp, allows) || bail(name, target, 1);\r\n\t\t}\r\n\r\n\t\tfor (key in exports) {\r\n\t\t\ttmp = key[key.length - 1];\r\n\t\t\tif (tmp === '/' && target.startsWith(key)) {\r\n\t\t\t\treturn (tmp = loop(exports[key], allows))\r\n\t\t\t\t\t? (tmp + target.substring(key.length))\r\n\t\t\t\t\t: bail(name, target, 1);\r\n\t\t\t}\r\n\t\t\tif (tmp === '*' && target.startsWith(key.slice(0, -1))) {\r\n\t\t\t\t// do not trigger if no *content* to inject\r\n\t\t\t\tif (target.substring(key.length - 1).length > 0) {\r\n\t\t\t\t\treturn (tmp = loop(exports[key], allows))\r\n\t\t\t\t\t\t? tmp.replace('*', target.substring(key.length - 1))\r\n\t\t\t\t\t\t: bail(name, target, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn bail(name, target);\r\n\t}\r\n}\r\n\r\nconst HASH_RE = /#/g;\r\nconst AMPERSAND_RE = /&/g;\r\nconst EQUAL_RE = /=/g;\r\nconst PLUS_RE = /\\+/g;\r\nconst ENC_BRACKET_OPEN_RE = /%5B/gi;\r\nconst ENC_BRACKET_CLOSE_RE = /%5D/gi;\r\nconst ENC_CARET_RE = /%5E/gi;\r\nconst ENC_BACKTICK_RE = /%60/gi;\r\nconst ENC_CURLY_OPEN_RE = /%7B/gi;\r\nconst ENC_PIPE_RE = /%7C/gi;\r\nconst ENC_CURLY_CLOSE_RE = /%7D/gi;\r\nconst ENC_SPACE_RE = /%20/gi;\r\nfunction encode(text) {\r\n  return encodeURI(\"\" + text).replace(ENC_PIPE_RE, \"|\").replace(ENC_BRACKET_OPEN_RE, \"[\").replace(ENC_BRACKET_CLOSE_RE, \"]\");\r\n}\r\nfunction encodeQueryValue(text) {\r\n  return encode(text).replace(PLUS_RE, \"%2B\").replace(ENC_SPACE_RE, \"+\").replace(HASH_RE, \"%23\").replace(AMPERSAND_RE, \"%26\").replace(ENC_BACKTICK_RE, \"`\").replace(ENC_CURLY_OPEN_RE, \"{\").replace(ENC_CURLY_CLOSE_RE, \"}\").replace(ENC_CARET_RE, \"^\");\r\n}\r\nfunction encodeQueryKey(text) {\r\n  return encodeQueryValue(text).replace(EQUAL_RE, \"%3D\");\r\n}\r\nfunction encodeQueryItem(key, val) {\r\n  if (typeof val === \"number\" || typeof val === \"boolean\") {\r\n    val = String(val);\r\n  }\r\n  if (!val) {\r\n    return encodeQueryKey(key);\r\n  }\r\n  if (Array.isArray(val)) {\r\n    return val.map((_val) => `${encodeQueryKey(key)}=${encodeQueryValue(_val)}`).join(\"&\");\r\n  }\r\n  return `${encodeQueryKey(key)}=${encodeQueryValue(val)}`;\r\n}\r\nfunction stringifyQuery(query) {\r\n  return Object.keys(query).map((k) => encodeQueryItem(k, query[k])).join(\"&\");\r\n}\r\n\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar ParseOptions;\r\n(function (ParseOptions) {\r\n    ParseOptions.DEFAULT = {\r\n        allowTrailingComma: false\r\n    };\r\n})(ParseOptions || (ParseOptions = {}));\r\n\r\nfunction matchAll(regex, string, addition) {\r\n  const matches = [];\r\n  for (const match of string.matchAll(regex)) {\r\n    matches.push({\r\n      ...addition,\r\n      ...match.groups,\r\n      code: match[0],\r\n      start: match.index,\r\n      end: match.index + match[0].length\r\n    });\r\n  }\r\n  return matches;\r\n}\r\n\r\nconst isWindows$3 = process.platform === \"win32\";\r\nconst own$1 = {}.hasOwnProperty;\r\nconst messages = /* @__PURE__ */ new Map();\r\nconst nodeInternalPrefix = \"__node_internal_\";\r\nlet userStackTraceLimit;\r\ncreateError(\r\n  \"ERR_INVALID_MODULE_SPECIFIER\",\r\n  (request, reason, base = void 0) => {\r\n    return `Invalid module \"${request}\" ${reason}${base ? ` imported from ${base}` : \"\"}`;\r\n  },\r\n  TypeError\r\n);\r\ncreateError(\r\n  \"ERR_INVALID_PACKAGE_CONFIG\",\r\n  (path, base, message) => {\r\n    return `Invalid package config ${path}${base ? ` while importing ${base}` : \"\"}${message ? `. ${message}` : \"\"}`;\r\n  },\r\n  Error\r\n);\r\ncreateError(\r\n  \"ERR_INVALID_PACKAGE_TARGET\",\r\n  (pkgPath, key, target, isImport = false, base = void 0) => {\r\n    const relError = typeof target === \"string\" && !isImport && target.length > 0 && !target.startsWith(\"./\");\r\n    if (key === \".\") {\r\n      assert$1(isImport === false);\r\n      return `Invalid \"exports\" main target ${JSON.stringify(target)} defined in the package config ${pkgPath}package.json${base ? ` imported from ${base}` : \"\"}${relError ? '; targets must start with \"./\"' : \"\"}`;\r\n    }\r\n    return `Invalid \"${isImport ? \"imports\" : \"exports\"}\" target ${JSON.stringify(\r\n      target\r\n    )} defined for '${key}' in the package config ${pkgPath}package.json${base ? ` imported from ${base}` : \"\"}${relError ? '; targets must start with \"./\"' : \"\"}`;\r\n  },\r\n  Error\r\n);\r\ncreateError(\r\n  \"ERR_MODULE_NOT_FOUND\",\r\n  (path, base, type = \"package\") => {\r\n    return `Cannot find ${type} '${path}' imported from ${base}`;\r\n  },\r\n  Error\r\n);\r\ncreateError(\r\n  \"ERR_PACKAGE_IMPORT_NOT_DEFINED\",\r\n  (specifier, packagePath, base) => {\r\n    return `Package import specifier \"${specifier}\" is not defined${packagePath ? ` in package ${packagePath}package.json` : \"\"} imported from ${base}`;\r\n  },\r\n  TypeError\r\n);\r\ncreateError(\r\n  \"ERR_PACKAGE_PATH_NOT_EXPORTED\",\r\n  (pkgPath, subpath, base = void 0) => {\r\n    if (subpath === \".\") {\r\n      return `No \"exports\" main defined in ${pkgPath}package.json${base ? ` imported from ${base}` : \"\"}`;\r\n    }\r\n    return `Package subpath '${subpath}' is not defined by \"exports\" in ${pkgPath}package.json${base ? ` imported from ${base}` : \"\"}`;\r\n  },\r\n  Error\r\n);\r\ncreateError(\r\n  \"ERR_UNSUPPORTED_DIR_IMPORT\",\r\n  \"Directory import '%s' is not supported resolving ES modules imported from %s\",\r\n  Error\r\n);\r\ncreateError(\r\n  \"ERR_UNKNOWN_FILE_EXTENSION\",\r\n  'Unknown file extension \"%s\" for %s',\r\n  TypeError\r\n);\r\ncreateError(\r\n  \"ERR_INVALID_ARG_VALUE\",\r\n  (name, value, reason = \"is invalid\") => {\r\n    let inspected = inspect(value);\r\n    if (inspected.length > 128) {\r\n      inspected = `${inspected.slice(0, 128)}...`;\r\n    }\r\n    const type = name.includes(\".\") ? \"property\" : \"argument\";\r\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`;\r\n  },\r\n  TypeError\r\n);\r\ncreateError(\r\n  \"ERR_UNSUPPORTED_ESM_URL_SCHEME\",\r\n  (url) => {\r\n    let message = \"Only file and data URLs are supported by the default ESM loader\";\r\n    if (isWindows$3 && url.protocol.length === 2) {\r\n      message += \". On Windows, absolute paths must be valid file:// URLs\";\r\n    }\r\n    message += `. Received protocol '${url.protocol}'`;\r\n    return message;\r\n  },\r\n  Error\r\n);\r\nfunction createError(sym, value, def) {\r\n  messages.set(sym, value);\r\n  return makeNodeErrorWithCode(def, sym);\r\n}\r\nfunction makeNodeErrorWithCode(Base, key) {\r\n  return NodeError;\r\n  function NodeError(...args) {\r\n    const limit = Error.stackTraceLimit;\r\n    if (isErrorStackTraceLimitWritable()) {\r\n      Error.stackTraceLimit = 0;\r\n    }\r\n    const error = new Base();\r\n    if (isErrorStackTraceLimitWritable()) {\r\n      Error.stackTraceLimit = limit;\r\n    }\r\n    const message = getMessage(key, args, error);\r\n    Object.defineProperty(error, \"message\", {\r\n      value: message,\r\n      enumerable: false,\r\n      writable: true,\r\n      configurable: true\r\n    });\r\n    Object.defineProperty(error, \"toString\", {\r\n      value() {\r\n        return `${this.name} [${key}]: ${this.message}`;\r\n      },\r\n      enumerable: false,\r\n      writable: true,\r\n      configurable: true\r\n    });\r\n    addCodeToName(error, Base.name, key);\r\n    error.code = key;\r\n    return error;\r\n  }\r\n}\r\nconst addCodeToName = hideStackFrames(\r\n  function(error, name, code) {\r\n    error = captureLargerStackTrace(error);\r\n    error.name = `${name} [${code}]`;\r\n    if (name === \"SystemError\") {\r\n      Object.defineProperty(error, \"name\", {\r\n        value: name,\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true\r\n      });\r\n    } else {\r\n      delete error.name;\r\n    }\r\n  }\r\n);\r\nfunction isErrorStackTraceLimitWritable() {\r\n  const desc = Object.getOwnPropertyDescriptor(Error, \"stackTraceLimit\");\r\n  if (desc === void 0) {\r\n    return Object.isExtensible(Error);\r\n  }\r\n  return own$1.call(desc, \"writable\") ? desc.writable : desc.set !== void 0;\r\n}\r\nfunction hideStackFrames(fn) {\r\n  const hidden = nodeInternalPrefix + fn.name;\r\n  Object.defineProperty(fn, \"name\", { value: hidden });\r\n  return fn;\r\n}\r\nconst captureLargerStackTrace = hideStackFrames(\r\n  function(error) {\r\n    const stackTraceLimitIsWritable = isErrorStackTraceLimitWritable();\r\n    if (stackTraceLimitIsWritable) {\r\n      userStackTraceLimit = Error.stackTraceLimit;\r\n      Error.stackTraceLimit = Number.POSITIVE_INFINITY;\r\n    }\r\n    Error.captureStackTrace(error);\r\n    if (stackTraceLimitIsWritable) {\r\n      Error.stackTraceLimit = userStackTraceLimit;\r\n    }\r\n    return error;\r\n  }\r\n);\r\nfunction getMessage(key, args, self) {\r\n  const message = messages.get(key);\r\n  if (typeof message === \"function\") {\r\n    assert$1(\r\n      message.length <= args.length,\r\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${message.length}).`\r\n    );\r\n    return Reflect.apply(message, self, args);\r\n  }\r\n  const expectedLength = (message.match(/%[dfijoOs]/g) || []).length;\r\n  assert$1(\r\n    expectedLength === args.length,\r\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\r\n  );\r\n  if (args.length === 0) {\r\n    return message;\r\n  }\r\n  args.unshift(message);\r\n  return Reflect.apply(format$2, null, args);\r\n}\r\nObject.freeze([\"node\", \"import\"]);\r\npathToFileURL$1(process.cwd());\r\n\r\nconst ESM_STATIC_IMPORT_RE = /(?<=\\s|^|;)import\\s*([\"'\\s]*(?<imports>[\\w*${}\\n\\r\\t, /]+)from\\s*)?[\"']\\s*(?<specifier>(?<=\"\\s*)[^\"]*[^\"\\s](?=\\s*\")|(?<='\\s*)[^']*[^'\\s](?=\\s*'))\\s*[\"'][\\s;]*/gm;\r\nfunction findStaticImports(code) {\r\n  return matchAll(ESM_STATIC_IMPORT_RE, code, { type: \"static\" });\r\n}\r\nfunction parseStaticImport(matched) {\r\n  const cleanedImports = (matched.imports || \"\").replace(/(\\/\\/[^\\n]*\\n|\\/\\*.*\\*\\/)/g, \"\").replace(/\\s+/g, \" \");\r\n  const namedImports = {};\r\n  for (const namedImport of cleanedImports.match(/\\{([^}]*)\\}/)?.[1]?.split(\",\") || []) {\r\n    const [, source = namedImport.trim(), importName = source] = namedImport.match(/^\\s*([^\\s]*) as ([^\\s]*)\\s*$/) || [];\r\n    if (source) {\r\n      namedImports[source] = importName;\r\n    }\r\n  }\r\n  const topLevelImports = cleanedImports.replace(/\\{([^}]*)\\}/, \"\");\r\n  const namespacedImport = topLevelImports.match(/\\* as \\s*([^\\s]*)/)?.[1];\r\n  const defaultImport = topLevelImports.split(\",\").find((i) => !i.match(/[*{}]/))?.trim() || void 0;\r\n  return {\r\n    ...matched,\r\n    defaultImport,\r\n    namespacedImport,\r\n    namedImports\r\n  };\r\n}\r\n\r\nconst ESM_RE = /([\\s;]|^)(import[\\w,{}\\s*]*from|import\\s*['\"*{]|export\\b\\s*(?:[*{]|default|class|type|function|const|var|let|async function)|import\\.meta\\b)/m;\r\nfunction hasESMSyntax(code) {\r\n  return ESM_RE.test(code);\r\n}\r\n\r\nconst isDebug$5 = process.env.DEBUG;\r\nconst debug$d = createDebugger('vite:resolve-details', {\r\n    onlyWhenFocused: true\r\n});\r\nfunction invalidatePackageData(packageCache, pkgPath) {\r\n    packageCache.delete(pkgPath);\r\n    const pkgDir = path$n.dirname(pkgPath);\r\n    packageCache.forEach((pkg, cacheKey) => {\r\n        if (pkg.dir === pkgDir) {\r\n            packageCache.delete(cacheKey);\r\n        }\r\n    });\r\n}\r\nfunction resolvePackageData(id, basedir, preserveSymlinks = false, packageCache) {\r\n    let pkg;\r\n    let cacheKey;\r\n    if (packageCache) {\r\n        cacheKey = `${id}&${basedir}&${preserveSymlinks}`;\r\n        if ((pkg = packageCache.get(cacheKey))) {\r\n            return pkg;\r\n        }\r\n    }\r\n    let pkgPath;\r\n    try {\r\n        pkgPath = resolveFrom(`${id}/package.json`, basedir, preserveSymlinks);\r\n        pkg = loadPackageData(pkgPath, true, packageCache);\r\n        if (packageCache) {\r\n            packageCache.set(cacheKey, pkg);\r\n        }\r\n        return pkg;\r\n    }\r\n    catch (e) {\r\n        if (e instanceof SyntaxError) {\r\n            isDebug$5 && debug$d(`Parsing failed: ${pkgPath}`);\r\n        }\r\n        // Ignore error for missing package.json\r\n        else if (e.code !== 'MODULE_NOT_FOUND') {\r\n            throw e;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction loadPackageData(pkgPath, preserveSymlinks, packageCache) {\r\n    if (!preserveSymlinks) {\r\n        pkgPath = fs$l.realpathSync.native(pkgPath);\r\n    }\r\n    let cached;\r\n    if ((cached = packageCache?.get(pkgPath))) {\r\n        return cached;\r\n    }\r\n    const data = JSON.parse(fs$l.readFileSync(pkgPath, 'utf-8'));\r\n    const pkgDir = path$n.dirname(pkgPath);\r\n    const { sideEffects } = data;\r\n    let hasSideEffects;\r\n    if (typeof sideEffects === 'boolean') {\r\n        hasSideEffects = () => sideEffects;\r\n    }\r\n    else if (Array.isArray(sideEffects)) {\r\n        hasSideEffects = createFilter(sideEffects, null, { resolve: pkgDir });\r\n    }\r\n    else {\r\n        hasSideEffects = () => true;\r\n    }\r\n    const pkg = {\r\n        dir: pkgDir,\r\n        data,\r\n        hasSideEffects,\r\n        webResolvedImports: {},\r\n        nodeResolvedImports: {},\r\n        setResolvedCache(key, entry, targetWeb) {\r\n            if (targetWeb) {\r\n                pkg.webResolvedImports[key] = entry;\r\n            }\r\n            else {\r\n                pkg.nodeResolvedImports[key] = entry;\r\n            }\r\n        },\r\n        getResolvedCache(key, targetWeb) {\r\n            if (targetWeb) {\r\n                return pkg.webResolvedImports[key];\r\n            }\r\n            else {\r\n                return pkg.nodeResolvedImports[key];\r\n            }\r\n        }\r\n    };\r\n    packageCache?.set(pkgPath, pkg);\r\n    return pkg;\r\n}\r\nfunction watchPackageDataPlugin(config) {\r\n    const watchQueue = new Set();\r\n    let watchFile = (id) => {\r\n        watchQueue.add(id);\r\n    };\r\n    const { packageCache } = config;\r\n    const setPackageData = packageCache.set.bind(packageCache);\r\n    packageCache.set = (id, pkg) => {\r\n        if (id.endsWith('.json')) {\r\n            watchFile(id);\r\n        }\r\n        return setPackageData(id, pkg);\r\n    };\r\n    return {\r\n        name: 'vite:watch-package-data',\r\n        buildStart() {\r\n            watchFile = this.addWatchFile;\r\n            watchQueue.forEach(watchFile);\r\n            watchQueue.clear();\r\n        },\r\n        buildEnd() {\r\n            watchFile = (id) => watchQueue.add(id);\r\n        },\r\n        watchChange(id) {\r\n            if (id.endsWith('/package.json')) {\r\n                invalidatePackageData(packageCache, id);\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\n// special id for paths marked with browser: false\r\n// https://github.com/defunctzombie/package-browser-field-spec#ignore-a-module\r\nconst browserExternalId = '__vite-browser-external';\r\nconst isDebug$4 = process.env.DEBUG;\r\nconst debug$c = createDebugger('vite:resolve-details', {\r\n    onlyWhenFocused: true\r\n});\r\nfunction resolvePlugin(resolveOptions) {\r\n    const { root, isProduction, asSrc, ssrConfig, preferRelative = false } = resolveOptions;\r\n    const { target: ssrTarget, noExternal: ssrNoExternal } = ssrConfig ?? {};\r\n    return {\r\n        name: 'vite:resolve',\r\n        async resolveId(id, importer, resolveOpts) {\r\n            const ssr = resolveOpts?.ssr === true;\r\n            // We need to delay depsOptimizer until here instead of passing it as an option\r\n            // the resolvePlugin because the optimizer is created on server listen during dev\r\n            const depsOptimizer = resolveOptions.getDepsOptimizer?.(ssr);\r\n            if (id.startsWith(browserExternalId)) {\r\n                return id;\r\n            }\r\n            const targetWeb = !ssr || ssrTarget === 'webworker';\r\n            // this is passed by @rollup/plugin-commonjs\r\n            const isRequire = resolveOpts?.custom?.['node-resolve']?.isRequire ?? false;\r\n            const options = {\r\n                isRequire,\r\n                ...resolveOptions,\r\n                scan: resolveOpts?.scan ?? resolveOptions.scan\r\n            };\r\n            if (importer) {\r\n                if (isTsRequest(importer) ||\r\n                    resolveOpts.custom?.depScan?.loader?.startsWith('ts')) {\r\n                    options.isFromTsImporter = true;\r\n                }\r\n                else {\r\n                    const moduleLang = this.getModuleInfo(importer)?.meta?.vite?.lang;\r\n                    options.isFromTsImporter = moduleLang && isTsRequest(`.${moduleLang}`);\r\n                }\r\n            }\r\n            let res;\r\n            // resolve pre-bundled deps requests, these could be resolved by\r\n            // tryFileResolve or /fs/ resolution but these files may not yet\r\n            // exists if we are in the middle of a deps re-processing\r\n            if (asSrc && depsOptimizer?.isOptimizedDepUrl(id)) {\r\n                const optimizedPath = id.startsWith(FS_PREFIX)\r\n                    ? fsPathFromId(id)\r\n                    : normalizePath$3(ensureVolumeInPath(path$n.resolve(root, id.slice(1))));\r\n                return optimizedPath;\r\n            }\r\n            // explicit fs paths that starts with /@fs/*\r\n            if (asSrc && id.startsWith(FS_PREFIX)) {\r\n                const fsPath = fsPathFromId(id);\r\n                res = tryFsResolve(fsPath, options);\r\n                isDebug$4 && debug$c(`[@fs] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(res)}`);\r\n                // always return here even if res doesn't exist since /@fs/ is explicit\r\n                // if the file doesn't exist it should be a 404\r\n                return res || fsPath;\r\n            }\r\n            // URL\r\n            // /foo -> /fs-root/foo\r\n            if (asSrc && id.startsWith('/')) {\r\n                const fsPath = path$n.resolve(root, id.slice(1));\r\n                if ((res = tryFsResolve(fsPath, options))) {\r\n                    isDebug$4 && debug$c(`[url] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(res)}`);\r\n                    return res;\r\n                }\r\n            }\r\n            // relative\r\n            if (id.startsWith('.') ||\r\n                ((preferRelative || importer?.endsWith('.html')) && /^\\w/.test(id))) {\r\n                const basedir = importer ? path$n.dirname(importer) : process.cwd();\r\n                const fsPath = path$n.resolve(basedir, id);\r\n                // handle browser field mapping for relative imports\r\n                const normalizedFsPath = normalizePath$3(fsPath);\r\n                if (depsOptimizer?.isOptimizedDepFile(normalizedFsPath)) {\r\n                    // Optimized files could not yet exist in disk, resolve to the full path\r\n                    // Inject the current browserHash version if the path doesn't have one\r\n                    if (!normalizedFsPath.match(DEP_VERSION_RE)) {\r\n                        const browserHash = optimizedDepInfoFromFile(depsOptimizer.metadata, normalizedFsPath)?.browserHash;\r\n                        if (browserHash) {\r\n                            return injectQuery(normalizedFsPath, `v=${browserHash}`);\r\n                        }\r\n                    }\r\n                    return normalizedFsPath;\r\n                }\r\n                const pathFromBasedir = normalizedFsPath.slice(basedir.length);\r\n                if (pathFromBasedir.startsWith('/node_modules/')) {\r\n                    // normalize direct imports from node_modules to bare imports, so the\r\n                    // hashing logic is shared and we avoid duplicated modules #2503\r\n                    const bareImport = pathFromBasedir.slice('/node_modules/'.length);\r\n                    if ((res = tryNodeResolve(bareImport, importer, options, targetWeb, depsOptimizer, ssr)) &&\r\n                        res.id.startsWith(normalizedFsPath)) {\r\n                        return res;\r\n                    }\r\n                }\r\n                if (targetWeb &&\r\n                    (res = tryResolveBrowserMapping(fsPath, importer, options, true))) {\r\n                    return res;\r\n                }\r\n                if ((res = tryFsResolve(fsPath, options))) {\r\n                    isDebug$4 &&\r\n                        debug$c(`[relative] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(res)}`);\r\n                    const pkg = importer != null && idToPkgMap.get(importer);\r\n                    if (pkg) {\r\n                        idToPkgMap.set(res, pkg);\r\n                        return {\r\n                            id: res,\r\n                            moduleSideEffects: pkg.hasSideEffects(res)\r\n                        };\r\n                    }\r\n                    return res;\r\n                }\r\n            }\r\n            // drive relative fs paths (only windows)\r\n            if (isWindows$4 && id.startsWith('/')) {\r\n                const basedir = importer ? path$n.dirname(importer) : process.cwd();\r\n                const fsPath = path$n.resolve(basedir, id);\r\n                if ((res = tryFsResolve(fsPath, options))) {\r\n                    isDebug$4 &&\r\n                        debug$c(`[drive-relative] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(res)}`);\r\n                    return res;\r\n                }\r\n            }\r\n            // absolute fs paths\r\n            if (isNonDriveRelativeAbsolutePath(id) &&\r\n                (res = tryFsResolve(id, options))) {\r\n                isDebug$4 && debug$c(`[fs] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(res)}`);\r\n                return res;\r\n            }\r\n            // external\r\n            if (isExternalUrl(id)) {\r\n                return {\r\n                    id,\r\n                    external: true\r\n                };\r\n            }\r\n            // data uri: pass through (this only happens during build and will be\r\n            // handled by dedicated plugin)\r\n            if (isDataUrl(id)) {\r\n                return null;\r\n            }\r\n            // bare package imports, perform node resolve\r\n            if (bareImportRE.test(id)) {\r\n                const external = options.shouldExternalize?.(id);\r\n                if (!external &&\r\n                    asSrc &&\r\n                    depsOptimizer &&\r\n                    !options.scan &&\r\n                    (res = await tryOptimizedResolve(depsOptimizer, id, importer))) {\r\n                    return res;\r\n                }\r\n                if (targetWeb &&\r\n                    (res = tryResolveBrowserMapping(id, importer, options, false, external))) {\r\n                    return res;\r\n                }\r\n                if ((res = tryNodeResolve(id, importer, options, targetWeb, depsOptimizer, ssr, external))) {\r\n                    return res;\r\n                }\r\n                // node built-ins.\r\n                // externalize if building for SSR, otherwise redirect to empty module\r\n                if (isBuiltin(id)) {\r\n                    if (ssr) {\r\n                        if (ssrNoExternal === true) {\r\n                            let message = `Cannot bundle Node.js built-in \"${id}\"`;\r\n                            if (importer) {\r\n                                message += ` imported from \"${path$n.relative(process.cwd(), importer)}\"`;\r\n                            }\r\n                            message += `. Consider disabling ssr.noExternal or remove the built-in dependency.`;\r\n                            this.error(message);\r\n                        }\r\n                        return {\r\n                            id,\r\n                            external: true\r\n                        };\r\n                    }\r\n                    else {\r\n                        if (!asSrc) {\r\n                            debug$c(`externalized node built-in \"${id}\" to empty module. ` +\r\n                                `(imported by: ${picocolors.exports.white(picocolors.exports.dim(importer))})`);\r\n                        }\r\n                        return isProduction\r\n                            ? browserExternalId\r\n                            : `${browserExternalId}:${id}`;\r\n                    }\r\n                }\r\n            }\r\n            isDebug$4 && debug$c(`[fallthrough] ${picocolors.exports.dim(id)}`);\r\n        },\r\n        load(id) {\r\n            if (id.startsWith(browserExternalId)) {\r\n                if (isProduction) {\r\n                    return `export default {}`;\r\n                }\r\n                else {\r\n                    id = id.slice(browserExternalId.length + 1);\r\n                    return `\\\r\nexport default new Proxy({}, {\r\n  get(_, key) {\r\n    throw new Error(\\`Module \"${id}\" has been externalized for browser compatibility. Cannot access \"${id}.\\${key}\" in client code.\\`)\r\n  }\r\n})`;\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction splitFileAndPostfix(path) {\r\n    let file = path;\r\n    let postfix = '';\r\n    let postfixIndex = path.indexOf('?');\r\n    if (postfixIndex < 0) {\r\n        postfixIndex = path.indexOf('#');\r\n    }\r\n    if (postfixIndex > 0) {\r\n        file = path.slice(0, postfixIndex);\r\n        postfix = path.slice(postfixIndex);\r\n    }\r\n    return { file, postfix };\r\n}\r\nfunction tryFsResolve(fsPath, options, tryIndex = true, targetWeb = true) {\r\n    const { file, postfix } = splitFileAndPostfix(fsPath);\r\n    let res;\r\n    // if we fould postfix exist, we should first try resolving file with postfix. details see #4703.\r\n    if (postfix &&\r\n        (res = tryResolveFile(fsPath, '', options, false, targetWeb, options.tryPrefix, options.skipPackageJson))) {\r\n        return res;\r\n    }\r\n    if ((res = tryResolveFile(file, postfix, options, false, targetWeb, options.tryPrefix, options.skipPackageJson))) {\r\n        return res;\r\n    }\r\n    for (const ext of options.extensions || DEFAULT_EXTENSIONS$1) {\r\n        if (postfix &&\r\n            (res = tryResolveFile(fsPath + ext, '', options, false, targetWeb, options.tryPrefix, options.skipPackageJson))) {\r\n            return res;\r\n        }\r\n        if ((res = tryResolveFile(file + ext, postfix, options, false, targetWeb, options.tryPrefix, options.skipPackageJson))) {\r\n            return res;\r\n        }\r\n    }\r\n    if (postfix &&\r\n        (res = tryResolveFile(fsPath, '', options, tryIndex, targetWeb, options.tryPrefix, options.skipPackageJson))) {\r\n        return res;\r\n    }\r\n    if ((res = tryResolveFile(file, postfix, options, tryIndex, targetWeb, options.tryPrefix, options.skipPackageJson))) {\r\n        return res;\r\n    }\r\n}\r\nfunction tryResolveFile(file, postfix, options, tryIndex, targetWeb, tryPrefix, skipPackageJson) {\r\n    // #2051 if we don't have read permission on a directory, existsSync() still\r\n    // works and will result in massively slow subsequent checks (which are\r\n    // unnecessary in the first place)\r\n    if (isFileReadable(file)) {\r\n        if (!fs$l.statSync(file).isDirectory()) {\r\n            return getRealPath(file, options.preserveSymlinks) + postfix;\r\n        }\r\n        else if (tryIndex) {\r\n            if (!skipPackageJson) {\r\n                const pkgPath = file + '/package.json';\r\n                try {\r\n                    // path points to a node package\r\n                    const pkg = loadPackageData(pkgPath, options.preserveSymlinks);\r\n                    const resolved = resolvePackageEntry(file, pkg, targetWeb, options);\r\n                    return resolved;\r\n                }\r\n                catch (e) {\r\n                    if (e.code !== 'ENOENT') {\r\n                        throw e;\r\n                    }\r\n                }\r\n            }\r\n            const index = tryFsResolve(file + '/index', options);\r\n            if (index)\r\n                return index + postfix;\r\n        }\r\n    }\r\n    const tryTsExtension = options.isFromTsImporter && isPossibleTsOutput(file);\r\n    if (tryTsExtension) {\r\n        const tsSrcPaths = getPotentialTsSrcPaths(file);\r\n        for (const srcPath of tsSrcPaths) {\r\n            const res = tryResolveFile(srcPath, postfix, options, tryIndex, targetWeb, tryPrefix, skipPackageJson);\r\n            if (res)\r\n                return res;\r\n        }\r\n        return;\r\n    }\r\n    if (tryPrefix) {\r\n        const prefixed = `${path$n.dirname(file)}/${tryPrefix}${path$n.basename(file)}`;\r\n        return tryResolveFile(prefixed, postfix, options, tryIndex, targetWeb);\r\n    }\r\n}\r\nconst idToPkgMap = new Map();\r\nfunction tryNodeResolve(id, importer, options, targetWeb, depsOptimizer, ssr, externalize, allowLinkedExternal = true) {\r\n    const { root, dedupe, isBuild, preserveSymlinks, packageCache } = options;\r\n    ssr ?? (ssr = false);\r\n    // split id by last '>' for nested selected packages, for example:\r\n    // 'foo > bar > baz' => 'foo > bar' & 'baz'\r\n    // 'foo'             => ''          & 'foo'\r\n    const lastArrowIndex = id.lastIndexOf('>');\r\n    const nestedRoot = id.substring(0, lastArrowIndex).trim();\r\n    const nestedPath = id.substring(lastArrowIndex + 1).trim();\r\n    const possiblePkgIds = [];\r\n    for (let prevSlashIndex = -1;;) {\r\n        let slashIndex = nestedPath.indexOf('/', prevSlashIndex + 1);\r\n        if (slashIndex < 0) {\r\n            slashIndex = nestedPath.length;\r\n        }\r\n        const part = nestedPath.slice(prevSlashIndex + 1, (prevSlashIndex = slashIndex));\r\n        if (!part) {\r\n            break;\r\n        }\r\n        // Assume path parts with an extension are not package roots, except for the\r\n        // first path part (since periods are sadly allowed in package names).\r\n        // At the same time, skip the first path part if it begins with \"@\"\r\n        // (since \"@foo/bar\" should be treated as the top-level path).\r\n        if (possiblePkgIds.length ? path$n.extname(part) : part[0] === '@') {\r\n            continue;\r\n        }\r\n        const possiblePkgId = nestedPath.slice(0, slashIndex);\r\n        possiblePkgIds.push(possiblePkgId);\r\n    }\r\n    let basedir;\r\n    if (dedupe?.some((id) => possiblePkgIds.includes(id))) {\r\n        basedir = root;\r\n    }\r\n    else if (importer &&\r\n        path$n.isAbsolute(importer) &&\r\n        fs$l.existsSync(cleanUrl(importer))) {\r\n        basedir = path$n.dirname(importer);\r\n    }\r\n    else {\r\n        basedir = root;\r\n    }\r\n    // nested node module, step-by-step resolve to the basedir of the nestedPath\r\n    if (nestedRoot) {\r\n        basedir = nestedResolveFrom(nestedRoot, basedir, preserveSymlinks);\r\n    }\r\n    let pkg;\r\n    const pkgId = possiblePkgIds.reverse().find((pkgId) => {\r\n        pkg = resolvePackageData(pkgId, basedir, preserveSymlinks, packageCache);\r\n        return pkg;\r\n    });\r\n    if (!pkg) {\r\n        return;\r\n    }\r\n    let resolveId = resolvePackageEntry;\r\n    let unresolvedId = pkgId;\r\n    const isDeepImport = unresolvedId !== nestedPath;\r\n    if (isDeepImport) {\r\n        resolveId = resolveDeepImport;\r\n        unresolvedId = '.' + nestedPath.slice(pkgId.length);\r\n    }\r\n    let resolved;\r\n    try {\r\n        resolved = resolveId(unresolvedId, pkg, targetWeb, options);\r\n    }\r\n    catch (err) {\r\n        if (!options.tryEsmOnly) {\r\n            throw err;\r\n        }\r\n    }\r\n    if (!resolved && options.tryEsmOnly) {\r\n        resolved = resolveId(unresolvedId, pkg, targetWeb, {\r\n            ...options,\r\n            isRequire: false,\r\n            mainFields: DEFAULT_MAIN_FIELDS,\r\n            extensions: DEFAULT_EXTENSIONS$1\r\n        });\r\n    }\r\n    if (!resolved) {\r\n        return;\r\n    }\r\n    const processResult = (resolved) => {\r\n        if (!externalize) {\r\n            return resolved;\r\n        }\r\n        // don't external symlink packages\r\n        if (!allowLinkedExternal && !resolved.id.includes('node_modules')) {\r\n            return resolved;\r\n        }\r\n        const resolvedExt = path$n.extname(resolved.id);\r\n        // don't external non-js imports\r\n        if (resolvedExt &&\r\n            resolvedExt !== '.js' &&\r\n            resolvedExt !== '.mjs' &&\r\n            resolvedExt !== '.cjs') {\r\n            return resolved;\r\n        }\r\n        let resolvedId = id;\r\n        if (isDeepImport) {\r\n            if (!pkg?.data.exports && path$n.extname(id) !== resolvedExt) {\r\n                resolvedId += resolvedExt;\r\n            }\r\n        }\r\n        return { ...resolved, id: resolvedId, external: true };\r\n    };\r\n    // link id to pkg for browser field mapping check\r\n    idToPkgMap.set(resolved, pkg);\r\n    if ((isBuild && !depsOptimizer) || externalize) {\r\n        // Resolve package side effects for build so that rollup can better\r\n        // perform tree-shaking\r\n        return processResult({\r\n            id: resolved,\r\n            moduleSideEffects: pkg.hasSideEffects(resolved)\r\n        });\r\n    }\r\n    const ext = path$n.extname(resolved);\r\n    const isCJS = ext === '.cjs' || (ext === '.js' && pkg.data.type !== 'module');\r\n    if (!options.ssrOptimizeCheck &&\r\n        (!resolved.includes('node_modules') || // linked\r\n            !depsOptimizer || // resolving before listening to the server\r\n            options.scan) // initial esbuild scan phase\r\n    ) {\r\n        return { id: resolved };\r\n    }\r\n    // if we reach here, it's a valid dep import that hasn't been optimized.\r\n    const isJsType = OPTIMIZABLE_ENTRY_RE.test(resolved);\r\n    let exclude = depsOptimizer?.options.exclude;\r\n    let include = depsOptimizer?.options.exclude;\r\n    if (options.ssrOptimizeCheck) {\r\n        // we don't have the depsOptimizer\r\n        exclude = options.ssrConfig?.optimizeDeps?.exclude;\r\n        include = options.ssrConfig?.optimizeDeps?.exclude;\r\n    }\r\n    const skipOptimization = !isJsType ||\r\n        importer?.includes('node_modules') ||\r\n        exclude?.includes(pkgId) ||\r\n        exclude?.includes(nestedPath) ||\r\n        SPECIAL_QUERY_RE.test(resolved) ||\r\n        (!isBuild && ssr) ||\r\n        // Only optimize non-external CJS deps during SSR by default\r\n        (ssr &&\r\n            !isCJS &&\r\n            !(include?.includes(pkgId) || include?.includes(nestedPath)));\r\n    if (options.ssrOptimizeCheck) {\r\n        return {\r\n            id: skipOptimization\r\n                ? injectQuery(resolved, `__vite_skip_optimization`)\r\n                : resolved\r\n        };\r\n    }\r\n    if (skipOptimization) {\r\n        // excluded from optimization\r\n        // Inject a version query to npm deps so that the browser\r\n        // can cache it without re-validation, but only do so for known js types.\r\n        // otherwise we may introduce duplicated modules for externalized files\r\n        // from pre-bundled deps.\r\n        if (!isBuild) {\r\n            const versionHash = depsOptimizer.metadata.browserHash;\r\n            if (versionHash && isJsType) {\r\n                resolved = injectQuery(resolved, `v=${versionHash}`);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // this is a missing import, queue optimize-deps re-run and\r\n        // get a resolved its optimized info\r\n        const optimizedInfo = depsOptimizer.registerMissingImport(id, resolved);\r\n        resolved = depsOptimizer.getOptimizedDepId(optimizedInfo);\r\n    }\r\n    if (isBuild) {\r\n        // Resolve package side effects for build so that rollup can better\r\n        // perform tree-shaking\r\n        return {\r\n            id: resolved,\r\n            moduleSideEffects: pkg.hasSideEffects(resolved)\r\n        };\r\n    }\r\n    else {\r\n        return { id: resolved };\r\n    }\r\n}\r\nasync function tryOptimizedResolve(depsOptimizer, id, importer) {\r\n    // TODO: we need to wait until scanning is done here as this function\r\n    // is used in the preAliasPlugin to decide if an aliased dep is optimized,\r\n    // and avoid replacing the bare import with the resolved path.\r\n    // We should be able to remove this in the future\r\n    await depsOptimizer.scanProcessing;\r\n    const metadata = depsOptimizer.metadata;\r\n    const depInfo = optimizedDepInfoFromId(metadata, id);\r\n    if (depInfo) {\r\n        return depsOptimizer.getOptimizedDepId(depInfo);\r\n    }\r\n    if (!importer)\r\n        return;\r\n    // further check if id is imported by nested dependency\r\n    let resolvedSrc;\r\n    for (const optimizedData of metadata.depInfoList) {\r\n        if (!optimizedData.src)\r\n            continue; // Ignore chunks\r\n        const pkgPath = optimizedData.id;\r\n        // check for scenarios, e.g.\r\n        //   pkgPath  => \"my-lib > foo\"\r\n        //   id       => \"foo\"\r\n        // this narrows the need to do a full resolve\r\n        if (!pkgPath.endsWith(id))\r\n            continue;\r\n        // lazily initialize resolvedSrc\r\n        if (resolvedSrc == null) {\r\n            try {\r\n                // this may throw errors if unable to resolve, e.g. aliased id\r\n                resolvedSrc = normalizePath$3(resolveFrom(id, path$n.dirname(importer)));\r\n            }\r\n            catch {\r\n                // this is best-effort only so swallow errors\r\n                break;\r\n            }\r\n        }\r\n        // match by src to correctly identify if id belongs to nested dependency\r\n        if (optimizedData.src === resolvedSrc) {\r\n            return depsOptimizer.getOptimizedDepId(optimizedData);\r\n        }\r\n    }\r\n}\r\nfunction resolvePackageEntry(id, { dir, data, setResolvedCache, getResolvedCache }, targetWeb, options) {\r\n    const cached = getResolvedCache('.', targetWeb);\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    try {\r\n        let entryPoint;\r\n        // resolve exports field with highest priority\r\n        // using https://github.com/lukeed/resolve.exports\r\n        if (data.exports) {\r\n            entryPoint = resolveExports(data, '.', options, targetWeb);\r\n        }\r\n        // if exports resolved to .mjs, still resolve other fields.\r\n        // This is because .mjs files can technically import .cjs files which would\r\n        // make them invalid for pure ESM environments - so if other module/browser\r\n        // fields are present, prioritize those instead.\r\n        if (targetWeb && (!entryPoint || entryPoint.endsWith('.mjs'))) {\r\n            // check browser field\r\n            // https://github.com/defunctzombie/package-browser-field-spec\r\n            const browserEntry = typeof data.browser === 'string'\r\n                ? data.browser\r\n                : isObject$2(data.browser) && data.browser['.'];\r\n            if (browserEntry) {\r\n                // check if the package also has a \"module\" field.\r\n                if (!options.isRequire &&\r\n                    typeof data.module === 'string' &&\r\n                    data.module !== browserEntry) {\r\n                    // if both are present, we may have a problem: some package points both\r\n                    // to ESM, with \"module\" targeting Node.js, while some packages points\r\n                    // \"module\" to browser ESM and \"browser\" to UMD/IIFE.\r\n                    // the heuristics here is to actually read the browser entry when\r\n                    // possible and check for hints of ESM. If it is not ESM, prefer \"module\"\r\n                    // instead; Otherwise, assume it's ESM and use it.\r\n                    const resolvedBrowserEntry = tryFsResolve(path$n.join(dir, browserEntry), options);\r\n                    if (resolvedBrowserEntry) {\r\n                        const content = fs$l.readFileSync(resolvedBrowserEntry, 'utf-8');\r\n                        if (hasESMSyntax(content)) {\r\n                            // likely ESM, prefer browser\r\n                            entryPoint = browserEntry;\r\n                        }\r\n                        else {\r\n                            // non-ESM, UMD or IIFE or CJS(!!! e.g. firebase 7.x), prefer module\r\n                            entryPoint = data.module;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    entryPoint = browserEntry;\r\n                }\r\n            }\r\n        }\r\n        if (!entryPoint || entryPoint.endsWith('.mjs')) {\r\n            for (const field of options.mainFields || DEFAULT_MAIN_FIELDS) {\r\n                if (typeof data[field] === 'string') {\r\n                    entryPoint = data[field];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        entryPoint || (entryPoint = data.main);\r\n        // try default entry when entry is not define\r\n        // https://nodejs.org/api/modules.html#all-together\r\n        const entryPoints = entryPoint\r\n            ? [entryPoint]\r\n            : ['index.js', 'index.json', 'index.node'];\r\n        for (let entry of entryPoints) {\r\n            // make sure we don't get scripts when looking for sass\r\n            if (options.mainFields?.[0] === 'sass' &&\r\n                !options.extensions?.includes(path$n.extname(entry))) {\r\n                entry = '';\r\n                options.skipPackageJson = true;\r\n            }\r\n            // resolve object browser field in package.json\r\n            const { browser: browserField } = data;\r\n            if (targetWeb && isObject$2(browserField)) {\r\n                entry = mapWithBrowserField(entry, browserField) || entry;\r\n            }\r\n            const entryPointPath = path$n.join(dir, entry);\r\n            const resolvedEntryPoint = tryFsResolve(entryPointPath, options);\r\n            if (resolvedEntryPoint) {\r\n                isDebug$4 &&\r\n                    debug$c(`[package entry] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(resolvedEntryPoint)}`);\r\n                setResolvedCache('.', resolvedEntryPoint, targetWeb);\r\n                return resolvedEntryPoint;\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        packageEntryFailure(id, e.message);\r\n    }\r\n    packageEntryFailure(id);\r\n}\r\nfunction packageEntryFailure(id, details) {\r\n    throw new Error(`Failed to resolve entry for package \"${id}\". ` +\r\n        `The package may have incorrect main/module/exports specified in its package.json` +\r\n        (details ? ': ' + details : '.'));\r\n}\r\nfunction resolveExports(pkg, key, options, targetWeb) {\r\n    const conditions = [options.isProduction ? 'production' : 'development'];\r\n    if (!options.isRequire) {\r\n        conditions.push('module');\r\n    }\r\n    if (options.conditions) {\r\n        conditions.push(...options.conditions);\r\n    }\r\n    return resolve(pkg, key, {\r\n        browser: targetWeb,\r\n        require: options.isRequire,\r\n        conditions\r\n    });\r\n}\r\nfunction resolveDeepImport(id, { webResolvedImports, setResolvedCache, getResolvedCache, dir, data }, targetWeb, options) {\r\n    const cache = getResolvedCache(id, targetWeb);\r\n    if (cache) {\r\n        return cache;\r\n    }\r\n    let relativeId = id;\r\n    const { exports: exportsField, browser: browserField } = data;\r\n    // map relative based on exports data\r\n    if (exportsField) {\r\n        if (isObject$2(exportsField) && !Array.isArray(exportsField)) {\r\n            // resolve without postfix (see #7098)\r\n            const { file, postfix } = splitFileAndPostfix(relativeId);\r\n            const exportsId = resolveExports(data, file, options, targetWeb);\r\n            if (exportsId !== undefined) {\r\n                relativeId = exportsId + postfix;\r\n            }\r\n            else {\r\n                relativeId = undefined;\r\n            }\r\n        }\r\n        else {\r\n            // not exposed\r\n            relativeId = undefined;\r\n        }\r\n        if (!relativeId) {\r\n            throw new Error(`Package subpath '${relativeId}' is not defined by \"exports\" in ` +\r\n                `${path$n.join(dir, 'package.json')}.`);\r\n        }\r\n    }\r\n    else if (targetWeb && isObject$2(browserField)) {\r\n        // resolve without postfix (see #7098)\r\n        const { file, postfix } = splitFileAndPostfix(relativeId);\r\n        const mapped = mapWithBrowserField(file, browserField);\r\n        if (mapped) {\r\n            relativeId = mapped + postfix;\r\n        }\r\n        else if (mapped === false) {\r\n            return (webResolvedImports[id] = browserExternalId);\r\n        }\r\n    }\r\n    if (relativeId) {\r\n        const resolved = tryFsResolve(path$n.join(dir, relativeId), options, !exportsField, // try index only if no exports field\r\n        targetWeb);\r\n        if (resolved) {\r\n            isDebug$4 &&\r\n                debug$c(`[node/deep-import] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(resolved)}`);\r\n            setResolvedCache(id, resolved, targetWeb);\r\n            return resolved;\r\n        }\r\n    }\r\n}\r\nfunction tryResolveBrowserMapping(id, importer, options, isFilePath, externalize) {\r\n    let res;\r\n    const pkg = importer && idToPkgMap.get(importer);\r\n    if (pkg && isObject$2(pkg.data.browser)) {\r\n        const mapId = isFilePath ? './' + slash$1(path$n.relative(pkg.dir, id)) : id;\r\n        const browserMappedPath = mapWithBrowserField(mapId, pkg.data.browser);\r\n        if (browserMappedPath) {\r\n            const fsPath = path$n.join(pkg.dir, browserMappedPath);\r\n            if ((res = tryFsResolve(fsPath, options))) {\r\n                isDebug$4 &&\r\n                    debug$c(`[browser mapped] ${picocolors.exports.cyan(id)} -> ${picocolors.exports.dim(res)}`);\r\n                idToPkgMap.set(res, pkg);\r\n                const result = {\r\n                    id: res,\r\n                    moduleSideEffects: pkg.hasSideEffects(res)\r\n                };\r\n                return externalize ? { ...result, external: true } : result;\r\n            }\r\n        }\r\n        else if (browserMappedPath === false) {\r\n            return browserExternalId;\r\n        }\r\n    }\r\n}\r\n/**\r\n * given a relative path in pkg dir,\r\n * return a relative path in pkg dir,\r\n * mapped with the \"map\" object\r\n *\r\n * - Returning `undefined` means there is no browser mapping for this id\r\n * - Returning `false` means this id is explicitly externalized for browser\r\n */\r\nfunction mapWithBrowserField(relativePathInPkgDir, map) {\r\n    const normalizedPath = path$n.posix.normalize(relativePathInPkgDir);\r\n    for (const key in map) {\r\n        const normalizedKey = path$n.posix.normalize(key);\r\n        if (normalizedPath === normalizedKey ||\r\n            equalWithoutSuffix(normalizedPath, normalizedKey, '.js') ||\r\n            equalWithoutSuffix(normalizedPath, normalizedKey, '/index.js')) {\r\n            return map[key];\r\n        }\r\n    }\r\n}\r\nfunction equalWithoutSuffix(path, key, suffix) {\r\n    return key.endsWith(suffix) && key.slice(0, -suffix.length) === path;\r\n}\r\nfunction getRealPath(resolved, preserveSymlinks) {\r\n    resolved = ensureVolumeInPath(resolved);\r\n    if (!preserveSymlinks && browserExternalId !== resolved) {\r\n        resolved = fs$l.realpathSync(resolved);\r\n    }\r\n    return normalizePath$3(resolved);\r\n}\r\n\r\nconst externalWithConversionNamespace = 'vite:dep-pre-bundle:external-conversion';\r\nconst convertedExternalPrefix = 'vite-dep-pre-bundle-external:';\r\nconst externalTypes = [\r\n    'css',\r\n    // supported pre-processor types\r\n    'less',\r\n    'sass',\r\n    'scss',\r\n    'styl',\r\n    'stylus',\r\n    'pcss',\r\n    'postcss',\r\n    // wasm\r\n    'wasm',\r\n    // known SFC types\r\n    'vue',\r\n    'svelte',\r\n    'marko',\r\n    'astro',\r\n    // JSX/TSX may be configured to be compiled differently from how esbuild\r\n    // handles it by default, so exclude them as well\r\n    'jsx',\r\n    'tsx',\r\n    ...KNOWN_ASSET_TYPES\r\n];\r\nfunction esbuildDepPlugin(qualified, exportsData, external, config, ssr) {\r\n    const { extensions } = getDepOptimizationConfig(config, ssr);\r\n    // remove optimizable extensions from `externalTypes` list\r\n    const allExternalTypes = extensions\r\n        ? externalTypes.filter((type) => !extensions?.includes('.' + type))\r\n        : externalTypes;\r\n    // default resolver which prefers ESM\r\n    const _resolve = config.createResolver({ asSrc: false, scan: true });\r\n    // cjs resolver that prefers Node\r\n    const _resolveRequire = config.createResolver({\r\n        asSrc: false,\r\n        isRequire: true,\r\n        scan: true\r\n    });\r\n    const resolve = (id, importer, kind, resolveDir) => {\r\n        let _importer;\r\n        // explicit resolveDir - this is passed only during yarn pnp resolve for\r\n        // entries\r\n        if (resolveDir) {\r\n            _importer = normalizePath$3(path$n.join(resolveDir, '*'));\r\n        }\r\n        else {\r\n            // map importer ids to file paths for correct resolution\r\n            _importer = importer in qualified ? qualified[importer] : importer;\r\n        }\r\n        const resolver = kind.startsWith('require') ? _resolveRequire : _resolve;\r\n        return resolver(id, _importer, undefined, ssr);\r\n    };\r\n    const resolveResult = (id, resolved) => {\r\n        if (resolved.startsWith(browserExternalId)) {\r\n            return {\r\n                path: id,\r\n                namespace: 'browser-external'\r\n            };\r\n        }\r\n        if (ssr && isBuiltin(resolved)) {\r\n            return;\r\n        }\r\n        if (isExternalUrl(resolved)) {\r\n            return {\r\n                path: resolved,\r\n                external: true\r\n            };\r\n        }\r\n        return {\r\n            path: path$n.resolve(resolved)\r\n        };\r\n    };\r\n    return {\r\n        name: 'vite:dep-pre-bundle',\r\n        setup(build) {\r\n            // externalize assets and commonly known non-js file types\r\n            // See #8459 for more details about this require-import conversion\r\n            build.onResolve({\r\n                filter: new RegExp(`\\\\.(` + allExternalTypes.join('|') + `)(\\\\?.*)?$`)\r\n            }, async ({ path: id, importer, kind }) => {\r\n                // if the prefix exist, it is already converted to `import`, so set `external: true`\r\n                if (id.startsWith(convertedExternalPrefix)) {\r\n                    return {\r\n                        path: id.slice(convertedExternalPrefix.length),\r\n                        external: true\r\n                    };\r\n                }\r\n                const resolved = await resolve(id, importer, kind);\r\n                if (resolved) {\r\n                    if (kind === 'require-call') {\r\n                        // here it is not set to `external: true` to convert `require` to `import`\r\n                        return {\r\n                            path: resolved,\r\n                            namespace: externalWithConversionNamespace\r\n                        };\r\n                    }\r\n                    return {\r\n                        path: resolved,\r\n                        external: true\r\n                    };\r\n                }\r\n            });\r\n            build.onLoad({ filter: /./, namespace: externalWithConversionNamespace }, (args) => {\r\n                // import itself with prefix (this is the actual part of require-import conversion)\r\n                return {\r\n                    contents: `export { default } from \"${convertedExternalPrefix}${args.path}\";` +\r\n                        `export * from \"${convertedExternalPrefix}${args.path}\";`,\r\n                    loader: 'js'\r\n                };\r\n            });\r\n            function resolveEntry(id) {\r\n                const flatId = flattenId(id);\r\n                if (flatId in qualified) {\r\n                    return {\r\n                        path: flatId,\r\n                        namespace: 'dep'\r\n                    };\r\n                }\r\n            }\r\n            build.onResolve({ filter: /^[\\w@][^:]/ }, async ({ path: id, importer, kind }) => {\r\n                if (moduleListContains(external, id)) {\r\n                    return {\r\n                        path: id,\r\n                        external: true\r\n                    };\r\n                }\r\n                // ensure esbuild uses our resolved entries\r\n                let entry;\r\n                // if this is an entry, return entry namespace resolve result\r\n                if (!importer) {\r\n                    if ((entry = resolveEntry(id)))\r\n                        return entry;\r\n                    // check if this is aliased to an entry - also return entry namespace\r\n                    const aliased = await _resolve(id, undefined, true);\r\n                    if (aliased && (entry = resolveEntry(aliased))) {\r\n                        return entry;\r\n                    }\r\n                }\r\n                // use vite's own resolver\r\n                const resolved = await resolve(id, importer, kind);\r\n                if (resolved) {\r\n                    return resolveResult(id, resolved);\r\n                }\r\n            });\r\n            // For entry files, we'll read it ourselves and construct a proxy module\r\n            // to retain the entry's raw id instead of file path so that esbuild\r\n            // outputs desired output file structure.\r\n            // It is necessary to do the re-exporting to separate the virtual proxy\r\n            // module from the actual module since the actual module may get\r\n            // referenced via relative imports - if we don't separate the proxy and\r\n            // the actual module, esbuild will create duplicated copies of the same\r\n            // module!\r\n            const root = path$n.resolve(config.root);\r\n            build.onLoad({ filter: /.*/, namespace: 'dep' }, ({ path: id }) => {\r\n                const entryFile = qualified[id];\r\n                let relativePath = normalizePath$3(path$n.relative(root, entryFile));\r\n                if (!relativePath.startsWith('./') &&\r\n                    !relativePath.startsWith('../') &&\r\n                    relativePath !== '.') {\r\n                    relativePath = `./${relativePath}`;\r\n                }\r\n                let contents = '';\r\n                const { hasImports, exports, hasReExports } = exportsData[id];\r\n                if (!hasImports && !exports.length) {\r\n                    // cjs\r\n                    contents += `export default require(\"${relativePath}\");`;\r\n                }\r\n                else {\r\n                    if (exports.includes('default')) {\r\n                        contents += `import d from \"${relativePath}\";export default d;`;\r\n                    }\r\n                    if (hasReExports || exports.length > 1 || exports[0] !== 'default') {\r\n                        contents += `\\nexport * from \"${relativePath}\"`;\r\n                    }\r\n                }\r\n                return {\r\n                    loader: 'js',\r\n                    contents,\r\n                    resolveDir: root\r\n                };\r\n            });\r\n            build.onLoad({ filter: /.*/, namespace: 'browser-external' }, ({ path }) => {\r\n                if (config.isProduction) {\r\n                    return {\r\n                        contents: 'module.exports = {}'\r\n                    };\r\n                }\r\n                else {\r\n                    return {\r\n                        // Return in CJS to intercept named imports. Use `Object.create` to\r\n                        // create the Proxy in the prototype to workaround esbuild issue. Why?\r\n                        //\r\n                        // In short, esbuild cjs->esm flow:\r\n                        // 1. Create empty object using `Object.create(Object.getPrototypeOf(module.exports))`.\r\n                        // 2. Assign props of `module.exports` to the object.\r\n                        // 3. Return object for ESM use.\r\n                        //\r\n                        // If we do `module.exports = new Proxy({}, {})`, step 1 returns empty object,\r\n                        // step 2 does nothing as there's no props for `module.exports`. The final object\r\n                        // is just an empty object.\r\n                        //\r\n                        // Creating the Proxy in the prototype satisfies step 1 immediately, which means\r\n                        // the returned object is a Proxy that we can intercept.\r\n                        //\r\n                        // Note: Skip keys that are accessed by esbuild and browser devtools.\r\n                        contents: `\\\r\nmodule.exports = Object.create(new Proxy({}, {\r\n  get(_, key) {\r\n    if (\r\n      key !== '__esModule' &&\r\n      key !== '__proto__' &&\r\n      key !== 'constructor' &&\r\n      key !== 'splice'\r\n    ) {\r\n      throw new Error(\\`Module \"${path}\" has been externalized for browser compatibility. Cannot access \"${path}.\\${key}\" in client code.\\`)\r\n    }\r\n  }\r\n}))`\r\n                    };\r\n                }\r\n            });\r\n            // yarn 2 pnp compat\r\n            if (isRunningWithYarnPnp) {\r\n                build.onResolve({ filter: /.*/ }, async ({ path: id, importer, kind, resolveDir, namespace }) => {\r\n                    const resolved = await resolve(id, importer, kind, \r\n                    // pass along resolveDir for entries\r\n                    namespace === 'dep' ? resolveDir : undefined);\r\n                    if (resolved) {\r\n                        return resolveResult(id, resolved);\r\n                    }\r\n                });\r\n                build.onLoad({ filter: /.*/ }, async (args) => ({\r\n                    contents: await promises$2.readFile(args.path),\r\n                    loader: 'default'\r\n                }));\r\n            }\r\n        }\r\n    };\r\n}\r\n// esbuild doesn't transpile `require('foo')` into `import` statements if 'foo' is externalized\r\n// https://github.com/evanw/esbuild/issues/566#issuecomment-735551834\r\nfunction esbuildCjsExternalPlugin(externals) {\r\n    return {\r\n        name: 'cjs-external',\r\n        setup(build) {\r\n            const escape = (text) => `^${text.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')}$`;\r\n            const filter = new RegExp(externals.map(escape).join('|'));\r\n            build.onResolve({ filter: /.*/, namespace: 'external' }, (args) => ({\r\n                path: args.path,\r\n                external: true\r\n            }));\r\n            build.onResolve({ filter }, (args) => ({\r\n                path: args.path,\r\n                namespace: 'external'\r\n            }));\r\n            build.onLoad({ filter: /.*/, namespace: 'external' }, (args) => ({\r\n                contents: `export * from ${JSON.stringify(args.path)}`\r\n            }));\r\n        }\r\n    };\r\n}\r\n\r\nfunction ansiRegex({onlyFirst = false} = {}) {\r\n\tconst pattern = [\r\n\t    '[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)',\r\n\t\t'(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))'\r\n\t].join('|');\r\n\r\n\treturn new RegExp(pattern, onlyFirst ? undefined : 'g');\r\n}\r\n\r\nfunction stripAnsi(string) {\r\n\tif (typeof string !== 'string') {\r\n\t\tthrow new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\r\n\t}\r\n\r\n\treturn string.replace(ansiRegex(), '');\r\n}\r\n\r\nfunction prepareError(err) {\r\n    // only copy the information we need and avoid serializing unnecessary\r\n    // properties, since some errors may attach full objects (e.g. PostCSS)\r\n    return {\r\n        message: stripAnsi(err.message),\r\n        stack: stripAnsi(cleanStack(err.stack || '')),\r\n        id: err.id,\r\n        frame: stripAnsi(err.frame || ''),\r\n        plugin: err.plugin,\r\n        pluginCode: err.pluginCode,\r\n        loc: err.loc\r\n    };\r\n}\r\nfunction buildErrorMessage(err, args = [], includeStack = true) {\r\n    if (err.plugin)\r\n        args.push(`  Plugin: ${picocolors.exports.magenta(err.plugin)}`);\r\n    if (err.id)\r\n        args.push(`  File: ${picocolors.exports.cyan(err.id)}`);\r\n    if (err.frame)\r\n        args.push(picocolors.exports.yellow(pad$1(err.frame)));\r\n    if (includeStack && err.stack)\r\n        args.push(pad$1(cleanStack(err.stack)));\r\n    return args.join('\\n');\r\n}\r\nfunction cleanStack(stack) {\r\n    return stack\r\n        .split(/\\n/g)\r\n        .filter((l) => /^\\s*at/.test(l))\r\n        .join('\\n');\r\n}\r\nfunction logError(server, err) {\r\n    const msg = buildErrorMessage(err, [\r\n        picocolors.exports.red(`Internal server error: ${err.message}`)\r\n    ]);\r\n    server.config.logger.error(msg, {\r\n        clear: true,\r\n        timestamp: true,\r\n        error: err\r\n    });\r\n    server.ws.send({\r\n        type: 'error',\r\n        err: prepareError(err)\r\n    });\r\n}\r\nfunction errorMiddleware(server, allowNext = false) {\r\n    // note the 4 args must be kept for connect to treat this as error middleware\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteErrorMiddleware(err, _req, res, next) {\r\n        logError(server, err);\r\n        if (allowNext) {\r\n            next();\r\n        }\r\n        else {\r\n            res.statusCode = 500;\r\n            res.end(`\r\n        <!DOCTYPE html>\r\n        <html lang=\"en\">\r\n          <head>\r\n            <meta charset=\"UTF-8\" />\r\n            <title>Error</title>\r\n            <script type=\"module\">\r\n              import { ErrorOverlay } from '/@vite/client'\r\n              document.body.appendChild(new ErrorOverlay(${JSON.stringify(prepareError(err)).replace(/</g, '\\\\u003c')}))\r\n            </script>\r\n          </head>\r\n          <body>\r\n          </body>\r\n        </html>\r\n      `);\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * This file is refactored into TypeScript based on\r\n * https://github.com/preactjs/wmr/blob/main/packages/wmr/src/lib/rollup-plugin-container.js\r\n */\r\nlet parser = Parser;\r\nasync function createPluginContainer({ plugins, logger, root, build: { rollupOptions } }, moduleGraph, watcher) {\r\n    const isDebug = process.env.DEBUG;\r\n    const seenResolves = {};\r\n    const debugResolve = createDebugger('vite:resolve');\r\n    const debugPluginResolve = createDebugger('vite:plugin-resolve', {\r\n        onlyWhenFocused: 'vite:plugin'\r\n    });\r\n    const debugPluginTransform = createDebugger('vite:plugin-transform', {\r\n        onlyWhenFocused: 'vite:plugin'\r\n    });\r\n    const debugSourcemapCombineFlag = 'vite:sourcemap-combine';\r\n    const isDebugSourcemapCombineFocused = process.env.DEBUG?.includes(debugSourcemapCombineFlag);\r\n    const debugSourcemapCombineFilter = process.env.DEBUG_VITE_SOURCEMAP_COMBINE_FILTER;\r\n    const debugSourcemapCombine = createDebugger('vite:sourcemap-combine', {\r\n        onlyWhenFocused: true\r\n    });\r\n    // ---------------------------------------------------------------------------\r\n    const watchFiles = new Set();\r\n    // TODO: use import()\r\n    const _require = createRequire$1(import.meta.url);\r\n    // get rollup version\r\n    const rollupPkgPath = resolve$6(_require.resolve('rollup'), '../../package.json');\r\n    const minimalContext = {\r\n        meta: {\r\n            rollupVersion: JSON.parse(fs$l.readFileSync(rollupPkgPath, 'utf-8'))\r\n                .version,\r\n            watchMode: true\r\n        }\r\n    };\r\n    function warnIncompatibleMethod(method, plugin) {\r\n        logger.warn(picocolors.exports.cyan(`[plugin:${plugin}] `) +\r\n            picocolors.exports.yellow(`context method ${picocolors.exports.bold(`${method}()`)} is not supported in serve mode. This plugin is likely not vite-compatible.`));\r\n    }\r\n    // throw when an unsupported ModuleInfo property is accessed,\r\n    // so that incompatible plugins fail in a non-cryptic way.\r\n    const ModuleInfoProxy = {\r\n        get(info, key) {\r\n            if (key in info) {\r\n                return info[key];\r\n            }\r\n            throw Error(`[vite] The \"${key}\" property of ModuleInfo is not supported.`);\r\n        }\r\n    };\r\n    // same default value of \"moduleInfo.meta\" as in Rollup\r\n    const EMPTY_OBJECT = Object.freeze({});\r\n    function getModuleInfo(id) {\r\n        const module = moduleGraph?.getModuleById(id);\r\n        if (!module) {\r\n            return null;\r\n        }\r\n        if (!module.info) {\r\n            module.info = new Proxy({ id, meta: module.meta || EMPTY_OBJECT }, ModuleInfoProxy);\r\n        }\r\n        return module.info;\r\n    }\r\n    function updateModuleInfo(id, { meta }) {\r\n        if (meta) {\r\n            const moduleInfo = getModuleInfo(id);\r\n            if (moduleInfo) {\r\n                moduleInfo.meta = { ...moduleInfo.meta, ...meta };\r\n            }\r\n        }\r\n    }\r\n    // we should create a new context for each async hook pipeline so that the\r\n    // active plugin in that pipeline can be tracked in a concurrency-safe manner.\r\n    // using a class to make creating new contexts more efficient\r\n    class Context {\r\n        constructor(initialPlugin) {\r\n            this.meta = minimalContext.meta;\r\n            this.ssr = false;\r\n            this._scan = false;\r\n            this._activeId = null;\r\n            this._activeCode = null;\r\n            this._addedImports = null;\r\n            this._activePlugin = initialPlugin || null;\r\n        }\r\n        parse(code, opts = {}) {\r\n            return parser.parse(code, {\r\n                sourceType: 'module',\r\n                ecmaVersion: 'latest',\r\n                locations: true,\r\n                ...opts\r\n            });\r\n        }\r\n        async resolve(id, importer, options) {\r\n            let skip;\r\n            if (options?.skipSelf && this._activePlugin) {\r\n                skip = new Set(this._resolveSkips);\r\n                skip.add(this._activePlugin);\r\n            }\r\n            let out = await container.resolveId(id, importer, {\r\n                custom: options?.custom,\r\n                isEntry: !!options?.isEntry,\r\n                skip,\r\n                ssr: this.ssr,\r\n                scan: this._scan\r\n            });\r\n            if (typeof out === 'string')\r\n                out = { id: out };\r\n            return out;\r\n        }\r\n        getModuleInfo(id) {\r\n            return getModuleInfo(id);\r\n        }\r\n        getModuleIds() {\r\n            return moduleGraph\r\n                ? moduleGraph.idToModuleMap.keys()\r\n                : Array.prototype[Symbol.iterator]();\r\n        }\r\n        addWatchFile(id) {\r\n            watchFiles.add(id);\r\n            (this._addedImports || (this._addedImports = new Set())).add(id);\r\n            if (watcher)\r\n                ensureWatchedFile(watcher, id, root);\r\n        }\r\n        getWatchFiles() {\r\n            return [...watchFiles];\r\n        }\r\n        emitFile(assetOrFile) {\r\n            warnIncompatibleMethod(`emitFile`, this._activePlugin.name);\r\n            return '';\r\n        }\r\n        setAssetSource() {\r\n            warnIncompatibleMethod(`setAssetSource`, this._activePlugin.name);\r\n        }\r\n        getFileName() {\r\n            warnIncompatibleMethod(`getFileName`, this._activePlugin.name);\r\n            return '';\r\n        }\r\n        warn(e, position) {\r\n            const err = formatError(e, position, this);\r\n            const msg = buildErrorMessage(err, [picocolors.exports.yellow(`warning: ${err.message}`)], false);\r\n            logger.warn(msg, {\r\n                clear: true,\r\n                timestamp: true\r\n            });\r\n        }\r\n        error(e, position) {\r\n            // error thrown here is caught by the transform middleware and passed on\r\n            // the the error middleware.\r\n            throw formatError(e, position, this);\r\n        }\r\n    }\r\n    function formatError(e, position, ctx) {\r\n        const err = (typeof e === 'string' ? new Error(e) : e);\r\n        if (err.pluginCode) {\r\n            return err; // The plugin likely called `this.error`\r\n        }\r\n        if (err.file && err.name === 'CssSyntaxError') {\r\n            err.id = normalizePath$3(err.file);\r\n        }\r\n        if (ctx._activePlugin)\r\n            err.plugin = ctx._activePlugin.name;\r\n        if (ctx._activeId && !err.id)\r\n            err.id = ctx._activeId;\r\n        if (ctx._activeCode) {\r\n            err.pluginCode = ctx._activeCode;\r\n            const pos = position != null\r\n                ? position\r\n                : err.pos != null\r\n                    ? err.pos\r\n                    : // some rollup plugins, e.g. json, sets position instead of pos\r\n                        err.position;\r\n            if (pos != null) {\r\n                let errLocation;\r\n                try {\r\n                    errLocation = numberToPos(ctx._activeCode, pos);\r\n                }\r\n                catch (err2) {\r\n                    logger.error(picocolors.exports.red(`Error in error handler:\\n${err2.stack || err2.message}\\n`), \r\n                    // print extra newline to separate the two errors\r\n                    { error: err2 });\r\n                    throw err;\r\n                }\r\n                err.loc = err.loc || {\r\n                    file: err.id,\r\n                    ...errLocation\r\n                };\r\n                err.frame = err.frame || generateCodeFrame(ctx._activeCode, pos);\r\n            }\r\n            else if (err.loc) {\r\n                // css preprocessors may report errors in an included file\r\n                if (!err.frame) {\r\n                    let code = ctx._activeCode;\r\n                    if (err.loc.file) {\r\n                        err.id = normalizePath$3(err.loc.file);\r\n                        try {\r\n                            code = fs$l.readFileSync(err.loc.file, 'utf-8');\r\n                        }\r\n                        catch { }\r\n                    }\r\n                    err.frame = generateCodeFrame(code, err.loc);\r\n                }\r\n            }\r\n            else if (err.line && err.column) {\r\n                err.loc = {\r\n                    file: err.id,\r\n                    line: err.line,\r\n                    column: err.column\r\n                };\r\n                err.frame = err.frame || generateCodeFrame(err.id, err.loc);\r\n            }\r\n            if (err.loc && ctx instanceof TransformContext) {\r\n                const rawSourceMap = ctx._getCombinedSourcemap();\r\n                if (rawSourceMap) {\r\n                    const traced = new TraceMap(rawSourceMap);\r\n                    const { source, line, column } = originalPositionFor$1(traced, {\r\n                        line: Number(err.loc.line),\r\n                        column: Number(err.loc.column)\r\n                    });\r\n                    if (source && line != null && column != null) {\r\n                        err.loc = { file: source, line, column };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return err;\r\n    }\r\n    class TransformContext extends Context {\r\n        constructor(filename, code, inMap) {\r\n            super();\r\n            this.originalSourcemap = null;\r\n            this.sourcemapChain = [];\r\n            this.combinedMap = null;\r\n            this.filename = filename;\r\n            this.originalCode = code;\r\n            if (inMap) {\r\n                this.sourcemapChain.push(inMap);\r\n            }\r\n        }\r\n        _getCombinedSourcemap(createIfNull = false) {\r\n            if (debugSourcemapCombineFilter &&\r\n                this.filename.includes(debugSourcemapCombineFilter)) {\r\n                debugSourcemapCombine('----------', this.filename);\r\n                debugSourcemapCombine(this.combinedMap);\r\n                debugSourcemapCombine(this.sourcemapChain);\r\n                debugSourcemapCombine('----------');\r\n            }\r\n            let combinedMap = this.combinedMap;\r\n            for (let m of this.sourcemapChain) {\r\n                if (typeof m === 'string')\r\n                    m = JSON.parse(m);\r\n                if (!('version' in m)) {\r\n                    // empty, nullified source map\r\n                    combinedMap = this.combinedMap = null;\r\n                    this.sourcemapChain.length = 0;\r\n                    break;\r\n                }\r\n                if (!combinedMap) {\r\n                    combinedMap = m;\r\n                }\r\n                else {\r\n                    combinedMap = combineSourcemaps(cleanUrl(this.filename), [\r\n                        {\r\n                            ...m,\r\n                            sourcesContent: combinedMap.sourcesContent\r\n                        },\r\n                        combinedMap\r\n                    ]);\r\n                }\r\n            }\r\n            if (!combinedMap) {\r\n                return createIfNull\r\n                    ? new MagicString(this.originalCode).generateMap({\r\n                        includeContent: true,\r\n                        hires: true,\r\n                        source: cleanUrl(this.filename)\r\n                    })\r\n                    : null;\r\n            }\r\n            if (combinedMap !== this.combinedMap) {\r\n                this.combinedMap = combinedMap;\r\n                this.sourcemapChain.length = 0;\r\n            }\r\n            return this.combinedMap;\r\n        }\r\n        getCombinedSourcemap() {\r\n            return this._getCombinedSourcemap(true);\r\n        }\r\n    }\r\n    let closed = false;\r\n    const container = {\r\n        options: await (async () => {\r\n            let options = rollupOptions;\r\n            for (const plugin of plugins) {\r\n                if (!plugin.options)\r\n                    continue;\r\n                options =\r\n                    (await plugin.options.call(minimalContext, options)) || options;\r\n            }\r\n            if (options.acornInjectPlugins) {\r\n                parser = Parser.extend(...arraify(options.acornInjectPlugins));\r\n            }\r\n            return {\r\n                acorn,\r\n                acornInjectPlugins: [],\r\n                ...options\r\n            };\r\n        })(),\r\n        getModuleInfo,\r\n        async buildStart() {\r\n            await Promise.all(plugins.map((plugin) => {\r\n                if (plugin.buildStart) {\r\n                    return plugin.buildStart.call(new Context(plugin), container.options);\r\n                }\r\n            }));\r\n        },\r\n        async resolveId(rawId, importer = join$2(root, 'index.html'), options) {\r\n            const skip = options?.skip;\r\n            const ssr = options?.ssr;\r\n            const scan = !!options?.scan;\r\n            const ctx = new Context();\r\n            ctx.ssr = !!ssr;\r\n            ctx._scan = scan;\r\n            ctx._resolveSkips = skip;\r\n            const resolveStart = isDebug ? performance.now() : 0;\r\n            let id = null;\r\n            const partial = {};\r\n            for (const plugin of plugins) {\r\n                if (!plugin.resolveId)\r\n                    continue;\r\n                if (skip?.has(plugin))\r\n                    continue;\r\n                ctx._activePlugin = plugin;\r\n                const pluginResolveStart = isDebug ? performance.now() : 0;\r\n                const result = await plugin.resolveId.call(ctx, rawId, importer, {\r\n                    custom: options?.custom,\r\n                    isEntry: !!options?.isEntry,\r\n                    ssr,\r\n                    scan\r\n                });\r\n                if (!result)\r\n                    continue;\r\n                if (typeof result === 'string') {\r\n                    id = result;\r\n                }\r\n                else {\r\n                    id = result.id;\r\n                    Object.assign(partial, result);\r\n                }\r\n                isDebug &&\r\n                    debugPluginResolve(timeFrom(pluginResolveStart), plugin.name, prettifyUrl(id, root));\r\n                // resolveId() is hookFirst - first non-null result is returned.\r\n                break;\r\n            }\r\n            if (isDebug && rawId !== id && !rawId.startsWith(FS_PREFIX)) {\r\n                const key = rawId + id;\r\n                // avoid spamming\r\n                if (!seenResolves[key]) {\r\n                    seenResolves[key] = true;\r\n                    debugResolve(`${timeFrom(resolveStart)} ${picocolors.exports.cyan(rawId)} -> ${picocolors.exports.dim(id)}`);\r\n                }\r\n            }\r\n            if (id) {\r\n                partial.id = isExternalUrl(id) ? id : normalizePath$3(id);\r\n                return partial;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        },\r\n        async load(id, options) {\r\n            const ssr = options?.ssr;\r\n            const ctx = new Context();\r\n            ctx.ssr = !!ssr;\r\n            for (const plugin of plugins) {\r\n                if (!plugin.load)\r\n                    continue;\r\n                ctx._activePlugin = plugin;\r\n                const result = await plugin.load.call(ctx, id, { ssr });\r\n                if (result != null) {\r\n                    if (isObject$2(result)) {\r\n                        updateModuleInfo(id, result);\r\n                    }\r\n                    return result;\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n        async transform(code, id, options) {\r\n            const inMap = options?.inMap;\r\n            const ssr = options?.ssr;\r\n            const ctx = new TransformContext(id, code, inMap);\r\n            ctx.ssr = !!ssr;\r\n            for (const plugin of plugins) {\r\n                if (!plugin.transform)\r\n                    continue;\r\n                ctx._activePlugin = plugin;\r\n                ctx._activeId = id;\r\n                ctx._activeCode = code;\r\n                const start = isDebug ? performance.now() : 0;\r\n                let result;\r\n                try {\r\n                    result = await plugin.transform.call(ctx, code, id, { ssr });\r\n                }\r\n                catch (e) {\r\n                    ctx.error(e);\r\n                }\r\n                if (!result)\r\n                    continue;\r\n                isDebug &&\r\n                    debugPluginTransform(timeFrom(start), plugin.name, prettifyUrl(id, root));\r\n                if (isObject$2(result)) {\r\n                    if (result.code !== undefined) {\r\n                        code = result.code;\r\n                        if (result.map) {\r\n                            if (isDebugSourcemapCombineFocused) {\r\n                                // @ts-expect-error inject plugin name for debug purpose\r\n                                result.map.name = plugin.name;\r\n                            }\r\n                            ctx.sourcemapChain.push(result.map);\r\n                        }\r\n                    }\r\n                    updateModuleInfo(id, result);\r\n                }\r\n                else {\r\n                    code = result;\r\n                }\r\n            }\r\n            return {\r\n                code,\r\n                map: ctx._getCombinedSourcemap()\r\n            };\r\n        },\r\n        async close() {\r\n            if (closed)\r\n                return;\r\n            const ctx = new Context();\r\n            await Promise.all(plugins.map((p) => p.buildEnd && p.buildEnd.call(ctx)));\r\n            await Promise.all(plugins.map((p) => p.closeBundle && p.closeBundle.call(ctx)));\r\n            closed = true;\r\n        }\r\n    };\r\n    return container;\r\n}\r\n\r\nconst { isMatch: isMatch$2, scan } = micromatch_1;\r\nfunction getAffectedGlobModules(file, server) {\r\n    const modules = [];\r\n    for (const [id, allGlobs] of server._importGlobMap) {\r\n        if (allGlobs.some((glob) => isMatch$2(file, glob)))\r\n            modules.push(...(server.moduleGraph.getModulesByFile(id) || []));\r\n    }\r\n    modules.forEach((i) => {\r\n        if (i?.file)\r\n            server.moduleGraph.onFileChange(i.file);\r\n    });\r\n    return modules;\r\n}\r\nfunction importGlobPlugin(config) {\r\n    let server;\r\n    return {\r\n        name: 'vite:import-glob',\r\n        configureServer(_server) {\r\n            server = _server;\r\n            server._importGlobMap.clear();\r\n        },\r\n        async transform(code, id) {\r\n            if (!code.includes('import.meta.glob'))\r\n                return;\r\n            const result = await transformGlobImport(code, id, config.root, (im) => this.resolve(im, id).then((i) => i?.id || im), config.experimental.importGlobRestoreExtension);\r\n            if (result) {\r\n                if (server) {\r\n                    const allGlobs = result.matches.map((i) => i.globsResolved);\r\n                    server._importGlobMap.set(id, allGlobs);\r\n                }\r\n                return transformStableResult(result.s, id, config);\r\n            }\r\n        }\r\n    };\r\n}\r\nconst importGlobRE = /\\bimport\\.meta\\.(glob|globEager|globEagerDefault)(?:<\\w+>)?\\s*\\(/g;\r\nconst knownOptions = {\r\n    as: 'string',\r\n    eager: 'boolean',\r\n    import: 'string',\r\n    exhaustive: 'boolean'\r\n};\r\nconst forceDefaultAs = ['raw', 'url'];\r\nasync function parseImportGlob(code, importer, root, resolveId) {\r\n    let cleanCode;\r\n    try {\r\n        cleanCode = stripLiteral(code);\r\n    }\r\n    catch (e) {\r\n        // skip invalid js code\r\n        return [];\r\n    }\r\n    const matches = Array.from(cleanCode.matchAll(importGlobRE));\r\n    const tasks = matches.map(async (match, index) => {\r\n        const type = match[1];\r\n        const start = match.index;\r\n        const err = (msg) => {\r\n            const e = new Error(`Invalid glob import syntax: ${msg}`);\r\n            e.pos = start;\r\n            return e;\r\n        };\r\n        let ast;\r\n        let lastTokenPos;\r\n        try {\r\n            ast = parseExpressionAt(code, start, {\r\n                ecmaVersion: 'latest',\r\n                sourceType: 'module',\r\n                ranges: true,\r\n                onToken: (token) => {\r\n                    lastTokenPos = token.end;\r\n                }\r\n            });\r\n        }\r\n        catch (e) {\r\n            const _e = e;\r\n            if (_e.message && _e.message.startsWith('Unterminated string constant'))\r\n                return undefined;\r\n            if (lastTokenPos == null || lastTokenPos <= start)\r\n                throw _e;\r\n            // tailing comma in object or array will make the parser think it's a comma operation\r\n            // we try to parse again removing the comma\r\n            try {\r\n                const statement = code.slice(start, lastTokenPos).replace(/[,\\s]*$/, '');\r\n                ast = parseExpressionAt(' '.repeat(start) + statement, // to keep the ast position\r\n                start, {\r\n                    ecmaVersion: 'latest',\r\n                    sourceType: 'module',\r\n                    ranges: true\r\n                });\r\n            }\r\n            catch {\r\n                throw _e;\r\n            }\r\n        }\r\n        if (ast.type === 'SequenceExpression')\r\n            ast = ast.expressions[0];\r\n        // immediate property access, call expression is nested\r\n        // import.meta.glob(...)['prop']\r\n        if (ast.type === 'MemberExpression')\r\n            ast = ast.object;\r\n        if (ast.type !== 'CallExpression')\r\n            throw err(`Expect CallExpression, got ${ast.type}`);\r\n        if (ast.arguments.length < 1 || ast.arguments.length > 2)\r\n            throw err(`Expected 1-2 arguments, but got ${ast.arguments.length}`);\r\n        const arg1 = ast.arguments[0];\r\n        const arg2 = ast.arguments[1];\r\n        const globs = [];\r\n        const validateLiteral = (element) => {\r\n            if (!element)\r\n                return;\r\n            if (element.type === 'Literal') {\r\n                if (typeof element.value !== 'string')\r\n                    throw err(`Expected glob to be a string, but got \"${typeof element.value}\"`);\r\n                globs.push(element.value);\r\n            }\r\n            else if (element.type === 'TemplateLiteral') {\r\n                if (element.expressions.length !== 0) {\r\n                    throw err(`Expected glob to be a string, but got dynamic template literal`);\r\n                }\r\n                globs.push(element.quasis[0].value.raw);\r\n            }\r\n            else {\r\n                throw err('Could only use literals');\r\n            }\r\n        };\r\n        if (arg1.type === 'ArrayExpression') {\r\n            for (const element of arg1.elements) {\r\n                validateLiteral(element);\r\n            }\r\n        }\r\n        else {\r\n            validateLiteral(arg1);\r\n        }\r\n        // arg2\r\n        const options = {};\r\n        if (arg2) {\r\n            if (arg2.type !== 'ObjectExpression')\r\n                throw err(`Expected the second argument o to be a object literal, but got \"${arg2.type}\"`);\r\n            for (const property of arg2.properties) {\r\n                if (property.type === 'SpreadElement' ||\r\n                    (property.key.type !== 'Identifier' &&\r\n                        property.key.type !== 'Literal'))\r\n                    throw err('Could only use literals');\r\n                const name = (property.key.name ||\r\n                    property.key.value);\r\n                if (name === 'query') {\r\n                    if (property.value.type === 'ObjectExpression') {\r\n                        const data = {};\r\n                        for (const prop of property.value.properties) {\r\n                            if (prop.type === 'SpreadElement' ||\r\n                                prop.key.type !== 'Identifier' ||\r\n                                prop.value.type !== 'Literal')\r\n                                throw err('Could only use literals');\r\n                            data[prop.key.name] = prop.value.value;\r\n                        }\r\n                        options.query = data;\r\n                    }\r\n                    else if (property.value.type === 'Literal') {\r\n                        if (typeof property.value.value !== 'string')\r\n                            throw err(`Expected query to be a string, but got \"${typeof property.value\r\n                                .value}\"`);\r\n                        options.query = property.value.value;\r\n                    }\r\n                    else {\r\n                        throw err('Could only use literals');\r\n                    }\r\n                    continue;\r\n                }\r\n                if (!(name in knownOptions))\r\n                    throw err(`Unknown options ${name}`);\r\n                if (property.value.type !== 'Literal')\r\n                    throw err('Could only use literals');\r\n                const valueType = typeof property.value.value;\r\n                if (valueType === 'undefined')\r\n                    continue;\r\n                if (valueType !== knownOptions[name])\r\n                    throw err(`Expected the type of option \"${name}\" to be \"${knownOptions[name]}\", but got \"${valueType}\"`);\r\n                options[name] = property.value.value;\r\n            }\r\n        }\r\n        if (options.as && forceDefaultAs.includes(options.as)) {\r\n            if (options.import &&\r\n                options.import !== 'default' &&\r\n                options.import !== '*')\r\n                throw err(`Option \"import\" can only be \"default\" or \"*\" when \"as\" is \"${options.as}\", but got \"${options.import}\"`);\r\n            options.import = options.import || 'default';\r\n        }\r\n        if (options.as && options.query)\r\n            throw err('Options \"as\" and \"query\" cannot be used together');\r\n        if (options.as)\r\n            options.query = options.as;\r\n        const end = ast.range[1];\r\n        const globsResolved = await Promise.all(globs.map((glob) => toAbsoluteGlob(glob, root, importer, resolveId)));\r\n        const isRelative = globs.every((i) => '.!'.includes(i[0]));\r\n        return {\r\n            match,\r\n            index,\r\n            globs,\r\n            globsResolved,\r\n            isRelative,\r\n            options,\r\n            type,\r\n            start,\r\n            end\r\n        };\r\n    });\r\n    return (await Promise.all(tasks)).filter(Boolean);\r\n}\r\nconst importPrefix = '__vite_glob_';\r\nconst { basename, dirname, relative, join } = posix$2;\r\n/**\r\n * @param optimizeExport for dynamicImportVar plugin don't need to optimize export.\r\n */\r\nasync function transformGlobImport(code, id, root, resolveId, restoreQueryExtension = false) {\r\n    id = slash$1(id);\r\n    root = slash$1(root);\r\n    const isVirtual = isVirtualModule(id);\r\n    const dir = isVirtual ? undefined : dirname(id);\r\n    const matches = await parseImportGlob(code, isVirtual ? undefined : id, root, resolveId);\r\n    const matchedFiles = new Set();\r\n    // TODO: backwards compatibility\r\n    matches.forEach((i) => {\r\n        if (i.type === 'globEager')\r\n            i.options.eager = true;\r\n        if (i.type === 'globEagerDefault') {\r\n            i.options.eager = true;\r\n            i.options.import = 'default';\r\n        }\r\n    });\r\n    if (!matches.length)\r\n        return null;\r\n    const s = new MagicString(code);\r\n    const staticImports = (await Promise.all(matches.map(async ({ globsResolved, isRelative, options, index, start, end }) => {\r\n        const cwd = getCommonBase(globsResolved) ?? root;\r\n        const files = (await out(globsResolved, {\r\n            cwd,\r\n            absolute: true,\r\n            dot: !!options.exhaustive,\r\n            ignore: options.exhaustive\r\n                ? []\r\n                : [join(cwd, '**/node_modules/**')]\r\n        }))\r\n            .filter((file) => file !== id)\r\n            .sort();\r\n        const objectProps = [];\r\n        const staticImports = [];\r\n        let query = !options.query\r\n            ? ''\r\n            : typeof options.query === 'string'\r\n                ? options.query\r\n                : stringifyQuery(options.query);\r\n        if (query && !query.startsWith('?'))\r\n            query = `?${query}`;\r\n        const resolvePaths = (file) => {\r\n            if (!dir) {\r\n                if (isRelative)\r\n                    throw new Error(\"In virtual modules, all globs must start with '/'\");\r\n                const filePath = `/${relative(root, file)}`;\r\n                return { filePath, importPath: filePath };\r\n            }\r\n            let importPath = relative(dir, file);\r\n            if (!importPath.startsWith('.'))\r\n                importPath = `./${importPath}`;\r\n            let filePath;\r\n            if (isRelative) {\r\n                filePath = importPath;\r\n            }\r\n            else {\r\n                filePath = relative(root, file);\r\n                if (!filePath.startsWith('.'))\r\n                    filePath = `/${filePath}`;\r\n            }\r\n            return { filePath, importPath };\r\n        };\r\n        files.forEach((file, i) => {\r\n            const paths = resolvePaths(file);\r\n            const filePath = paths.filePath;\r\n            let importPath = paths.importPath;\r\n            let importQuery = query;\r\n            if (importQuery && importQuery !== '?raw') {\r\n                const fileExtension = basename(file).split('.').slice(-1)[0];\r\n                if (fileExtension && restoreQueryExtension)\r\n                    importQuery = `${importQuery}&lang.${fileExtension}`;\r\n            }\r\n            importPath = `${importPath}${importQuery}`;\r\n            const importKey = options.import && options.import !== '*'\r\n                ? options.import\r\n                : undefined;\r\n            if (options.eager) {\r\n                const variableName = `${importPrefix}${index}_${i}`;\r\n                const expression = importKey\r\n                    ? `{ ${importKey} as ${variableName} }`\r\n                    : `* as ${variableName}`;\r\n                staticImports.push(`import ${expression} from ${JSON.stringify(importPath)}`);\r\n                objectProps.push(`${JSON.stringify(filePath)}: ${variableName}`);\r\n            }\r\n            else {\r\n                let importStatement = `import(${JSON.stringify(importPath)})`;\r\n                if (importKey)\r\n                    importStatement += `.then(m => m[${JSON.stringify(importKey)}])`;\r\n                objectProps.push(`${JSON.stringify(filePath)}: () => ${importStatement}`);\r\n            }\r\n        });\r\n        files.forEach((i) => matchedFiles.add(i));\r\n        const replacement = `/* #__PURE__ */ Object.assign({${objectProps.join(',')}})`;\r\n        s.overwrite(start, end, replacement);\r\n        return staticImports;\r\n    }))).flat();\r\n    if (staticImports.length)\r\n        s.prepend(`${staticImports.join(';')};`);\r\n    return {\r\n        s,\r\n        matches,\r\n        files: matchedFiles\r\n    };\r\n}\r\nasync function toAbsoluteGlob(glob, root, importer, resolveId) {\r\n    let pre = '';\r\n    if (glob.startsWith('!')) {\r\n        pre = '!';\r\n        glob = glob.slice(1);\r\n    }\r\n    const dir = importer ? dirname(importer) : root;\r\n    if (glob.startsWith('/'))\r\n        return pre + posix$2.join(root, glob.slice(1));\r\n    if (glob.startsWith('./'))\r\n        return pre + posix$2.join(dir, glob.slice(2));\r\n    if (glob.startsWith('../'))\r\n        return pre + posix$2.join(dir, glob);\r\n    if (glob.startsWith('**'))\r\n        return pre + glob;\r\n    const resolved = normalizePath$3((await resolveId(glob, importer)) || glob);\r\n    if (isAbsolute$2(resolved))\r\n        return pre + resolved;\r\n    throw new Error(`Invalid glob: \"${glob}\" (resolved: \"${resolved}\"). It must start with '/' or './'`);\r\n}\r\nfunction getCommonBase(globsResolved) {\r\n    const bases = globsResolved\r\n        .filter((g) => !g.startsWith('!'))\r\n        .map((glob) => {\r\n        let { base } = scan(glob);\r\n        // `scan('a/foo.js')` returns `base: 'a/foo.js'`\r\n        if (posix$2.basename(base).includes('.'))\r\n            base = posix$2.dirname(base);\r\n        return base;\r\n    });\r\n    if (!bases.length)\r\n        return null;\r\n    let commonAncestor = '';\r\n    const dirS = bases[0].split('/');\r\n    for (let i = 0; i < dirS.length; i++) {\r\n        const candidate = dirS.slice(0, i + 1).join('/');\r\n        if (bases.every((base) => base.startsWith(candidate)))\r\n            commonAncestor = candidate;\r\n        else\r\n            break;\r\n    }\r\n    if (!commonAncestor)\r\n        commonAncestor = '/';\r\n    return commonAncestor;\r\n}\r\nfunction isVirtualModule(id) {\r\n    // https://vitejs.dev/guide/api-plugin.html#virtual-modules-convention\r\n    return id.startsWith('virtual:') || id.startsWith('\\0') || !id.includes('/');\r\n}\r\n\r\nconst debug$b = createDebugger('vite:deps');\r\nconst htmlTypesRE = /\\.(html|vue|svelte|astro)$/;\r\n// A simple regex to detect import sources. This is only used on\r\n// <script lang=\"ts\"> blocks in vue (setup only) or svelte files, since\r\n// seemingly unused imports are dropped by esbuild when transpiling TS which\r\n// prevents it from crawling further.\r\n// We can't use es-module-lexer because it can't handle TS, and don't want to\r\n// use Acorn because it's slow. Luckily this doesn't have to be bullet proof\r\n// since even missed imports can be caught at runtime, and false positives will\r\n// simply be ignored.\r\nconst importsRE = /(?<!\\/\\/.*)(?<=^|;|\\*\\/)\\s*import(?!\\s+type)(?:[\\w*{}\\n\\r\\t, ]+from\\s*)?\\s*(\"[^\"]+\"|'[^']+')\\s*(?=$|;|\\/\\/|\\/\\*)/gm;\r\nasync function scanImports(config) {\r\n    // Only used to scan non-ssr code\r\n    const start = performance.now();\r\n    let entries = [];\r\n    const explicitEntryPatterns = config.optimizeDeps.entries;\r\n    const buildInput = config.build.rollupOptions?.input;\r\n    if (explicitEntryPatterns) {\r\n        entries = await globEntries(explicitEntryPatterns, config);\r\n    }\r\n    else if (buildInput) {\r\n        const resolvePath = (p) => path$n.resolve(config.root, p);\r\n        if (typeof buildInput === 'string') {\r\n            entries = [resolvePath(buildInput)];\r\n        }\r\n        else if (Array.isArray(buildInput)) {\r\n            entries = buildInput.map(resolvePath);\r\n        }\r\n        else if (isObject$2(buildInput)) {\r\n            entries = Object.values(buildInput).map(resolvePath);\r\n        }\r\n        else {\r\n            throw new Error('invalid rollupOptions.input value.');\r\n        }\r\n    }\r\n    else {\r\n        entries = await globEntries('**/*.html', config);\r\n    }\r\n    // Non-supported entry file types and virtual files should not be scanned for\r\n    // dependencies.\r\n    entries = entries.filter((entry) => isScannable(entry) && fs$l.existsSync(entry));\r\n    if (!entries.length) {\r\n        if (!explicitEntryPatterns && !config.optimizeDeps.include) {\r\n            config.logger.warn(picocolors.exports.yellow('(!) Could not auto-determine entry point from rollupOptions or html files ' +\r\n                'and there are no explicit optimizeDeps.include patterns. ' +\r\n                'Skipping dependency pre-bundling.'));\r\n        }\r\n        return { deps: {}, missing: {} };\r\n    }\r\n    else {\r\n        debug$b(`Crawling dependencies using entries:\\n  ${entries.join('\\n  ')}`);\r\n    }\r\n    const deps = {};\r\n    const missing = {};\r\n    const container = await createPluginContainer(config);\r\n    const plugin = esbuildScanPlugin(config, container, deps, missing, entries);\r\n    const { plugins = [], ...esbuildOptions } = config.optimizeDeps?.esbuildOptions ?? {};\r\n    await Promise.all(entries.map((entry) => build$3({\r\n        absWorkingDir: process.cwd(),\r\n        write: false,\r\n        entryPoints: [entry],\r\n        bundle: true,\r\n        format: 'esm',\r\n        logLevel: 'error',\r\n        plugins: [...plugins, plugin],\r\n        ...esbuildOptions\r\n    })));\r\n    debug$b(`Scan completed in ${(performance.now() - start).toFixed(2)}ms:`, deps);\r\n    return {\r\n        // Ensure a fixed order so hashes are stable and improve logs\r\n        deps: orderedDependencies(deps),\r\n        missing\r\n    };\r\n}\r\nfunction orderedDependencies(deps) {\r\n    const depsList = Object.entries(deps);\r\n    // Ensure the same browserHash for the same set of dependencies\r\n    depsList.sort((a, b) => a[0].localeCompare(b[0]));\r\n    return Object.fromEntries(depsList);\r\n}\r\nfunction globEntries(pattern, config) {\r\n    return out(pattern, {\r\n        cwd: config.root,\r\n        ignore: [\r\n            '**/node_modules/**',\r\n            `**/${config.build.outDir}/**`,\r\n            // if there aren't explicit entries, also ignore other common folders\r\n            ...(config.optimizeDeps.entries\r\n                ? []\r\n                : [`**/__tests__/**`, `**/coverage/**`])\r\n        ],\r\n        absolute: true,\r\n        suppressErrors: true // suppress EACCES errors\r\n    });\r\n}\r\nconst scriptModuleRE = /(<script\\b[^>]*type\\s*=\\s*(?:\"module\"|'module')[^>]*>)(.*?)<\\/script>/gims;\r\nconst scriptRE = /(<script\\b(?:\\s[^>]*>|>))(.*?)<\\/script>/gims;\r\nconst commentRE$1 = /<!--.*?-->/gs;\r\nconst srcRE = /\\bsrc\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/im;\r\nconst typeRE = /\\btype\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/im;\r\nconst langRE = /\\blang\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/im;\r\nconst contextRE = /\\bcontext\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/im;\r\nfunction esbuildScanPlugin(config, container, depImports, missing, entries) {\r\n    const seen = new Map();\r\n    const resolve = async (id, importer, options) => {\r\n        const key = id + (importer && path$n.dirname(importer));\r\n        if (seen.has(key)) {\r\n            return seen.get(key);\r\n        }\r\n        const resolved = await container.resolveId(id, importer && normalizePath$3(importer), {\r\n            ...options,\r\n            scan: true\r\n        });\r\n        const res = resolved?.id;\r\n        seen.set(key, res);\r\n        return res;\r\n    };\r\n    const include = config.optimizeDeps?.include;\r\n    const exclude = [\r\n        ...(config.optimizeDeps?.exclude || []),\r\n        '@vite/client',\r\n        '@vite/env'\r\n    ];\r\n    const externalUnlessEntry = ({ path }) => ({\r\n        path,\r\n        external: !entries.includes(path)\r\n    });\r\n    return {\r\n        name: 'vite:dep-scan',\r\n        setup(build) {\r\n            const scripts = {};\r\n            // external urls\r\n            build.onResolve({ filter: externalRE }, ({ path }) => ({\r\n                path,\r\n                external: true\r\n            }));\r\n            // data urls\r\n            build.onResolve({ filter: dataUrlRE }, ({ path }) => ({\r\n                path,\r\n                external: true\r\n            }));\r\n            // local scripts (`<script>` in Svelte and `<script setup>` in Vue)\r\n            build.onResolve({ filter: virtualModuleRE }, ({ path }) => {\r\n                return {\r\n                    // strip prefix to get valid filesystem path so esbuild can resolve imports in the file\r\n                    path: path.replace(virtualModulePrefix, ''),\r\n                    namespace: 'script'\r\n                };\r\n            });\r\n            build.onLoad({ filter: /.*/, namespace: 'script' }, ({ path }) => {\r\n                return scripts[path];\r\n            });\r\n            // html types: extract script contents -----------------------------------\r\n            build.onResolve({ filter: htmlTypesRE }, async ({ path, importer }) => {\r\n                const resolved = await resolve(path, importer);\r\n                if (!resolved)\r\n                    return;\r\n                // It is possible for the scanner to scan html types in node_modules.\r\n                // If we can optimize this html type, skip it so it's handled by the\r\n                // bare import resolve, and recorded as optimization dep.\r\n                if (resolved.includes('node_modules') &&\r\n                    isOptimizable(resolved, config.optimizeDeps))\r\n                    return;\r\n                return {\r\n                    path: resolved,\r\n                    namespace: 'html'\r\n                };\r\n            });\r\n            // extract scripts inside HTML-like files and treat it as a js module\r\n            build.onLoad({ filter: htmlTypesRE, namespace: 'html' }, async ({ path }) => {\r\n                let raw = fs$l.readFileSync(path, 'utf-8');\r\n                // Avoid matching the content of the comment\r\n                raw = raw.replace(commentRE$1, '<!---->');\r\n                const isHtml = path.endsWith('.html');\r\n                const regex = isHtml ? scriptModuleRE : scriptRE;\r\n                regex.lastIndex = 0;\r\n                let js = '';\r\n                let scriptId = 0;\r\n                let match;\r\n                while ((match = regex.exec(raw))) {\r\n                    const [, openTag, content] = match;\r\n                    const typeMatch = openTag.match(typeRE);\r\n                    const type = typeMatch && (typeMatch[1] || typeMatch[2] || typeMatch[3]);\r\n                    const langMatch = openTag.match(langRE);\r\n                    const lang = langMatch && (langMatch[1] || langMatch[2] || langMatch[3]);\r\n                    // skip type=\"application/ld+json\" and other non-JS types\r\n                    if (type &&\r\n                        !(type.includes('javascript') ||\r\n                            type.includes('ecmascript') ||\r\n                            type === 'module')) {\r\n                        continue;\r\n                    }\r\n                    let loader = 'js';\r\n                    if (lang === 'ts' || lang === 'tsx' || lang === 'jsx') {\r\n                        loader = lang;\r\n                    }\r\n                    else if (path.endsWith('.astro')) {\r\n                        loader = 'ts';\r\n                    }\r\n                    const srcMatch = openTag.match(srcRE);\r\n                    if (srcMatch) {\r\n                        const src = srcMatch[1] || srcMatch[2] || srcMatch[3];\r\n                        js += `import ${JSON.stringify(src)}\\n`;\r\n                    }\r\n                    else if (content.trim()) {\r\n                        // The reason why virtual modules are needed:\r\n                        // 1. There can be module scripts (`<script context=\"module\">` in Svelte and `<script>` in Vue)\r\n                        // or local scripts (`<script>` in Svelte and `<script setup>` in Vue)\r\n                        // 2. There can be multiple module scripts in html\r\n                        // We need to handle these separately in case variable names are reused between them\r\n                        // append imports in TS to prevent esbuild from removing them\r\n                        // since they may be used in the template\r\n                        const contents = content +\r\n                            (loader.startsWith('ts') ? extractImportPaths(content) : '');\r\n                        const key = `${path}?id=${scriptId++}`;\r\n                        if (contents.includes('import.meta.glob')) {\r\n                            let transpiledContents;\r\n                            // transpile because `transformGlobImport` only expects js\r\n                            if (loader !== 'js') {\r\n                                transpiledContents = (await transform$2(contents, { loader }))\r\n                                    .code;\r\n                            }\r\n                            else {\r\n                                transpiledContents = contents;\r\n                            }\r\n                            scripts[key] = {\r\n                                loader: 'js',\r\n                                contents: (await transformGlobImport(transpiledContents, path, config.root, resolve))?.s.toString() || transpiledContents,\r\n                                pluginData: {\r\n                                    htmlType: { loader }\r\n                                }\r\n                            };\r\n                        }\r\n                        else {\r\n                            scripts[key] = {\r\n                                loader,\r\n                                contents,\r\n                                pluginData: {\r\n                                    htmlType: { loader }\r\n                                }\r\n                            };\r\n                        }\r\n                        const virtualModulePath = JSON.stringify(virtualModulePrefix + key);\r\n                        const contextMatch = openTag.match(contextRE);\r\n                        const context = contextMatch &&\r\n                            (contextMatch[1] || contextMatch[2] || contextMatch[3]);\r\n                        // Especially for Svelte files, exports in <script context=\"module\"> means module exports,\r\n                        // exports in <script> means component props. To avoid having two same export name from the\r\n                        // star exports, we need to ignore exports in <script>\r\n                        if (path.endsWith('.svelte') && context !== 'module') {\r\n                            js += `import ${virtualModulePath}\\n`;\r\n                        }\r\n                        else {\r\n                            js += `export * from ${virtualModulePath}\\n`;\r\n                        }\r\n                    }\r\n                }\r\n                // This will trigger incorrectly if `export default` is contained\r\n                // anywhere in a string. Svelte and Astro files can't have\r\n                // `export default` as code so we know if it's encountered it's a\r\n                // false positive (e.g. contained in a string)\r\n                if (!path.endsWith('.vue') || !js.includes('export default')) {\r\n                    js += '\\nexport default {}';\r\n                }\r\n                return {\r\n                    loader: 'js',\r\n                    contents: js\r\n                };\r\n            });\r\n            // bare imports: record and externalize ----------------------------------\r\n            build.onResolve({\r\n                // avoid matching windows volume\r\n                filter: /^[\\w@][^:]/\r\n            }, async ({ path: id, importer, pluginData }) => {\r\n                if (moduleListContains(exclude, id)) {\r\n                    return externalUnlessEntry({ path: id });\r\n                }\r\n                if (depImports[id]) {\r\n                    return externalUnlessEntry({ path: id });\r\n                }\r\n                const resolved = await resolve(id, importer, {\r\n                    custom: {\r\n                        depScan: { loader: pluginData?.htmlType?.loader }\r\n                    }\r\n                });\r\n                if (resolved) {\r\n                    if (shouldExternalizeDep(resolved, id)) {\r\n                        return externalUnlessEntry({ path: id });\r\n                    }\r\n                    if (resolved.includes('node_modules') || include?.includes(id)) {\r\n                        // dependency or forced included, externalize and stop crawling\r\n                        if (isOptimizable(resolved, config.optimizeDeps)) {\r\n                            depImports[id] = resolved;\r\n                        }\r\n                        return externalUnlessEntry({ path: id });\r\n                    }\r\n                    else if (isScannable(resolved)) {\r\n                        const namespace = htmlTypesRE.test(resolved) ? 'html' : undefined;\r\n                        // linked package, keep crawling\r\n                        return {\r\n                            path: path$n.resolve(resolved),\r\n                            namespace\r\n                        };\r\n                    }\r\n                    else {\r\n                        return externalUnlessEntry({ path: id });\r\n                    }\r\n                }\r\n                else {\r\n                    missing[id] = normalizePath$3(importer);\r\n                }\r\n            });\r\n            // Externalized file types -----------------------------------------------\r\n            // these are done on raw ids using esbuild's native regex filter so it\r\n            // should be faster than doing it in the catch-all via js\r\n            // they are done after the bare import resolve because a package name\r\n            // may end with these extensions\r\n            // css & json & wasm\r\n            build.onResolve({\r\n                filter: /\\.(css|less|sass|scss|styl|stylus|pcss|postcss|json|wasm)$/\r\n            }, externalUnlessEntry);\r\n            // known asset types\r\n            build.onResolve({\r\n                filter: new RegExp(`\\\\.(${KNOWN_ASSET_TYPES.join('|')})$`)\r\n            }, externalUnlessEntry);\r\n            // known vite query types: ?worker, ?raw\r\n            build.onResolve({ filter: SPECIAL_QUERY_RE }, ({ path }) => ({\r\n                path,\r\n                external: true\r\n            }));\r\n            // catch all -------------------------------------------------------------\r\n            build.onResolve({\r\n                filter: /.*/\r\n            }, async ({ path: id, importer, pluginData }) => {\r\n                // use vite resolver to support urls and omitted extensions\r\n                const resolved = await resolve(id, importer, {\r\n                    custom: {\r\n                        depScan: { loader: pluginData?.htmlType?.loader }\r\n                    }\r\n                });\r\n                if (resolved) {\r\n                    if (shouldExternalizeDep(resolved, id) || !isScannable(resolved)) {\r\n                        return externalUnlessEntry({ path: id });\r\n                    }\r\n                    const namespace = htmlTypesRE.test(resolved) ? 'html' : undefined;\r\n                    return {\r\n                        path: path$n.resolve(cleanUrl(resolved)),\r\n                        namespace\r\n                    };\r\n                }\r\n                else {\r\n                    // resolve failed... probably unsupported type\r\n                    return externalUnlessEntry({ path: id });\r\n                }\r\n            });\r\n            // for jsx/tsx, we need to access the content and check for\r\n            // presence of import.meta.glob, since it results in import relationships\r\n            // but isn't crawled by esbuild.\r\n            build.onLoad({ filter: JS_TYPES_RE }, ({ path: id }) => {\r\n                let ext = path$n.extname(id).slice(1);\r\n                if (ext === 'mjs')\r\n                    ext = 'js';\r\n                let contents = fs$l.readFileSync(id, 'utf-8');\r\n                if (ext.endsWith('x') && config.esbuild && config.esbuild.jsxInject) {\r\n                    contents = config.esbuild.jsxInject + `\\n` + contents;\r\n                }\r\n                const loader = config.optimizeDeps?.esbuildOptions?.loader?.[`.${ext}`] ||\r\n                    ext;\r\n                return {\r\n                    loader,\r\n                    contents\r\n                };\r\n            });\r\n        }\r\n    };\r\n}\r\n/**\r\n * when using TS + (Vue + `<script setup>`) or Svelte, imports may seem\r\n * unused to esbuild and dropped in the build output, which prevents\r\n * esbuild from crawling further.\r\n * the solution is to add `import 'x'` for every source to force\r\n * esbuild to keep crawling due to potential side effects.\r\n */\r\nfunction extractImportPaths(code) {\r\n    // empty singleline & multiline comments to avoid matching comments\r\n    code = code\r\n        .replace(multilineCommentsRE$1, '/* */')\r\n        .replace(singlelineCommentsRE$1, '');\r\n    let js = '';\r\n    let m;\r\n    while ((m = importsRE.exec(code)) != null) {\r\n        // This is necessary to avoid infinite loops with zero-width matches\r\n        if (m.index === importsRE.lastIndex) {\r\n            importsRE.lastIndex++;\r\n        }\r\n        js += `\\nimport ${m[1]}`;\r\n    }\r\n    return js;\r\n}\r\nfunction shouldExternalizeDep(resolvedId, rawId) {\r\n    // not a valid file path\r\n    if (!path$n.isAbsolute(resolvedId)) {\r\n        return true;\r\n    }\r\n    // virtual id\r\n    if (resolvedId === rawId || resolvedId.includes('\\0')) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isScannable(id) {\r\n    return JS_TYPES_RE.test(id) || htmlTypesRE.test(id);\r\n}\r\n\r\nconst isDebugEnabled$1 = _debug('vite:deps').enabled;\r\n/**\r\n * The amount to wait for requests to register newly found dependencies before triggering\r\n * a re-bundle + page reload\r\n */\r\nconst debounceMs = 100;\r\nconst depsOptimizerMap = new WeakMap();\r\nconst devSsrDepsOptimizerMap = new WeakMap();\r\nfunction getDepsOptimizer(config, ssr) {\r\n    // Workers compilation shares the DepsOptimizer from the main build\r\n    const isDevSsr = ssr && config.command !== 'build';\r\n    return (isDevSsr ? devSsrDepsOptimizerMap : depsOptimizerMap).get(config.mainConfig || config);\r\n}\r\nasync function initDepsOptimizer(config, server) {\r\n    // Non Dev SSR Optimizer\r\n    const ssr = config.command === 'build' && !!config.build.ssr;\r\n    if (!getDepsOptimizer(config, ssr)) {\r\n        await createDepsOptimizer(config, server);\r\n    }\r\n}\r\nlet creatingDevSsrOptimizer;\r\nasync function initDevSsrDepsOptimizer(config, server) {\r\n    if (getDepsOptimizer(config, true)) {\r\n        // ssr\r\n        return;\r\n    }\r\n    if (creatingDevSsrOptimizer) {\r\n        return creatingDevSsrOptimizer;\r\n    }\r\n    creatingDevSsrOptimizer = (async function () {\r\n        // Important: scanning needs to be done before starting the SSR dev optimizer\r\n        // If ssrLoadModule is called before server.listen(), the main deps optimizer\r\n        // will not be yet created\r\n        const ssr = false;\r\n        if (!getDepsOptimizer(config, ssr)) {\r\n            await initDepsOptimizer(config, server);\r\n        }\r\n        await getDepsOptimizer(config, ssr).scanProcessing;\r\n        await createDevSsrDepsOptimizer(config);\r\n        creatingDevSsrOptimizer = undefined;\r\n    })();\r\n    return await creatingDevSsrOptimizer;\r\n}\r\nasync function createDepsOptimizer(config, server) {\r\n    const { logger } = config;\r\n    const isBuild = config.command === 'build';\r\n    const ssr = isBuild && !!config.build.ssr; // safe as Dev SSR don't use this optimizer\r\n    const sessionTimestamp = Date.now().toString();\r\n    const cachedMetadata = loadCachedDepOptimizationMetadata(config, ssr);\r\n    let handle;\r\n    let metadata = cachedMetadata || initDepsOptimizerMetadata(config, ssr, sessionTimestamp);\r\n    const depsOptimizer = {\r\n        metadata,\r\n        registerMissingImport,\r\n        run: () => debouncedProcessing(0),\r\n        isOptimizedDepFile: (id) => isOptimizedDepFile(id, config),\r\n        isOptimizedDepUrl: createIsOptimizedDepUrl(config),\r\n        getOptimizedDepId: (depInfo) => isBuild ? depInfo.file : `${depInfo.file}?v=${depInfo.browserHash}`,\r\n        registerWorkersSource,\r\n        delayDepsOptimizerUntil,\r\n        resetRegisteredIds,\r\n        ensureFirstRun,\r\n        options: getDepOptimizationConfig(config, ssr)\r\n    };\r\n    depsOptimizerMap.set(config, depsOptimizer);\r\n    let newDepsDiscovered = false;\r\n    let newDepsToLog = [];\r\n    let newDepsToLogHandle;\r\n    const logNewlyDiscoveredDeps = () => {\r\n        if (newDepsToLog.length) {\r\n            config.logger.info(picocolors.exports.green(`\u2728 new dependencies optimized: ${depsLogString(newDepsToLog)}`), {\r\n                timestamp: true\r\n            });\r\n            newDepsToLog = [];\r\n        }\r\n    };\r\n    let depOptimizationProcessing = newDepOptimizationProcessing();\r\n    let depOptimizationProcessingQueue = [];\r\n    const resolveEnqueuedProcessingPromises = () => {\r\n        // Resolve all the processings (including the ones which were delayed)\r\n        for (const processing of depOptimizationProcessingQueue) {\r\n            processing.resolve();\r\n        }\r\n        depOptimizationProcessingQueue = [];\r\n    };\r\n    let enqueuedRerun;\r\n    let currentlyProcessing = false;\r\n    // If there wasn't a cache or it is outdated, we need to prepare a first run\r\n    let firstRunCalled = !!cachedMetadata;\r\n    let postScanOptimizationResult;\r\n    if (!cachedMetadata) {\r\n        // Enter processing state until crawl of static imports ends\r\n        currentlyProcessing = true;\r\n        // Initialize discovered deps with manually added optimizeDeps.include info\r\n        const deps = {};\r\n        await addManuallyIncludedOptimizeDeps(deps, config, ssr);\r\n        const discovered = await toDiscoveredDependencies(config, deps, ssr, sessionTimestamp);\r\n        for (const depInfo of Object.values(discovered)) {\r\n            addOptimizedDepInfo(metadata, 'discovered', {\r\n                ...depInfo,\r\n                processing: depOptimizationProcessing.promise\r\n            });\r\n            newDepsDiscovered = true;\r\n        }\r\n        if (!isBuild) {\r\n            // Important, the scanner is dev only\r\n            const scanPhaseProcessing = newDepOptimizationProcessing();\r\n            depsOptimizer.scanProcessing = scanPhaseProcessing.promise;\r\n            // Ensure server listen is called before the scanner\r\n            setTimeout(async () => {\r\n                try {\r\n                    debuggerViteDeps(picocolors.exports.green(`scanning for dependencies...`));\r\n                    const deps = await discoverProjectDependencies(config);\r\n                    debuggerViteDeps(picocolors.exports.green(Object.keys(deps).length > 0\r\n                        ? `dependencies found by scanner: ${depsLogString(Object.keys(deps))}`\r\n                        : `no dependencies found by scanner`));\r\n                    // Add these dependencies to the discovered list, as these are currently\r\n                    // used by the preAliasPlugin to support aliased and optimized deps.\r\n                    // This is also used by the CJS externalization heuristics in legacy mode\r\n                    for (const id of Object.keys(deps)) {\r\n                        if (!metadata.discovered[id]) {\r\n                            addMissingDep(id, deps[id]);\r\n                        }\r\n                    }\r\n                    if (!isBuild) {\r\n                        const knownDeps = prepareKnownDeps();\r\n                        // For dev, we run the scanner and the first optimization\r\n                        // run on the background, but we wait until crawling has ended\r\n                        // to decide if we send this result to the browser or we need to\r\n                        // do another optimize step\r\n                        postScanOptimizationResult = runOptimizeDeps(config, knownDeps);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    logger.error(e.message);\r\n                }\r\n                finally {\r\n                    scanPhaseProcessing.resolve();\r\n                    depsOptimizer.scanProcessing = undefined;\r\n                }\r\n            }, 0);\r\n        }\r\n    }\r\n    async function startNextDiscoveredBatch() {\r\n        newDepsDiscovered = false;\r\n        // Add the current depOptimizationProcessing to the queue, these\r\n        // promises are going to be resolved once a rerun is committed\r\n        depOptimizationProcessingQueue.push(depOptimizationProcessing);\r\n        // Create a new promise for the next rerun, discovered missing\r\n        // dependencies will be assigned this promise from this point\r\n        depOptimizationProcessing = newDepOptimizationProcessing();\r\n    }\r\n    async function optimizeNewDeps() {\r\n        // a successful completion of the optimizeDeps rerun will end up\r\n        // creating new bundled version of all current and discovered deps\r\n        // in the cache dir and a new metadata info object assigned\r\n        // to _metadata. A fullReload is only issued if the previous bundled\r\n        // dependencies have changed.\r\n        // if the rerun fails, _metadata remains untouched, current discovered\r\n        // deps are cleaned, and a fullReload is issued\r\n        // All deps, previous known and newly discovered are rebundled,\r\n        // respect insertion order to keep the metadata file stable\r\n        const knownDeps = prepareKnownDeps();\r\n        startNextDiscoveredBatch();\r\n        return await runOptimizeDeps(config, knownDeps);\r\n    }\r\n    function prepareKnownDeps() {\r\n        const knownDeps = {};\r\n        // Clone optimized info objects, fileHash, browserHash may be changed for them\r\n        for (const dep of Object.keys(metadata.optimized)) {\r\n            knownDeps[dep] = { ...metadata.optimized[dep] };\r\n        }\r\n        for (const dep of Object.keys(metadata.discovered)) {\r\n            // Clone the discovered info discarding its processing promise\r\n            const { processing, ...info } = metadata.discovered[dep];\r\n            knownDeps[dep] = info;\r\n        }\r\n        return knownDeps;\r\n    }\r\n    async function runOptimizer(preRunResult) {\r\n        const isRerun = firstRunCalled;\r\n        firstRunCalled = true;\r\n        // Ensure that rerun is called sequentially\r\n        enqueuedRerun = undefined;\r\n        // Ensure that a rerun will not be issued for current discovered deps\r\n        if (handle)\r\n            clearTimeout(handle);\r\n        if (Object.keys(metadata.discovered).length === 0) {\r\n            currentlyProcessing = false;\r\n            return;\r\n        }\r\n        currentlyProcessing = true;\r\n        try {\r\n            const processingResult = preRunResult ?? (await optimizeNewDeps());\r\n            const newData = processingResult.metadata;\r\n            const needsInteropMismatch = findInteropMismatches(metadata.discovered, newData.optimized);\r\n            // After a re-optimization, if the internal bundled chunks change a full page reload\r\n            // is required. If the files are stable, we can avoid the reload that is expensive\r\n            // for large applications. Comparing their fileHash we can find out if it is safe to\r\n            // keep the current browser state.\r\n            const needsReload = needsInteropMismatch.length > 0 ||\r\n                metadata.hash !== newData.hash ||\r\n                Object.keys(metadata.optimized).some((dep) => {\r\n                    return (metadata.optimized[dep].fileHash !== newData.optimized[dep].fileHash);\r\n                });\r\n            const commitProcessing = async () => {\r\n                await processingResult.commit();\r\n                // While optimizeDeps is running, new missing deps may be discovered,\r\n                // in which case they will keep being added to metadata.discovered\r\n                for (const id in metadata.discovered) {\r\n                    if (!newData.optimized[id]) {\r\n                        addOptimizedDepInfo(newData, 'discovered', metadata.discovered[id]);\r\n                    }\r\n                }\r\n                // If we don't reload the page, we need to keep browserHash stable\r\n                if (!needsReload) {\r\n                    newData.browserHash = metadata.browserHash;\r\n                    for (const dep in newData.chunks) {\r\n                        newData.chunks[dep].browserHash = metadata.browserHash;\r\n                    }\r\n                    for (const dep in newData.optimized) {\r\n                        newData.optimized[dep].browserHash = (metadata.optimized[dep] || metadata.discovered[dep]).browserHash;\r\n                    }\r\n                }\r\n                // Commit hash and needsInterop changes to the discovered deps info\r\n                // object. Allow for code to await for the discovered processing promise\r\n                // and use the information in the same object\r\n                for (const o in newData.optimized) {\r\n                    const discovered = metadata.discovered[o];\r\n                    if (discovered) {\r\n                        const optimized = newData.optimized[o];\r\n                        discovered.browserHash = optimized.browserHash;\r\n                        discovered.fileHash = optimized.fileHash;\r\n                        discovered.needsInterop = optimized.needsInterop;\r\n                        discovered.processing = undefined;\r\n                    }\r\n                }\r\n                if (isRerun) {\r\n                    newDepsToLog.push(...Object.keys(newData.optimized).filter((dep) => !metadata.optimized[dep]));\r\n                }\r\n                metadata = depsOptimizer.metadata = newData;\r\n                resolveEnqueuedProcessingPromises();\r\n            };\r\n            if (!needsReload) {\r\n                await commitProcessing();\r\n                if (!isDebugEnabled$1) {\r\n                    if (newDepsToLogHandle)\r\n                        clearTimeout(newDepsToLogHandle);\r\n                    newDepsToLogHandle = setTimeout(() => {\r\n                        newDepsToLogHandle = undefined;\r\n                        logNewlyDiscoveredDeps();\r\n                    }, 2 * debounceMs);\r\n                }\r\n                else {\r\n                    debuggerViteDeps(picocolors.exports.green(`\u2728 ${!isRerun\r\n                        ? `dependencies optimized`\r\n                        : `optimized dependencies unchanged`}`));\r\n                }\r\n            }\r\n            else {\r\n                if (newDepsDiscovered) {\r\n                    // There are newly discovered deps, and another rerun is about to be\r\n                    // executed. Avoid the current full reload discarding this rerun result\r\n                    // We don't resolve the processing promise, as they will be resolved\r\n                    // once a rerun is committed\r\n                    processingResult.cancel();\r\n                    debuggerViteDeps(picocolors.exports.green(`\u2728 delaying reload as new dependencies have been found...`));\r\n                }\r\n                else {\r\n                    await commitProcessing();\r\n                    if (!isDebugEnabled$1) {\r\n                        if (newDepsToLogHandle)\r\n                            clearTimeout(newDepsToLogHandle);\r\n                        newDepsToLogHandle = undefined;\r\n                        logNewlyDiscoveredDeps();\r\n                    }\r\n                    logger.info(picocolors.exports.green(`\u2728 optimized dependencies changed. reloading`), {\r\n                        timestamp: true\r\n                    });\r\n                    if (needsInteropMismatch.length > 0) {\r\n                        config.logger.warn(`Mixed ESM and CJS detected in ${picocolors.exports.yellow(needsInteropMismatch.join(', '))}, add ${needsInteropMismatch.length === 1 ? 'it' : 'them'} to optimizeDeps.needsInterop to speed up cold start`, {\r\n                            timestamp: true\r\n                        });\r\n                    }\r\n                    fullReload();\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            logger.error(picocolors.exports.red(`error while updating dependencies:\\n${e.stack}`), { timestamp: true, error: e });\r\n            resolveEnqueuedProcessingPromises();\r\n            // Reset missing deps, let the server rediscover the dependencies\r\n            metadata.discovered = {};\r\n        }\r\n        currentlyProcessing = false;\r\n        // @ts-ignore\r\n        enqueuedRerun?.();\r\n    }\r\n    function fullReload() {\r\n        if (server) {\r\n            // Cached transform results have stale imports (resolved to\r\n            // old locations) so they need to be invalidated before the page is\r\n            // reloaded.\r\n            server.moduleGraph.invalidateAll();\r\n            server.ws.send({\r\n                type: 'full-reload',\r\n                path: '*'\r\n            });\r\n        }\r\n    }\r\n    async function rerun() {\r\n        // debounce time to wait for new missing deps finished, issue a new\r\n        // optimization of deps (both old and newly found) once the previous\r\n        // optimizeDeps processing is finished\r\n        const deps = Object.keys(metadata.discovered);\r\n        const depsString = depsLogString(deps);\r\n        debuggerViteDeps(picocolors.exports.green(`new dependencies found: ${depsString}`));\r\n        runOptimizer();\r\n    }\r\n    function getDiscoveredBrowserHash(hash, deps, missing) {\r\n        return getHash(hash + JSON.stringify(deps) + JSON.stringify(missing) + sessionTimestamp);\r\n    }\r\n    function registerMissingImport(id, resolved) {\r\n        const optimized = metadata.optimized[id];\r\n        if (optimized) {\r\n            return optimized;\r\n        }\r\n        const chunk = metadata.chunks[id];\r\n        if (chunk) {\r\n            return chunk;\r\n        }\r\n        let missing = metadata.discovered[id];\r\n        if (missing) {\r\n            // We are already discover this dependency\r\n            // It will be processed in the next rerun call\r\n            return missing;\r\n        }\r\n        missing = addMissingDep(id, resolved);\r\n        // Until the first optimize run is called, avoid triggering processing\r\n        // We'll wait until the user codebase is eagerly processed by Vite so\r\n        // we can get a list of every missing dependency before giving to the\r\n        // browser a dependency that may be outdated, thus avoiding full page reloads\r\n        if (firstRunCalled) {\r\n            // Debounced rerun, let other missing dependencies be discovered before\r\n            // the running next optimizeDeps\r\n            debouncedProcessing();\r\n        }\r\n        // Return the path for the optimized bundle, this path is known before\r\n        // esbuild is run to generate the pre-bundle\r\n        return missing;\r\n    }\r\n    function addMissingDep(id, resolved) {\r\n        newDepsDiscovered = true;\r\n        return addOptimizedDepInfo(metadata, 'discovered', {\r\n            id,\r\n            file: getOptimizedDepPath(id, config, ssr),\r\n            src: resolved,\r\n            // Assing a browserHash to this missing dependency that is unique to\r\n            // the current state of known + missing deps. If its optimizeDeps run\r\n            // doesn't alter the bundled files of previous known dependencies,\r\n            // we don't need a full reload and this browserHash will be kept\r\n            browserHash: getDiscoveredBrowserHash(metadata.hash, depsFromOptimizedDepInfo(metadata.optimized), depsFromOptimizedDepInfo(metadata.discovered)),\r\n            // loading of this pre-bundled dep needs to await for its processing\r\n            // promise to be resolved\r\n            processing: depOptimizationProcessing.promise,\r\n            exportsData: extractExportsData(resolved, config, ssr)\r\n        });\r\n    }\r\n    function debouncedProcessing(timeout = debounceMs) {\r\n        if (!newDepsDiscovered) {\r\n            return;\r\n        }\r\n        // Debounced rerun, let other missing dependencies be discovered before\r\n        // the running next optimizeDeps\r\n        enqueuedRerun = undefined;\r\n        if (handle)\r\n            clearTimeout(handle);\r\n        if (newDepsToLogHandle)\r\n            clearTimeout(newDepsToLogHandle);\r\n        newDepsToLogHandle = undefined;\r\n        handle = setTimeout(() => {\r\n            handle = undefined;\r\n            enqueuedRerun = rerun;\r\n            if (!currentlyProcessing) {\r\n                enqueuedRerun();\r\n            }\r\n        }, timeout);\r\n    }\r\n    async function onCrawlEnd() {\r\n        debuggerViteDeps(picocolors.exports.green(`\u2728 static imports crawl ended`));\r\n        if (firstRunCalled) {\r\n            return;\r\n        }\r\n        currentlyProcessing = false;\r\n        const crawlDeps = Object.keys(metadata.discovered);\r\n        // Await for the scan+optimize step running in the background\r\n        // It normally should be over by the time crawling of user code ended\r\n        await depsOptimizer.scanProcessing;\r\n        if (!isBuild && postScanOptimizationResult) {\r\n            const result = await postScanOptimizationResult;\r\n            postScanOptimizationResult = undefined;\r\n            const scanDeps = Object.keys(result.metadata.optimized);\r\n            if (scanDeps.length === 0 && crawlDeps.length === 0) {\r\n                debuggerViteDeps(picocolors.exports.green(`\u2728 no dependencies found by the scanner or crawling static imports`));\r\n                result.cancel();\r\n                firstRunCalled = true;\r\n                return;\r\n            }\r\n            const needsInteropMismatch = findInteropMismatches(metadata.discovered, result.metadata.optimized);\r\n            const scannerMissedDeps = crawlDeps.some((dep) => !scanDeps.includes(dep));\r\n            const outdatedResult = needsInteropMismatch.length > 0 || scannerMissedDeps;\r\n            if (outdatedResult) {\r\n                // Drop this scan result, and perform a new optimization to avoid a full reload\r\n                result.cancel();\r\n                // Add deps found by the scanner to the discovered deps while crawling\r\n                for (const dep of scanDeps) {\r\n                    if (!crawlDeps.includes(dep)) {\r\n                        addMissingDep(dep, result.metadata.optimized[dep].src);\r\n                    }\r\n                }\r\n                if (scannerMissedDeps) {\r\n                    debuggerViteDeps(picocolors.exports.yellow(`\u2728 new dependencies were found while crawling that weren't detected by the scanner`));\r\n                }\r\n                debuggerViteDeps(picocolors.exports.green(`\u2728 re-running optimizer`));\r\n                debouncedProcessing(0);\r\n            }\r\n            else {\r\n                debuggerViteDeps(picocolors.exports.green(`\u2728 using post-scan optimizer result, the scanner found every used dependency`));\r\n                startNextDiscoveredBatch();\r\n                runOptimizer(result);\r\n            }\r\n        }\r\n        else {\r\n            if (crawlDeps.length === 0) {\r\n                debuggerViteDeps(picocolors.exports.green(`\u2728 no dependencies found while crawling the static imports`));\r\n                firstRunCalled = true;\r\n            }\r\n            else {\r\n                // queue the first optimizer run\r\n                debouncedProcessing(0);\r\n            }\r\n        }\r\n    }\r\n    const runOptimizerIfIdleAfterMs = 100;\r\n    let registeredIds = [];\r\n    let seenIds = new Set();\r\n    let workersSources = new Set();\r\n    let waitingOn;\r\n    let firstRunEnsured = false;\r\n    function resetRegisteredIds() {\r\n        registeredIds = [];\r\n        seenIds = new Set();\r\n        workersSources = new Set();\r\n        waitingOn = undefined;\r\n        firstRunEnsured = false;\r\n    }\r\n    // If all the inputs are dependencies, we aren't going to get any\r\n    // delayDepsOptimizerUntil(id) calls. We need to guard against this\r\n    // by forcing a rerun if no deps have been registered\r\n    function ensureFirstRun() {\r\n        if (!firstRunEnsured && !firstRunCalled && registeredIds.length === 0) {\r\n            setTimeout(() => {\r\n                if (registeredIds.length === 0) {\r\n                    onCrawlEnd();\r\n                }\r\n            }, runOptimizerIfIdleAfterMs);\r\n        }\r\n        firstRunEnsured = true;\r\n    }\r\n    function registerWorkersSource(id) {\r\n        workersSources.add(id);\r\n        // Avoid waiting for this id, as it may be blocked by the rollup\r\n        // bundling process of the worker that also depends on the optimizer\r\n        registeredIds = registeredIds.filter((registered) => registered.id !== id);\r\n        if (waitingOn === id) {\r\n            waitingOn = undefined;\r\n            runOptimizerWhenIdle();\r\n        }\r\n    }\r\n    function delayDepsOptimizerUntil(id, done) {\r\n        if (!depsOptimizer.isOptimizedDepFile(id) && !seenIds.has(id)) {\r\n            seenIds.add(id);\r\n            registeredIds.push({ id, done });\r\n            runOptimizerWhenIdle();\r\n        }\r\n    }\r\n    function runOptimizerWhenIdle() {\r\n        if (!waitingOn) {\r\n            const next = registeredIds.pop();\r\n            if (next) {\r\n                waitingOn = next.id;\r\n                const afterLoad = () => {\r\n                    waitingOn = undefined;\r\n                    if (!workersSources.has(next.id)) {\r\n                        if (registeredIds.length > 0) {\r\n                            runOptimizerWhenIdle();\r\n                        }\r\n                        else {\r\n                            onCrawlEnd();\r\n                        }\r\n                    }\r\n                };\r\n                next\r\n                    .done()\r\n                    .then(() => {\r\n                    setTimeout(afterLoad, registeredIds.length > 0 ? 0 : runOptimizerIfIdleAfterMs);\r\n                })\r\n                    .catch(afterLoad);\r\n            }\r\n        }\r\n    }\r\n}\r\nasync function createDevSsrDepsOptimizer(config) {\r\n    const metadata = await optimizeServerSsrDeps(config);\r\n    const depsOptimizer = {\r\n        metadata,\r\n        isOptimizedDepFile: (id) => isOptimizedDepFile(id, config),\r\n        isOptimizedDepUrl: createIsOptimizedDepUrl(config),\r\n        getOptimizedDepId: (depInfo) => `${depInfo.file}?v=${depInfo.browserHash}`,\r\n        registerMissingImport: () => {\r\n            throw new Error('Vite Internal Error: registerMissingImport is not supported in dev SSR');\r\n        },\r\n        // noop, there is no scanning during dev SSR\r\n        // the optimizer blocks the server start\r\n        run: () => { },\r\n        registerWorkersSource: (id) => { },\r\n        delayDepsOptimizerUntil: (id, done) => { },\r\n        resetRegisteredIds: () => { },\r\n        ensureFirstRun: () => { },\r\n        options: config.ssr.optimizeDeps\r\n    };\r\n    devSsrDepsOptimizerMap.set(config, depsOptimizer);\r\n}\r\nfunction findInteropMismatches(discovered, optimized) {\r\n    const needsInteropMismatch = [];\r\n    for (const dep in discovered) {\r\n        const discoveredDepInfo = discovered[dep];\r\n        const depInfo = optimized[dep];\r\n        if (depInfo) {\r\n            if (discoveredDepInfo.needsInterop !== undefined &&\r\n                depInfo.needsInterop !== discoveredDepInfo.needsInterop) {\r\n                // This only happens when a discovered dependency has mixed ESM and CJS syntax\r\n                // and it hasn't been manually added to optimizeDeps.needsInterop\r\n                needsInteropMismatch.push(dep);\r\n                debuggerViteDeps(picocolors.exports.cyan(`\u2728 needsInterop mismatch detected for ${dep}`));\r\n            }\r\n        }\r\n    }\r\n    return needsInteropMismatch;\r\n}\r\n\r\nconst debuggerViteDeps = createDebugger('vite:deps');\r\nconst debug$a = debuggerViteDeps;\r\nconst isDebugEnabled = _debug('vite:deps').enabled;\r\nconst jsExtensionRE = /\\.js$/i;\r\nconst jsMapExtensionRE = /\\.js\\.map$/i;\r\n/**\r\n * Scan and optimize dependencies within a project.\r\n * Used by Vite CLI when running `vite optimize`.\r\n */\r\nasync function optimizeDeps(config, force = config.optimizeDeps.force, asCommand = false) {\r\n    const log = asCommand ? config.logger.info : debug$a;\r\n    const ssr = config.command === 'build' && !!config.build.ssr;\r\n    const cachedMetadata = loadCachedDepOptimizationMetadata(config, ssr, force, asCommand);\r\n    if (cachedMetadata) {\r\n        return cachedMetadata;\r\n    }\r\n    const deps = await discoverProjectDependencies(config);\r\n    const depsString = depsLogString(Object.keys(deps));\r\n    log(picocolors.exports.green(`Optimizing dependencies:\\n  ${depsString}`));\r\n    await addManuallyIncludedOptimizeDeps(deps, config, ssr);\r\n    const depsInfo = toDiscoveredDependencies(config, deps, ssr);\r\n    const result = await runOptimizeDeps(config, depsInfo);\r\n    await result.commit();\r\n    return result.metadata;\r\n}\r\nasync function optimizeServerSsrDeps(config) {\r\n    const ssr = true;\r\n    const cachedMetadata = loadCachedDepOptimizationMetadata(config, ssr, config.optimizeDeps.force, false);\r\n    if (cachedMetadata) {\r\n        return cachedMetadata;\r\n    }\r\n    let alsoInclude;\r\n    let noExternalFilter;\r\n    const { exclude } = getDepOptimizationConfig(config, ssr);\r\n    const noExternal = config.ssr?.noExternal;\r\n    if (noExternal) {\r\n        alsoInclude = arraify(noExternal).filter((ne) => typeof ne === 'string');\r\n        noExternalFilter =\r\n            noExternal === true\r\n                ? (dep) => true\r\n                : createFilter$1(undefined, exclude, {\r\n                    resolve: false\r\n                });\r\n    }\r\n    const deps = {};\r\n    await addManuallyIncludedOptimizeDeps(deps, config, ssr, alsoInclude, noExternalFilter);\r\n    const depsInfo = toDiscoveredDependencies(config, deps, true);\r\n    const result = await runOptimizeDeps(config, depsInfo, true);\r\n    await result.commit();\r\n    return result.metadata;\r\n}\r\nfunction initDepsOptimizerMetadata(config, ssr, timestamp) {\r\n    const hash = getDepHash(config, ssr);\r\n    return {\r\n        hash,\r\n        browserHash: getOptimizedBrowserHash(hash, {}, timestamp),\r\n        optimized: {},\r\n        chunks: {},\r\n        discovered: {},\r\n        depInfoList: []\r\n    };\r\n}\r\nfunction addOptimizedDepInfo(metadata, type, depInfo) {\r\n    metadata[type][depInfo.id] = depInfo;\r\n    metadata.depInfoList.push(depInfo);\r\n    return depInfo;\r\n}\r\n/**\r\n * Creates the initial dep optimization metadata, loading it from the deps cache\r\n * if it exists and pre-bundling isn't forced\r\n */\r\nfunction loadCachedDepOptimizationMetadata(config, ssr, force = config.optimizeDeps.force, asCommand = false) {\r\n    const log = asCommand ? config.logger.info : debug$a;\r\n    // Before Vite 2.9, dependencies were cached in the root of the cacheDir\r\n    // For compat, we remove the cache if we find the old structure\r\n    if (fs$l.existsSync(path$n.join(config.cacheDir, '_metadata.json'))) {\r\n        emptyDir(config.cacheDir);\r\n    }\r\n    const depsCacheDir = getDepsCacheDir(config, ssr);\r\n    if (!force) {\r\n        let cachedMetadata;\r\n        try {\r\n            const cachedMetadataPath = path$n.join(depsCacheDir, '_metadata.json');\r\n            cachedMetadata = parseDepsOptimizerMetadata(fs$l.readFileSync(cachedMetadataPath, 'utf-8'), depsCacheDir);\r\n        }\r\n        catch (e) { }\r\n        // hash is consistent, no need to re-bundle\r\n        if (cachedMetadata && cachedMetadata.hash === getDepHash(config, ssr)) {\r\n            log('Hash is consistent. Skipping. Use --force to override.');\r\n            // Nothing to commit or cancel as we are using the cache, we only\r\n            // need to resolve the processing promise so requests can move on\r\n            return cachedMetadata;\r\n        }\r\n    }\r\n    else {\r\n        config.logger.info('Forced re-optimization of dependencies');\r\n    }\r\n    // Start with a fresh cache\r\n    fs$l.rmSync(depsCacheDir, { recursive: true, force: true });\r\n}\r\n/**\r\n * Initial optimizeDeps at server start. Perform a fast scan using esbuild to\r\n * find deps to pre-bundle and include user hard-coded dependencies\r\n */\r\nasync function discoverProjectDependencies(config) {\r\n    const { deps, missing } = await scanImports(config);\r\n    const missingIds = Object.keys(missing);\r\n    if (missingIds.length) {\r\n        throw new Error(`The following dependencies are imported but could not be resolved:\\n\\n  ${missingIds\r\n            .map((id) => `${picocolors.exports.cyan(id)} ${picocolors.exports.white(picocolors.exports.dim(`(imported by ${missing[id]})`))}`)\r\n            .join(`\\n  `)}\\n\\nAre they installed?`);\r\n    }\r\n    return deps;\r\n}\r\nfunction toDiscoveredDependencies(config, deps, ssr, timestamp) {\r\n    const browserHash = getOptimizedBrowserHash(getDepHash(config, ssr), deps, timestamp);\r\n    const discovered = {};\r\n    for (const id in deps) {\r\n        const src = deps[id];\r\n        discovered[id] = {\r\n            id,\r\n            file: getOptimizedDepPath(id, config, ssr),\r\n            src,\r\n            browserHash: browserHash,\r\n            exportsData: extractExportsData(src, config, ssr)\r\n        };\r\n    }\r\n    return discovered;\r\n}\r\nfunction depsLogString(qualifiedIds) {\r\n    if (isDebugEnabled) {\r\n        return picocolors.exports.yellow(qualifiedIds.join(`, `));\r\n    }\r\n    else {\r\n        const total = qualifiedIds.length;\r\n        const maxListed = 5;\r\n        const listed = Math.min(total, maxListed);\r\n        const extra = Math.max(0, total - maxListed);\r\n        return picocolors.exports.yellow(qualifiedIds.slice(0, listed).join(`, `) +\r\n            (extra > 0 ? `, ...and ${extra} more` : ``));\r\n    }\r\n}\r\n/**\r\n * Internally, Vite uses this function to prepare a optimizeDeps run. When Vite starts, we can get\r\n * the metadata and start the server without waiting for the optimizeDeps processing to be completed\r\n */\r\nasync function runOptimizeDeps(resolvedConfig, depsInfo, ssr = resolvedConfig.command === 'build' &&\r\n    !!resolvedConfig.build.ssr) {\r\n    const isBuild = resolvedConfig.command === 'build';\r\n    const config = {\r\n        ...resolvedConfig,\r\n        command: 'build'\r\n    };\r\n    const depsCacheDir = getDepsCacheDir(resolvedConfig, ssr);\r\n    const processingCacheDir = getProcessingDepsCacheDir(resolvedConfig, ssr);\r\n    // Create a temporal directory so we don't need to delete optimized deps\r\n    // until they have been processed. This also avoids leaving the deps cache\r\n    // directory in a corrupted state if there is an error\r\n    if (fs$l.existsSync(processingCacheDir)) {\r\n        emptyDir(processingCacheDir);\r\n    }\r\n    else {\r\n        fs$l.mkdirSync(processingCacheDir, { recursive: true });\r\n    }\r\n    // a hint for Node.js\r\n    // all files in the cache directory should be recognized as ES modules\r\n    writeFile(path$n.resolve(processingCacheDir, 'package.json'), JSON.stringify({ type: 'module' }));\r\n    const metadata = initDepsOptimizerMetadata(config, ssr);\r\n    metadata.browserHash = getOptimizedBrowserHash(metadata.hash, depsFromOptimizedDepInfo(depsInfo));\r\n    // We prebundle dependencies with esbuild and cache them, but there is no need\r\n    // to wait here. Code that needs to access the cached deps needs to await\r\n    // the optimizedDepInfo.processing promise for each dep\r\n    const qualifiedIds = Object.keys(depsInfo);\r\n    const processingResult = {\r\n        metadata,\r\n        async commit() {\r\n            // Write metadata file, delete `deps` folder and rename the `processing` folder to `deps`\r\n            // Processing is done, we can now replace the depsCacheDir with processingCacheDir\r\n            // Rewire the file paths from the temporal processing dir to the final deps cache dir\r\n            await removeDir(depsCacheDir);\r\n            await renameDir(processingCacheDir, depsCacheDir);\r\n        },\r\n        cancel() {\r\n            fs$l.rmSync(processingCacheDir, { recursive: true, force: true });\r\n        }\r\n    };\r\n    if (!qualifiedIds.length) {\r\n        return processingResult;\r\n    }\r\n    // esbuild generates nested directory output with lowest common ancestor base\r\n    // this is unpredictable and makes it difficult to analyze entry / output\r\n    // mapping. So what we do here is:\r\n    // 1. flatten all ids to eliminate slash\r\n    // 2. in the plugin, read the entry ourselves as virtual files to retain the\r\n    //    path.\r\n    const flatIdDeps = {};\r\n    const idToExports = {};\r\n    const flatIdToExports = {};\r\n    const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n    const { plugins: pluginsFromConfig = [], ...esbuildOptions } = optimizeDeps?.esbuildOptions ?? {};\r\n    for (const id in depsInfo) {\r\n        const src = depsInfo[id].src;\r\n        const exportsData = await (depsInfo[id].exportsData ??\r\n            extractExportsData(src, config, ssr));\r\n        if (exportsData.jsxLoader) {\r\n            // Ensure that optimization won't fail by defaulting '.js' to the JSX parser.\r\n            // This is useful for packages such as Gatsby.\r\n            esbuildOptions.loader = {\r\n                '.js': 'jsx',\r\n                ...esbuildOptions.loader\r\n            };\r\n        }\r\n        const flatId = flattenId(id);\r\n        flatIdDeps[flatId] = src;\r\n        idToExports[id] = exportsData;\r\n        flatIdToExports[flatId] = exportsData;\r\n    }\r\n    // esbuild automatically replaces process.env.NODE_ENV for platform 'browser'\r\n    // In lib mode, we need to keep process.env.NODE_ENV untouched, so to at build\r\n    // time we replace it by __vite_process_env_NODE_ENV. This placeholder will be\r\n    // later replaced by the define plugin\r\n    const define = {\r\n        'process.env.NODE_ENV': isBuild\r\n            ? '__vite_process_env_NODE_ENV'\r\n            : JSON.stringify(process.env.NODE_ENV || config.mode)\r\n    };\r\n    const platform = ssr && config.ssr?.target !== 'webworker' ? 'node' : 'browser';\r\n    const external = [...(optimizeDeps?.exclude ?? [])];\r\n    if (isBuild) {\r\n        let rollupOptionsExternal = config?.build?.rollupOptions?.external;\r\n        if (rollupOptionsExternal) {\r\n            if (typeof rollupOptionsExternal === 'string') {\r\n                rollupOptionsExternal = [rollupOptionsExternal];\r\n            }\r\n            // TODO: decide whether to support RegExp and function options\r\n            // They're not supported yet because `optimizeDeps.exclude` currently only accepts strings\r\n            if (!Array.isArray(rollupOptionsExternal) ||\r\n                rollupOptionsExternal.some((ext) => typeof ext !== 'string')) {\r\n                throw new Error(`[vite] 'build.rollupOptions.external' can only be an array of strings or a string when using esbuild optimization at build time.`);\r\n            }\r\n            external.push(...rollupOptionsExternal);\r\n        }\r\n    }\r\n    const plugins = [...pluginsFromConfig];\r\n    if (external.length) {\r\n        plugins.push(esbuildCjsExternalPlugin(external));\r\n    }\r\n    plugins.push(esbuildDepPlugin(flatIdDeps, flatIdToExports, external, config, ssr));\r\n    const start = performance.now();\r\n    const result = await build$3({\r\n        absWorkingDir: process.cwd(),\r\n        entryPoints: Object.keys(flatIdDeps),\r\n        bundle: true,\r\n        // We can't use platform 'neutral', as esbuild has custom handling\r\n        // when the platform is 'node' or 'browser' that can't be emulated\r\n        // by using mainFields and conditions\r\n        platform,\r\n        define,\r\n        format: 'esm',\r\n        // See https://github.com/evanw/esbuild/issues/1921#issuecomment-1152991694\r\n        banner: platform === 'node'\r\n            ? {\r\n                js: `import { createRequire } from 'module';const require = createRequire(import.meta.url);`\r\n            }\r\n            : undefined,\r\n        target: isBuild ? config.build.target || undefined : ESBUILD_MODULES_TARGET,\r\n        external,\r\n        logLevel: 'error',\r\n        splitting: true,\r\n        sourcemap: true,\r\n        outdir: processingCacheDir,\r\n        ignoreAnnotations: !isBuild,\r\n        metafile: true,\r\n        plugins,\r\n        ...esbuildOptions,\r\n        supported: {\r\n            'dynamic-import': true,\r\n            'import-meta': true,\r\n            ...esbuildOptions.supported\r\n        }\r\n    });\r\n    const meta = result.metafile;\r\n    // the paths in `meta.outputs` are relative to `process.cwd()`\r\n    const processingCacheDirOutputPath = path$n.relative(process.cwd(), processingCacheDir);\r\n    for (const id in depsInfo) {\r\n        const output = esbuildOutputFromId(meta.outputs, id, processingCacheDir);\r\n        const { exportsData, ...info } = depsInfo[id];\r\n        addOptimizedDepInfo(metadata, 'optimized', {\r\n            ...info,\r\n            // We only need to hash the output.imports in to check for stability, but adding the hash\r\n            // and file path gives us a unique hash that may be useful for other things in the future\r\n            fileHash: getHash(metadata.hash + depsInfo[id].file + JSON.stringify(output.imports)),\r\n            browserHash: metadata.browserHash,\r\n            // After bundling we have more information and can warn the user about legacy packages\r\n            // that require manual configuration\r\n            needsInterop: needsInterop(config, ssr, id, idToExports[id], output)\r\n        });\r\n    }\r\n    for (const o of Object.keys(meta.outputs)) {\r\n        if (!o.match(jsMapExtensionRE)) {\r\n            const id = path$n\r\n                .relative(processingCacheDirOutputPath, o)\r\n                .replace(jsExtensionRE, '');\r\n            const file = getOptimizedDepPath(id, resolvedConfig, ssr);\r\n            if (!findOptimizedDepInfoInRecord(metadata.optimized, (depInfo) => depInfo.file === file)) {\r\n                addOptimizedDepInfo(metadata, 'chunks', {\r\n                    id,\r\n                    file,\r\n                    needsInterop: false,\r\n                    browserHash: metadata.browserHash\r\n                });\r\n            }\r\n        }\r\n    }\r\n    const dataPath = path$n.join(processingCacheDir, '_metadata.json');\r\n    writeFile(dataPath, stringifyDepsOptimizerMetadata(metadata, depsCacheDir));\r\n    debug$a(`deps bundled in ${(performance.now() - start).toFixed(2)}ms`);\r\n    return processingResult;\r\n}\r\nasync function findKnownImports(config, ssr) {\r\n    const deps = (await scanImports(config)).deps;\r\n    await addManuallyIncludedOptimizeDeps(deps, config, ssr);\r\n    return Object.keys(deps);\r\n}\r\nasync function addManuallyIncludedOptimizeDeps(deps, config, ssr, extra = [], filter) {\r\n    const { logger } = config;\r\n    const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n    const optimizeDepsInclude = optimizeDeps?.include ?? [];\r\n    if (optimizeDepsInclude.length || extra.length) {\r\n        const unableToOptimize = (id, msg) => {\r\n            if (optimizeDepsInclude.includes(id)) {\r\n                logger.warn(`${msg}: ${picocolors.exports.cyan(id)}, present in '${ssr ? 'ssr.' : ''}optimizeDeps.include'`);\r\n            }\r\n        };\r\n        const resolve = config.createResolver({\r\n            asSrc: false,\r\n            scan: true,\r\n            ssrOptimizeCheck: ssr\r\n        });\r\n        for (const id of [...optimizeDepsInclude, ...extra]) {\r\n            // normalize 'foo   >bar` as 'foo > bar' to prevent same id being added\r\n            // and for pretty printing\r\n            const normalizedId = normalizeId(id);\r\n            if (!deps[normalizedId] && filter?.(normalizedId) !== false) {\r\n                const entry = await resolve(id, undefined, undefined, ssr);\r\n                if (entry) {\r\n                    if (isOptimizable(entry, optimizeDeps)) {\r\n                        if (!entry.endsWith('?__vite_skip_optimization')) {\r\n                            deps[normalizedId] = entry;\r\n                        }\r\n                    }\r\n                    else {\r\n                        unableToOptimize(entry, 'Cannot optimize dependency');\r\n                    }\r\n                }\r\n                else {\r\n                    unableToOptimize(id, 'Failed to resolve dependency');\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction newDepOptimizationProcessing() {\r\n    let resolve;\r\n    const promise = new Promise((_resolve) => {\r\n        resolve = _resolve;\r\n    });\r\n    return { promise, resolve: resolve };\r\n}\r\n// Convert to { id: src }\r\nfunction depsFromOptimizedDepInfo(depsInfo) {\r\n    return Object.fromEntries(Object.entries(depsInfo).map((d) => [d[0], d[1].src]));\r\n}\r\nfunction getOptimizedDepPath(id, config, ssr) {\r\n    return normalizePath$3(path$n.resolve(getDepsCacheDir(config, ssr), flattenId(id) + '.js'));\r\n}\r\nfunction getDepsCacheSuffix(config, ssr) {\r\n    let suffix = '';\r\n    if (config.command === 'build') {\r\n        // Differentiate build caches depending on outDir to allow parallel builds\r\n        const { outDir } = config.build;\r\n        const buildId = outDir.length > 8 || outDir.includes('/') ? getHash(outDir) : outDir;\r\n        suffix += `_build-${buildId}`;\r\n    }\r\n    if (ssr) {\r\n        suffix += '_ssr';\r\n    }\r\n    return suffix;\r\n}\r\nfunction getDepsCacheDir(config, ssr) {\r\n    return getDepsCacheDirPrefix(config) + getDepsCacheSuffix(config, ssr);\r\n}\r\nfunction getProcessingDepsCacheDir(config, ssr) {\r\n    return (getDepsCacheDirPrefix(config) + getDepsCacheSuffix(config, ssr) + '_temp');\r\n}\r\nfunction getDepsCacheDirPrefix(config) {\r\n    return normalizePath$3(path$n.resolve(config.cacheDir, 'deps'));\r\n}\r\nfunction isOptimizedDepFile(id, config) {\r\n    return id.startsWith(getDepsCacheDirPrefix(config));\r\n}\r\nfunction createIsOptimizedDepUrl(config) {\r\n    const { root } = config;\r\n    const depsCacheDir = getDepsCacheDirPrefix(config);\r\n    // determine the url prefix of files inside cache directory\r\n    const depsCacheDirRelative = normalizePath$3(path$n.relative(root, depsCacheDir));\r\n    const depsCacheDirPrefix = depsCacheDirRelative.startsWith('../')\r\n        ? // if the cache directory is outside root, the url prefix would be something\r\n            // like '/@fs/absolute/path/to/node_modules/.vite'\r\n            `/@fs/${normalizePath$3(depsCacheDir).replace(/^\\//, '')}`\r\n        : // if the cache directory is inside root, the url prefix would be something\r\n            // like '/node_modules/.vite'\r\n            `/${depsCacheDirRelative}`;\r\n    return function isOptimizedDepUrl(url) {\r\n        return url.startsWith(depsCacheDirPrefix);\r\n    };\r\n}\r\nfunction parseDepsOptimizerMetadata(jsonMetadata, depsCacheDir) {\r\n    const { hash, browserHash, optimized, chunks } = JSON.parse(jsonMetadata, (key, value) => {\r\n        // Paths can be absolute or relative to the deps cache dir where\r\n        // the _metadata.json is located\r\n        if (key === 'file' || key === 'src') {\r\n            return normalizePath$3(path$n.resolve(depsCacheDir, value));\r\n        }\r\n        return value;\r\n    });\r\n    if (!chunks ||\r\n        Object.values(optimized).some((depInfo) => !depInfo.fileHash)) {\r\n        // outdated _metadata.json version, ignore\r\n        return;\r\n    }\r\n    const metadata = {\r\n        hash,\r\n        browserHash,\r\n        optimized: {},\r\n        discovered: {},\r\n        chunks: {},\r\n        depInfoList: []\r\n    };\r\n    for (const id of Object.keys(optimized)) {\r\n        addOptimizedDepInfo(metadata, 'optimized', {\r\n            ...optimized[id],\r\n            id,\r\n            browserHash\r\n        });\r\n    }\r\n    for (const id of Object.keys(chunks)) {\r\n        addOptimizedDepInfo(metadata, 'chunks', {\r\n            ...chunks[id],\r\n            id,\r\n            browserHash,\r\n            needsInterop: false\r\n        });\r\n    }\r\n    return metadata;\r\n}\r\n/**\r\n * Stringify metadata for deps cache. Remove processing promises\r\n * and individual dep info browserHash. Once the cache is reload\r\n * the next time the server start we need to use the global\r\n * browserHash to allow long term caching\r\n */\r\nfunction stringifyDepsOptimizerMetadata(metadata, depsCacheDir) {\r\n    const { hash, browserHash, optimized, chunks } = metadata;\r\n    return JSON.stringify({\r\n        hash,\r\n        browserHash,\r\n        optimized: Object.fromEntries(Object.values(optimized).map(({ id, src, file, fileHash, needsInterop }) => [\r\n            id,\r\n            {\r\n                src,\r\n                file,\r\n                fileHash,\r\n                needsInterop\r\n            }\r\n        ])),\r\n        chunks: Object.fromEntries(Object.values(chunks).map(({ id, file }) => [id, { file }]))\r\n    }, (key, value) => {\r\n        // Paths can be absolute or relative to the deps cache dir where\r\n        // the _metadata.json is located\r\n        if (key === 'file' || key === 'src') {\r\n            return normalizePath$3(path$n.relative(depsCacheDir, value));\r\n        }\r\n        return value;\r\n    }, 2);\r\n}\r\nfunction esbuildOutputFromId(outputs, id, cacheDirOutputPath) {\r\n    const flatId = flattenId(id) + '.js';\r\n    return outputs[normalizePath$3(path$n.relative(process.cwd(), path$n.join(cacheDirOutputPath, flatId)))];\r\n}\r\nasync function extractExportsData(filePath, config, ssr) {\r\n    await init;\r\n    const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n    const esbuildOptions = optimizeDeps?.esbuildOptions ?? {};\r\n    if (optimizeDeps.extensions?.some((ext) => filePath.endsWith(ext))) {\r\n        // For custom supported extensions, build the entry file to transform it into JS,\r\n        // and then parse with es-module-lexer. Note that the `bundle` option is not `true`,\r\n        // so only the entry file is being transformed.\r\n        const result = await build$3({\r\n            ...esbuildOptions,\r\n            entryPoints: [filePath],\r\n            write: false,\r\n            format: 'esm'\r\n        });\r\n        const [imports, exports, facade] = parse$b(result.outputFiles[0].text);\r\n        return {\r\n            hasImports: imports.length > 0,\r\n            exports: exports.map((e) => e.n),\r\n            facade\r\n        };\r\n    }\r\n    let parseResult;\r\n    let usedJsxLoader = false;\r\n    const entryContent = fs$l.readFileSync(filePath, 'utf-8');\r\n    try {\r\n        parseResult = parse$b(entryContent);\r\n    }\r\n    catch {\r\n        const loader = esbuildOptions.loader?.[path$n.extname(filePath)] || 'jsx';\r\n        debug$a(`Unable to parse: ${filePath}.\\n Trying again with a ${loader} transform.`);\r\n        const transformed = await transformWithEsbuild(entryContent, filePath, {\r\n            loader\r\n        });\r\n        // Ensure that optimization won't fail by defaulting '.js' to the JSX parser.\r\n        // This is useful for packages such as Gatsby.\r\n        esbuildOptions.loader = {\r\n            '.js': 'jsx',\r\n            ...esbuildOptions.loader\r\n        };\r\n        parseResult = parse$b(transformed.code);\r\n        usedJsxLoader = true;\r\n    }\r\n    const [imports, exports, facade] = parseResult;\r\n    const exportsData = {\r\n        hasImports: imports.length > 0,\r\n        exports: exports.map((e) => e.n),\r\n        facade,\r\n        hasReExports: imports.some(({ ss, se }) => {\r\n            const exp = entryContent.slice(ss, se);\r\n            return /export\\s+\\*\\s+from/.test(exp);\r\n        }),\r\n        jsxLoader: usedJsxLoader\r\n    };\r\n    return exportsData;\r\n}\r\n// https://github.com/vitejs/vite/issues/1724#issuecomment-767619642\r\n// a list of modules that pretends to be ESM but still uses `require`.\r\n// this causes esbuild to wrap them as CJS even when its entry appears to be ESM.\r\nconst KNOWN_INTEROP_IDS = new Set(['moment']);\r\nfunction needsInterop(config, ssr, id, exportsData, output) {\r\n    if (getDepOptimizationConfig(config, ssr)?.needsInterop?.includes(id) ||\r\n        KNOWN_INTEROP_IDS.has(id)) {\r\n        return true;\r\n    }\r\n    const { hasImports, exports } = exportsData;\r\n    // entry has no ESM syntax - likely CJS or UMD\r\n    if (!exports.length && !hasImports) {\r\n        return true;\r\n    }\r\n    if (output) {\r\n        // if a peer dependency used require() on an ESM dependency, esbuild turns the\r\n        // ESM dependency's entry chunk into a single default export... detect\r\n        // such cases by checking exports mismatch, and force interop.\r\n        const generatedExports = output.exports;\r\n        if (!generatedExports ||\r\n            (isSingleDefaultExport(generatedExports) &&\r\n                !isSingleDefaultExport(exports))) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction isSingleDefaultExport(exports) {\r\n    return exports.length === 1 && exports[0] === 'default';\r\n}\r\nconst lockfileFormats = ['package-lock.json', 'yarn.lock', 'pnpm-lock.yaml'];\r\nfunction getDepHash(config, ssr) {\r\n    let content = lookupFile(config.root, lockfileFormats) || '';\r\n    // also take config into account\r\n    // only a subset of config options that can affect dep optimization\r\n    const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n    content += JSON.stringify({\r\n        mode: process.env.NODE_ENV || config.mode,\r\n        root: config.root,\r\n        resolve: config.resolve,\r\n        buildTarget: config.build.target,\r\n        assetsInclude: config.assetsInclude,\r\n        plugins: config.plugins.map((p) => p.name),\r\n        optimizeDeps: {\r\n            include: optimizeDeps?.include,\r\n            exclude: optimizeDeps?.exclude,\r\n            esbuildOptions: {\r\n                ...optimizeDeps?.esbuildOptions,\r\n                plugins: optimizeDeps?.esbuildOptions?.plugins?.map((p) => p.name)\r\n            }\r\n        }\r\n    }, (_, value) => {\r\n        if (typeof value === 'function' || value instanceof RegExp) {\r\n            return value.toString();\r\n        }\r\n        return value;\r\n    });\r\n    return getHash(content);\r\n}\r\nfunction getOptimizedBrowserHash(hash, deps, timestamp = '') {\r\n    return getHash(hash + JSON.stringify(deps) + timestamp);\r\n}\r\nfunction optimizedDepInfoFromId(metadata, id) {\r\n    return (metadata.optimized[id] || metadata.discovered[id] || metadata.chunks[id]);\r\n}\r\nfunction optimizedDepInfoFromFile(metadata, file) {\r\n    return metadata.depInfoList.find((depInfo) => depInfo.file === file);\r\n}\r\nfunction findOptimizedDepInfoInRecord(dependenciesInfo, callbackFn) {\r\n    for (const o of Object.keys(dependenciesInfo)) {\r\n        const info = dependenciesInfo[o];\r\n        if (callbackFn(info, o)) {\r\n            return info;\r\n        }\r\n    }\r\n}\r\nasync function optimizedDepNeedsInterop(metadata, file, config, ssr) {\r\n    const depInfo = optimizedDepInfoFromFile(metadata, file);\r\n    if (depInfo?.src && depInfo.needsInterop === undefined) {\r\n        depInfo.exportsData ?? (depInfo.exportsData = extractExportsData(depInfo.src, config, ssr));\r\n        depInfo.needsInterop = needsInterop(config, ssr, depInfo.id, await depInfo.exportsData);\r\n    }\r\n    return depInfo?.needsInterop;\r\n}\r\n\r\nvar index$1 = {\r\n\t__proto__: null,\r\n\tdebuggerViteDeps: debuggerViteDeps,\r\n\toptimizeDeps: optimizeDeps,\r\n\toptimizeServerSsrDeps: optimizeServerSsrDeps,\r\n\tinitDepsOptimizerMetadata: initDepsOptimizerMetadata,\r\n\taddOptimizedDepInfo: addOptimizedDepInfo,\r\n\tloadCachedDepOptimizationMetadata: loadCachedDepOptimizationMetadata,\r\n\tdiscoverProjectDependencies: discoverProjectDependencies,\r\n\ttoDiscoveredDependencies: toDiscoveredDependencies,\r\n\tdepsLogString: depsLogString,\r\n\trunOptimizeDeps: runOptimizeDeps,\r\n\tfindKnownImports: findKnownImports,\r\n\taddManuallyIncludedOptimizeDeps: addManuallyIncludedOptimizeDeps,\r\n\tnewDepOptimizationProcessing: newDepOptimizationProcessing,\r\n\tdepsFromOptimizedDepInfo: depsFromOptimizedDepInfo,\r\n\tgetOptimizedDepPath: getOptimizedDepPath,\r\n\tgetDepsCacheDir: getDepsCacheDir,\r\n\tgetDepsCacheDirPrefix: getDepsCacheDirPrefix,\r\n\tisOptimizedDepFile: isOptimizedDepFile,\r\n\tcreateIsOptimizedDepUrl: createIsOptimizedDepUrl,\r\n\textractExportsData: extractExportsData,\r\n\tgetDepHash: getDepHash,\r\n\toptimizedDepInfoFromId: optimizedDepInfoFromId,\r\n\toptimizedDepInfoFromFile: optimizedDepInfoFromFile,\r\n\toptimizedDepNeedsInterop: optimizedDepNeedsInterop,\r\n\tinitDepsOptimizer: initDepsOptimizer,\r\n\tinitDevSsrDepsOptimizer: initDevSsrDepsOptimizer,\r\n\tgetDepsOptimizer: getDepsOptimizer\r\n};\r\n\r\nconst debugHmr = createDebugger('vite:hmr');\r\nconst normalizedClientDir = normalizePath$3(CLIENT_DIR);\r\nfunction getShortName(file, root) {\r\n    return file.startsWith(root + '/') ? path$n.posix.relative(root, file) : file;\r\n}\r\nasync function handleHMRUpdate(file, server) {\r\n    const { ws, config, moduleGraph } = server;\r\n    const shortFile = getShortName(file, config.root);\r\n    const fileName = path$n.basename(file);\r\n    const isConfig = file === config.configFile;\r\n    const isConfigDependency = config.configFileDependencies.some((name) => file === name);\r\n    const isEnv = config.inlineConfig.envFile !== false &&\r\n        (fileName === '.env' || fileName.startsWith('.env.'));\r\n    if (isConfig || isConfigDependency || isEnv) {\r\n        // auto restart server\r\n        debugHmr(`[config change] ${picocolors.exports.dim(shortFile)}`);\r\n        config.logger.info(picocolors.exports.green(`${path$n.relative(process.cwd(), file)} changed, restarting server...`), { clear: true, timestamp: true });\r\n        try {\r\n            await server.restart();\r\n        }\r\n        catch (e) {\r\n            config.logger.error(picocolors.exports.red(e));\r\n        }\r\n        return;\r\n    }\r\n    debugHmr(`[file change] ${picocolors.exports.dim(shortFile)}`);\r\n    // (dev only) the client itself cannot be hot updated.\r\n    if (file.startsWith(normalizedClientDir)) {\r\n        ws.send({\r\n            type: 'full-reload',\r\n            path: '*'\r\n        });\r\n        return;\r\n    }\r\n    const mods = moduleGraph.getModulesByFile(file);\r\n    // check if any plugin wants to perform custom HMR handling\r\n    const timestamp = Date.now();\r\n    const hmrContext = {\r\n        file,\r\n        timestamp,\r\n        modules: mods ? [...mods] : [],\r\n        read: () => readModifiedFile(file),\r\n        server\r\n    };\r\n    for (const plugin of config.plugins) {\r\n        if (plugin.handleHotUpdate) {\r\n            const filteredModules = await plugin.handleHotUpdate(hmrContext);\r\n            if (filteredModules) {\r\n                hmrContext.modules = filteredModules;\r\n            }\r\n        }\r\n    }\r\n    if (!hmrContext.modules.length) {\r\n        // html file cannot be hot updated\r\n        if (file.endsWith('.html')) {\r\n            config.logger.info(picocolors.exports.green(`page reload `) + picocolors.exports.dim(shortFile), {\r\n                clear: true,\r\n                timestamp: true\r\n            });\r\n            ws.send({\r\n                type: 'full-reload',\r\n                path: config.server.middlewareMode\r\n                    ? '*'\r\n                    : '/' + normalizePath$3(path$n.relative(config.root, file))\r\n            });\r\n        }\r\n        else {\r\n            // loaded but not in the module graph, probably not js\r\n            debugHmr(`[no modules matched] ${picocolors.exports.dim(shortFile)}`);\r\n        }\r\n        return;\r\n    }\r\n    updateModules(shortFile, hmrContext.modules, timestamp, server);\r\n}\r\nfunction updateModules(file, modules, timestamp, { config, ws }) {\r\n    const updates = [];\r\n    const invalidatedModules = new Set();\r\n    let needFullReload = false;\r\n    for (const mod of modules) {\r\n        invalidate(mod, timestamp, invalidatedModules);\r\n        if (needFullReload) {\r\n            continue;\r\n        }\r\n        const boundaries = new Set();\r\n        const hasDeadEnd = propagateUpdate(mod, boundaries);\r\n        if (hasDeadEnd) {\r\n            needFullReload = true;\r\n            continue;\r\n        }\r\n        updates.push(...[...boundaries].map(({ boundary, acceptedVia }) => ({\r\n            type: `${boundary.type}-update`,\r\n            timestamp,\r\n            path: boundary.url,\r\n            acceptedPath: acceptedVia.url\r\n        })));\r\n    }\r\n    if (needFullReload) {\r\n        config.logger.info(picocolors.exports.green(`page reload `) + picocolors.exports.dim(file), {\r\n            clear: true,\r\n            timestamp: true\r\n        });\r\n        ws.send({\r\n            type: 'full-reload'\r\n        });\r\n        return;\r\n    }\r\n    if (updates.length === 0) {\r\n        debugHmr(picocolors.exports.yellow(`no update happened `) + picocolors.exports.dim(file));\r\n        return;\r\n    }\r\n    config.logger.info(updates\r\n        .map(({ path }) => picocolors.exports.green(`hmr update `) + picocolors.exports.dim(path))\r\n        .join('\\n'), { clear: true, timestamp: true });\r\n    ws.send({\r\n        type: 'update',\r\n        updates\r\n    });\r\n}\r\nasync function handleFileAddUnlink(file, server) {\r\n    const modules = [...(server.moduleGraph.getModulesByFile(file) || [])];\r\n    modules.push(...getAffectedGlobModules(file, server));\r\n    if (modules.length > 0) {\r\n        updateModules(getShortName(file, server.config.root), unique(modules), Date.now(), server);\r\n    }\r\n}\r\nfunction areAllImportsAccepted(importedBindings, acceptedExports) {\r\n    for (const binding of importedBindings) {\r\n        if (!acceptedExports.has(binding)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction propagateUpdate(node, boundaries, currentChain = [node]) {\r\n    // #7561\r\n    // if the imports of `node` have not been analyzed, then `node` has not\r\n    // been loaded in the browser and we should stop propagation.\r\n    if (node.id && node.isSelfAccepting === undefined) {\r\n        debugHmr(`[propagate update] stop propagation because not analyzed: ${picocolors.exports.dim(node.id)}`);\r\n        return false;\r\n    }\r\n    if (node.isSelfAccepting) {\r\n        boundaries.add({\r\n            boundary: node,\r\n            acceptedVia: node\r\n        });\r\n        // additionally check for CSS importers, since a PostCSS plugin like\r\n        // Tailwind JIT may register any file as a dependency to a CSS file.\r\n        for (const importer of node.importers) {\r\n            if (isCSSRequest(importer.url) && !currentChain.includes(importer)) {\r\n                propagateUpdate(importer, boundaries, currentChain.concat(importer));\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    // A partially accepted module with no importers is considered self accepting,\r\n    // because the deal is \"there are parts of myself I can't self accept if they\r\n    // are used outside of me\".\r\n    // Also, the imported module (this one) must be updated before the importers,\r\n    // so that they do get the fresh imported module when/if they are reloaded.\r\n    if (node.acceptedHmrExports) {\r\n        boundaries.add({\r\n            boundary: node,\r\n            acceptedVia: node\r\n        });\r\n    }\r\n    else {\r\n        if (!node.importers.size) {\r\n            return true;\r\n        }\r\n        // #3716, #3913\r\n        // For a non-CSS file, if all of its importers are CSS files (registered via\r\n        // PostCSS plugins) it should be considered a dead end and force full reload.\r\n        if (!isCSSRequest(node.url) &&\r\n            [...node.importers].every((i) => isCSSRequest(i.url))) {\r\n            return true;\r\n        }\r\n    }\r\n    for (const importer of node.importers) {\r\n        const subChain = currentChain.concat(importer);\r\n        if (importer.acceptedHmrDeps.has(node)) {\r\n            boundaries.add({\r\n                boundary: importer,\r\n                acceptedVia: node\r\n            });\r\n            continue;\r\n        }\r\n        if (node.id && node.acceptedHmrExports && importer.importedBindings) {\r\n            const importedBindingsFromNode = importer.importedBindings.get(node.id);\r\n            if (importedBindingsFromNode &&\r\n                areAllImportsAccepted(importedBindingsFromNode, node.acceptedHmrExports)) {\r\n                continue;\r\n            }\r\n        }\r\n        if (currentChain.includes(importer)) {\r\n            // circular deps is considered dead end\r\n            return true;\r\n        }\r\n        if (propagateUpdate(importer, boundaries, subChain)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction invalidate(mod, timestamp, seen) {\r\n    if (seen.has(mod)) {\r\n        return;\r\n    }\r\n    seen.add(mod);\r\n    mod.lastHMRTimestamp = timestamp;\r\n    mod.transformResult = null;\r\n    mod.ssrModule = null;\r\n    mod.ssrError = null;\r\n    mod.ssrTransformResult = null;\r\n    mod.importers.forEach((importer) => {\r\n        if (!importer.acceptedHmrDeps.has(mod)) {\r\n            invalidate(importer, timestamp, seen);\r\n        }\r\n    });\r\n}\r\nfunction handlePrunedModules(mods, { ws }) {\r\n    // update the disposed modules' hmr timestamp\r\n    // since if it's re-imported, it should re-apply side effects\r\n    // and without the timestamp the browser will not re-import it!\r\n    const t = Date.now();\r\n    mods.forEach((mod) => {\r\n        mod.lastHMRTimestamp = t;\r\n        debugHmr(`[dispose] ${picocolors.exports.dim(mod.file)}`);\r\n    });\r\n    ws.send({\r\n        type: 'prune',\r\n        paths: [...mods].map((m) => m.url)\r\n    });\r\n}\r\n/**\r\n * Lex import.meta.hot.accept() for accepted deps.\r\n * Since hot.accept() can only accept string literals or array of string\r\n * literals, we don't really need a heavy @babel/parse call on the entire source.\r\n *\r\n * @returns selfAccepts\r\n */\r\nfunction lexAcceptedHmrDeps(code, start, urls) {\r\n    let state = 0 /* inCall */;\r\n    // the state can only be 2 levels deep so no need for a stack\r\n    let prevState = 0 /* inCall */;\r\n    let currentDep = '';\r\n    function addDep(index) {\r\n        urls.add({\r\n            url: currentDep,\r\n            start: index - currentDep.length - 1,\r\n            end: index + 1\r\n        });\r\n        currentDep = '';\r\n    }\r\n    for (let i = start; i < code.length; i++) {\r\n        const char = code.charAt(i);\r\n        switch (state) {\r\n            case 0 /* inCall */:\r\n            case 4 /* inArray */:\r\n                if (char === `'`) {\r\n                    prevState = state;\r\n                    state = 1 /* inSingleQuoteString */;\r\n                }\r\n                else if (char === `\"`) {\r\n                    prevState = state;\r\n                    state = 2 /* inDoubleQuoteString */;\r\n                }\r\n                else if (char === '`') {\r\n                    prevState = state;\r\n                    state = 3 /* inTemplateString */;\r\n                }\r\n                else if (/\\s/.test(char)) {\r\n                    continue;\r\n                }\r\n                else {\r\n                    if (state === 0 /* inCall */) {\r\n                        if (char === `[`) {\r\n                            state = 4 /* inArray */;\r\n                        }\r\n                        else {\r\n                            // reaching here means the first arg is neither a string literal\r\n                            // nor an Array literal (direct callback) or there is no arg\r\n                            // in both case this indicates a self-accepting module\r\n                            return true; // done\r\n                        }\r\n                    }\r\n                    else if (state === 4 /* inArray */) {\r\n                        if (char === `]`) {\r\n                            return false; // done\r\n                        }\r\n                        else if (char === ',') {\r\n                            continue;\r\n                        }\r\n                        else {\r\n                            error$1(i);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case 1 /* inSingleQuoteString */:\r\n                if (char === `'`) {\r\n                    addDep(i);\r\n                    if (prevState === 0 /* inCall */) {\r\n                        // accept('foo', ...)\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        state = prevState;\r\n                    }\r\n                }\r\n                else {\r\n                    currentDep += char;\r\n                }\r\n                break;\r\n            case 2 /* inDoubleQuoteString */:\r\n                if (char === `\"`) {\r\n                    addDep(i);\r\n                    if (prevState === 0 /* inCall */) {\r\n                        // accept('foo', ...)\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        state = prevState;\r\n                    }\r\n                }\r\n                else {\r\n                    currentDep += char;\r\n                }\r\n                break;\r\n            case 3 /* inTemplateString */:\r\n                if (char === '`') {\r\n                    addDep(i);\r\n                    if (prevState === 0 /* inCall */) {\r\n                        // accept('foo', ...)\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        state = prevState;\r\n                    }\r\n                }\r\n                else if (char === '$' && code.charAt(i + 1) === '{') {\r\n                    error$1(i);\r\n                }\r\n                else {\r\n                    currentDep += char;\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error('unknown import.meta.hot lexer state');\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction lexAcceptedHmrExports(code, start, exportNames) {\r\n    const urls = new Set();\r\n    lexAcceptedHmrDeps(code, start, urls);\r\n    for (const { url } of urls) {\r\n        exportNames.add(url);\r\n    }\r\n    return urls.size > 0;\r\n}\r\nfunction error$1(pos) {\r\n    const err = new Error(`import.meta.hot.accept() can only accept string literals or an ` +\r\n        `Array of string literals.`);\r\n    err.pos = pos;\r\n    throw err;\r\n}\r\n// vitejs/vite#610 when hot-reloading Vue files, we read immediately on file\r\n// change event and sometimes this can be too early and get an empty buffer.\r\n// Poll until the file's modified time has changed before reading again.\r\nasync function readModifiedFile(file) {\r\n    const content = fs$l.readFileSync(file, 'utf-8');\r\n    if (!content) {\r\n        const mtime = fs$l.statSync(file).mtimeMs;\r\n        await new Promise((r) => {\r\n            let n = 0;\r\n            const poll = async () => {\r\n                n++;\r\n                const newMtime = fs$l.statSync(file).mtimeMs;\r\n                if (newMtime !== mtime || n > 10) {\r\n                    r(0);\r\n                }\r\n                else {\r\n                    setTimeout(poll, 10);\r\n                }\r\n            };\r\n            setTimeout(poll, 10);\r\n        });\r\n        return fs$l.readFileSync(file, 'utf-8');\r\n    }\r\n    else {\r\n        return content;\r\n    }\r\n}\r\n\r\nconst debug$9 = createDebugger('vite:ssr-external');\r\n/**\r\n * Converts \"parent > child\" syntax to just \"child\"\r\n */\r\nfunction stripNesting(packages) {\r\n    return packages.map((s) => {\r\n        const arr = s.split('>');\r\n        return arr[arr.length - 1].trim();\r\n    });\r\n}\r\n/**\r\n * Heuristics for determining whether a dependency should be externalized for\r\n * server-side rendering.\r\n */\r\nfunction cjsSsrResolveExternals(config, knownImports) {\r\n    // strip nesting since knownImports may be passed in from optimizeDeps which\r\n    // supports a \"parent > child\" syntax\r\n    knownImports = stripNesting(knownImports);\r\n    const ssrConfig = config.ssr;\r\n    if (ssrConfig?.noExternal === true) {\r\n        return [];\r\n    }\r\n    const ssrExternals = new Set();\r\n    const seen = new Set();\r\n    ssrConfig?.external?.forEach((id) => {\r\n        ssrExternals.add(id);\r\n        seen.add(id);\r\n    });\r\n    cjsSsrCollectExternals(config.root, config.resolve.preserveSymlinks, ssrExternals, seen, config.logger);\r\n    const importedDeps = knownImports.map(getNpmPackageName).filter(isDefined);\r\n    for (const dep of importedDeps) {\r\n        // Assume external if not yet seen\r\n        // At this point, the project root and any linked packages have had their dependencies checked,\r\n        // so we can safely mark any knownImports not yet seen as external. They are guaranteed to be\r\n        // dependencies of packages in node_modules.\r\n        if (!seen.has(dep)) {\r\n            ssrExternals.add(dep);\r\n        }\r\n    }\r\n    // ensure `vite/dynamic-import-polyfill` is bundled (issue #1865)\r\n    ssrExternals.delete('vite');\r\n    let externals = [...ssrExternals];\r\n    if (ssrConfig?.noExternal) {\r\n        externals = externals.filter(createFilter(undefined, ssrConfig.noExternal, { resolve: false }));\r\n    }\r\n    return externals;\r\n}\r\nconst CJS_CONTENT_RE = /\\bmodule\\.exports\\b|\\bexports[.\\[]|\\brequire\\s*\\(|\\bObject\\.(defineProperty|defineProperties|assign)\\s*\\(\\s*exports\\b/;\r\n// TODO: use import()\r\nconst _require$3 = createRequire$1(import.meta.url);\r\nconst isSsrExternalCache = new WeakMap();\r\nfunction shouldExternalizeForSSR(id, config) {\r\n    let isSsrExternal = isSsrExternalCache.get(config);\r\n    if (!isSsrExternal) {\r\n        isSsrExternal = createIsSsrExternal(config);\r\n        isSsrExternalCache.set(config, isSsrExternal);\r\n    }\r\n    return isSsrExternal(id);\r\n}\r\nfunction createIsConfiguredAsSsrExternal(config) {\r\n    const { ssr, root } = config;\r\n    const noExternal = ssr?.noExternal;\r\n    const noExternalFilter = noExternal !== 'undefined' &&\r\n        typeof noExternal !== 'boolean' &&\r\n        createFilter(undefined, noExternal, { resolve: false });\r\n    const resolveOptions = {\r\n        root,\r\n        preserveSymlinks: config.resolve.preserveSymlinks,\r\n        isProduction: false,\r\n        isBuild: true\r\n    };\r\n    const isExternalizable = (id, configuredAsExternal) => {\r\n        if (!bareImportRE.test(id) || id.includes('\\0')) {\r\n            return false;\r\n        }\r\n        try {\r\n            return !!tryNodeResolve(id, undefined, resolveOptions, ssr?.target === 'webworker', undefined, true, \r\n            // try to externalize, will return undefined or an object without\r\n            // a external flag if it isn't externalizable\r\n            true, \r\n            // Allow linked packages to be externalized if they are explicitly\r\n            // configured as external\r\n            !!configuredAsExternal)?.external;\r\n        }\r\n        catch (e) {\r\n            debug$9(`Failed to node resolve \"${id}\". Skipping externalizing it by default.`);\r\n            // may be an invalid import that's resolved by a plugin\r\n            return false;\r\n        }\r\n    };\r\n    // Returns true if it is configured as external, false if it is filtered\r\n    // by noExternal and undefined if it isn't affected by the explicit config\r\n    return (id) => {\r\n        const { ssr } = config;\r\n        if (ssr) {\r\n            if (\r\n            // If this id is defined as external, force it as external\r\n            // Note that individual package entries are allowed in ssr.external\r\n            ssr.external?.includes(id)) {\r\n                return true;\r\n            }\r\n            const pkgName = getNpmPackageName(id);\r\n            if (!pkgName) {\r\n                return isExternalizable(id);\r\n            }\r\n            if (\r\n            // A package name in ssr.external externalizes every\r\n            // externalizable package entry\r\n            ssr.external?.includes(pkgName)) {\r\n                return isExternalizable(id, true);\r\n            }\r\n            if (typeof noExternal === 'boolean') {\r\n                return !noExternal;\r\n            }\r\n            if (noExternalFilter && !noExternalFilter(pkgName)) {\r\n                return false;\r\n            }\r\n        }\r\n        return isExternalizable(id);\r\n    };\r\n}\r\nfunction createIsSsrExternal(config) {\r\n    const processedIds = new Map();\r\n    const isConfiguredAsExternal = createIsConfiguredAsSsrExternal(config);\r\n    return (id) => {\r\n        if (processedIds.has(id)) {\r\n            return processedIds.get(id);\r\n        }\r\n        let external = false;\r\n        if (!id.startsWith('.') && !path$n.isAbsolute(id)) {\r\n            external = isBuiltin(id) || isConfiguredAsExternal(id);\r\n        }\r\n        processedIds.set(id, external);\r\n        return external;\r\n    };\r\n}\r\n// When config.experimental.buildSsrCjsExternalHeuristics is enabled, this function\r\n// is used reverting to the Vite 2.9 SSR externalization heuristics\r\nfunction cjsSsrCollectExternals(root, preserveSymlinks, ssrExternals, seen, logger) {\r\n    const rootPkgContent = lookupFile(root, ['package.json']);\r\n    if (!rootPkgContent) {\r\n        return;\r\n    }\r\n    const rootPkg = JSON.parse(rootPkgContent);\r\n    const deps = {\r\n        ...rootPkg.devDependencies,\r\n        ...rootPkg.dependencies\r\n    };\r\n    const resolveOptions = {\r\n        root,\r\n        preserveSymlinks,\r\n        isProduction: false,\r\n        isBuild: true\r\n    };\r\n    const depsToTrace = new Set();\r\n    for (const id in deps) {\r\n        if (seen.has(id))\r\n            continue;\r\n        seen.add(id);\r\n        let esmEntry;\r\n        let requireEntry;\r\n        try {\r\n            esmEntry = tryNodeResolve(id, undefined, resolveOptions, true, // we set `targetWeb` to `true` to get the ESM entry\r\n            undefined, true)?.id;\r\n            // normalizePath required for windows. tryNodeResolve uses normalizePath\r\n            // which returns with '/', require.resolve returns with '\\\\'\r\n            requireEntry = normalizePath$3(_require$3.resolve(id, { paths: [root] }));\r\n        }\r\n        catch (e) {\r\n            try {\r\n                // no main entry, but deep imports may be allowed\r\n                const pkgPath = resolveFrom(`${id}/package.json`, root);\r\n                if (pkgPath.includes('node_modules')) {\r\n                    ssrExternals.add(id);\r\n                }\r\n                else {\r\n                    depsToTrace.add(path$n.dirname(pkgPath));\r\n                }\r\n                continue;\r\n            }\r\n            catch { }\r\n            // resolve failed, assume include\r\n            debug$9(`Failed to resolve entries for package \"${id}\"\\n`, e);\r\n            continue;\r\n        }\r\n        // no esm entry but has require entry\r\n        if (!esmEntry) {\r\n            ssrExternals.add(id);\r\n        }\r\n        // trace the dependencies of linked packages\r\n        else if (!esmEntry.includes('node_modules')) {\r\n            const pkgPath = resolveFrom(`${id}/package.json`, root);\r\n            depsToTrace.add(path$n.dirname(pkgPath));\r\n        }\r\n        // has separate esm/require entry, assume require entry is cjs\r\n        else if (esmEntry !== requireEntry) {\r\n            ssrExternals.add(id);\r\n        }\r\n        // if we're externalizing ESM and CJS should basically just always do it?\r\n        // or are there others like SystemJS / AMD that we'd need to handle?\r\n        // for now, we'll just leave this as is\r\n        else if (/\\.m?js$/.test(esmEntry)) {\r\n            const pkgPath = resolveFrom(`${id}/package.json`, root);\r\n            const pkgContent = fs$l.readFileSync(pkgPath, 'utf-8');\r\n            if (!pkgContent) {\r\n                continue;\r\n            }\r\n            const pkg = JSON.parse(pkgContent);\r\n            if (pkg.type === 'module' || esmEntry.endsWith('.mjs')) {\r\n                ssrExternals.add(id);\r\n                continue;\r\n            }\r\n            // check if the entry is cjs\r\n            const content = fs$l.readFileSync(esmEntry, 'utf-8');\r\n            if (CJS_CONTENT_RE.test(content)) {\r\n                ssrExternals.add(id);\r\n                continue;\r\n            }\r\n            logger.warn(`${id} doesn't appear to be written in CJS, but also doesn't appear to be a valid ES module (i.e. it doesn't have \"type\": \"module\" or an .mjs extension for the entry point). Please contact the package author to fix.`);\r\n        }\r\n    }\r\n    for (const depRoot of depsToTrace) {\r\n        cjsSsrCollectExternals(depRoot, preserveSymlinks, ssrExternals, seen, logger);\r\n    }\r\n}\r\nfunction cjsShouldExternalizeForSSR(id, externals) {\r\n    if (!externals) {\r\n        return false;\r\n    }\r\n    const should = externals.some((e) => {\r\n        if (id === e) {\r\n            return true;\r\n        }\r\n        // deep imports, check ext before externalizing - only externalize\r\n        // extension-less imports and explicit .js imports\r\n        if (id.startsWith(e + '/') && (!path$n.extname(id) || id.endsWith('.js'))) {\r\n            return true;\r\n        }\r\n    });\r\n    return should;\r\n}\r\nfunction getNpmPackageName(importPath) {\r\n    const parts = importPath.split('/');\r\n    if (parts[0].startsWith('@')) {\r\n        if (!parts[1])\r\n            return null;\r\n        return `${parts[0]}/${parts[1]}`;\r\n    }\r\n    else {\r\n        return parts[0];\r\n    }\r\n}\r\n\r\n/*!\r\n * etag\r\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar etag_1 = etag;\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar crypto = require$$5;\r\nvar Stats = require$$0__default.Stats;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar toString = Object.prototype.toString;\r\n\r\n/**\r\n * Generate an entity tag.\r\n *\r\n * @param {Buffer|string} entity\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction entitytag (entity) {\r\n  if (entity.length === 0) {\r\n    // fast-path empty\r\n    return '\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"'\r\n  }\r\n\r\n  // compute hash of entity\r\n  var hash = crypto\r\n    .createHash('sha1')\r\n    .update(entity, 'utf8')\r\n    .digest('base64')\r\n    .substring(0, 27);\r\n\r\n  // compute length of entity\r\n  var len = typeof entity === 'string'\r\n    ? Buffer.byteLength(entity, 'utf8')\r\n    : entity.length;\r\n\r\n  return '\"' + len.toString(16) + '-' + hash + '\"'\r\n}\r\n\r\n/**\r\n * Create a simple ETag.\r\n *\r\n * @param {string|Buffer|Stats} entity\r\n * @param {object} [options]\r\n * @param {boolean} [options.weak]\r\n * @return {String}\r\n * @public\r\n */\r\n\r\nfunction etag (entity, options) {\r\n  if (entity == null) {\r\n    throw new TypeError('argument entity is required')\r\n  }\r\n\r\n  // support fs.Stats object\r\n  var isStats = isstats(entity);\r\n  var weak = options && typeof options.weak === 'boolean'\r\n    ? options.weak\r\n    : isStats;\r\n\r\n  // validate argument\r\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\r\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats')\r\n  }\r\n\r\n  // generate entity tag\r\n  var tag = isStats\r\n    ? stattag(entity)\r\n    : entitytag(entity);\r\n\r\n  return weak\r\n    ? 'W/' + tag\r\n    : tag\r\n}\r\n\r\n/**\r\n * Determine if object is a Stats object.\r\n *\r\n * @param {object} obj\r\n * @return {boolean}\r\n * @api private\r\n */\r\n\r\nfunction isstats (obj) {\r\n  // genuine fs.Stats\r\n  if (typeof Stats === 'function' && obj instanceof Stats) {\r\n    return true\r\n  }\r\n\r\n  // quack quack\r\n  return obj && typeof obj === 'object' &&\r\n    'ctime' in obj && toString.call(obj.ctime) === '[object Date]' &&\r\n    'mtime' in obj && toString.call(obj.mtime) === '[object Date]' &&\r\n    'ino' in obj && typeof obj.ino === 'number' &&\r\n    'size' in obj && typeof obj.size === 'number'\r\n}\r\n\r\n/**\r\n * Generate a tag for a stat.\r\n *\r\n * @param {object} stat\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction stattag (stat) {\r\n  var mtime = stat.mtime.getTime().toString(16);\r\n  var size = stat.size.toString(16);\r\n\r\n  return '\"' + size + '-' + mtime + '\"'\r\n}\r\n\r\nvar convertSourceMap = {};\r\n\r\nvar safeBuffer = {exports: {}};\r\n\r\n/* eslint-disable node/no-deprecated-api */\r\n\r\n(function (module, exports) {\r\n\tvar buffer = require$$0$a;\r\n\tvar Buffer = buffer.Buffer;\r\n\r\n\t// alternative to using Object.keys for old browsers\r\n\tfunction copyProps (src, dst) {\r\n\t  for (var key in src) {\r\n\t    dst[key] = src[key];\r\n\t  }\r\n\t}\r\n\tif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\r\n\t  module.exports = buffer;\r\n\t} else {\r\n\t  // Copy properties from require('buffer')\r\n\t  copyProps(buffer, exports);\r\n\t  exports.Buffer = SafeBuffer;\r\n\t}\r\n\r\n\tfunction SafeBuffer (arg, encodingOrOffset, length) {\r\n\t  return Buffer(arg, encodingOrOffset, length)\r\n\t}\r\n\r\n\t// Copy static methods from Buffer\r\n\tcopyProps(Buffer, SafeBuffer);\r\n\r\n\tSafeBuffer.from = function (arg, encodingOrOffset, length) {\r\n\t  if (typeof arg === 'number') {\r\n\t    throw new TypeError('Argument must not be a number')\r\n\t  }\r\n\t  return Buffer(arg, encodingOrOffset, length)\r\n\t};\r\n\r\n\tSafeBuffer.alloc = function (size, fill, encoding) {\r\n\t  if (typeof size !== 'number') {\r\n\t    throw new TypeError('Argument must be a number')\r\n\t  }\r\n\t  var buf = Buffer(size);\r\n\t  if (fill !== undefined) {\r\n\t    if (typeof encoding === 'string') {\r\n\t      buf.fill(fill, encoding);\r\n\t    } else {\r\n\t      buf.fill(fill);\r\n\t    }\r\n\t  } else {\r\n\t    buf.fill(0);\r\n\t  }\r\n\t  return buf\r\n\t};\r\n\r\n\tSafeBuffer.allocUnsafe = function (size) {\r\n\t  if (typeof size !== 'number') {\r\n\t    throw new TypeError('Argument must be a number')\r\n\t  }\r\n\t  return Buffer(size)\r\n\t};\r\n\r\n\tSafeBuffer.allocUnsafeSlow = function (size) {\r\n\t  if (typeof size !== 'number') {\r\n\t    throw new TypeError('Argument must be a number')\r\n\t  }\r\n\t  return buffer.SlowBuffer(size)\r\n\t};\r\n} (safeBuffer, safeBuffer.exports));\r\n\r\n(function (exports) {\r\n\tvar fs = require$$0__default;\r\n\tvar path = require$$0$4;\r\n\tvar SafeBuffer = safeBuffer.exports;\r\n\r\n\tObject.defineProperty(exports, 'commentRegex', {\r\n\t  get: function getCommentRegex () {\r\n\t    return /^\\s*\\/(?:\\/|\\*)[@#]\\s+sourceMappingURL=data:(?:application|text)\\/json;(?:charset[:=]\\S+?;)?base64,(?:.*)$/mg;\r\n\t  }\r\n\t});\r\n\r\n\tObject.defineProperty(exports, 'mapFileCommentRegex', {\r\n\t  get: function getMapFileCommentRegex () {\r\n\t    // Matches sourceMappingURL in either // or /* comment styles.\r\n\t    return /(?:\\/\\/[@#][ \\t]+sourceMappingURL=([^\\s'\"`]+?)[ \\t]*$)|(?:\\/\\*[@#][ \\t]+sourceMappingURL=([^\\*]+?)[ \\t]*(?:\\*\\/){1}[ \\t]*$)/mg;\r\n\t  }\r\n\t});\r\n\r\n\r\n\tfunction decodeBase64(base64) {\r\n\t  return (SafeBuffer.Buffer.from(base64, 'base64') || \"\").toString();\r\n\t}\r\n\r\n\tfunction stripComment(sm) {\r\n\t  return sm.split(',').pop();\r\n\t}\r\n\r\n\tfunction readFromFileMap(sm, dir) {\r\n\t  // NOTE: this will only work on the server since it attempts to read the map file\r\n\r\n\t  var r = exports.mapFileCommentRegex.exec(sm);\r\n\r\n\t  // for some odd reason //# .. captures in 1 and /* .. */ in 2\r\n\t  var filename = r[1] || r[2];\r\n\t  var filepath = path.resolve(dir, filename);\r\n\r\n\t  try {\r\n\t    return fs.readFileSync(filepath, 'utf8');\r\n\t  } catch (e) {\r\n\t    throw new Error('An error occurred while trying to read the map file at ' + filepath + '\\n' + e);\r\n\t  }\r\n\t}\r\n\r\n\tfunction Converter (sm, opts) {\r\n\t  opts = opts || {};\r\n\r\n\t  if (opts.isFileComment) sm = readFromFileMap(sm, opts.commentFileDir);\r\n\t  if (opts.hasComment) sm = stripComment(sm);\r\n\t  if (opts.isEncoded) sm = decodeBase64(sm);\r\n\t  if (opts.isJSON || opts.isEncoded) sm = JSON.parse(sm);\r\n\r\n\t  this.sourcemap = sm;\r\n\t}\r\n\r\n\tConverter.prototype.toJSON = function (space) {\r\n\t  return JSON.stringify(this.sourcemap, null, space);\r\n\t};\r\n\r\n\tConverter.prototype.toBase64 = function () {\r\n\t  var json = this.toJSON();\r\n\t  return (SafeBuffer.Buffer.from(json, 'utf8') || \"\").toString('base64');\r\n\t};\r\n\r\n\tConverter.prototype.toComment = function (options) {\r\n\t  var base64 = this.toBase64();\r\n\t  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\r\n\t  return options && options.multiline ? '/*# ' + data + ' */' : '//# ' + data;\r\n\t};\r\n\r\n\t// returns copy instead of original\r\n\tConverter.prototype.toObject = function () {\r\n\t  return JSON.parse(this.toJSON());\r\n\t};\r\n\r\n\tConverter.prototype.addProperty = function (key, value) {\r\n\t  if (this.sourcemap.hasOwnProperty(key)) throw new Error('property \"' + key + '\" already exists on the sourcemap, use set property instead');\r\n\t  return this.setProperty(key, value);\r\n\t};\r\n\r\n\tConverter.prototype.setProperty = function (key, value) {\r\n\t  this.sourcemap[key] = value;\r\n\t  return this;\r\n\t};\r\n\r\n\tConverter.prototype.getProperty = function (key) {\r\n\t  return this.sourcemap[key];\r\n\t};\r\n\r\n\texports.fromObject = function (obj) {\r\n\t  return new Converter(obj);\r\n\t};\r\n\r\n\texports.fromJSON = function (json) {\r\n\t  return new Converter(json, { isJSON: true });\r\n\t};\r\n\r\n\texports.fromBase64 = function (base64) {\r\n\t  return new Converter(base64, { isEncoded: true });\r\n\t};\r\n\r\n\texports.fromComment = function (comment) {\r\n\t  comment = comment\r\n\t    .replace(/^\\/\\*/g, '//')\r\n\t    .replace(/\\*\\/$/g, '');\r\n\r\n\t  return new Converter(comment, { isEncoded: true, hasComment: true });\r\n\t};\r\n\r\n\texports.fromMapFileComment = function (comment, dir) {\r\n\t  return new Converter(comment, { commentFileDir: dir, isFileComment: true, isJSON: true });\r\n\t};\r\n\r\n\t// Finds last sourcemap comment in file or returns null if none was found\r\n\texports.fromSource = function (content) {\r\n\t  var m = content.match(exports.commentRegex);\r\n\t  return m ? exports.fromComment(m.pop()) : null;\r\n\t};\r\n\r\n\t// Finds last sourcemap comment in file or returns null if none was found\r\n\texports.fromMapFileSource = function (content, dir) {\r\n\t  var m = content.match(exports.mapFileCommentRegex);\r\n\t  return m ? exports.fromMapFileComment(m.pop(), dir) : null;\r\n\t};\r\n\r\n\texports.removeComments = function (src) {\r\n\t  return src.replace(exports.commentRegex, '');\r\n\t};\r\n\r\n\texports.removeMapFileComments = function (src) {\r\n\t  return src.replace(exports.mapFileCommentRegex, '');\r\n\t};\r\n\r\n\texports.generateMapFileComment = function (file, options) {\r\n\t  var data = 'sourceMappingURL=' + file;\r\n\t  return options && options.multiline ? '/*# ' + data + ' */' : '//# ' + data;\r\n\t};\r\n} (convertSourceMap));\r\n\r\n// @ts-check\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n\r\n/** @typedef {{\r\n\tskip: () => void;\r\n\tremove: () => void;\r\n\treplace: (node: BaseNode) => void;\r\n}} WalkerContext */\r\n\r\nclass WalkerBase {\r\n\tconstructor() {\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_skip = false;\r\n\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_remove = false;\r\n\r\n\t\t/** @type {BaseNode | null} */\r\n\t\tthis.replacement = null;\r\n\r\n\t\t/** @type {WalkerContext} */\r\n\t\tthis.context = {\r\n\t\t\tskip: () => (this.should_skip = true),\r\n\t\t\tremove: () => (this.should_remove = true),\r\n\t\t\treplace: (node) => (this.replacement = node)\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {any} parent\r\n\t * @param {string} prop\r\n\t * @param {number} index\r\n\t * @param {BaseNode} node\r\n\t */\r\n\treplace(parent, prop, index, node) {\r\n\t\tif (parent) {\r\n\t\t\tif (index !== null) {\r\n\t\t\t\tparent[prop][index] = node;\r\n\t\t\t} else {\r\n\t\t\t\tparent[prop] = node;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {any} parent\r\n\t * @param {string} prop\r\n\t * @param {number} index\r\n\t */\r\n\tremove(parent, prop, index) {\r\n\t\tif (parent) {\r\n\t\t\tif (index !== null) {\r\n\t\t\t\tparent[prop].splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tdelete parent[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// @ts-check\r\n\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n/** @typedef { import('./walker.js').WalkerContext} WalkerContext */\r\n\r\n/** @typedef {(\r\n *    this: WalkerContext,\r\n *    node: BaseNode,\r\n *    parent: BaseNode,\r\n *    key: string,\r\n *    index: number\r\n * ) => void} SyncHandler */\r\n\r\nclass SyncWalker extends WalkerBase {\r\n\t/**\r\n\t *\r\n\t * @param {SyncHandler} enter\r\n\t * @param {SyncHandler} leave\r\n\t */\r\n\tconstructor(enter, leave) {\r\n\t\tsuper();\r\n\r\n\t\t/** @type {SyncHandler} */\r\n\t\tthis.enter = enter;\r\n\r\n\t\t/** @type {SyncHandler} */\r\n\t\tthis.leave = leave;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {BaseNode} node\r\n\t * @param {BaseNode} parent\r\n\t * @param {string} [prop]\r\n\t * @param {number} [index]\r\n\t * @returns {BaseNode}\r\n\t */\r\n\tvisit(node, parent, prop, index) {\r\n\t\tif (node) {\r\n\t\t\tif (this.enter) {\r\n\t\t\t\tconst _should_skip = this.should_skip;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tthis.should_skip = false;\r\n\t\t\t\tthis.should_remove = false;\r\n\t\t\t\tthis.replacement = null;\r\n\r\n\t\t\t\tthis.enter.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst skipped = this.should_skip;\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.should_skip = _should_skip;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\t\t\t\tthis.replacement = _replacement;\r\n\r\n\t\t\t\tif (skipped) return node;\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\r\n\t\t\tfor (const key in node) {\r\n\t\t\t\tconst value = node[key];\r\n\r\n\t\t\t\tif (typeof value !== \"object\") {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else if (Array.isArray(value)) {\r\n\t\t\t\t\tfor (let i = 0; i < value.length; i += 1) {\r\n\t\t\t\t\t\tif (value[i] !== null && typeof value[i].type === 'string') {\r\n\t\t\t\t\t\t\tif (!this.visit(value[i], node, key, i)) {\r\n\t\t\t\t\t\t\t\t// removed\r\n\t\t\t\t\t\t\t\ti--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (value !== null && typeof value.type === \"string\") {\r\n\t\t\t\t\tthis.visit(value, node, key, null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.leave) {\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tthis.replacement = null;\r\n\t\t\t\tthis.should_remove = false;\r\n\r\n\t\t\t\tthis.leave.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.replacement = _replacement;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\t}\r\n}\r\n\r\n// @ts-check\r\n\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n/** @typedef { import('./sync.js').SyncHandler} SyncHandler */\r\n/** @typedef { import('./async.js').AsyncHandler} AsyncHandler */\r\n\r\n/**\r\n *\r\n * @param {BaseNode} ast\r\n * @param {{\r\n *   enter?: SyncHandler\r\n *   leave?: SyncHandler\r\n * }} walker\r\n * @returns {BaseNode}\r\n */\r\nfunction walk$1(ast, { enter, leave }) {\r\n\tconst instance = new SyncWalker(enter, leave);\r\n\treturn instance.visit(ast, null);\r\n}\r\n\r\n/**\r\n * @param {import('estree').Node} param\r\n * @returns {string[]}\r\n */\r\nfunction extract_names(param) {\r\n\treturn extract_identifiers(param).map(node => node.name);\r\n}\r\n\r\n/**\r\n * @param {import('estree').Node} param\r\n * @param {import('estree').Identifier[]} nodes\r\n * @returns {import('estree').Identifier[]}\r\n */\r\nfunction extract_identifiers(param, nodes = []) {\r\n\tswitch (param.type) {\r\n\t\tcase 'Identifier':\r\n\t\t\tnodes.push(param);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'MemberExpression':\r\n\t\t\tlet object = param;\r\n\t\t\twhile (object.type === 'MemberExpression') {\r\n\t\t\t\tobject = /** @type {any} */ (object.object);\r\n\t\t\t}\r\n\t\t\tnodes.push(/** @type {any} */ (object));\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'ObjectPattern':\r\n\t\t\t/** @param {import('estree').Property | import('estree').RestElement} prop */\r\n\t\t\tconst handle_prop = (prop) => {\r\n\t\t\t\tif (prop.type === 'RestElement') {\r\n\t\t\t\t\textract_identifiers(prop.argument, nodes);\r\n\t\t\t\t} else {\r\n\t\t\t\t\textract_identifiers(prop.value, nodes);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tparam.properties.forEach(handle_prop);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'ArrayPattern':\r\n\t\t\t/** @param {import('estree').Node} element */\r\n\t\t\tconst handle_element = (element) => {\r\n\t\t\t\tif (element) extract_identifiers(element, nodes);\r\n\t\t\t};\r\n\r\n\t\t\tparam.elements.forEach(handle_element);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'RestElement':\r\n\t\t\textract_identifiers(param.argument, nodes);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'AssignmentPattern':\r\n\t\t\textract_identifiers(param.left, nodes);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn nodes;\r\n}\r\n\r\n/**\r\n * https://github.com/rollup/plugins/blob/master/packages/json/src/index.js\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file at\r\n * https://github.com/rollup/plugins/blob/master/LICENSE\r\n */\r\n// Custom json filter for vite\r\nconst jsonExtRE = /\\.json($|\\?)(?!commonjs-(proxy|external))/;\r\nconst jsonLangs = `\\\\.(json|json5)($|\\\\?)`;\r\nconst jsonLangRE = new RegExp(jsonLangs);\r\nconst isJSONRequest = (request) => jsonLangRE.test(request);\r\nfunction jsonPlugin(options = {}, isBuild) {\r\n    return {\r\n        name: 'vite:json',\r\n        transform(json, id) {\r\n            if (!jsonExtRE.test(id))\r\n                return null;\r\n            if (SPECIAL_QUERY_RE.test(id))\r\n                return null;\r\n            json = stripBomTag(json);\r\n            try {\r\n                if (options.stringify) {\r\n                    if (isBuild) {\r\n                        return {\r\n                            // during build, parse then double-stringify to remove all\r\n                            // unnecessary whitespaces to reduce bundle size.\r\n                            code: `export default JSON.parse(${JSON.stringify(JSON.stringify(JSON.parse(json)))})`,\r\n                            map: { mappings: '' }\r\n                        };\r\n                    }\r\n                    else {\r\n                        return `export default JSON.parse(${JSON.stringify(json)})`;\r\n                    }\r\n                }\r\n                const parsed = JSON.parse(json);\r\n                return {\r\n                    code: dataToEsm(parsed, {\r\n                        preferConst: true,\r\n                        namedExports: options.namedExports\r\n                    }),\r\n                    map: { mappings: '' }\r\n                };\r\n            }\r\n            catch (e) {\r\n                const errorMessageList = /[\\d]+/.exec(e.message);\r\n                const position = errorMessageList && parseInt(errorMessageList[0], 10);\r\n                const msg = position\r\n                    ? `, invalid JSON syntax found at line ${position}`\r\n                    : `.`;\r\n                this.error(`Failed to parse JSON file` + msg, e.idx);\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nconst ssrModuleExportsKey = `__vite_ssr_exports__`;\r\nconst ssrImportKey = `__vite_ssr_import__`;\r\nconst ssrDynamicImportKey = `__vite_ssr_dynamic_import__`;\r\nconst ssrExportAllKey = `__vite_ssr_exportAll__`;\r\nconst ssrImportMetaKey = `__vite_ssr_import_meta__`;\r\nasync function ssrTransform(code, inMap, url, originalCode, options) {\r\n    if (options?.json?.stringify && isJSONRequest(url)) {\r\n        return ssrTransformJSON(code, inMap);\r\n    }\r\n    return ssrTransformScript(code, inMap, url, originalCode);\r\n}\r\nasync function ssrTransformJSON(code, inMap) {\r\n    return {\r\n        code: code.replace('export default', `${ssrModuleExportsKey}.default =`),\r\n        map: inMap,\r\n        deps: [],\r\n        dynamicDeps: []\r\n    };\r\n}\r\nasync function ssrTransformScript(code, inMap, url, originalCode) {\r\n    const s = new MagicString(code);\r\n    let ast;\r\n    try {\r\n        ast = parser.parse(code, {\r\n            sourceType: 'module',\r\n            ecmaVersion: 'latest',\r\n            locations: true,\r\n            allowHashBang: true\r\n        });\r\n    }\r\n    catch (err) {\r\n        if (!err.loc || !err.loc.line)\r\n            throw err;\r\n        const line = err.loc.line;\r\n        throw new Error(`Parse failure: ${err.message}\\nContents of line ${line}: ${code.split('\\n')[line - 1]}`);\r\n    }\r\n    let uid = 0;\r\n    const deps = new Set();\r\n    const dynamicDeps = new Set();\r\n    const idToImportMap = new Map();\r\n    const declaredConst = new Set();\r\n    function defineImport(node, source) {\r\n        deps.add(source);\r\n        const importId = `__vite_ssr_import_${uid++}__`;\r\n        s.appendRight(node.start, `const ${importId} = await ${ssrImportKey}(${JSON.stringify(source)});\\n`);\r\n        return importId;\r\n    }\r\n    function defineExport(position, name, local = name) {\r\n        s.appendLeft(position, `\\nObject.defineProperty(${ssrModuleExportsKey}, \"${name}\", ` +\r\n            `{ enumerable: true, configurable: true, get(){ return ${local} }});`);\r\n    }\r\n    // 1. check all import statements and record id -> importName map\r\n    for (const node of ast.body) {\r\n        // import foo from 'foo' --> foo -> __import_foo__.default\r\n        // import { baz } from 'foo' --> baz -> __import_foo__.baz\r\n        // import * as ok from 'foo' --> ok -> __import_foo__\r\n        if (node.type === 'ImportDeclaration') {\r\n            s.remove(node.start, node.end);\r\n            const importId = defineImport(node, node.source.value);\r\n            for (const spec of node.specifiers) {\r\n                if (spec.type === 'ImportSpecifier') {\r\n                    idToImportMap.set(spec.local.name, `${importId}.${spec.imported.name}`);\r\n                }\r\n                else if (spec.type === 'ImportDefaultSpecifier') {\r\n                    idToImportMap.set(spec.local.name, `${importId}.default`);\r\n                }\r\n                else {\r\n                    // namespace specifier\r\n                    idToImportMap.set(spec.local.name, importId);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // 2. check all export statements and define exports\r\n    for (const node of ast.body) {\r\n        // named exports\r\n        if (node.type === 'ExportNamedDeclaration') {\r\n            if (node.declaration) {\r\n                if (node.declaration.type === 'FunctionDeclaration' ||\r\n                    node.declaration.type === 'ClassDeclaration') {\r\n                    // export function foo() {}\r\n                    defineExport(node.end, node.declaration.id.name);\r\n                }\r\n                else {\r\n                    // export const foo = 1, bar = 2\r\n                    for (const declaration of node.declaration.declarations) {\r\n                        const names = extract_names(declaration.id);\r\n                        for (const name of names) {\r\n                            defineExport(node.end, name);\r\n                        }\r\n                    }\r\n                }\r\n                s.remove(node.start, node.declaration.start);\r\n            }\r\n            else {\r\n                s.remove(node.start, node.end);\r\n                if (node.source) {\r\n                    // export { foo, bar } from './foo'\r\n                    const importId = defineImport(node, node.source.value);\r\n                    for (const spec of node.specifiers) {\r\n                        defineExport(node.end, spec.exported.name, `${importId}.${spec.local.name}`);\r\n                    }\r\n                }\r\n                else {\r\n                    // export { foo, bar }\r\n                    for (const spec of node.specifiers) {\r\n                        const local = spec.local.name;\r\n                        const binding = idToImportMap.get(local);\r\n                        defineExport(node.end, spec.exported.name, binding || local);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // default export\r\n        if (node.type === 'ExportDefaultDeclaration') {\r\n            const expressionTypes = ['FunctionExpression', 'ClassExpression'];\r\n            if ('id' in node.declaration &&\r\n                node.declaration.id &&\r\n                !expressionTypes.includes(node.declaration.type)) {\r\n                // named hoistable/class exports\r\n                // export default function foo() {}\r\n                // export default class A {}\r\n                const { name } = node.declaration.id;\r\n                s.remove(node.start, node.start + 15 /* 'export default '.length */);\r\n                s.append(`\\nObject.defineProperty(${ssrModuleExportsKey}, \"default\", ` +\r\n                    `{ enumerable: true, configurable: true, value: ${name} });`);\r\n            }\r\n            else {\r\n                // anonymous default exports\r\n                s.overwrite(node.start, node.start + 14 /* 'export default'.length */, `${ssrModuleExportsKey}.default =`, { contentOnly: true });\r\n            }\r\n        }\r\n        // export * from './foo'\r\n        if (node.type === 'ExportAllDeclaration') {\r\n            s.remove(node.start, node.end);\r\n            const importId = defineImport(node, node.source.value);\r\n            if (node.exported) {\r\n                defineExport(node.end, node.exported.name, `${importId}`);\r\n            }\r\n            else {\r\n                s.appendLeft(node.end, `${ssrExportAllKey}(${importId});`);\r\n            }\r\n        }\r\n    }\r\n    // 3. convert references to import bindings & import.meta references\r\n    walk(ast, {\r\n        onIdentifier(id, parent, parentStack) {\r\n            const grandparent = parentStack[1];\r\n            const binding = idToImportMap.get(id.name);\r\n            if (!binding) {\r\n                return;\r\n            }\r\n            if (isStaticProperty(parent) && parent.shorthand) {\r\n                // let binding used in a property shorthand\r\n                // { foo } -> { foo: __import_x__.foo }\r\n                // skip for destructuring patterns\r\n                if (!isNodeInPattern(parent) ||\r\n                    isInDestructuringAssignment(parent, parentStack)) {\r\n                    s.appendLeft(id.end, `: ${binding}`);\r\n                }\r\n            }\r\n            else if ((parent.type === 'PropertyDefinition' &&\r\n                grandparent?.type === 'ClassBody') ||\r\n                (parent.type === 'ClassDeclaration' && id === parent.superClass)) {\r\n                if (!declaredConst.has(id.name)) {\r\n                    declaredConst.add(id.name);\r\n                    // locate the top-most node containing the class declaration\r\n                    const topNode = parentStack[parentStack.length - 2];\r\n                    s.prependRight(topNode.start, `const ${id.name} = ${binding};\\n`);\r\n                }\r\n            }\r\n            else {\r\n                s.overwrite(id.start, id.end, binding, { contentOnly: true });\r\n            }\r\n        },\r\n        onImportMeta(node) {\r\n            s.overwrite(node.start, node.end, ssrImportMetaKey, { contentOnly: true });\r\n        },\r\n        onDynamicImport(node) {\r\n            s.overwrite(node.start, node.start + 6, ssrDynamicImportKey, {\r\n                contentOnly: true\r\n            });\r\n            if (node.type === 'ImportExpression' && node.source.type === 'Literal') {\r\n                dynamicDeps.add(node.source.value);\r\n            }\r\n        }\r\n    });\r\n    let map = s.generateMap({ hires: true });\r\n    if (inMap && inMap.mappings && inMap.sources.length > 0) {\r\n        map = combineSourcemaps(url, [\r\n            {\r\n                ...map,\r\n                sources: inMap.sources,\r\n                sourcesContent: inMap.sourcesContent\r\n            },\r\n            inMap\r\n        ], false);\r\n    }\r\n    else {\r\n        map.sources = [url];\r\n        // needs to use originalCode instead of code\r\n        // because code might be already transformed even if map is null\r\n        map.sourcesContent = [originalCode];\r\n    }\r\n    return {\r\n        code: s.toString(),\r\n        map,\r\n        deps: [...deps],\r\n        dynamicDeps: [...dynamicDeps]\r\n    };\r\n}\r\nconst isNodeInPatternWeakSet = new WeakSet();\r\nconst setIsNodeInPattern = (node) => isNodeInPatternWeakSet.add(node);\r\nconst isNodeInPattern = (node) => isNodeInPatternWeakSet.has(node);\r\n/**\r\n * Same logic from \\@vue/compiler-core & \\@vue/compiler-sfc\r\n * Except this is using acorn AST\r\n */\r\nfunction walk(root, { onIdentifier, onImportMeta, onDynamicImport }) {\r\n    const parentStack = [];\r\n    const scopeMap = new WeakMap();\r\n    const identifiers = [];\r\n    const setScope = (node, name) => {\r\n        let scopeIds = scopeMap.get(node);\r\n        if (scopeIds && scopeIds.has(name)) {\r\n            return;\r\n        }\r\n        if (!scopeIds) {\r\n            scopeIds = new Set();\r\n            scopeMap.set(node, scopeIds);\r\n        }\r\n        scopeIds.add(name);\r\n    };\r\n    function isInScope(name, parents) {\r\n        return parents.some((node) => node && scopeMap.get(node)?.has(name));\r\n    }\r\n    function handlePattern(p, parentFunction) {\r\n        if (p.type === 'Identifier') {\r\n            setScope(parentFunction, p.name);\r\n        }\r\n        else if (p.type === 'RestElement') {\r\n            handlePattern(p.argument, parentFunction);\r\n        }\r\n        else if (p.type === 'ObjectPattern') {\r\n            p.properties.forEach((property) => {\r\n                if (property.type === 'RestElement') {\r\n                    setScope(parentFunction, property.argument.name);\r\n                }\r\n                else {\r\n                    handlePattern(property.value, parentFunction);\r\n                }\r\n            });\r\n        }\r\n        else if (p.type === 'ArrayPattern') {\r\n            p.elements.forEach((element) => {\r\n                if (element) {\r\n                    handlePattern(element, parentFunction);\r\n                }\r\n            });\r\n        }\r\n        else if (p.type === 'AssignmentPattern') {\r\n            handlePattern(p.left, parentFunction);\r\n        }\r\n        else {\r\n            setScope(parentFunction, p.name);\r\n        }\r\n    }\r\n    walk$1(root, {\r\n        enter(node, parent) {\r\n            if (node.type === 'ImportDeclaration') {\r\n                return this.skip();\r\n            }\r\n            parent && parentStack.unshift(parent);\r\n            if (node.type === 'MetaProperty' && node.meta.name === 'import') {\r\n                onImportMeta(node);\r\n            }\r\n            else if (node.type === 'ImportExpression') {\r\n                onDynamicImport(node);\r\n            }\r\n            if (node.type === 'Identifier') {\r\n                if (!isInScope(node.name, parentStack) &&\r\n                    isRefIdentifier(node, parent, parentStack)) {\r\n                    // record the identifier, for DFS -> BFS\r\n                    identifiers.push([node, parentStack.slice(0)]);\r\n                }\r\n            }\r\n            else if (isFunction(node)) {\r\n                // If it is a function declaration, it could be shadowing an import\r\n                // Add its name to the scope so it won't get replaced\r\n                if (node.type === 'FunctionDeclaration') {\r\n                    const parentFunction = findParentFunction(parentStack);\r\n                    if (parentFunction) {\r\n                        setScope(parentFunction, node.id.name);\r\n                    }\r\n                }\r\n                // walk function expressions and add its arguments to known identifiers\r\n                // so that we don't prefix them\r\n                node.params.forEach((p) => {\r\n                    if (p.type === 'ObjectPattern' || p.type === 'ArrayPattern') {\r\n                        handlePattern(p, node);\r\n                        return;\r\n                    }\r\n                    walk$1(p.type === 'AssignmentPattern' ? p.left : p, {\r\n                        enter(child, parent) {\r\n                            // skip params default value of destructure\r\n                            if (parent?.type === 'AssignmentPattern' &&\r\n                                parent?.right === child) {\r\n                                return this.skip();\r\n                            }\r\n                            if (child.type !== 'Identifier')\r\n                                return;\r\n                            // do not record as scope variable if is a destructuring keyword\r\n                            if (isStaticPropertyKey(child, parent))\r\n                                return;\r\n                            // do not record if this is a default value\r\n                            // assignment of a destructuring variable\r\n                            if ((parent?.type === 'TemplateLiteral' &&\r\n                                parent?.expressions.includes(child)) ||\r\n                                (parent?.type === 'CallExpression' && parent?.callee === child)) {\r\n                                return;\r\n                            }\r\n                            setScope(node, child.name);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            else if (node.type === 'Property' && parent.type === 'ObjectPattern') {\r\n                // mark property in destructuring pattern\r\n                setIsNodeInPattern(node);\r\n            }\r\n            else if (node.type === 'VariableDeclarator') {\r\n                const parentFunction = findParentFunction(parentStack);\r\n                if (parentFunction) {\r\n                    handlePattern(node.id, parentFunction);\r\n                }\r\n            }\r\n        },\r\n        leave(node, parent) {\r\n            parent && parentStack.shift();\r\n        }\r\n    });\r\n    // emit the identifier events in BFS so the hoisted declarations\r\n    // can be captured correctly\r\n    identifiers.forEach(([node, stack]) => {\r\n        if (!isInScope(node.name, stack))\r\n            onIdentifier(node, stack[0], stack);\r\n    });\r\n}\r\nfunction isRefIdentifier(id, parent, parentStack) {\r\n    // declaration id\r\n    if (parent.type === 'CatchClause' ||\r\n        ((parent.type === 'VariableDeclarator' ||\r\n            parent.type === 'ClassDeclaration') &&\r\n            parent.id === id)) {\r\n        return false;\r\n    }\r\n    if (isFunction(parent)) {\r\n        // function declaration/expression id\r\n        if (parent.id === id) {\r\n            return false;\r\n        }\r\n        // params list\r\n        if (parent.params.includes(id)) {\r\n            return false;\r\n        }\r\n    }\r\n    // class method name\r\n    if (parent.type === 'MethodDefinition' && !parent.computed) {\r\n        return false;\r\n    }\r\n    // property key\r\n    if (isStaticPropertyKey(id, parent)) {\r\n        return false;\r\n    }\r\n    // object destructuring pattern\r\n    if (isNodeInPattern(parent) && parent.value === id) {\r\n        return false;\r\n    }\r\n    // non-assignment array destructuring pattern\r\n    if (parent.type === 'ArrayPattern' &&\r\n        !isInDestructuringAssignment(parent, parentStack)) {\r\n        return false;\r\n    }\r\n    // member expression property\r\n    if (parent.type === 'MemberExpression' &&\r\n        parent.property === id &&\r\n        !parent.computed) {\r\n        return false;\r\n    }\r\n    if (parent.type === 'ExportSpecifier') {\r\n        return false;\r\n    }\r\n    // is a special keyword but parsed as identifier\r\n    if (id.name === 'arguments') {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nconst isStaticProperty = (node) => node && node.type === 'Property' && !node.computed;\r\nconst isStaticPropertyKey = (node, parent) => isStaticProperty(parent) && parent.key === node;\r\nfunction isFunction(node) {\r\n    return /Function(?:Expression|Declaration)$|Method$/.test(node.type);\r\n}\r\nfunction findParentFunction(parentStack) {\r\n    return parentStack.find((i) => isFunction(i));\r\n}\r\nfunction isInDestructuringAssignment(parent, parentStack) {\r\n    if (parent &&\r\n        (parent.type === 'Property' || parent.type === 'ArrayPattern')) {\r\n        return parentStack.some((i) => i.type === 'AssignmentExpression');\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction totalist(dir, callback, pre='') {\r\n\tdir = resolve$4('.', dir);\r\n\tlet arr = readdirSync(dir);\r\n\tlet i=0, abs, stats;\r\n\tfor (; i < arr.length; i++) {\r\n\t\tabs = join$1(dir, arr[i]);\r\n\t\tstats = statSync$1(abs);\r\n\t\tstats.isDirectory()\r\n\t\t\t? totalist(abs, callback, join$1(pre, arr[i]))\r\n\t\t\t: callback(join$1(pre, arr[i]), abs, stats);\r\n\t}\r\n}\r\n\r\n/**\r\n * @typedef ParsedURL\r\n * @type {import('.').ParsedURL}\r\n */\r\n\r\n/**\r\n * @typedef Request\r\n * @property {string} url\r\n * @property {ParsedURL} _parsedUrl\r\n */\r\n\r\n/**\r\n * @param {Request} req\r\n * @returns {ParsedURL|void}\r\n */\r\nfunction parse$a(req) {\r\n\tlet raw = req.url;\r\n\tif (raw == null) return;\r\n\r\n\tlet prev = req._parsedUrl;\r\n\tif (prev && prev.raw === raw) return prev;\r\n\r\n\tlet pathname=raw, search='', query;\r\n\r\n\tif (raw.length > 1) {\r\n\t\tlet idx = raw.indexOf('?', 1);\r\n\r\n\t\tif (idx !== -1) {\r\n\t\t\tsearch = raw.substring(idx);\r\n\t\t\tpathname = raw.substring(0, idx);\r\n\t\t\tif (search.length > 1) {\r\n\t\t\t\tquery = qs.parse(search.substring(1));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn req._parsedUrl = { pathname, search, query, raw };\r\n}\r\n\r\nconst noop$2 = () => {};\r\n\r\nfunction isMatch$1(uri, arr) {\r\n\tfor (let i=0; i < arr.length; i++) {\r\n\t\tif (arr[i].test(uri)) return true;\r\n\t}\r\n}\r\n\r\nfunction toAssume(uri, extns) {\r\n\tlet i=0, x, len=uri.length - 1;\r\n\tif (uri.charCodeAt(len) === 47) {\r\n\t\turi = uri.substring(0, len);\r\n\t}\r\n\r\n\tlet arr=[], tmp=`${uri}/index`;\r\n\tfor (; i < extns.length; i++) {\r\n\t\tx = extns[i] ? `.${extns[i]}` : '';\r\n\t\tif (uri) arr.push(uri + x);\r\n\t\tarr.push(tmp + x);\r\n\t}\r\n\r\n\treturn arr;\r\n}\r\n\r\nfunction viaCache(cache, uri, extns) {\r\n\tlet i=0, data, arr=toAssume(uri, extns);\r\n\tfor (; i < arr.length; i++) {\r\n\t\tif (data = cache[arr[i]]) return data;\r\n\t}\r\n}\r\n\r\nfunction viaLocal(dir, isEtag, uri, extns) {\r\n\tlet i=0, arr=toAssume(uri, extns);\r\n\tlet abs, stats, name, headers;\r\n\tfor (; i < arr.length; i++) {\r\n\t\tabs = normalize(join$1(dir, name=arr[i]));\r\n\t\tif (abs.startsWith(dir) && require$$0$2.existsSync(abs)) {\r\n\t\t\tstats = require$$0$2.statSync(abs);\r\n\t\t\tif (stats.isDirectory()) continue;\r\n\t\t\theaders = toHeaders(name, stats, isEtag);\r\n\t\t\theaders['Cache-Control'] = isEtag ? 'no-cache' : 'no-store';\r\n\t\t\treturn { abs, stats, headers };\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction is404(req, res) {\r\n\treturn (res.statusCode=404,res.end());\r\n}\r\n\r\nfunction send$2(req, res, file, stats, headers) {\r\n\tlet code=200, tmp, opts={};\r\n\theaders = { ...headers };\r\n\r\n\tfor (let key in headers) {\r\n\t\ttmp = res.getHeader(key);\r\n\t\tif (tmp) headers[key] = tmp;\r\n\t}\r\n\r\n\tif (tmp = res.getHeader('content-type')) {\r\n\t\theaders['Content-Type'] = tmp;\r\n\t}\r\n\r\n\tif (req.headers.range) {\r\n\t\tcode = 206;\r\n\t\tlet [x, y] = req.headers.range.replace('bytes=', '').split('-');\r\n\t\tlet end = opts.end = parseInt(y, 10) || stats.size - 1;\r\n\t\tlet start = opts.start = parseInt(x, 10) || 0;\r\n\r\n\t\tif (start >= stats.size || end >= stats.size) {\r\n\t\t\tres.setHeader('Content-Range', `bytes */${stats.size}`);\r\n\t\t\tres.statusCode = 416;\r\n\t\t\treturn res.end();\r\n\t\t}\r\n\r\n\t\theaders['Content-Range'] = `bytes ${start}-${end}/${stats.size}`;\r\n\t\theaders['Content-Length'] = (end - start + 1);\r\n\t\theaders['Accept-Ranges'] = 'bytes';\r\n\t}\r\n\r\n\tres.writeHead(code, headers);\r\n\trequire$$0$2.createReadStream(file, opts).pipe(res);\r\n}\r\n\r\nconst ENCODING = {\r\n\t'.br': 'br',\r\n\t'.gz': 'gzip',\r\n};\r\n\r\nfunction toHeaders(name, stats, isEtag) {\r\n\tlet enc = ENCODING[name.slice(-3)];\r\n\r\n\tlet ctype = lookup(name.slice(0, enc && -3)) || '';\r\n\tif (ctype === 'text/html') ctype += ';charset=utf-8';\r\n\r\n\tlet headers = {\r\n\t\t'Content-Length': stats.size,\r\n\t\t'Content-Type': ctype,\r\n\t\t'Last-Modified': stats.mtime.toUTCString(),\r\n\t};\r\n\r\n\tif (enc) headers['Content-Encoding'] = enc;\r\n\tif (isEtag) headers['ETag'] = `W/\"${stats.size}-${stats.mtime.getTime()}\"`;\r\n\r\n\treturn headers;\r\n}\r\n\r\nfunction sirv (dir, opts={}) {\r\n\tdir = resolve$4(dir || '.');\r\n\r\n\tlet isNotFound = opts.onNoMatch || is404;\r\n\tlet setHeaders = opts.setHeaders || noop$2;\r\n\r\n\tlet extensions = opts.extensions || ['html', 'htm'];\r\n\tlet gzips = opts.gzip && extensions.map(x => `${x}.gz`).concat('gz');\r\n\tlet brots = opts.brotli && extensions.map(x => `${x}.br`).concat('br');\r\n\r\n\tconst FILES = {};\r\n\r\n\tlet fallback = '/';\r\n\tlet isEtag = !!opts.etag;\r\n\tlet isSPA = !!opts.single;\r\n\tif (typeof opts.single === 'string') {\r\n\t\tlet idx = opts.single.lastIndexOf('.');\r\n\t\tfallback += !!~idx ? opts.single.substring(0, idx) : opts.single;\r\n\t}\r\n\r\n\tlet ignores = [];\r\n\tif (opts.ignores !== false) {\r\n\t\tignores.push(/[/]([A-Za-z\\s\\d~$._-]+\\.\\w+){1,}$/); // any extn\r\n\t\tif (opts.dotfiles) ignores.push(/\\/\\.\\w/);\r\n\t\telse ignores.push(/\\/\\.well-known/);\r\n\t\t[].concat(opts.ignores || []).forEach(x => {\r\n\t\t\tignores.push(new RegExp(x, 'i'));\r\n\t\t});\r\n\t}\r\n\r\n\tlet cc = opts.maxAge != null && `public,max-age=${opts.maxAge}`;\r\n\tif (cc && opts.immutable) cc += ',immutable';\r\n\telse if (cc && opts.maxAge === 0) cc += ',must-revalidate';\r\n\r\n\tif (!opts.dev) {\r\n\t\ttotalist(dir, (name, abs, stats) => {\r\n\t\t\tif (/\\.well-known[\\\\+\\/]/.test(name)) ; // keep\r\n\t\t\telse if (!opts.dotfiles && /(^\\.|[\\\\+|\\/+]\\.)/.test(name)) return;\r\n\r\n\t\t\tlet headers = toHeaders(name, stats, isEtag);\r\n\t\t\tif (cc) headers['Cache-Control'] = cc;\r\n\r\n\t\t\tFILES['/' + name.normalize().replace(/\\\\+/g, '/')] = { abs, stats, headers };\r\n\t\t});\r\n\t}\r\n\r\n\tlet lookup = opts.dev ? viaLocal.bind(0, dir, isEtag) : viaCache.bind(0, FILES);\r\n\r\n\treturn function (req, res, next) {\r\n\t\tlet extns = [''];\r\n\t\tlet pathname = parse$a(req).pathname;\r\n\t\tlet val = req.headers['accept-encoding'] || '';\r\n\t\tif (gzips && val.includes('gzip')) extns.unshift(...gzips);\r\n\t\tif (brots && /(br|brotli)/i.test(val)) extns.unshift(...brots);\r\n\t\textns.push(...extensions); // [...br, ...gz, orig, ...exts]\r\n\r\n\t\tif (pathname.indexOf('%') !== -1) {\r\n\t\t\ttry { pathname = decodeURIComponent(pathname); }\r\n\t\t\tcatch (err) { /* malform uri */ }\r\n\t\t}\r\n\r\n\t\tlet data = lookup(pathname, extns) || isSPA && !isMatch$1(pathname, ignores) && lookup(fallback, extns);\r\n\t\tif (!data) return next ? next() : isNotFound(req, res);\r\n\r\n\t\tif (isEtag && req.headers['if-none-match'] === data.headers['ETag']) {\r\n\t\t\tres.writeHead(304);\r\n\t\t\treturn res.end();\r\n\t\t}\r\n\r\n\t\tif (gzips || brots) {\r\n\t\t\tres.setHeader('Vary', 'Accept-Encoding');\r\n\t\t}\r\n\r\n\t\tsetHeaders(res, pathname, data.stats);\r\n\t\tsend$2(req, res, data.abs, data.stats, data.headers);\r\n\t};\r\n}\r\n\r\nconst { isMatch } = micromatch_1;\r\nconst sirvOptions = (headers) => {\r\n    return {\r\n        dev: true,\r\n        etag: true,\r\n        extensions: [],\r\n        setHeaders(res, pathname) {\r\n            // Matches js, jsx, ts, tsx.\r\n            // The reason this is done, is that the .ts file extension is reserved\r\n            // for the MIME type video/mp2t. In almost all cases, we can expect\r\n            // these files to be TypeScript files, and for Vite to serve them with\r\n            // this Content-Type.\r\n            if (/\\.[tj]sx?$/.test(pathname)) {\r\n                res.setHeader('Content-Type', 'application/javascript');\r\n            }\r\n            if (headers) {\r\n                for (const name in headers) {\r\n                    res.setHeader(name, headers[name]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n};\r\nfunction servePublicMiddleware(dir, headers) {\r\n    const serve = sirv(dir, sirvOptions(headers));\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteServePublicMiddleware(req, res, next) {\r\n        // skip import request and internal requests `/@fs/ /@vite-client` etc...\r\n        if (isImportRequest(req.url) || isInternalRequest(req.url)) {\r\n            return next();\r\n        }\r\n        serve(req, res, next);\r\n    };\r\n}\r\nfunction serveStaticMiddleware(dir, server) {\r\n    const serve = sirv(dir, sirvOptions(server.config.server.headers));\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteServeStaticMiddleware(req, res, next) {\r\n        // only serve the file if it's not an html request or ends with `/`\r\n        // so that html requests can fallthrough to our html middleware for\r\n        // special processing\r\n        // also skip internal requests `/@fs/ /@vite-client` etc...\r\n        const cleanedUrl = cleanUrl(req.url);\r\n        if (cleanedUrl.endsWith('/') ||\r\n            path$n.extname(cleanedUrl) === '.html' ||\r\n            isInternalRequest(req.url)) {\r\n            return next();\r\n        }\r\n        const url = new URL(req.url, 'http://example.com');\r\n        const pathname = decodeURIComponent(url.pathname);\r\n        // apply aliases to static requests as well\r\n        let redirectedPathname;\r\n        for (const { find, replacement } of server.config.resolve.alias) {\r\n            const matches = typeof find === 'string'\r\n                ? pathname.startsWith(find)\r\n                : find.test(pathname);\r\n            if (matches) {\r\n                redirectedPathname = pathname.replace(find, replacement);\r\n                break;\r\n            }\r\n        }\r\n        if (redirectedPathname) {\r\n            // dir is pre-normalized to posix style\r\n            if (redirectedPathname.startsWith(dir)) {\r\n                redirectedPathname = redirectedPathname.slice(dir.length);\r\n            }\r\n        }\r\n        const resolvedPathname = redirectedPathname || pathname;\r\n        let fileUrl = path$n.resolve(dir, resolvedPathname.replace(/^\\//, ''));\r\n        if (resolvedPathname.endsWith('/') && !fileUrl.endsWith('/')) {\r\n            fileUrl = fileUrl + '/';\r\n        }\r\n        if (!ensureServingAccess(fileUrl, server, res, next)) {\r\n            return;\r\n        }\r\n        if (redirectedPathname) {\r\n            url.pathname = encodeURIComponent(redirectedPathname);\r\n            req.url = url.href.slice(url.origin.length);\r\n        }\r\n        serve(req, res, next);\r\n    };\r\n}\r\nfunction serveRawFsMiddleware(server) {\r\n    const serveFromRoot = sirv('/', sirvOptions(server.config.server.headers));\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteServeRawFsMiddleware(req, res, next) {\r\n        const url = new URL(req.url, 'http://example.com');\r\n        // In some cases (e.g. linked monorepos) files outside of root will\r\n        // reference assets that are also out of served root. In such cases\r\n        // the paths are rewritten to `/@fs/` prefixed paths and must be served by\r\n        // searching based from fs root.\r\n        if (url.pathname.startsWith(FS_PREFIX)) {\r\n            const pathname = decodeURIComponent(url.pathname);\r\n            // restrict files outside of `fs.allow`\r\n            if (!ensureServingAccess(slash$1(path$n.resolve(fsPathFromId(pathname))), server, res, next)) {\r\n                return;\r\n            }\r\n            let newPathname = pathname.slice(FS_PREFIX.length);\r\n            if (isWindows$4)\r\n                newPathname = newPathname.replace(/^[A-Z]:/i, '');\r\n            url.pathname = encodeURIComponent(newPathname);\r\n            req.url = url.href.slice(url.origin.length);\r\n            serveFromRoot(req, res, next);\r\n        }\r\n        else {\r\n            next();\r\n        }\r\n    };\r\n}\r\nconst _matchOptions = { matchBase: true };\r\nfunction isFileServingAllowed(url, server) {\r\n    if (!server.config.server.fs.strict)\r\n        return true;\r\n    const file = fsPathFromUrl(url);\r\n    if (server.config.server.fs.deny.some((i) => isMatch(file, i, _matchOptions)))\r\n        return false;\r\n    if (server.moduleGraph.safeModulesPath.has(file))\r\n        return true;\r\n    if (server.config.server.fs.allow.some((dir) => isParentDirectory(dir, file)))\r\n        return true;\r\n    return false;\r\n}\r\nfunction ensureServingAccess(url, server, res, next) {\r\n    if (isFileServingAllowed(url, server)) {\r\n        return true;\r\n    }\r\n    if (isFileReadable(cleanUrl(url))) {\r\n        const urlMessage = `The request url \"${url}\" is outside of Vite serving allow list.`;\r\n        const hintMessage = `\r\n${server.config.server.fs.allow.map((i) => `- ${i}`).join('\\n')}\r\n\r\nRefer to docs https://vitejs.dev/config/server-options.html#server-fs-allow for configurations and more details.`;\r\n        server.config.logger.error(urlMessage);\r\n        server.config.logger.warnOnce(hintMessage + '\\n');\r\n        res.statusCode = 403;\r\n        res.write(renderRestrictedErrorHTML(urlMessage + '\\n' + hintMessage));\r\n        res.end();\r\n    }\r\n    else {\r\n        // if the file doesn't exist, we shouldn't restrict this path as it can\r\n        // be an API call. Middlewares would issue a 404 if the file isn't handled\r\n        next();\r\n    }\r\n    return false;\r\n}\r\nfunction renderRestrictedErrorHTML(msg) {\r\n    // to have syntax highlighting and autocompletion in IDE\r\n    const html = String.raw;\r\n    return html `\r\n    <body>\r\n      <h1>403 Restricted</h1>\r\n      <p>${msg.replace(/\\n/g, '<br/>')}</p>\r\n      <style>\r\n        body {\r\n          padding: 1em 2em;\r\n        }\r\n      </style>\r\n    </body>\r\n  `;\r\n}\r\n\r\nconst debugLoad = createDebugger('vite:load');\r\nconst debugTransform = createDebugger('vite:transform');\r\nconst debugCache$1 = createDebugger('vite:cache');\r\nconst isDebug$3 = !!process.env.DEBUG;\r\nfunction transformRequest(url, server, options = {}) {\r\n    const cacheKey = (options.ssr ? 'ssr:' : options.html ? 'html:' : '') + url;\r\n    // This module may get invalidated while we are processing it. For example\r\n    // when a full page reload is needed after the re-processing of pre-bundled\r\n    // dependencies when a missing dep is discovered. We save the current time\r\n    // to compare it to the last invalidation performed to know if we should\r\n    // cache the result of the transformation or we should discard it as stale.\r\n    //\r\n    // A module can be invalidated due to:\r\n    // 1. A full reload because of pre-bundling newly discovered deps\r\n    // 2. A full reload after a config change\r\n    // 3. The file that generated the module changed\r\n    // 4. Invalidation for a virtual module\r\n    //\r\n    // For 1 and 2, a new request for this module will be issued after\r\n    // the invalidation as part of the browser reloading the page. For 3 and 4\r\n    // there may not be a new request right away because of HMR handling.\r\n    // In all cases, the next time this module is requested, it should be\r\n    // re-processed.\r\n    //\r\n    // We save the timestamp when we start processing and compare it with the\r\n    // last time this module is invalidated\r\n    const timestamp = Date.now();\r\n    const pending = server._pendingRequests.get(cacheKey);\r\n    if (pending) {\r\n        return server.moduleGraph\r\n            .getModuleByUrl(removeTimestampQuery(url), options.ssr)\r\n            .then((module) => {\r\n            if (!module || pending.timestamp > module.lastInvalidationTimestamp) {\r\n                // The pending request is still valid, we can safely reuse its result\r\n                return pending.request;\r\n            }\r\n            else {\r\n                // Request 1 for module A     (pending.timestamp)\r\n                // Invalidate module A        (module.lastInvalidationTimestamp)\r\n                // Request 2 for module A     (timestamp)\r\n                // First request has been invalidated, abort it to clear the cache,\r\n                // then perform a new doTransform.\r\n                pending.abort();\r\n                return transformRequest(url, server, options);\r\n            }\r\n        });\r\n    }\r\n    const request = doTransform(url, server, options, timestamp);\r\n    // Avoid clearing the cache of future requests if aborted\r\n    let cleared = false;\r\n    const clearCache = () => {\r\n        if (!cleared) {\r\n            server._pendingRequests.delete(cacheKey);\r\n            cleared = true;\r\n        }\r\n    };\r\n    // Cache the request and clear it once processing is done\r\n    server._pendingRequests.set(cacheKey, {\r\n        request,\r\n        timestamp,\r\n        abort: clearCache\r\n    });\r\n    request.then(clearCache, clearCache);\r\n    return request;\r\n}\r\nasync function doTransform(url, server, options, timestamp) {\r\n    url = removeTimestampQuery(url);\r\n    const { config, pluginContainer } = server;\r\n    const prettyUrl = isDebug$3 ? prettifyUrl(url, config.root) : '';\r\n    const ssr = !!options.ssr;\r\n    const module = await server.moduleGraph.getModuleByUrl(url, ssr);\r\n    // check if we have a fresh cache\r\n    const cached = module && (ssr ? module.ssrTransformResult : module.transformResult);\r\n    if (cached) {\r\n        // TODO: check if the module is \"partially invalidated\" - i.e. an import\r\n        // down the chain has been fully invalidated, but this current module's\r\n        // content has not changed.\r\n        // in this case, we can reuse its previous cached result and only update\r\n        // its import timestamps.\r\n        isDebug$3 && debugCache$1(`[memory] ${prettyUrl}`);\r\n        return cached;\r\n    }\r\n    // resolve\r\n    const id = (await pluginContainer.resolveId(url, undefined, { ssr }))?.id || url;\r\n    const result = loadAndTransform(id, url, server, options, timestamp);\r\n    getDepsOptimizer(config, ssr)?.delayDepsOptimizerUntil(id, () => result);\r\n    return result;\r\n}\r\nasync function loadAndTransform(id, url, server, options, timestamp) {\r\n    const { config, pluginContainer, moduleGraph, watcher } = server;\r\n    const { root, logger } = config;\r\n    const prettyUrl = isDebug$3 ? prettifyUrl(url, config.root) : '';\r\n    const ssr = !!options.ssr;\r\n    const file = cleanUrl(id);\r\n    let code = null;\r\n    let map = null;\r\n    // load\r\n    const loadStart = isDebug$3 ? performance.now() : 0;\r\n    const loadResult = await pluginContainer.load(id, { ssr });\r\n    if (loadResult == null) {\r\n        // if this is an html request and there is no load result, skip ahead to\r\n        // SPA fallback.\r\n        if (options.html && !id.endsWith('.html')) {\r\n            return null;\r\n        }\r\n        // try fallback loading it from fs as string\r\n        // if the file is a binary, there should be a plugin that already loaded it\r\n        // as string\r\n        // only try the fallback if access is allowed, skip for out of root url\r\n        // like /service-worker.js or /api/users\r\n        if (options.ssr || isFileServingAllowed(file, server)) {\r\n            try {\r\n                code = await promises$2.readFile(file, 'utf-8');\r\n                isDebug$3 && debugLoad(`${timeFrom(loadStart)} [fs] ${prettyUrl}`);\r\n            }\r\n            catch (e) {\r\n                if (e.code !== 'ENOENT') {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n        if (code) {\r\n            try {\r\n                map = (convertSourceMap.fromSource(code) ||\r\n                    convertSourceMap.fromMapFileSource(code, path$n.dirname(file)))?.toObject();\r\n            }\r\n            catch (e) {\r\n                logger.warn(`Failed to load source map for ${url}.`, {\r\n                    timestamp: true\r\n                });\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        isDebug$3 && debugLoad(`${timeFrom(loadStart)} [plugin] ${prettyUrl}`);\r\n        if (isObject$2(loadResult)) {\r\n            code = loadResult.code;\r\n            map = loadResult.map;\r\n        }\r\n        else {\r\n            code = loadResult;\r\n        }\r\n    }\r\n    if (code == null) {\r\n        if (checkPublicFile(url, config)) {\r\n            throw new Error(`Failed to load url ${url} (resolved id: ${id}). ` +\r\n                `This file is in /public and will be copied as-is during build without ` +\r\n                `going through the plugin transforms, and therefore should not be ` +\r\n                `imported from source code. It can only be referenced via HTML tags.`);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    // ensure module in graph after successful load\r\n    const mod = await moduleGraph.ensureEntryFromUrl(url, ssr);\r\n    ensureWatchedFile(watcher, mod.file, root);\r\n    // transform\r\n    const transformStart = isDebug$3 ? performance.now() : 0;\r\n    const transformResult = await pluginContainer.transform(code, id, {\r\n        inMap: map,\r\n        ssr\r\n    });\r\n    const originalCode = code;\r\n    if (transformResult == null ||\r\n        (isObject$2(transformResult) && transformResult.code == null)) {\r\n        // no transform applied, keep code as-is\r\n        isDebug$3 &&\r\n            debugTransform(timeFrom(transformStart) + picocolors.exports.dim(` [skipped] ${prettyUrl}`));\r\n    }\r\n    else {\r\n        isDebug$3 && debugTransform(`${timeFrom(transformStart)} ${prettyUrl}`);\r\n        code = transformResult.code;\r\n        map = transformResult.map;\r\n    }\r\n    if (map && mod.file) {\r\n        map = (typeof map === 'string' ? JSON.parse(map) : map);\r\n        if (map.mappings && !map.sourcesContent) {\r\n            await injectSourcesContent(map, mod.file, logger);\r\n        }\r\n    }\r\n    const result = ssr\r\n        ? await ssrTransform(code, map, url, originalCode, server.config)\r\n        : {\r\n            code,\r\n            map,\r\n            etag: etag_1(code, { weak: true })\r\n        };\r\n    // Only cache the result if the module wasn't invalidated while it was\r\n    // being processed, so it is re-processed next time if it is stale\r\n    if (timestamp > mod.lastInvalidationTimestamp) {\r\n        if (ssr)\r\n            mod.ssrTransformResult = result;\r\n        else\r\n            mod.transformResult = result;\r\n    }\r\n    return result;\r\n}\r\n\r\nconst ERR_OPTIMIZE_DEPS_PROCESSING_ERROR = 'ERR_OPTIMIZE_DEPS_PROCESSING_ERROR';\r\nconst ERR_OUTDATED_OPTIMIZED_DEP = 'ERR_OUTDATED_OPTIMIZED_DEP';\r\nconst isDebug$2 = process.env.DEBUG;\r\nconst debug$8 = createDebugger('vite:optimize-deps');\r\nfunction optimizedDepsPlugin(config) {\r\n    return {\r\n        name: 'vite:optimized-deps',\r\n        async resolveId(id, source, { ssr }) {\r\n            if (getDepsOptimizer(config, ssr)?.isOptimizedDepFile(id)) {\r\n                return id;\r\n            }\r\n        },\r\n        // this.load({ id }) isn't implemented in PluginContainer\r\n        // The logic to register an id to wait until it is processed\r\n        // is in importAnalysis, see call to delayDepsOptimizerUntil\r\n        async load(id, options) {\r\n            const ssr = options?.ssr === true;\r\n            const depsOptimizer = getDepsOptimizer(config, ssr);\r\n            if (depsOptimizer?.isOptimizedDepFile(id)) {\r\n                const metadata = depsOptimizer.metadata;\r\n                const file = cleanUrl(id);\r\n                const versionMatch = id.match(DEP_VERSION_RE);\r\n                const browserHash = versionMatch\r\n                    ? versionMatch[1].split('=')[1]\r\n                    : undefined;\r\n                // Search in both the currently optimized and newly discovered deps\r\n                const info = optimizedDepInfoFromFile(metadata, file);\r\n                if (info) {\r\n                    if (browserHash && info.browserHash !== browserHash) {\r\n                        throwOutdatedRequest(id);\r\n                    }\r\n                    try {\r\n                        // This is an entry point, it may still not be bundled\r\n                        await info.processing;\r\n                    }\r\n                    catch {\r\n                        // If the refresh has not happened after timeout, Vite considers\r\n                        // something unexpected has happened. In this case, Vite\r\n                        // returns an empty response that will error.\r\n                        throwProcessingError(id);\r\n                        return;\r\n                    }\r\n                    const newMetadata = depsOptimizer.metadata;\r\n                    if (metadata !== newMetadata) {\r\n                        const currentInfo = optimizedDepInfoFromFile(newMetadata, file);\r\n                        if (info.browserHash !== currentInfo?.browserHash) {\r\n                            throwOutdatedRequest(id);\r\n                        }\r\n                    }\r\n                }\r\n                isDebug$2 && debug$8(`load ${picocolors.exports.cyan(file)}`);\r\n                // Load the file from the cache instead of waiting for other plugin\r\n                // load hooks to avoid race conditions, once processing is resolved,\r\n                // we are sure that the file has been properly save to disk\r\n                try {\r\n                    return await promises$2.readFile(file, 'utf-8');\r\n                }\r\n                catch (e) {\r\n                    // Outdated non-entry points (CHUNK), loaded after a rerun\r\n                    throwOutdatedRequest(id);\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction optimizedDepsBuildPlugin(config) {\r\n    return {\r\n        name: 'vite:optimized-deps-build',\r\n        buildStart() {\r\n            if (!config.isWorker) {\r\n                // This will be run for the current active optimizer, during build\r\n                // it will be the SSR optimizer if config.build.ssr is defined\r\n                getDepsOptimizer(config)?.resetRegisteredIds();\r\n            }\r\n        },\r\n        async resolveId(id, importer, { ssr }) {\r\n            if (getDepsOptimizer(config, ssr)?.isOptimizedDepFile(id)) {\r\n                return id;\r\n            }\r\n        },\r\n        transform(_code, id, options) {\r\n            const ssr = options?.ssr === true;\r\n            getDepsOptimizer(config, ssr)?.delayDepsOptimizerUntil(id, async () => {\r\n                await this.load({ id });\r\n            });\r\n        },\r\n        async load(id, options) {\r\n            const ssr = options?.ssr === true;\r\n            const depsOptimizer = getDepsOptimizer(config, ssr);\r\n            if (!depsOptimizer?.isOptimizedDepFile(id)) {\r\n                return;\r\n            }\r\n            depsOptimizer?.ensureFirstRun();\r\n            const file = cleanUrl(id);\r\n            // Search in both the currently optimized and newly discovered deps\r\n            // If all the inputs are dependencies, we aren't going to get any\r\n            const info = optimizedDepInfoFromFile(depsOptimizer.metadata, file);\r\n            if (info) {\r\n                try {\r\n                    // This is an entry point, it may still not be bundled\r\n                    await info.processing;\r\n                }\r\n                catch {\r\n                    // If the refresh has not happened after timeout, Vite considers\r\n                    // something unexpected has happened. In this case, Vite\r\n                    // returns an empty response that will error.\r\n                    // throwProcessingError(id)\r\n                    return;\r\n                }\r\n                isDebug$2 && debug$8(`load ${picocolors.exports.cyan(file)}`);\r\n            }\r\n            else {\r\n                // TODO: error\r\n                return;\r\n            }\r\n            // Load the file from the cache instead of waiting for other plugin\r\n            // load hooks to avoid race conditions, once processing is resolved,\r\n            // we are sure that the file has been properly save to disk\r\n            try {\r\n                return await promises$2.readFile(file, 'utf-8');\r\n            }\r\n            catch (e) {\r\n                // Outdated non-entry points (CHUNK), loaded after a rerun\r\n                return '';\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction throwProcessingError(id) {\r\n    const err = new Error(`Something unexpected happened while optimizing \"${id}\". ` +\r\n        `The current page should have reloaded by now`);\r\n    err.code = ERR_OPTIMIZE_DEPS_PROCESSING_ERROR;\r\n    // This error will be caught by the transform middleware that will\r\n    // send a 504 status code request timeout\r\n    throw err;\r\n}\r\nfunction throwOutdatedRequest(id) {\r\n    const err = new Error(`There is a new version of the pre-bundle for \"${id}\", ` +\r\n        `a page reload is going to ask for it.`);\r\n    err.code = ERR_OUTDATED_OPTIMIZED_DEP;\r\n    // This error will be caught by the transform middleware that will\r\n    // send a 504 status code request timeout\r\n    throw err;\r\n}\r\n\r\nconst isDebug$1 = !!process.env.DEBUG;\r\nconst debug$7 = createDebugger('vite:import-analysis');\r\nconst clientDir = normalizePath$3(CLIENT_DIR);\r\nconst skipRE = /\\.(map|json)($|\\?)/;\r\nconst canSkipImportAnalysis = (id) => skipRE.test(id) || isDirectCSSRequest(id);\r\nconst optimizedDepChunkRE$1 = /\\/chunk-[A-Z0-9]{8}\\.js/;\r\nconst optimizedDepDynamicRE$1 = /-[A-Z0-9]{8}\\.js/;\r\nfunction isExplicitImportRequired(url) {\r\n    return !isJSRequest(cleanUrl(url)) && !isCSSRequest(url);\r\n}\r\nfunction markExplicitImport(url) {\r\n    if (isExplicitImportRequired(url)) {\r\n        return injectQuery(url, 'import');\r\n    }\r\n    return url;\r\n}\r\nasync function extractImportedBindings(id, source, importSpec, importedBindings) {\r\n    let bindings = importedBindings.get(id);\r\n    if (!bindings) {\r\n        bindings = new Set();\r\n        importedBindings.set(id, bindings);\r\n    }\r\n    const isDynamic = importSpec.d > -1;\r\n    const isMeta = importSpec.d === -2;\r\n    if (isDynamic || isMeta) {\r\n        // this basically means the module will be impacted by any change in its dep\r\n        bindings.add('*');\r\n        return;\r\n    }\r\n    const exp = source.slice(importSpec.ss, importSpec.se);\r\n    const [match0] = findStaticImports(exp);\r\n    if (!match0) {\r\n        return;\r\n    }\r\n    const parsed = parseStaticImport(match0);\r\n    if (!parsed) {\r\n        return;\r\n    }\r\n    if (parsed.namespacedImport) {\r\n        bindings.add('*');\r\n    }\r\n    if (parsed.defaultImport) {\r\n        bindings.add('default');\r\n    }\r\n    if (parsed.namedImports) {\r\n        for (const name of Object.keys(parsed.namedImports)) {\r\n            bindings.add(name);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Server-only plugin that lexes, resolves, rewrites and analyzes url imports.\r\n *\r\n * - Imports are resolved to ensure they exist on disk\r\n *\r\n * - Lexes HMR accept calls and updates import relationships in the module graph\r\n *\r\n * - Bare module imports are resolved (by @rollup-plugin/node-resolve) to\r\n * absolute file paths, e.g.\r\n *\r\n *     ```js\r\n *     import 'foo'\r\n *     ```\r\n *     is rewritten to\r\n *     ```js\r\n *     import '/@fs//project/node_modules/foo/dist/foo.js'\r\n *     ```\r\n *\r\n * - CSS imports are appended with `.js` since both the js module and the actual\r\n * css (referenced via <link>) may go through the transform pipeline:\r\n *\r\n *     ```js\r\n *     import './style.css'\r\n *     ```\r\n *     is rewritten to\r\n *     ```js\r\n *     import './style.css.js'\r\n *     ```\r\n */\r\nfunction importAnalysisPlugin(config) {\r\n    const { root, base } = config;\r\n    const clientPublicPath = path$n.posix.join(base, CLIENT_PUBLIC_PATH);\r\n    const enablePartialAccept = config.experimental?.hmrPartialAccept;\r\n    let server;\r\n    return {\r\n        name: 'vite:import-analysis',\r\n        configureServer(_server) {\r\n            server = _server;\r\n        },\r\n        async transform(source, importer, options) {\r\n            // In a real app `server` is always defined, but it is undefined when\r\n            // running src/node/server/__tests__/pluginContainer.spec.ts\r\n            if (!server) {\r\n                return null;\r\n            }\r\n            const ssr = options?.ssr === true;\r\n            const prettyImporter = prettifyUrl(importer, root);\r\n            if (canSkipImportAnalysis(importer)) {\r\n                isDebug$1 && debug$7(picocolors.exports.dim(`[skipped] ${prettyImporter}`));\r\n                return null;\r\n            }\r\n            const start = performance.now();\r\n            await init;\r\n            let imports = [];\r\n            let exports = [];\r\n            source = stripBomTag(source);\r\n            try {\r\n                [imports, exports] = parse$b(source);\r\n            }\r\n            catch (e) {\r\n                const isVue = importer.endsWith('.vue');\r\n                const maybeJSX = !isVue && isJSRequest(importer);\r\n                const msg = isVue\r\n                    ? `Install @vitejs/plugin-vue to handle .vue files.`\r\n                    : maybeJSX\r\n                        ? `If you are using JSX, make sure to name the file with the .jsx or .tsx extension.`\r\n                        : `You may need to install appropriate plugins to handle the ${path$n.extname(importer)} file format, or if it's an asset, add \"**/*${path$n.extname(importer)}\" to \\`assetsInclude\\` in your configuration.`;\r\n                this.error(`Failed to parse source for import analysis because the content ` +\r\n                    `contains invalid JS syntax. ` +\r\n                    msg, e.idx);\r\n            }\r\n            const depsOptimizer = getDepsOptimizer(config, ssr);\r\n            const { moduleGraph } = server;\r\n            // since we are already in the transform phase of the importer, it must\r\n            // have been loaded so its entry is guaranteed in the module graph.\r\n            const importerModule = moduleGraph.getModuleById(importer);\r\n            if (!importerModule && depsOptimizer?.isOptimizedDepFile(importer)) {\r\n                // Ids of optimized deps could be invalidated and removed from the graph\r\n                // Return without transforming, this request is no longer valid, a full reload\r\n                // is going to request this id again. Throwing an outdated error so we\r\n                // properly finish the request with a 504 sent to the browser.\r\n                throwOutdatedRequest(importer);\r\n            }\r\n            if (!imports.length) {\r\n                importerModule.isSelfAccepting = false;\r\n                isDebug$1 &&\r\n                    debug$7(`${timeFrom(start)} ${picocolors.exports.dim(`[no imports] ${prettyImporter}`)}`);\r\n                return source;\r\n            }\r\n            let hasHMR = false;\r\n            let isSelfAccepting = false;\r\n            let hasEnv = false;\r\n            let needQueryInjectHelper = false;\r\n            let s;\r\n            const str = () => s || (s = new MagicString(source));\r\n            const importedUrls = new Set();\r\n            const staticImportedUrls = new Set();\r\n            const acceptedUrls = new Set();\r\n            let isPartiallySelfAccepting = false;\r\n            const acceptedExports = new Set();\r\n            const importedBindings = enablePartialAccept\r\n                ? new Map()\r\n                : null;\r\n            const toAbsoluteUrl = (url) => path$n.posix.resolve(path$n.posix.dirname(importerModule.url), url);\r\n            const normalizeUrl = async (url, pos) => {\r\n                if (base !== '/' && url.startsWith(base)) {\r\n                    url = url.replace(base, '/');\r\n                }\r\n                let importerFile = importer;\r\n                const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n                if (moduleListContains(optimizeDeps?.exclude, url)) {\r\n                    if (depsOptimizer) {\r\n                        await depsOptimizer.scanProcessing;\r\n                        // if the dependency encountered in the optimized file was excluded from the optimization\r\n                        // the dependency needs to be resolved starting from the original source location of the optimized file\r\n                        // because starting from node_modules/.vite will not find the dependency if it was not hoisted\r\n                        // (that is, if it is under node_modules directory in the package source of the optimized file)\r\n                        for (const optimizedModule of depsOptimizer.metadata.depInfoList) {\r\n                            if (!optimizedModule.src)\r\n                                continue; // Ignore chunks\r\n                            if (optimizedModule.file === importerModule.file) {\r\n                                importerFile = optimizedModule.src;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                const resolved = await this.resolve(url, importerFile);\r\n                if (!resolved) {\r\n                    // in ssr, we should let node handle the missing modules\r\n                    if (ssr) {\r\n                        return [url, url];\r\n                    }\r\n                    return this.error(`Failed to resolve import \"${url}\" from \"${path$n.relative(process.cwd(), importerFile)}\". Does the file exist?`, pos);\r\n                }\r\n                const isRelative = url.startsWith('.');\r\n                const isSelfImport = !isRelative && cleanUrl(url) === cleanUrl(importer);\r\n                // normalize all imports into resolved URLs\r\n                // e.g. `import 'foo'` -> `import '/@fs/.../node_modules/foo/index.js'`\r\n                if (resolved.id.startsWith(root + '/')) {\r\n                    // in root: infer short absolute path from root\r\n                    url = resolved.id.slice(root.length);\r\n                }\r\n                else if (resolved.id.startsWith(getDepsCacheDirPrefix(config)) ||\r\n                    fs$l.existsSync(cleanUrl(resolved.id))) {\r\n                    // an optimized deps may not yet exists in the filesystem, or\r\n                    // a regular file exists but is out of root: rewrite to absolute /@fs/ paths\r\n                    url = path$n.posix.join(FS_PREFIX + resolved.id);\r\n                }\r\n                else {\r\n                    url = resolved.id;\r\n                }\r\n                if (isExternalUrl(url)) {\r\n                    return [url, url];\r\n                }\r\n                // if the resolved id is not a valid browser import specifier,\r\n                // prefix it to make it valid. We will strip this before feeding it\r\n                // back into the transform pipeline\r\n                if (!url.startsWith('.') && !url.startsWith('/')) {\r\n                    url =\r\n                        VALID_ID_PREFIX + resolved.id.replace('\\0', NULL_BYTE_PLACEHOLDER);\r\n                }\r\n                // make the URL browser-valid if not SSR\r\n                if (!ssr) {\r\n                    // mark non-js/css imports with `?import`\r\n                    url = markExplicitImport(url);\r\n                    // If the url isn't a request for a pre-bundled common chunk,\r\n                    // for relative js/css imports, or self-module virtual imports\r\n                    // (e.g. vue blocks), inherit importer's version query\r\n                    // do not do this for unknown type imports, otherwise the appended\r\n                    // query can break 3rd party plugin's extension checks.\r\n                    if ((isRelative || isSelfImport) &&\r\n                        !/[\\?&]import=?\\b/.test(url) &&\r\n                        !url.match(DEP_VERSION_RE)) {\r\n                        const versionMatch = importer.match(DEP_VERSION_RE);\r\n                        if (versionMatch) {\r\n                            url = injectQuery(url, versionMatch[1]);\r\n                        }\r\n                    }\r\n                    // check if the dep has been hmr updated. If yes, we need to attach\r\n                    // its last updated timestamp to force the browser to fetch the most\r\n                    // up-to-date version of this module.\r\n                    try {\r\n                        // delay setting `isSelfAccepting` until the file is actually used (#7870)\r\n                        const depModule = await moduleGraph.ensureEntryFromUrl(url, ssr, canSkipImportAnalysis(url));\r\n                        if (depModule.lastHMRTimestamp > 0) {\r\n                            url = injectQuery(url, `t=${depModule.lastHMRTimestamp}`);\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        // it's possible that the dep fails to resolve (non-existent import)\r\n                        // attach location to the missing import\r\n                        e.pos = pos;\r\n                        throw e;\r\n                    }\r\n                    // prepend base (dev base is guaranteed to have ending slash)\r\n                    url = base + url.replace(/^\\//, '');\r\n                }\r\n                return [url, resolved.id];\r\n            };\r\n            for (let index = 0; index < imports.length; index++) {\r\n                const { s: start, e: end, ss: expStart, se: expEnd, d: dynamicIndex, \r\n                // #2083 User may use escape path,\r\n                // so use imports[index].n to get the unescaped string\r\n                n: specifier, a: assertIndex } = imports[index];\r\n                const rawUrl = source.slice(start, end);\r\n                // check import.meta usage\r\n                if (rawUrl === 'import.meta') {\r\n                    const prop = source.slice(end, end + 4);\r\n                    if (prop === '.hot') {\r\n                        hasHMR = true;\r\n                        if (source.slice(end + 4, end + 11) === '.accept') {\r\n                            // further analyze accepted modules\r\n                            if (source.slice(end + 4, end + 18) === '.acceptExports') {\r\n                                lexAcceptedHmrExports(source, source.indexOf('(', end + 18) + 1, acceptedExports);\r\n                                isPartiallySelfAccepting = true;\r\n                            }\r\n                            else if (lexAcceptedHmrDeps(source, source.indexOf('(', end + 11) + 1, acceptedUrls)) {\r\n                                isSelfAccepting = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (prop === '.env') {\r\n                        hasEnv = true;\r\n                    }\r\n                    continue;\r\n                }\r\n                const isDynamicImport = dynamicIndex > -1;\r\n                // strip import assertions as we can process them ourselves\r\n                if (!isDynamicImport && assertIndex > -1) {\r\n                    str().remove(end + 1, expEnd);\r\n                }\r\n                // static import or valid string in dynamic import\r\n                // If resolvable, let's resolve it\r\n                if (specifier) {\r\n                    // skip external / data uri\r\n                    if (isExternalUrl(specifier) || isDataUrl(specifier)) {\r\n                        continue;\r\n                    }\r\n                    // skip ssr external\r\n                    if (ssr) {\r\n                        if (config.legacy?.buildSsrCjsExternalHeuristics) {\r\n                            if (cjsShouldExternalizeForSSR(specifier, server._ssrExternals)) {\r\n                                continue;\r\n                            }\r\n                        }\r\n                        else if (shouldExternalizeForSSR(specifier, config)) {\r\n                            continue;\r\n                        }\r\n                        if (isBuiltin(specifier)) {\r\n                            continue;\r\n                        }\r\n                    }\r\n                    // skip client\r\n                    if (specifier === clientPublicPath) {\r\n                        continue;\r\n                    }\r\n                    // warn imports to non-asset /public files\r\n                    if (specifier.startsWith('/') &&\r\n                        !config.assetsInclude(cleanUrl(specifier)) &&\r\n                        !specifier.endsWith('.json') &&\r\n                        checkPublicFile(specifier, config)) {\r\n                        throw new Error(`Cannot import non-asset file ${specifier} which is inside /public.` +\r\n                            `JS/CSS files inside /public are copied as-is on build and ` +\r\n                            `can only be referenced via <script src> or <link href> in html.`);\r\n                    }\r\n                    // normalize\r\n                    const [url, resolvedId] = await normalizeUrl(specifier, start);\r\n                    // record as safe modules\r\n                    server?.moduleGraph.safeModulesPath.add(fsPathFromUrl(url));\r\n                    if (url !== specifier) {\r\n                        let rewriteDone = false;\r\n                        if (depsOptimizer?.isOptimizedDepFile(resolvedId) &&\r\n                            !resolvedId.match(optimizedDepChunkRE$1)) {\r\n                            // for optimized cjs deps, support named imports by rewriting named imports to const assignments.\r\n                            // internal optimized chunks don't need es interop and are excluded\r\n                            // The browserHash in resolvedId could be stale in which case there will be a full\r\n                            // page reload. We could return a 404 in that case but it is safe to return the request\r\n                            const file = cleanUrl(resolvedId); // Remove ?v={hash}\r\n                            const needsInterop = await optimizedDepNeedsInterop(depsOptimizer.metadata, file, config, ssr);\r\n                            if (needsInterop === undefined) {\r\n                                // Non-entry dynamic imports from dependencies will reach here as there isn't\r\n                                // optimize info for them, but they don't need es interop. If the request isn't\r\n                                // a dynamic import, then it is an internal Vite error\r\n                                if (!file.match(optimizedDepDynamicRE$1)) {\r\n                                    config.logger.error(picocolors.exports.red(`Vite Error, ${url} optimized info should be defined`));\r\n                                }\r\n                            }\r\n                            else if (needsInterop) {\r\n                                debug$7(`${url} needs interop`);\r\n                                interopNamedImports(str(), imports[index], url, index);\r\n                                rewriteDone = true;\r\n                            }\r\n                        }\r\n                        // If source code imports builtin modules via named imports, the stub proxy export\r\n                        // would fail as it's `export default` only. Apply interop for builtin modules to\r\n                        // correctly throw the error message.\r\n                        else if (url.includes(browserExternalId) &&\r\n                            source.slice(expStart, start).includes('{')) {\r\n                            interopNamedImports(str(), imports[index], url, index);\r\n                            rewriteDone = true;\r\n                        }\r\n                        if (!rewriteDone) {\r\n                            let rewrittenUrl = JSON.stringify(url);\r\n                            if (!isDynamicImport)\r\n                                rewrittenUrl = rewrittenUrl.slice(1, -1);\r\n                            str().overwrite(start, end, rewrittenUrl, {\r\n                                contentOnly: true\r\n                            });\r\n                        }\r\n                    }\r\n                    // record for HMR import chain analysis\r\n                    // make sure to normalize away base\r\n                    const urlWithoutBase = url.replace(base, '/');\r\n                    importedUrls.add(urlWithoutBase);\r\n                    if (enablePartialAccept && importedBindings) {\r\n                        extractImportedBindings(resolvedId, source, imports[index], importedBindings);\r\n                    }\r\n                    if (!isDynamicImport) {\r\n                        // for pre-transforming\r\n                        staticImportedUrls.add({ url: urlWithoutBase, id: resolvedId });\r\n                    }\r\n                }\r\n                else if (!importer.startsWith(clientDir)) {\r\n                    if (!importer.includes('node_modules')) {\r\n                        // check @vite-ignore which suppresses dynamic import warning\r\n                        const hasViteIgnore = /\\/\\*\\s*@vite-ignore\\s*\\*\\//.test(\r\n                        // complete expression inside parens\r\n                        source.slice(dynamicIndex + 1, end));\r\n                        if (!hasViteIgnore) {\r\n                            this.warn(`\\n` +\r\n                                picocolors.exports.cyan(importerModule.file) +\r\n                                `\\n` +\r\n                                generateCodeFrame(source, start) +\r\n                                `\\nThe above dynamic import cannot be analyzed by Vite.\\n` +\r\n                                `See ${picocolors.exports.blue(`https://github.com/rollup/plugins/tree/master/packages/dynamic-import-vars#limitations`)} ` +\r\n                                `for supported dynamic import formats. ` +\r\n                                `If this is intended to be left as-is, you can use the ` +\r\n                                `/* @vite-ignore */ comment inside the import() call to suppress this warning.\\n`);\r\n                        }\r\n                    }\r\n                    if (!ssr) {\r\n                        const url = rawUrl\r\n                            .replace(/\\/\\*[\\s\\S]*?\\*\\/|([^\\\\:]|^)\\/\\/.*$/gm, '')\r\n                            .trim();\r\n                        if (!/^('.*'|\".*\"|`.*`)$/.test(url) ||\r\n                            isExplicitImportRequired(url.slice(1, -1))) {\r\n                            needQueryInjectHelper = true;\r\n                            str().overwrite(start, end, `__vite__injectQuery(${url}, 'import')`, { contentOnly: true });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (hasEnv) {\r\n                // inject import.meta.env\r\n                let env = `import.meta.env = ${JSON.stringify({\r\n                    ...config.env,\r\n                    SSR: !!ssr\r\n                })};`;\r\n                // account for user env defines\r\n                for (const key in config.define) {\r\n                    if (key.startsWith(`import.meta.env.`)) {\r\n                        const val = config.define[key];\r\n                        env += `${key} = ${typeof val === 'string' ? val : JSON.stringify(val)};`;\r\n                    }\r\n                }\r\n                str().prepend(env);\r\n            }\r\n            if (hasHMR && !ssr) {\r\n                debugHmr(`${isSelfAccepting\r\n                    ? `[self-accepts]`\r\n                    : isPartiallySelfAccepting\r\n                        ? `[accepts-exports]`\r\n                        : acceptedUrls.size\r\n                            ? `[accepts-deps]`\r\n                            : `[detected api usage]`} ${prettyImporter}`);\r\n                // inject hot context\r\n                str().prepend(`import { createHotContext as __vite__createHotContext } from \"${clientPublicPath}\";` +\r\n                    `import.meta.hot = __vite__createHotContext(${JSON.stringify(importerModule.url)});`);\r\n            }\r\n            if (needQueryInjectHelper) {\r\n                str().prepend(`import { injectQuery as __vite__injectQuery } from \"${clientPublicPath}\";`);\r\n            }\r\n            // normalize and rewrite accepted urls\r\n            const normalizedAcceptedUrls = new Set();\r\n            for (const { url, start, end } of acceptedUrls) {\r\n                const [normalized] = await moduleGraph.resolveUrl(toAbsoluteUrl(markExplicitImport(url)), ssr);\r\n                normalizedAcceptedUrls.add(normalized);\r\n                str().overwrite(start, end, JSON.stringify(normalized), {\r\n                    contentOnly: true\r\n                });\r\n            }\r\n            // update the module graph for HMR analysis.\r\n            // node CSS imports does its own graph update in the css plugin so we\r\n            // only handle js graph updates here.\r\n            if (!isCSSRequest(importer)) {\r\n                // attached by pluginContainer.addWatchFile\r\n                const pluginImports = this._addedImports;\r\n                if (pluginImports) {\r\n                    (await Promise.all([...pluginImports].map((id) => normalizeUrl(id, 0)))).forEach(([url]) => importedUrls.add(url));\r\n                }\r\n                // HMR transforms are no-ops in SSR, so an `accept` call will\r\n                // never be injected. Avoid updating the `isSelfAccepting`\r\n                // property for our module node in that case.\r\n                if (ssr && importerModule.isSelfAccepting) {\r\n                    isSelfAccepting = true;\r\n                }\r\n                // a partially accepted module that accepts all its exports\r\n                // behaves like a self-accepted module in practice\r\n                if (!isSelfAccepting &&\r\n                    isPartiallySelfAccepting &&\r\n                    acceptedExports.size >= exports.length &&\r\n                    exports.every((e) => acceptedExports.has(e.n))) {\r\n                    isSelfAccepting = true;\r\n                }\r\n                const prunedImports = await moduleGraph.updateModuleInfo(importerModule, importedUrls, importedBindings, normalizedAcceptedUrls, isPartiallySelfAccepting ? acceptedExports : null, isSelfAccepting, ssr);\r\n                if (hasHMR && prunedImports) {\r\n                    handlePrunedModules(prunedImports, server);\r\n                }\r\n            }\r\n            isDebug$1 &&\r\n                debug$7(`${timeFrom(start)} ${picocolors.exports.dim(`[${importedUrls.size} imports rewritten] ${prettyImporter}`)}`);\r\n            // pre-transform known direct imports\r\n            // These requests will also be registered in transformRequest to be awaited\r\n            // by the deps optimizer\r\n            if (config.server.preTransformRequests && staticImportedUrls.size) {\r\n                staticImportedUrls.forEach(({ url, id }) => {\r\n                    url = unwrapId(removeImportQuery(url)).replace(NULL_BYTE_PLACEHOLDER, '\\0');\r\n                    transformRequest(url, server, { ssr }).catch((e) => {\r\n                        if (e?.code === ERR_OUTDATED_OPTIMIZED_DEP) {\r\n                            // This are expected errors\r\n                            return;\r\n                        }\r\n                        // Unexpected error, log the issue but avoid an unhandled exception\r\n                        config.logger.error(e.message);\r\n                    });\r\n                });\r\n            }\r\n            if (s) {\r\n                return transformStableResult(s, importer, config);\r\n            }\r\n            else {\r\n                return source;\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction interopNamedImports(str, importSpecifier, rewrittenUrl, importIndex) {\r\n    const source = str.original;\r\n    const { s: start, e: end, ss: expStart, se: expEnd, d: dynamicIndex } = importSpecifier;\r\n    if (dynamicIndex > -1) {\r\n        // rewrite `import('package')` to expose the default directly\r\n        str.overwrite(expStart, expEnd, `import('${rewrittenUrl}').then(m => m.default && m.default.__esModule ? m.default : ({ ...m.default, default: m.default }))`, { contentOnly: true });\r\n    }\r\n    else {\r\n        const exp = source.slice(expStart, expEnd);\r\n        const rawUrl = source.slice(start, end);\r\n        const rewritten = transformCjsImport(exp, rewrittenUrl, rawUrl, importIndex);\r\n        if (rewritten) {\r\n            str.overwrite(expStart, expEnd, rewritten, { contentOnly: true });\r\n        }\r\n        else {\r\n            // #1439 export * from '...'\r\n            str.overwrite(start, end, rewrittenUrl, { contentOnly: true });\r\n        }\r\n    }\r\n}\r\n/**\r\n * Detect import statements to a known optimized CJS dependency and provide\r\n * ES named imports interop. We do this by rewriting named imports to a variable\r\n * assignment to the corresponding property on the `module.exports` of the cjs\r\n * module. Note this doesn't support dynamic re-assignments from within the cjs\r\n * module.\r\n *\r\n * Note that es-module-lexer treats `export * from '...'` as an import as well,\r\n * so, we may encounter ExportAllDeclaration here, in which case `undefined`\r\n * will be returned.\r\n *\r\n * Credits \\@csr632 via #837\r\n */\r\nfunction transformCjsImport(importExp, url, rawUrl, importIndex) {\r\n    const node = parse$c(importExp, {\r\n        ecmaVersion: 'latest',\r\n        sourceType: 'module'\r\n    }).body[0];\r\n    if (node.type === 'ImportDeclaration' ||\r\n        node.type === 'ExportNamedDeclaration') {\r\n        if (!node.specifiers.length) {\r\n            return `import \"${url}\"`;\r\n        }\r\n        const importNames = [];\r\n        const exportNames = [];\r\n        let defaultExports = '';\r\n        for (const spec of node.specifiers) {\r\n            if (spec.type === 'ImportSpecifier' &&\r\n                spec.imported.type === 'Identifier') {\r\n                const importedName = spec.imported.name;\r\n                const localName = spec.local.name;\r\n                importNames.push({ importedName, localName });\r\n            }\r\n            else if (spec.type === 'ImportDefaultSpecifier') {\r\n                importNames.push({\r\n                    importedName: 'default',\r\n                    localName: spec.local.name\r\n                });\r\n            }\r\n            else if (spec.type === 'ImportNamespaceSpecifier') {\r\n                importNames.push({ importedName: '*', localName: spec.local.name });\r\n            }\r\n            else if (spec.type === 'ExportSpecifier' &&\r\n                spec.exported.type === 'Identifier') {\r\n                // for ExportSpecifier, local name is same as imported name\r\n                // prefix the variable name to avoid clashing with other local variables\r\n                const importedName = spec.local.name;\r\n                // we want to specify exported name as variable and re-export it\r\n                const exportedName = spec.exported.name;\r\n                if (exportedName === 'default') {\r\n                    defaultExports = makeLegalIdentifier(`__vite__cjsExportDefault_${importIndex}`);\r\n                    importNames.push({ importedName, localName: defaultExports });\r\n                }\r\n                else {\r\n                    const localName = makeLegalIdentifier(`__vite__cjsExport_${exportedName}`);\r\n                    importNames.push({ importedName, localName });\r\n                    exportNames.push(`${localName} as ${exportedName}`);\r\n                }\r\n            }\r\n        }\r\n        // If there is multiple import for same id in one file,\r\n        // importIndex will prevent the cjsModuleName to be duplicate\r\n        const cjsModuleName = makeLegalIdentifier(`__vite__cjsImport${importIndex}_${rawUrl}`);\r\n        const lines = [`import ${cjsModuleName} from \"${url}\"`];\r\n        importNames.forEach(({ importedName, localName }) => {\r\n            if (importedName === '*') {\r\n                lines.push(`const ${localName} = ${cjsModuleName}`);\r\n            }\r\n            else if (importedName === 'default') {\r\n                lines.push(`const ${localName} = ${cjsModuleName}.__esModule ? ${cjsModuleName}.default : ${cjsModuleName}`);\r\n            }\r\n            else {\r\n                lines.push(`const ${localName} = ${cjsModuleName}[\"${importedName}\"]`);\r\n            }\r\n        });\r\n        if (defaultExports) {\r\n            lines.push(`export default ${defaultExports}`);\r\n        }\r\n        if (exportNames.length) {\r\n            lines.push(`export { ${exportNames.join(', ')} }`);\r\n        }\r\n        return lines.join('; ');\r\n    }\r\n}\r\n\r\n/**\r\n * A flag for injected helpers. This flag will be set to `false` if the output\r\n * target is not native es - so that injected helper logic can be conditionally\r\n * dropped.\r\n */\r\nconst isModernFlag = `__VITE_IS_MODERN__`;\r\nconst preloadMethod = `__vitePreload`;\r\nconst preloadMarker = `__VITE_PRELOAD__`;\r\nconst preloadHelperId = '\\0vite/preload-helper';\r\nconst preloadMarkerWithQuote = `\"${preloadMarker}\"`;\r\nconst dynamicImportPrefixRE = /import\\s*\\(/;\r\n// TODO: abstract\r\nconst optimizedDepChunkRE = /\\/chunk-[A-Z0-9]{8}\\.js/;\r\nconst optimizedDepDynamicRE = /-[A-Z0-9]{8}\\.js/;\r\n/**\r\n * Helper for preloading CSS and direct imports of async chunks in parallel to\r\n * the async chunk itself.\r\n */\r\nfunction detectScriptRel() {\r\n    // @ts-ignore\r\n    const relList = document.createElement('link').relList;\r\n    // @ts-ignore\r\n    return relList && relList.supports && relList.supports('modulepreload')\r\n        ? 'modulepreload'\r\n        : 'preload';\r\n}\r\nfunction preload(baseModule, deps, importerUrl) {\r\n    // @ts-ignore\r\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\r\n        return baseModule();\r\n    }\r\n    return Promise.all(deps.map((dep) => {\r\n        // @ts-ignore\r\n        dep = assetsURL(dep, importerUrl);\r\n        // @ts-ignore\r\n        if (dep in seen)\r\n            return;\r\n        // @ts-ignore\r\n        seen[dep] = true;\r\n        const isCss = dep.endsWith('.css');\r\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\r\n        // @ts-ignore check if the file is already preloaded by SSR markup\r\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\r\n            return;\r\n        }\r\n        // @ts-ignore\r\n        const link = document.createElement('link');\r\n        // @ts-ignore\r\n        link.rel = isCss ? 'stylesheet' : scriptRel;\r\n        if (!isCss) {\r\n            link.as = 'script';\r\n            link.crossOrigin = '';\r\n        }\r\n        link.href = dep;\r\n        // @ts-ignore\r\n        document.head.appendChild(link);\r\n        if (isCss) {\r\n            return new Promise((res, rej) => {\r\n                link.addEventListener('load', res);\r\n                link.addEventListener('error', () => rej(new Error(`Unable to preload CSS for ${dep}`)));\r\n            });\r\n        }\r\n    })).then(() => baseModule());\r\n}\r\n/**\r\n * Build only. During serve this is performed as part of ./importAnalysis.\r\n */\r\nfunction buildImportAnalysisPlugin(config) {\r\n    const ssr = !!config.build.ssr;\r\n    const isWorker = config.isWorker;\r\n    const insertPreload = !(ssr || !!config.build.lib || isWorker);\r\n    const relativePreloadUrls = config.base === './' || config.base === '';\r\n    const scriptRel = config.build.polyfillModulePreload\r\n        ? `'modulepreload'`\r\n        : `(${detectScriptRel.toString()})()`;\r\n    const assetsURL = relativePreloadUrls\r\n        ? `function(dep,importerUrl) { return new URL(dep, importerUrl).href }`\r\n        : `function(dep) { return ${JSON.stringify(config.base)}+dep }`;\r\n    const preloadCode = `const scriptRel = ${scriptRel};const assetsURL = ${assetsURL};const seen = {};export const ${preloadMethod} = ${preload.toString()}`;\r\n    return {\r\n        name: 'vite:build-import-analysis',\r\n        resolveId(id) {\r\n            if (id === preloadHelperId) {\r\n                return id;\r\n            }\r\n        },\r\n        load(id) {\r\n            if (id === preloadHelperId) {\r\n                return preloadCode;\r\n            }\r\n        },\r\n        async transform(source, importer) {\r\n            if (importer.includes('node_modules') &&\r\n                !dynamicImportPrefixRE.test(source)) {\r\n                return;\r\n            }\r\n            await init;\r\n            let imports = [];\r\n            try {\r\n                imports = parse$b(source)[0];\r\n            }\r\n            catch (e) {\r\n                this.error(e, e.idx);\r\n            }\r\n            if (!imports.length) {\r\n                return null;\r\n            }\r\n            const { root } = config;\r\n            const depsOptimizer = getDepsOptimizer(config, ssr);\r\n            const normalizeUrl = async (url, pos) => {\r\n                let importerFile = importer;\r\n                const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n                if (moduleListContains(optimizeDeps?.exclude, url)) {\r\n                    if (depsOptimizer) {\r\n                        await depsOptimizer.scanProcessing;\r\n                        // if the dependency encountered in the optimized file was excluded from the optimization\r\n                        // the dependency needs to be resolved starting from the original source location of the optimized file\r\n                        // because starting from node_modules/.vite will not find the dependency if it was not hoisted\r\n                        // (that is, if it is under node_modules directory in the package source of the optimized file)\r\n                        for (const optimizedModule of depsOptimizer.metadata.depInfoList) {\r\n                            if (!optimizedModule.src)\r\n                                continue; // Ignore chunks\r\n                            if (optimizedModule.file === importer) {\r\n                                importerFile = optimizedModule.src;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                const resolved = await this.resolve(url, importerFile);\r\n                if (!resolved) {\r\n                    // in ssr, we should let node handle the missing modules\r\n                    if (ssr) {\r\n                        return [url, url];\r\n                    }\r\n                    return this.error(`Failed to resolve import \"${url}\" from \"${path$n.relative(process.cwd(), importerFile)}\". Does the file exist?`, pos);\r\n                }\r\n                // normalize all imports into resolved URLs\r\n                // e.g. `import 'foo'` -> `import '/@fs/.../node_modules/foo/index.js'`\r\n                if (resolved.id.startsWith(root + '/')) {\r\n                    // in root: infer short absolute path from root\r\n                    url = resolved.id.slice(root.length);\r\n                }\r\n                else {\r\n                    url = resolved.id;\r\n                }\r\n                if (isExternalUrl(url)) {\r\n                    return [url, url];\r\n                }\r\n                return [url, resolved.id];\r\n            };\r\n            let s;\r\n            const str = () => s || (s = new MagicString(source));\r\n            let needPreloadHelper = false;\r\n            for (let index = 0; index < imports.length; index++) {\r\n                const { s: start, e: end, ss: expStart, se: expEnd, n: specifier, d: dynamicIndex, a: assertIndex } = imports[index];\r\n                const isDynamicImport = dynamicIndex > -1;\r\n                // strip import assertions as we can process them ourselves\r\n                if (!isDynamicImport && assertIndex > -1) {\r\n                    str().remove(end + 1, expEnd);\r\n                }\r\n                if (isDynamicImport && insertPreload) {\r\n                    needPreloadHelper = true;\r\n                    str().prependLeft(expStart, `${preloadMethod}(() => `);\r\n                    str().appendRight(expEnd, `,${isModernFlag}?\"${preloadMarker}\":void 0${relativePreloadUrls ? ',import.meta.url' : ''})`);\r\n                }\r\n                // static import or valid string in dynamic import\r\n                // If resolvable, let's resolve it\r\n                if (depsOptimizer && specifier) {\r\n                    // skip external / data uri\r\n                    if (isExternalUrl(specifier) || isDataUrl(specifier)) {\r\n                        continue;\r\n                    }\r\n                    // normalize\r\n                    const [url, resolvedId] = await normalizeUrl(specifier, start);\r\n                    if (url !== specifier) {\r\n                        if (depsOptimizer.isOptimizedDepFile(resolvedId) &&\r\n                            !resolvedId.match(optimizedDepChunkRE)) {\r\n                            const file = cleanUrl(resolvedId); // Remove ?v={hash}\r\n                            const needsInterop = await optimizedDepNeedsInterop(depsOptimizer.metadata, file, config, ssr);\r\n                            let rewriteDone = false;\r\n                            if (needsInterop === undefined) {\r\n                                // Non-entry dynamic imports from dependencies will reach here as there isn't\r\n                                // optimize info for them, but they don't need es interop. If the request isn't\r\n                                // a dynamic import, then it is an internal Vite error\r\n                                if (!file.match(optimizedDepDynamicRE)) {\r\n                                    config.logger.error(picocolors.exports.red(`Vite Error, ${url} optimized info should be defined`));\r\n                                }\r\n                            }\r\n                            else if (needsInterop) {\r\n                                // config.logger.info(`${url} needs interop`)\r\n                                interopNamedImports(str(), imports[index], url, index);\r\n                                rewriteDone = true;\r\n                            }\r\n                            if (!rewriteDone) {\r\n                                let rewrittenUrl = JSON.stringify(file);\r\n                                if (!isDynamicImport)\r\n                                    rewrittenUrl = rewrittenUrl.slice(1, -1);\r\n                                str().overwrite(start, end, rewrittenUrl, {\r\n                                    contentOnly: true\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                // Differentiate CSS imports that use the default export from those that\r\n                // do not by injecting a ?used query - this allows us to avoid including\r\n                // the CSS string when unnecessary (esbuild has trouble tree-shaking\r\n                // them)\r\n                if (specifier &&\r\n                    isCSSRequest(specifier) &&\r\n                    // always inject ?used query when it is a dynamic import\r\n                    // because there is no way to check whether the default export is used\r\n                    (source.slice(expStart, start).includes('from') || isDynamicImport) &&\r\n                    // already has ?used query (by import.meta.glob)\r\n                    !specifier.match(/\\?used(&|$)/) &&\r\n                    // edge case for package names ending with .css (e.g normalize.css)\r\n                    !(bareImportRE.test(specifier) && !specifier.includes('/'))) {\r\n                    const url = specifier.replace(/\\?|$/, (m) => `?used${m ? '&' : ''}`);\r\n                    str().overwrite(start, end, isDynamicImport ? `'${url}'` : url, {\r\n                        contentOnly: true\r\n                    });\r\n                }\r\n            }\r\n            if (needPreloadHelper &&\r\n                insertPreload &&\r\n                !source.includes(`const ${preloadMethod} =`)) {\r\n                str().prepend(`import { ${preloadMethod} } from \"${preloadHelperId}\";`);\r\n            }\r\n            if (s) {\r\n                return {\r\n                    code: s.toString(),\r\n                    map: config.build.sourcemap ? s.generateMap({ hires: true }) : null\r\n                };\r\n            }\r\n        },\r\n        renderChunk(code, _, { format }) {\r\n            // make sure we only perform the preload logic in modern builds.\r\n            if (code.indexOf(isModernFlag) > -1) {\r\n                const re = new RegExp(isModernFlag, 'g');\r\n                const isModern = String(format === 'es');\r\n                if (config.build.sourcemap) {\r\n                    const s = new MagicString(code);\r\n                    let match;\r\n                    while ((match = re.exec(code))) {\r\n                        s.overwrite(match.index, match.index + isModernFlag.length, isModern, { contentOnly: true });\r\n                    }\r\n                    return {\r\n                        code: s.toString(),\r\n                        map: s.generateMap({ hires: true })\r\n                    };\r\n                }\r\n                else {\r\n                    return code.replace(re, isModern);\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n        generateBundle({ format }, bundle) {\r\n            if (format !== 'es' || ssr || isWorker) {\r\n                return;\r\n            }\r\n            for (const file in bundle) {\r\n                const chunk = bundle[file];\r\n                // can't use chunk.dynamicImports.length here since some modules e.g.\r\n                // dynamic import to constant json may get inlined.\r\n                if (chunk.type === 'chunk' && chunk.code.indexOf(preloadMarker) > -1) {\r\n                    const code = chunk.code;\r\n                    let imports = [];\r\n                    try {\r\n                        imports = parse$b(code)[0].filter((i) => i.d > -1);\r\n                    }\r\n                    catch (e) {\r\n                        this.error(e, e.idx);\r\n                    }\r\n                    const s = new MagicString(code);\r\n                    const rewroteMarkerStartPos = new Set(); // position of the leading double quote\r\n                    if (imports.length) {\r\n                        for (let index = 0; index < imports.length; index++) {\r\n                            // To handle escape sequences in specifier strings, the .n field will be provided where possible.\r\n                            const { n: name, s: start, e: end, ss: expStart, se: expEnd } = imports[index];\r\n                            // check the chunk being imported\r\n                            let url = name;\r\n                            if (!url) {\r\n                                const rawUrl = code.slice(start, end);\r\n                                if (rawUrl[0] === `\"` && rawUrl[rawUrl.length - 1] === `\"`)\r\n                                    url = rawUrl.slice(1, -1);\r\n                            }\r\n                            const deps = new Set();\r\n                            let hasRemovedPureCssChunk = false;\r\n                            if (url) {\r\n                                const ownerFilename = chunk.fileName;\r\n                                // literal import - trace direct imports and add to deps\r\n                                const analyzed = new Set();\r\n                                const addDeps = (filename) => {\r\n                                    if (filename === ownerFilename)\r\n                                        return;\r\n                                    if (analyzed.has(filename))\r\n                                        return;\r\n                                    analyzed.add(filename);\r\n                                    const chunk = bundle[filename];\r\n                                    if (chunk) {\r\n                                        deps.add(chunk.fileName);\r\n                                        chunk.viteMetadata.importedCss.forEach((file) => {\r\n                                            deps.add(file);\r\n                                        });\r\n                                        chunk.imports.forEach(addDeps);\r\n                                    }\r\n                                    else {\r\n                                        const removedPureCssFiles = removedPureCssFilesCache.get(config);\r\n                                        const chunk = removedPureCssFiles.get(filename);\r\n                                        if (chunk) {\r\n                                            if (chunk.viteMetadata.importedCss.size) {\r\n                                                chunk.viteMetadata.importedCss.forEach((file) => {\r\n                                                    deps.add(file);\r\n                                                });\r\n                                                hasRemovedPureCssChunk = true;\r\n                                            }\r\n                                            s.overwrite(expStart, expEnd, 'Promise.resolve({})', {\r\n                                                contentOnly: true\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                };\r\n                                const normalizedFile = path$n.posix.join(path$n.posix.dirname(chunk.fileName), url);\r\n                                addDeps(normalizedFile);\r\n                            }\r\n                            let markerStartPos = code.indexOf(preloadMarkerWithQuote, end);\r\n                            // fix issue #3051\r\n                            if (markerStartPos === -1 && imports.length === 1) {\r\n                                markerStartPos = code.indexOf(preloadMarkerWithQuote);\r\n                            }\r\n                            if (markerStartPos > 0) {\r\n                                s.overwrite(markerStartPos, markerStartPos + preloadMarkerWithQuote.length, \r\n                                // the dep list includes the main chunk, so only need to reload when there are\r\n                                // actual other deps. Don't include the assets dir if the default asset file names\r\n                                // are used, the path will be reconstructed by the import preload helper\r\n                                deps.size > 1 ||\r\n                                    // main chunk is removed\r\n                                    (hasRemovedPureCssChunk && deps.size > 0)\r\n                                    ? `[${[...deps]\r\n                                        .map((d) => JSON.stringify(relativePreloadUrls\r\n                                        ? path$n.relative(path$n.dirname(file), d)\r\n                                        : d))\r\n                                        .join(',')}]`\r\n                                    : `[]`, { contentOnly: true });\r\n                                rewroteMarkerStartPos.add(markerStartPos);\r\n                            }\r\n                        }\r\n                    }\r\n                    // there may still be markers due to inlined dynamic imports, remove\r\n                    // all the markers regardless\r\n                    let markerStartPos = code.indexOf(preloadMarkerWithQuote);\r\n                    while (markerStartPos >= 0) {\r\n                        if (!rewroteMarkerStartPos.has(markerStartPos)) {\r\n                            s.overwrite(markerStartPos, markerStartPos + preloadMarkerWithQuote.length, 'void 0', { contentOnly: true });\r\n                        }\r\n                        markerStartPos = code.indexOf(preloadMarkerWithQuote, markerStartPos + preloadMarkerWithQuote.length);\r\n                    }\r\n                    if (s.hasChanged()) {\r\n                        chunk.code = s.toString();\r\n                        if (config.build.sourcemap && chunk.map) {\r\n                            const nextMap = s.generateMap({\r\n                                source: chunk.fileName,\r\n                                hires: true\r\n                            });\r\n                            const map = combineSourcemaps(chunk.fileName, [nextMap, chunk.map], false);\r\n                            map.toUrl = () => genSourceMapUrl(map);\r\n                            chunk.map = map;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nconst modulePreloadPolyfillId = 'vite/modulepreload-polyfill';\r\nfunction modulePreloadPolyfillPlugin(config) {\r\n    // `isModernFlag` is only available during build since it is resolved by `vite:build-import-analysis`\r\n    const skip = config.command !== 'build' || config.build.ssr;\r\n    let polyfillString;\r\n    return {\r\n        name: 'vite:modulepreload-polyfill',\r\n        resolveId(id) {\r\n            if (id === modulePreloadPolyfillId) {\r\n                return id;\r\n            }\r\n        },\r\n        load(id) {\r\n            if (id === modulePreloadPolyfillId) {\r\n                if (skip) {\r\n                    return '';\r\n                }\r\n                if (!polyfillString) {\r\n                    polyfillString = `${isModernFlag}&&(${polyfill.toString()}());`;\r\n                }\r\n                return polyfillString;\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction polyfill() {\r\n    const relList = document.createElement('link').relList;\r\n    if (relList && relList.supports && relList.supports('modulepreload')) {\r\n        return;\r\n    }\r\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\r\n        processPreload(link);\r\n    }\r\n    new MutationObserver((mutations) => {\r\n        for (const mutation of mutations) {\r\n            if (mutation.type !== 'childList') {\r\n                continue;\r\n            }\r\n            for (const node of mutation.addedNodes) {\r\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\r\n                    processPreload(node);\r\n            }\r\n        }\r\n    }).observe(document, { childList: true, subtree: true });\r\n    function getFetchOpts(script) {\r\n        const fetchOpts = {};\r\n        if (script.integrity)\r\n            fetchOpts.integrity = script.integrity;\r\n        if (script.referrerpolicy)\r\n            fetchOpts.referrerPolicy = script.referrerpolicy;\r\n        if (script.crossorigin === 'use-credentials')\r\n            fetchOpts.credentials = 'include';\r\n        else if (script.crossorigin === 'anonymous')\r\n            fetchOpts.credentials = 'omit';\r\n        else\r\n            fetchOpts.credentials = 'same-origin';\r\n        return fetchOpts;\r\n    }\r\n    function processPreload(link) {\r\n        if (link.ep)\r\n            // ep marker = processed\r\n            return;\r\n        link.ep = true;\r\n        // prepopulate the load record\r\n        const fetchOpts = getFetchOpts(link);\r\n        fetch(link.href, fetchOpts);\r\n    }\r\n}\r\n\r\nconst htmlProxyRE$1 = /\\?html-proxy=?(?:&inline-css)?&index=(\\d+)\\.(js|css)$/;\r\nconst inlineCSSRE$1 = /__VITE_INLINE_CSS__([a-z\\d]{8}_\\d+)__/g;\r\n// Do not allow preceding '.', but do allow preceding '...' for spread operations\r\nconst inlineImportRE = /(?<!(?<!\\.\\.)\\.)\\bimport\\s*\\((\"([^\"]|(?<=\\\\)\")*\"|'([^']|(?<=\\\\)')*')\\)/g;\r\nconst htmlLangRE = /\\.(html|htm)$/;\r\nconst isHTMLProxy = (id) => htmlProxyRE$1.test(id);\r\nconst isHTMLRequest = (request) => htmlLangRE.test(request);\r\n// HTML Proxy Caches are stored by config -> filePath -> index\r\nconst htmlProxyMap = new WeakMap();\r\n// HTML Proxy Transform result are stored by config\r\n// `${hash(importer)}_${query.index}` -> transformed css code\r\n// PS: key like `hash(/vite/playground/assets/index.html)_1`)\r\nconst htmlProxyResult = new Map();\r\nfunction htmlInlineProxyPlugin(config) {\r\n    // Should do this when `constructor` rather than when `buildStart`,\r\n    // `buildStart` will be triggered multiple times then the cached result will be emptied.\r\n    // https://github.com/vitejs/vite/issues/6372\r\n    htmlProxyMap.set(config, new Map());\r\n    return {\r\n        name: 'vite:html-inline-proxy',\r\n        resolveId(id) {\r\n            if (htmlProxyRE$1.test(id)) {\r\n                return id;\r\n            }\r\n        },\r\n        load(id) {\r\n            const proxyMatch = id.match(htmlProxyRE$1);\r\n            if (proxyMatch) {\r\n                const index = Number(proxyMatch[1]);\r\n                const file = cleanUrl(id);\r\n                const url = file.replace(normalizePath$3(config.root), '');\r\n                const result = htmlProxyMap.get(config).get(url)[index];\r\n                if (result) {\r\n                    return result;\r\n                }\r\n                else {\r\n                    throw new Error(`No matching HTML proxy module found from ${id}`);\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction addToHTMLProxyCache(config, filePath, index, result) {\r\n    if (!htmlProxyMap.get(config)) {\r\n        htmlProxyMap.set(config, new Map());\r\n    }\r\n    if (!htmlProxyMap.get(config).get(filePath)) {\r\n        htmlProxyMap.get(config).set(filePath, []);\r\n    }\r\n    htmlProxyMap.get(config).get(filePath)[index] = result;\r\n}\r\nfunction addToHTMLProxyTransformResult(hash, code) {\r\n    htmlProxyResult.set(hash, code);\r\n}\r\n// this extends the config in @vue/compiler-sfc with <link href>\r\nconst assetAttrsConfig = {\r\n    link: ['href'],\r\n    video: ['src', 'poster'],\r\n    source: ['src', 'srcset'],\r\n    img: ['src', 'srcset'],\r\n    image: ['xlink:href', 'href'],\r\n    use: ['xlink:href', 'href']\r\n};\r\nconst isAsyncScriptMap = new WeakMap();\r\nasync function traverseHtml(html, filePath, visitor) {\r\n    // lazy load compiler\r\n    const { parse, transform } = await import('./dep-9d3f225a.js').then(function (n) { return n.c; });\r\n    // @vue/compiler-core doesn't like lowercase doctypes\r\n    html = html.replace(/<!doctype\\s/i, '<!DOCTYPE ');\r\n    try {\r\n        const ast = parse(html, { comments: true });\r\n        transform(ast, {\r\n            nodeTransforms: [visitor]\r\n        });\r\n    }\r\n    catch (e) {\r\n        handleParseError(e, html, filePath);\r\n    }\r\n}\r\nfunction getScriptInfo(node) {\r\n    let src;\r\n    let isModule = false;\r\n    let isAsync = false;\r\n    for (let i = 0; i < node.props.length; i++) {\r\n        const p = node.props[i];\r\n        if (p.type === 6 /* ATTRIBUTE */) {\r\n            if (p.name === 'src') {\r\n                src = p;\r\n            }\r\n            else if (p.name === 'type' && p.value && p.value.content === 'module') {\r\n                isModule = true;\r\n            }\r\n            else if (p.name === 'async') {\r\n                isAsync = true;\r\n            }\r\n        }\r\n    }\r\n    return { src, isModule, isAsync };\r\n}\r\n/**\r\n * Format Vue @type {CompilerError} to @type {RollupError}\r\n */\r\nfunction formatParseError(compilerError, id, html) {\r\n    const formattedError = { ...compilerError };\r\n    if (compilerError.loc) {\r\n        formattedError.frame = generateCodeFrame(html, compilerError.loc.start.offset);\r\n        formattedError.loc = {\r\n            file: id,\r\n            line: compilerError.loc.start.line,\r\n            column: compilerError.loc.start.column\r\n        };\r\n    }\r\n    return formattedError;\r\n}\r\nfunction handleParseError(compilerError, html, filePath) {\r\n    const parseError = {\r\n        loc: filePath,\r\n        frame: '',\r\n        ...formatParseError(compilerError, filePath, html)\r\n    };\r\n    throw new Error(`Unable to parse HTML; ${compilerError.message}\\n at ${JSON.stringify(parseError.loc)}\\n${parseError.frame}`);\r\n}\r\n/**\r\n * Compiles index.html into an entry js module\r\n */\r\nfunction buildHtmlPlugin(config) {\r\n    const [preHooks, postHooks] = resolveHtmlTransforms(config.plugins);\r\n    const processedHtml = new Map();\r\n    const isExcludedUrl = (url) => url.startsWith('#') ||\r\n        isExternalUrl(url) ||\r\n        isDataUrl(url) ||\r\n        checkPublicFile(url, config);\r\n    // Same reason with `htmlInlineProxyPlugin`\r\n    isAsyncScriptMap.set(config, new Map());\r\n    return {\r\n        name: 'vite:build-html',\r\n        async transform(html, id) {\r\n            if (id.endsWith('.html')) {\r\n                const relativeUrlPath = slash$1(path$n.relative(config.root, id));\r\n                const publicPath = `/${relativeUrlPath}`;\r\n                const publicBase = getBaseInHTML(relativeUrlPath, config);\r\n                const publicToRelative = (filename, importer) => publicBase + filename;\r\n                const toOutputPublicFilePath = (url) => toOutputFilePathInHtml(url.slice(1), 'public', relativeUrlPath, 'html', config, publicToRelative);\r\n                // pre-transform\r\n                html = await applyHtmlTransforms(html, preHooks, {\r\n                    path: publicPath,\r\n                    filename: id\r\n                });\r\n                let js = '';\r\n                const s = new MagicString(html);\r\n                const assetUrls = [];\r\n                const scriptUrls = [];\r\n                const styleUrls = [];\r\n                let inlineModuleIndex = -1;\r\n                let everyScriptIsAsync = true;\r\n                let someScriptsAreAsync = false;\r\n                let someScriptsAreDefer = false;\r\n                await traverseHtml(html, id, (node) => {\r\n                    if (node.type !== 1 /* ELEMENT */) {\r\n                        return;\r\n                    }\r\n                    let shouldRemove = false;\r\n                    // script tags\r\n                    if (node.tag === 'script') {\r\n                        const { src, isModule, isAsync } = getScriptInfo(node);\r\n                        const url = src && src.value && src.value.content;\r\n                        const isPublicFile = !!(url && checkPublicFile(url, config));\r\n                        if (isPublicFile) {\r\n                            // referencing public dir url, prefix with base\r\n                            s.overwrite(src.value.loc.start.offset, src.value.loc.end.offset, `\"${toOutputPublicFilePath(url)}\"`, { contentOnly: true });\r\n                        }\r\n                        if (isModule) {\r\n                            inlineModuleIndex++;\r\n                            if (url && !isExcludedUrl(url)) {\r\n                                // <script type=\"module\" src=\"...\"/>\r\n                                // add it as an import\r\n                                js += `\\nimport ${JSON.stringify(url)}`;\r\n                                shouldRemove = true;\r\n                            }\r\n                            else if (node.children.length) {\r\n                                const contents = node.children\r\n                                    .map((child) => child.content || '')\r\n                                    .join('');\r\n                                // <script type=\"module\">...</script>\r\n                                const filePath = id.replace(normalizePath$3(config.root), '');\r\n                                addToHTMLProxyCache(config, filePath, inlineModuleIndex, {\r\n                                    code: contents\r\n                                });\r\n                                js += `\\nimport \"${id}?html-proxy&index=${inlineModuleIndex}.js\"`;\r\n                                shouldRemove = true;\r\n                            }\r\n                            everyScriptIsAsync && (everyScriptIsAsync = isAsync);\r\n                            someScriptsAreAsync || (someScriptsAreAsync = isAsync);\r\n                            someScriptsAreDefer || (someScriptsAreDefer = !isAsync);\r\n                        }\r\n                        else if (url && !isPublicFile) {\r\n                            if (!isExcludedUrl(url)) {\r\n                                config.logger.warn(`<script src=\"${url}\"> in \"${publicPath}\" can't be bundled without type=\"module\" attribute`);\r\n                            }\r\n                        }\r\n                        else if (node.children.length) {\r\n                            const scriptNode = node.children.pop();\r\n                            const cleanCode = stripLiteral(scriptNode.content);\r\n                            let match;\r\n                            while ((match = inlineImportRE.exec(cleanCode))) {\r\n                                const { 1: url, index } = match;\r\n                                const startUrl = cleanCode.indexOf(url, index);\r\n                                const start = startUrl + 1;\r\n                                const end = start + url.length - 2;\r\n                                scriptUrls.push({\r\n                                    start: start + scriptNode.loc.start.offset,\r\n                                    end: end + scriptNode.loc.start.offset,\r\n                                    url: scriptNode.content.slice(start, end)\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                    // For asset references in index.html, also generate an import\r\n                    // statement for each - this will be handled by the asset plugin\r\n                    const assetAttrs = assetAttrsConfig[node.tag];\r\n                    if (assetAttrs) {\r\n                        for (const p of node.props) {\r\n                            if (p.type === 6 /* ATTRIBUTE */ &&\r\n                                p.value &&\r\n                                assetAttrs.includes(p.name)) {\r\n                                // assetsUrl may be encodeURI\r\n                                const url = decodeURI(p.value.content);\r\n                                if (!isExcludedUrl(url)) {\r\n                                    if (node.tag === 'link' &&\r\n                                        isCSSRequest(url) &&\r\n                                        // should not be converted if following attributes are present (#6748)\r\n                                        !node.props.some((p) => p.name === 'media' || p.name === 'disabled')) {\r\n                                        // CSS references, convert to import\r\n                                        const importExpression = `\\nimport ${JSON.stringify(url)}`;\r\n                                        styleUrls.push({\r\n                                            url,\r\n                                            start: node.loc.start.offset,\r\n                                            end: node.loc.end.offset\r\n                                        });\r\n                                        js += importExpression;\r\n                                    }\r\n                                    else {\r\n                                        assetUrls.push(p);\r\n                                    }\r\n                                }\r\n                                else if (checkPublicFile(url, config)) {\r\n                                    s.overwrite(p.value.loc.start.offset, p.value.loc.end.offset, `\"${toOutputPublicFilePath(url)}\"`, { contentOnly: true });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    // <tag style=\"... url(...) ...\"></tag>\r\n                    // extract inline styles as virtual css and add class attribute to tag for selecting\r\n                    const inlineStyle = node.props.find((prop) => prop.name === 'style' &&\r\n                        prop.type === 6 /* ATTRIBUTE */ &&\r\n                        prop.value &&\r\n                        prop.value.content.includes('url(') // only url(...) in css need to emit file\r\n                    );\r\n                    if (inlineStyle) {\r\n                        inlineModuleIndex++;\r\n                        // replace `inline style` to class\r\n                        // and import css in js code\r\n                        const styleNode = inlineStyle.value;\r\n                        const code = styleNode.content;\r\n                        const filePath = id.replace(normalizePath$3(config.root), '');\r\n                        addToHTMLProxyCache(config, filePath, inlineModuleIndex, { code });\r\n                        // will transform with css plugin and cache result with css-post plugin\r\n                        js += `\\nimport \"${id}?html-proxy&inline-css&index=${inlineModuleIndex}.css\"`;\r\n                        const hash = getHash(cleanUrl(id));\r\n                        // will transform in `applyHtmlTransforms`\r\n                        s.overwrite(styleNode.loc.start.offset, styleNode.loc.end.offset, `\"__VITE_INLINE_CSS__${hash}_${inlineModuleIndex}__\"`, { contentOnly: true });\r\n                    }\r\n                    // <style>...</style>\r\n                    if (node.tag === 'style' && node.children.length) {\r\n                        const styleNode = node.children.pop();\r\n                        const filePath = id.replace(normalizePath$3(config.root), '');\r\n                        inlineModuleIndex++;\r\n                        addToHTMLProxyCache(config, filePath, inlineModuleIndex, {\r\n                            code: styleNode.content\r\n                        });\r\n                        js += `\\nimport \"${id}?html-proxy&inline-css&index=${inlineModuleIndex}.css\"`;\r\n                        const hash = getHash(cleanUrl(id));\r\n                        // will transform in `applyHtmlTransforms`\r\n                        s.overwrite(styleNode.loc.start.offset, styleNode.loc.end.offset, `__VITE_INLINE_CSS__${hash}_${inlineModuleIndex}__`, { contentOnly: true });\r\n                    }\r\n                    if (shouldRemove) {\r\n                        // remove the script tag from the html. we are going to inject new\r\n                        // ones in the end.\r\n                        s.remove(node.loc.start.offset, node.loc.end.offset);\r\n                    }\r\n                });\r\n                isAsyncScriptMap.get(config).set(id, everyScriptIsAsync);\r\n                if (someScriptsAreAsync && someScriptsAreDefer) {\r\n                    config.logger.warn(`\\nMixed async and defer script modules in ${id}, output script will fallback to defer. Every script, including inline ones, need to be marked as async for your output script to be async.`);\r\n                }\r\n                // for each encountered asset url, rewrite original html so that it\r\n                // references the post-build location, ignoring empty attributes and\r\n                // attributes that directly reference named output.\r\n                const namedOutput = Object.keys(config?.build?.rollupOptions?.input || {});\r\n                for (const attr of assetUrls) {\r\n                    const value = attr.value;\r\n                    // assetsUrl may be encodeURI\r\n                    const content = decodeURI(value.content);\r\n                    if (content !== '' && // Empty attribute\r\n                        !namedOutput.includes(content) && // Direct reference to named output\r\n                        !namedOutput.includes(content.replace(/^\\//, '')) // Allow for absolute references as named output can't be an absolute path\r\n                    ) {\r\n                        try {\r\n                            const url = attr.name === 'srcset'\r\n                                ? await processSrcSet(content, ({ url }) => urlToBuiltUrl(url, id, config, this))\r\n                                : await urlToBuiltUrl(content, id, config, this);\r\n                            s.overwrite(value.loc.start.offset, value.loc.end.offset, `\"${url}\"`, { contentOnly: true });\r\n                        }\r\n                        catch (e) {\r\n                            if (e.code !== 'ENOENT') {\r\n                                throw e;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                // emit <script>import(\"./aaa\")</script> asset\r\n                for (const { start, end, url } of scriptUrls) {\r\n                    if (!isExcludedUrl(url)) {\r\n                        s.overwrite(start, end, await urlToBuiltUrl(url, id, config, this), { contentOnly: true });\r\n                    }\r\n                    else if (checkPublicFile(url, config)) {\r\n                        s.overwrite(start, end, toOutputPublicFilePath(url), {\r\n                            contentOnly: true\r\n                        });\r\n                    }\r\n                }\r\n                // ignore <link rel=\"stylesheet\"> if its url can't be resolved\r\n                const resolvedStyleUrls = await Promise.all(styleUrls.map(async (styleUrl) => ({\r\n                    ...styleUrl,\r\n                    resolved: await this.resolve(styleUrl.url, id)\r\n                })));\r\n                for (const { start, end, url, resolved } of resolvedStyleUrls) {\r\n                    if (resolved == null) {\r\n                        config.logger.warnOnce(`\\n${url} doesn't exist at build time, it will remain unchanged to be resolved at runtime`);\r\n                        const importExpression = `\\nimport ${JSON.stringify(url)}`;\r\n                        js = js.replace(importExpression, '');\r\n                    }\r\n                    else {\r\n                        s.remove(start, end);\r\n                    }\r\n                }\r\n                processedHtml.set(id, s.toString());\r\n                // inject module preload polyfill only when configured and needed\r\n                if (config.build.polyfillModulePreload &&\r\n                    (someScriptsAreAsync || someScriptsAreDefer)) {\r\n                    js = `import \"${modulePreloadPolyfillId}\";\\n${js}`;\r\n                }\r\n                return js;\r\n            }\r\n        },\r\n        async generateBundle(options, bundle) {\r\n            const analyzedChunk = new Map();\r\n            const getImportedChunks = (chunk, seen = new Set()) => {\r\n                const chunks = [];\r\n                chunk.imports.forEach((file) => {\r\n                    const importee = bundle[file];\r\n                    if (importee?.type === 'chunk' && !seen.has(file)) {\r\n                        seen.add(file);\r\n                        // post-order traversal\r\n                        chunks.push(...getImportedChunks(importee, seen));\r\n                        chunks.push(importee);\r\n                    }\r\n                });\r\n                return chunks;\r\n            };\r\n            const toScriptTag = (chunk, toOutputPath, isAsync) => ({\r\n                tag: 'script',\r\n                attrs: {\r\n                    ...(isAsync ? { async: true } : {}),\r\n                    type: 'module',\r\n                    crossorigin: true,\r\n                    src: toOutputPath(chunk.fileName)\r\n                }\r\n            });\r\n            const toPreloadTag = (chunk, toOutputPath) => ({\r\n                tag: 'link',\r\n                attrs: {\r\n                    rel: 'modulepreload',\r\n                    crossorigin: true,\r\n                    href: toOutputPath(chunk.fileName)\r\n                }\r\n            });\r\n            const getCssTagsForChunk = (chunk, toOutputPath, seen = new Set()) => {\r\n                const tags = [];\r\n                if (!analyzedChunk.has(chunk)) {\r\n                    analyzedChunk.set(chunk, 1);\r\n                    chunk.imports.forEach((file) => {\r\n                        const importee = bundle[file];\r\n                        if (importee?.type === 'chunk') {\r\n                            tags.push(...getCssTagsForChunk(importee, toOutputPath, seen));\r\n                        }\r\n                    });\r\n                }\r\n                chunk.viteMetadata.importedCss.forEach((file) => {\r\n                    if (!seen.has(file)) {\r\n                        seen.add(file);\r\n                        tags.push({\r\n                            tag: 'link',\r\n                            attrs: {\r\n                                rel: 'stylesheet',\r\n                                href: toOutputPath(file)\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                return tags;\r\n            };\r\n            for (const [id, html] of processedHtml) {\r\n                const relativeUrlPath = path$n.posix.relative(config.root, id);\r\n                const assetsBase = getBaseInHTML(relativeUrlPath, config);\r\n                const toOutputFilePath = (filename, type) => {\r\n                    if (isExternalUrl(filename)) {\r\n                        return filename;\r\n                    }\r\n                    else {\r\n                        return toOutputFilePathInHtml(filename, type, relativeUrlPath, 'html', config, (filename, importer) => assetsBase + filename);\r\n                    }\r\n                };\r\n                const toOutputAssetFilePath = (filename) => toOutputFilePath(filename, 'asset');\r\n                const toOutputPublicAssetFilePath = (filename) => toOutputFilePath(filename, 'public');\r\n                const isAsync = isAsyncScriptMap.get(config).get(id);\r\n                let result = html;\r\n                // find corresponding entry chunk\r\n                const chunk = Object.values(bundle).find((chunk) => chunk.type === 'chunk' &&\r\n                    chunk.isEntry &&\r\n                    chunk.facadeModuleId === id);\r\n                let canInlineEntry = false;\r\n                // inject chunk asset links\r\n                if (chunk) {\r\n                    // an entry chunk can be inlined if\r\n                    //  - it's an ES module (e.g. not generated by the legacy plugin)\r\n                    //  - it contains no meaningful code other than import statements\r\n                    if (options.format === 'es' && isEntirelyImport(chunk.code)) {\r\n                        canInlineEntry = true;\r\n                    }\r\n                    // when not inlined, inject <script> for entry and modulepreload its dependencies\r\n                    // when inlined, discard entry chunk and inject <script> for everything in post-order\r\n                    const imports = getImportedChunks(chunk);\r\n                    const assetTags = canInlineEntry\r\n                        ? imports.map((chunk) => toScriptTag(chunk, toOutputAssetFilePath, isAsync))\r\n                        : [\r\n                            toScriptTag(chunk, toOutputAssetFilePath, isAsync),\r\n                            ...imports.map((i) => toPreloadTag(i, toOutputAssetFilePath))\r\n                        ];\r\n                    assetTags.push(...getCssTagsForChunk(chunk, toOutputAssetFilePath));\r\n                    result = injectToHead(result, assetTags);\r\n                }\r\n                // inject css link when cssCodeSplit is false\r\n                if (!config.build.cssCodeSplit) {\r\n                    const cssChunk = Object.values(bundle).find((chunk) => chunk.type === 'asset' && chunk.name === 'style.css');\r\n                    if (cssChunk) {\r\n                        result = injectToHead(result, [\r\n                            {\r\n                                tag: 'link',\r\n                                attrs: {\r\n                                    rel: 'stylesheet',\r\n                                    href: toOutputAssetFilePath(cssChunk.fileName)\r\n                                }\r\n                            }\r\n                        ]);\r\n                    }\r\n                }\r\n                // no use assets plugin because it will emit file\r\n                let match;\r\n                let s;\r\n                while ((match = inlineCSSRE$1.exec(result))) {\r\n                    s || (s = new MagicString(result));\r\n                    const { 0: full, 1: scopedName } = match;\r\n                    const cssTransformedCode = htmlProxyResult.get(scopedName);\r\n                    s.overwrite(match.index, match.index + full.length, cssTransformedCode, { contentOnly: true });\r\n                }\r\n                if (s) {\r\n                    result = s.toString();\r\n                }\r\n                result = await applyHtmlTransforms(result, postHooks, {\r\n                    path: '/' + relativeUrlPath,\r\n                    filename: id,\r\n                    bundle,\r\n                    chunk\r\n                });\r\n                // resolve asset url references\r\n                result = result.replace(assetUrlRE, (_, fileHash, postfix = '') => {\r\n                    return (toOutputAssetFilePath(getAssetFilename(fileHash, config)) + postfix);\r\n                });\r\n                result = result.replace(publicAssetUrlRE, (_, fileHash) => {\r\n                    return normalizePath$3(toOutputPublicAssetFilePath(getPublicAssetFilename(fileHash, config)));\r\n                });\r\n                if (chunk && canInlineEntry) {\r\n                    // all imports from entry have been inlined to html, prevent rollup from outputting it\r\n                    delete bundle[chunk.fileName];\r\n                }\r\n                const shortEmitName = normalizePath$3(path$n.relative(config.root, id));\r\n                this.emitFile({\r\n                    type: 'asset',\r\n                    fileName: shortEmitName,\r\n                    source: result\r\n                });\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction resolveHtmlTransforms(plugins) {\r\n    const preHooks = [];\r\n    const postHooks = [];\r\n    for (const plugin of plugins) {\r\n        const hook = plugin.transformIndexHtml;\r\n        if (hook) {\r\n            if (typeof hook === 'function') {\r\n                postHooks.push(hook);\r\n            }\r\n            else if (hook.enforce === 'pre') {\r\n                preHooks.push(hook.transform);\r\n            }\r\n            else {\r\n                postHooks.push(hook.transform);\r\n            }\r\n        }\r\n    }\r\n    return [preHooks, postHooks];\r\n}\r\nasync function applyHtmlTransforms(html, hooks, ctx) {\r\n    for (const hook of hooks) {\r\n        const res = await hook(html, ctx);\r\n        if (!res) {\r\n            continue;\r\n        }\r\n        if (typeof res === 'string') {\r\n            html = res;\r\n        }\r\n        else {\r\n            let tags;\r\n            if (Array.isArray(res)) {\r\n                tags = res;\r\n            }\r\n            else {\r\n                html = res.html || html;\r\n                tags = res.tags;\r\n            }\r\n            const headTags = [];\r\n            const headPrependTags = [];\r\n            const bodyTags = [];\r\n            const bodyPrependTags = [];\r\n            for (const tag of tags) {\r\n                if (tag.injectTo === 'body') {\r\n                    bodyTags.push(tag);\r\n                }\r\n                else if (tag.injectTo === 'body-prepend') {\r\n                    bodyPrependTags.push(tag);\r\n                }\r\n                else if (tag.injectTo === 'head') {\r\n                    headTags.push(tag);\r\n                }\r\n                else {\r\n                    headPrependTags.push(tag);\r\n                }\r\n            }\r\n            html = injectToHead(html, headPrependTags, true);\r\n            html = injectToHead(html, headTags);\r\n            html = injectToBody(html, bodyPrependTags, true);\r\n            html = injectToBody(html, bodyTags);\r\n        }\r\n    }\r\n    return html;\r\n}\r\nconst importRE = /\\bimport\\s*(\"[^\"]*[^\\\\]\"|'[^']*[^\\\\]');*/g;\r\nconst commentRE = /\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*$/gm;\r\nfunction isEntirelyImport(code) {\r\n    // only consider \"side-effect\" imports, which match <script type=module> semantics exactly\r\n    // the regexes will remove too little in some exotic cases, but false-negatives are alright\r\n    return !code.replace(importRE, '').replace(commentRE, '').trim().length;\r\n}\r\nfunction getBaseInHTML(urlRelativePath, config) {\r\n    // Prefer explicit URL if defined for linking to assets and public files from HTML,\r\n    // even when base relative is specified\r\n    return config.base === './' || config.base === ''\r\n        ? path$n.posix.join(path$n.posix.relative(urlRelativePath, '').slice(0, -2), './')\r\n        : config.base;\r\n}\r\nconst headInjectRE = /([ \\t]*)<\\/head>/i;\r\nconst headPrependInjectRE = /([ \\t]*)<head[^>]*>/i;\r\nconst htmlInjectRE = /<\\/html>/i;\r\nconst htmlPrependInjectRE = /([ \\t]*)<html[^>]*>/i;\r\nconst bodyInjectRE = /([ \\t]*)<\\/body>/i;\r\nconst bodyPrependInjectRE = /([ \\t]*)<body[^>]*>/i;\r\nconst doctypePrependInjectRE = /<!doctype html>/i;\r\nfunction injectToHead(html, tags, prepend = false) {\r\n    if (tags.length === 0)\r\n        return html;\r\n    if (prepend) {\r\n        // inject as the first element of head\r\n        if (headPrependInjectRE.test(html)) {\r\n            return html.replace(headPrependInjectRE, (match, p1) => `${match}\\n${serializeTags(tags, incrementIndent(p1))}`);\r\n        }\r\n    }\r\n    else {\r\n        // inject before head close\r\n        if (headInjectRE.test(html)) {\r\n            // respect indentation of head tag\r\n            return html.replace(headInjectRE, (match, p1) => `${serializeTags(tags, incrementIndent(p1))}${match}`);\r\n        }\r\n        // try to inject before the body tag\r\n        if (bodyPrependInjectRE.test(html)) {\r\n            return html.replace(bodyPrependInjectRE, (match, p1) => `${serializeTags(tags, p1)}\\n${match}`);\r\n        }\r\n    }\r\n    // if no head tag is present, we prepend the tag for both prepend and append\r\n    return prependInjectFallback(html, tags);\r\n}\r\nfunction injectToBody(html, tags, prepend = false) {\r\n    if (tags.length === 0)\r\n        return html;\r\n    if (prepend) {\r\n        // inject after body open\r\n        if (bodyPrependInjectRE.test(html)) {\r\n            return html.replace(bodyPrependInjectRE, (match, p1) => `${match}\\n${serializeTags(tags, incrementIndent(p1))}`);\r\n        }\r\n        // if no there is no body tag, inject after head or fallback to prepend in html\r\n        if (headInjectRE.test(html)) {\r\n            return html.replace(headInjectRE, (match, p1) => `${match}\\n${serializeTags(tags, p1)}`);\r\n        }\r\n        return prependInjectFallback(html, tags);\r\n    }\r\n    else {\r\n        // inject before body close\r\n        if (bodyInjectRE.test(html)) {\r\n            return html.replace(bodyInjectRE, (match, p1) => `${serializeTags(tags, incrementIndent(p1))}${match}`);\r\n        }\r\n        // if no body tag is present, append to the html tag, or at the end of the file\r\n        if (htmlInjectRE.test(html)) {\r\n            return html.replace(htmlInjectRE, `${serializeTags(tags)}\\n$&`);\r\n        }\r\n        return html + `\\n` + serializeTags(tags);\r\n    }\r\n}\r\nfunction prependInjectFallback(html, tags) {\r\n    // prepend to the html tag, append after doctype, or the document start\r\n    if (htmlPrependInjectRE.test(html)) {\r\n        return html.replace(htmlPrependInjectRE, `$&\\n${serializeTags(tags)}`);\r\n    }\r\n    if (doctypePrependInjectRE.test(html)) {\r\n        return html.replace(doctypePrependInjectRE, `$&\\n${serializeTags(tags)}`);\r\n    }\r\n    return serializeTags(tags) + html;\r\n}\r\nconst unaryTags = new Set(['link', 'meta', 'base']);\r\nfunction serializeTag({ tag, attrs, children }, indent = '') {\r\n    if (unaryTags.has(tag)) {\r\n        return `<${tag}${serializeAttrs(attrs)}>`;\r\n    }\r\n    else {\r\n        return `<${tag}${serializeAttrs(attrs)}>${serializeTags(children, incrementIndent(indent))}</${tag}>`;\r\n    }\r\n}\r\nfunction serializeTags(tags, indent = '') {\r\n    if (typeof tags === 'string') {\r\n        return tags;\r\n    }\r\n    else if (tags && tags.length) {\r\n        return tags.map((tag) => `${indent}${serializeTag(tag, indent)}\\n`).join('');\r\n    }\r\n    return '';\r\n}\r\nfunction serializeAttrs(attrs) {\r\n    let res = '';\r\n    for (const key in attrs) {\r\n        if (typeof attrs[key] === 'boolean') {\r\n            res += attrs[key] ? ` ${key}` : ``;\r\n        }\r\n        else {\r\n            res += ` ${key}=${JSON.stringify(attrs[key])}`;\r\n        }\r\n    }\r\n    return res;\r\n}\r\nfunction incrementIndent(indent = '') {\r\n    return `${indent}${indent[0] === '\\t' ? '\\t' : '  '}`;\r\n}\r\n\r\nconst cssLangs = `\\\\.(css|less|sass|scss|styl|stylus|pcss|postcss)($|\\\\?)`;\r\nconst cssLangRE = new RegExp(cssLangs);\r\nconst cssModuleRE = new RegExp(`\\\\.module${cssLangs}`);\r\nconst directRequestRE = /(\\?|&)direct\\b/;\r\nconst htmlProxyRE = /(\\?|&)html-proxy\\b/;\r\nconst commonjsProxyRE = /\\?commonjs-proxy/;\r\nconst inlineRE = /(\\?|&)inline\\b/;\r\nconst inlineCSSRE = /(\\?|&)inline-css\\b/;\r\nconst usedRE = /(\\?|&)used\\b/;\r\nconst varRE = /^var\\(/i;\r\nconst cssBundleName = 'style.css';\r\nconst isCSSRequest = (request) => cssLangRE.test(request);\r\nconst isDirectCSSRequest = (request) => cssLangRE.test(request) && directRequestRE.test(request);\r\nconst isDirectRequest = (request) => directRequestRE.test(request);\r\nconst cssModulesCache = new WeakMap();\r\nconst removedPureCssFilesCache = new WeakMap();\r\nconst cssEntryFilesCache = new WeakMap();\r\nconst postcssConfigCache = new WeakMap();\r\nfunction encodePublicUrlsInCSS(config) {\r\n    return config.command === 'build';\r\n}\r\n/**\r\n * Plugin applied before user plugins\r\n */\r\nfunction cssPlugin(config) {\r\n    let server;\r\n    let moduleCache;\r\n    const resolveUrl = config.createResolver({\r\n        preferRelative: true,\r\n        tryIndex: false,\r\n        extensions: []\r\n    });\r\n    const atImportResolvers = createCSSResolvers(config);\r\n    return {\r\n        name: 'vite:css',\r\n        configureServer(_server) {\r\n            server = _server;\r\n        },\r\n        buildStart() {\r\n            // Ensure a new cache for every build (i.e. rebuilding in watch mode)\r\n            moduleCache = new Map();\r\n            cssModulesCache.set(config, moduleCache);\r\n            removedPureCssFilesCache.set(config, new Map());\r\n            cssEntryFilesCache.set(config, new Set());\r\n        },\r\n        async transform(raw, id, options) {\r\n            if (!isCSSRequest(id) ||\r\n                commonjsProxyRE.test(id) ||\r\n                SPECIAL_QUERY_RE.test(id)) {\r\n                return;\r\n            }\r\n            const ssr = options?.ssr === true;\r\n            const urlReplacer = async (url, importer) => {\r\n                if (checkPublicFile(url, config)) {\r\n                    if (encodePublicUrlsInCSS(config)) {\r\n                        return publicFileToBuiltUrl(url, config);\r\n                    }\r\n                    else {\r\n                        return config.base + url.slice(1);\r\n                    }\r\n                }\r\n                const resolved = await resolveUrl(url, importer);\r\n                if (resolved) {\r\n                    return fileToUrl(resolved, config, this);\r\n                }\r\n                return url;\r\n            };\r\n            const { code: css, modules, deps, map } = await compileCSS(id, raw, config, urlReplacer, atImportResolvers);\r\n            if (modules) {\r\n                moduleCache.set(id, modules);\r\n            }\r\n            // track deps for build watch mode\r\n            if (config.command === 'build' && config.build.watch && deps) {\r\n                for (const file of deps) {\r\n                    this.addWatchFile(file);\r\n                }\r\n            }\r\n            // dev\r\n            if (server) {\r\n                // server only logic for handling CSS @import dependency hmr\r\n                const { moduleGraph } = server;\r\n                const thisModule = moduleGraph.getModuleById(id);\r\n                const devBase = config.base;\r\n                if (thisModule) {\r\n                    // CSS modules cannot self-accept since it exports values\r\n                    const isSelfAccepting = !modules && !inlineRE.test(id) && !htmlProxyRE.test(id);\r\n                    if (deps) {\r\n                        // record deps in the module graph so edits to @import css can trigger\r\n                        // main import to hot update\r\n                        const depModules = new Set();\r\n                        for (const file of deps) {\r\n                            depModules.add(isCSSRequest(file)\r\n                                ? moduleGraph.createFileOnlyEntry(file)\r\n                                : await moduleGraph.ensureEntryFromUrl((await fileToUrl(file, config, this)).replace((config.server?.origin ?? '') + devBase, '/'), ssr));\r\n                        }\r\n                        moduleGraph.updateModuleInfo(thisModule, depModules, null, \r\n                        // The root CSS proxy module is self-accepting and should not\r\n                        // have an explicit accept list\r\n                        new Set(), null, isSelfAccepting, ssr);\r\n                        for (const file of deps) {\r\n                            this.addWatchFile(file);\r\n                        }\r\n                    }\r\n                    else {\r\n                        thisModule.isSelfAccepting = isSelfAccepting;\r\n                    }\r\n                }\r\n            }\r\n            return {\r\n                code: css,\r\n                map\r\n            };\r\n        }\r\n    };\r\n}\r\n/**\r\n * Plugin applied after user plugins\r\n */\r\nfunction cssPostPlugin(config) {\r\n    // styles initialization in buildStart causes a styling loss in watch\r\n    const styles = new Map();\r\n    let pureCssChunks;\r\n    // when there are multiple rollup outputs and extracting CSS, only emit once,\r\n    // since output formats have no effect on the generated CSS.\r\n    let outputToExtractedCSSMap;\r\n    let hasEmitted = false;\r\n    const rollupOptionsOutput = config.build.rollupOptions.output;\r\n    const assetFileNames = (Array.isArray(rollupOptionsOutput)\r\n        ? rollupOptionsOutput[0]\r\n        : rollupOptionsOutput)?.assetFileNames;\r\n    const getCssAssetDirname = (cssAssetName) => {\r\n        if (!assetFileNames) {\r\n            return config.build.assetsDir;\r\n        }\r\n        else if (typeof assetFileNames === 'string') {\r\n            return path$n.dirname(assetFileNames);\r\n        }\r\n        else {\r\n            return path$n.dirname(assetFileNames({\r\n                name: cssAssetName,\r\n                type: 'asset',\r\n                source: '/* vite internal call, ignore */'\r\n            }));\r\n        }\r\n    };\r\n    return {\r\n        name: 'vite:css-post',\r\n        buildStart() {\r\n            // Ensure new caches for every build (i.e. rebuilding in watch mode)\r\n            pureCssChunks = new Set();\r\n            outputToExtractedCSSMap = new Map();\r\n            hasEmitted = false;\r\n        },\r\n        async transform(css, id, options) {\r\n            if (!isCSSRequest(id) ||\r\n                commonjsProxyRE.test(id) ||\r\n                SPECIAL_QUERY_RE.test(id)) {\r\n                return;\r\n            }\r\n            const inlined = inlineRE.test(id);\r\n            const modules = cssModulesCache.get(config).get(id);\r\n            // #6984, #7552\r\n            // `foo.module.css` => modulesCode\r\n            // `foo.module.css?inline` => cssContent\r\n            const modulesCode = modules &&\r\n                !inlined &&\r\n                dataToEsm(modules, { namedExports: true, preferConst: true });\r\n            if (config.command === 'serve') {\r\n                const getContentWithSourcemap = async (content) => {\r\n                    if (config.css?.devSourcemap) {\r\n                        const sourcemap = this.getCombinedSourcemap();\r\n                        await injectSourcesContent(sourcemap, cleanUrl(id), config.logger);\r\n                        return getCodeWithSourcemap('css', content, sourcemap);\r\n                    }\r\n                    return content;\r\n                };\r\n                if (isDirectCSSRequest(id)) {\r\n                    return await getContentWithSourcemap(css);\r\n                }\r\n                // server only\r\n                if (options?.ssr) {\r\n                    return modulesCode || `export default ${JSON.stringify(css)}`;\r\n                }\r\n                if (inlined) {\r\n                    return `export default ${JSON.stringify(css)}`;\r\n                }\r\n                const cssContent = await getContentWithSourcemap(css);\r\n                const devBase = config.base;\r\n                return [\r\n                    `import { updateStyle as __vite__updateStyle, removeStyle as __vite__removeStyle } from ${JSON.stringify(path$n.posix.join(devBase, CLIENT_PUBLIC_PATH))}`,\r\n                    `const __vite__id = ${JSON.stringify(id)}`,\r\n                    `const __vite__css = ${JSON.stringify(cssContent)}`,\r\n                    `__vite__updateStyle(__vite__id, __vite__css)`,\r\n                    // css modules exports change on edit so it can't self accept\r\n                    `${modulesCode ||\r\n                        `import.meta.hot.accept()\\nexport default __vite__css`}`,\r\n                    `import.meta.hot.prune(() => __vite__removeStyle(__vite__id))`\r\n                ].join('\\n');\r\n            }\r\n            // build CSS handling ----------------------------------------------------\r\n            // record css\r\n            // cache css compile result to map\r\n            // and then use the cache replace inline-style-flag when `generateBundle` in vite:build-html plugin\r\n            const inlineCSS = inlineCSSRE.test(id);\r\n            const isHTMLProxy = htmlProxyRE.test(id);\r\n            const query = parseRequest(id);\r\n            if (inlineCSS && isHTMLProxy) {\r\n                addToHTMLProxyTransformResult(`${getHash(cleanUrl(id))}_${Number.parseInt(query.index)}`, css);\r\n                return `export default ''`;\r\n            }\r\n            if (!inlined) {\r\n                styles.set(id, css);\r\n            }\r\n            let code;\r\n            if (usedRE.test(id)) {\r\n                if (modulesCode) {\r\n                    code = modulesCode;\r\n                }\r\n                else {\r\n                    let content = css;\r\n                    if (config.build.minify) {\r\n                        content = await minifyCSS(content, config);\r\n                    }\r\n                    code = `export default ${JSON.stringify(content)}`;\r\n                }\r\n            }\r\n            else {\r\n                // if moduleCode exists return it **even if** it does not have `?used`\r\n                // this will disable tree-shake to work with `import './foo.module.css'` but this usually does not happen\r\n                // this is a limitation of the current approach by `?used` to make tree-shake work\r\n                // See #8936 for more details\r\n                code = modulesCode || `export default ''`;\r\n            }\r\n            return {\r\n                code,\r\n                map: { mappings: '' },\r\n                // avoid the css module from being tree-shaken so that we can retrieve\r\n                // it in renderChunk()\r\n                moduleSideEffects: inlined ? false : 'no-treeshake'\r\n            };\r\n        },\r\n        async renderChunk(code, chunk, opts) {\r\n            let chunkCSS = '';\r\n            let isPureCssChunk = true;\r\n            const ids = Object.keys(chunk.modules);\r\n            for (const id of ids) {\r\n                if (!isCSSRequest(id) ||\r\n                    cssModuleRE.test(id) ||\r\n                    commonjsProxyRE.test(id)) {\r\n                    isPureCssChunk = false;\r\n                }\r\n                if (styles.has(id)) {\r\n                    chunkCSS += styles.get(id);\r\n                }\r\n            }\r\n            if (!chunkCSS) {\r\n                return null;\r\n            }\r\n            const cssEntryFiles = cssEntryFilesCache.get(config);\r\n            const publicAssetUrlMap = publicAssetUrlCache.get(config);\r\n            // resolve asset URL placeholders to their built file URLs\r\n            function resolveAssetUrlsInCss(chunkCSS, cssAssetName) {\r\n                const encodedPublicUrls = encodePublicUrlsInCSS(config);\r\n                const relative = config.base === './' || config.base === '';\r\n                const cssAssetDirname = encodedPublicUrls || relative\r\n                    ? getCssAssetDirname(cssAssetName)\r\n                    : undefined;\r\n                const toRelative = (filename, importer) => {\r\n                    // relative base + extracted CSS\r\n                    const relativePath = path$n.posix.relative(cssAssetDirname, filename);\r\n                    return relativePath.startsWith('.')\r\n                        ? relativePath\r\n                        : './' + relativePath;\r\n                };\r\n                // replace asset url references with resolved url.\r\n                chunkCSS = chunkCSS.replace(assetUrlRE, (_, fileHash, postfix = '') => {\r\n                    const filename = getAssetFilename(fileHash, config) + postfix;\r\n                    chunk.viteMetadata.importedAssets.add(cleanUrl(filename));\r\n                    return toOutputFilePathInCss(filename, 'asset', cssAssetName, 'css', config, toRelative);\r\n                });\r\n                // resolve public URL from CSS paths\r\n                if (encodedPublicUrls) {\r\n                    const relativePathToPublicFromCSS = path$n.posix.relative(cssAssetDirname, '');\r\n                    chunkCSS = chunkCSS.replace(publicAssetUrlRE, (_, hash) => {\r\n                        const publicUrl = publicAssetUrlMap.get(hash).slice(1);\r\n                        return toOutputFilePathInCss(publicUrl, 'public', cssAssetName, 'css', config, () => `${relativePathToPublicFromCSS}/${publicUrl}`);\r\n                    });\r\n                }\r\n                return chunkCSS;\r\n            }\r\n            function ensureFileExt(name, ext) {\r\n                return normalizePath$3(path$n.format({ ...path$n.parse(name), base: undefined, ext }));\r\n            }\r\n            if (config.build.cssCodeSplit) {\r\n                if (isPureCssChunk) {\r\n                    // this is a shared CSS-only chunk that is empty.\r\n                    pureCssChunks.add(chunk.fileName);\r\n                }\r\n                if (opts.format === 'es' || opts.format === 'cjs') {\r\n                    const cssAssetName = chunk.facadeModuleId\r\n                        ? normalizePath$3(path$n.relative(config.root, chunk.facadeModuleId))\r\n                        : chunk.name;\r\n                    const lang = path$n.extname(cssAssetName).slice(1);\r\n                    const cssFileName = ensureFileExt(cssAssetName, '.css');\r\n                    if (chunk.isEntry && isPureCssChunk)\r\n                        cssEntryFiles.add(cssAssetName);\r\n                    chunkCSS = resolveAssetUrlsInCss(chunkCSS, cssAssetName);\r\n                    chunkCSS = await finalizeCss(chunkCSS, true, config);\r\n                    // emit corresponding css file\r\n                    const fileHandle = this.emitFile({\r\n                        name: isPreProcessor(lang) ? cssAssetName : cssFileName,\r\n                        fileName: assetFileNamesToFileName(resolveAssetFileNames(config), cssFileName, getHash(chunkCSS), chunkCSS),\r\n                        type: 'asset',\r\n                        source: chunkCSS\r\n                    });\r\n                    chunk.viteMetadata.importedCss.add(this.getFileName(fileHandle));\r\n                }\r\n                else if (!config.build.ssr) {\r\n                    chunkCSS = await finalizeCss(chunkCSS, true, config);\r\n                    let cssString = JSON.stringify(chunkCSS);\r\n                    cssString =\r\n                        renderAssetUrlInJS(this, config, chunk, opts, cssString)?.toString() || cssString;\r\n                    const style = `__vite_style__`;\r\n                    const injectCode = `var ${style} = document.createElement('style');` +\r\n                        `${style}.innerHTML = ${cssString};` +\r\n                        `document.head.appendChild(${style});`;\r\n                    const wrapIdx = code.indexOf('System.register');\r\n                    const insertMark = \"'use strict';\";\r\n                    const insertIdx = code.indexOf(insertMark, wrapIdx);\r\n                    const s = new MagicString(code);\r\n                    s.appendLeft(insertIdx + insertMark.length, injectCode);\r\n                    if (config.build.sourcemap) {\r\n                        // resolve public URL from CSS paths, we need to use absolute paths\r\n                        return {\r\n                            code: s.toString(),\r\n                            map: s.generateMap({ hires: true })\r\n                        };\r\n                    }\r\n                    else {\r\n                        return { code: s.toString() };\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                chunkCSS = resolveAssetUrlsInCss(chunkCSS, cssBundleName);\r\n                // finalizeCss is called for the aggregated chunk in generateBundle\r\n                outputToExtractedCSSMap.set(opts, (outputToExtractedCSSMap.get(opts) || '') + chunkCSS);\r\n            }\r\n            return null;\r\n        },\r\n        async generateBundle(opts, bundle) {\r\n            // @ts-ignore asset emits are skipped in legacy bundle\r\n            if (opts.__vite_skip_asset_emit__) {\r\n                return;\r\n            }\r\n            // remove empty css chunks and their imports\r\n            if (pureCssChunks.size) {\r\n                const emptyChunkFiles = [...pureCssChunks]\r\n                    .map((file) => path$n.basename(file))\r\n                    .join('|')\r\n                    .replace(/\\./g, '\\\\.');\r\n                const emptyChunkRE = new RegExp(opts.format === 'es'\r\n                    ? `\\\\bimport\\\\s*[\"'][^\"']*(?:${emptyChunkFiles})[\"'];\\n?`\r\n                    : `\\\\brequire\\\\(\\\\s*[\"'][^\"']*(?:${emptyChunkFiles})[\"']\\\\);\\n?`, 'g');\r\n                for (const file in bundle) {\r\n                    const chunk = bundle[file];\r\n                    if (chunk.type === 'chunk') {\r\n                        // remove pure css chunk from other chunk's imports,\r\n                        // and also register the emitted CSS files under the importer\r\n                        // chunks instead.\r\n                        chunk.imports = chunk.imports.filter((file) => {\r\n                            if (pureCssChunks.has(file)) {\r\n                                const { viteMetadata: { importedCss } } = bundle[file];\r\n                                importedCss.forEach((file) => chunk.viteMetadata.importedCss.add(file));\r\n                                return false;\r\n                            }\r\n                            return true;\r\n                        });\r\n                        chunk.code = chunk.code.replace(emptyChunkRE, \r\n                        // remove css import while preserving source map location\r\n                        (m) => `/* empty css ${''.padEnd(m.length - 15)}*/`);\r\n                    }\r\n                }\r\n                const removedPureCssFiles = removedPureCssFilesCache.get(config);\r\n                pureCssChunks.forEach((fileName) => {\r\n                    removedPureCssFiles.set(fileName, bundle[fileName]);\r\n                    delete bundle[fileName];\r\n                });\r\n            }\r\n            let extractedCss = outputToExtractedCSSMap.get(opts);\r\n            if (extractedCss && !hasEmitted) {\r\n                hasEmitted = true;\r\n                extractedCss = await finalizeCss(extractedCss, true, config);\r\n                this.emitFile({\r\n                    name: cssBundleName,\r\n                    type: 'asset',\r\n                    source: extractedCss\r\n                });\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction createCSSResolvers(config) {\r\n    let cssResolve;\r\n    let sassResolve;\r\n    let lessResolve;\r\n    return {\r\n        get css() {\r\n            return (cssResolve ||\r\n                (cssResolve = config.createResolver({\r\n                    extensions: ['.css'],\r\n                    mainFields: ['style'],\r\n                    tryIndex: false,\r\n                    preferRelative: true\r\n                })));\r\n        },\r\n        get sass() {\r\n            return (sassResolve ||\r\n                (sassResolve = config.createResolver({\r\n                    extensions: ['.scss', '.sass', '.css'],\r\n                    mainFields: ['sass', 'style'],\r\n                    tryIndex: true,\r\n                    tryPrefix: '_',\r\n                    preferRelative: true\r\n                })));\r\n        },\r\n        get less() {\r\n            return (lessResolve ||\r\n                (lessResolve = config.createResolver({\r\n                    extensions: ['.less', '.css'],\r\n                    mainFields: ['less', 'style'],\r\n                    tryIndex: false,\r\n                    preferRelative: true\r\n                })));\r\n        }\r\n    };\r\n}\r\nfunction getCssResolversKeys(resolvers) {\r\n    return Object.keys(resolvers);\r\n}\r\nasync function compileCSS(id, code, config, urlReplacer, atImportResolvers, server) {\r\n    const { modules: modulesOptions, preprocessorOptions, devSourcemap } = config.css || {};\r\n    const isModule = modulesOptions !== false && cssModuleRE.test(id);\r\n    // although at serve time it can work without processing, we do need to\r\n    // crawl them in order to register watch dependencies.\r\n    const needInlineImport = code.includes('@import');\r\n    const hasUrl = cssUrlRE.test(code) || cssImageSetRE.test(code);\r\n    const postcssConfig = await resolvePostcssConfig(config);\r\n    const lang = id.match(cssLangRE)?.[1];\r\n    // 1. plain css that needs no processing\r\n    if (lang === 'css' &&\r\n        !postcssConfig &&\r\n        !isModule &&\r\n        !needInlineImport &&\r\n        !hasUrl) {\r\n        return { code, map: null };\r\n    }\r\n    let preprocessorMap;\r\n    let modules;\r\n    const deps = new Set();\r\n    // 2. pre-processors: sass etc.\r\n    if (isPreProcessor(lang)) {\r\n        const preProcessor = preProcessors[lang];\r\n        let opts = (preprocessorOptions && preprocessorOptions[lang]) || {};\r\n        // support @import from node dependencies by default\r\n        switch (lang) {\r\n            case \"scss\" /* scss */:\r\n            case \"sass\" /* sass */:\r\n                opts = {\r\n                    includePaths: ['node_modules'],\r\n                    alias: config.resolve.alias,\r\n                    ...opts\r\n                };\r\n                break;\r\n            case \"less\" /* less */:\r\n            case \"styl\" /* styl */:\r\n            case \"stylus\" /* stylus */:\r\n                opts = {\r\n                    paths: ['node_modules'],\r\n                    alias: config.resolve.alias,\r\n                    ...opts\r\n                };\r\n        }\r\n        // important: set this for relative import resolving\r\n        opts.filename = cleanUrl(id);\r\n        opts.enableSourcemap = devSourcemap ?? false;\r\n        const preprocessResult = await preProcessor(code, config.root, opts, atImportResolvers);\r\n        if (preprocessResult.errors.length) {\r\n            throw preprocessResult.errors[0];\r\n        }\r\n        code = preprocessResult.code;\r\n        preprocessorMap = combineSourcemapsIfExists(opts.filename, preprocessResult.map, preprocessResult.additionalMap);\r\n        if (preprocessResult.deps) {\r\n            preprocessResult.deps.forEach((dep) => {\r\n                // sometimes sass registers the file itself as a dep\r\n                if (normalizePath$3(dep) !== normalizePath$3(opts.filename)) {\r\n                    deps.add(dep);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    // 3. postcss\r\n    const postcssOptions = (postcssConfig && postcssConfig.options) || {};\r\n    const postcssPlugins = postcssConfig && postcssConfig.plugins ? postcssConfig.plugins.slice() : [];\r\n    if (needInlineImport) {\r\n        postcssPlugins.unshift((await import('./dep-94c1417a.js').then(function (n) { return n.i; })).default({\r\n            async resolve(id, basedir) {\r\n                const publicFile = checkPublicFile(id, config);\r\n                if (publicFile) {\r\n                    return publicFile;\r\n                }\r\n                const resolved = await atImportResolvers.css(id, path$n.join(basedir, '*'));\r\n                if (resolved) {\r\n                    return path$n.resolve(resolved);\r\n                }\r\n                return id;\r\n            }\r\n        }));\r\n    }\r\n    postcssPlugins.push(UrlRewritePostcssPlugin({\r\n        replacer: urlReplacer,\r\n        logger: config.logger\r\n    }));\r\n    if (isModule) {\r\n        postcssPlugins.unshift((await import('./dep-25be4b3b.js').then(function (n) { return n.i; })).default({\r\n            ...modulesOptions,\r\n            getJSON(cssFileName, _modules, outputFileName) {\r\n                modules = _modules;\r\n                if (modulesOptions && typeof modulesOptions.getJSON === 'function') {\r\n                    modulesOptions.getJSON(cssFileName, _modules, outputFileName);\r\n                }\r\n            },\r\n            async resolve(id) {\r\n                for (const key of getCssResolversKeys(atImportResolvers)) {\r\n                    const resolved = await atImportResolvers[key](id);\r\n                    if (resolved) {\r\n                        return path$n.resolve(resolved);\r\n                    }\r\n                }\r\n                return id;\r\n            }\r\n        }));\r\n    }\r\n    if (!postcssPlugins.length) {\r\n        return {\r\n            code,\r\n            map: preprocessorMap\r\n        };\r\n    }\r\n    // postcss is an unbundled dep and should be lazy imported\r\n    const postcssResult = await (await import('postcss'))\r\n        .default(postcssPlugins)\r\n        .process(code, {\r\n        ...postcssOptions,\r\n        to: id,\r\n        from: id,\r\n        ...(devSourcemap\r\n            ? {\r\n                map: {\r\n                    inline: false,\r\n                    annotation: false,\r\n                    // postcss may return virtual files\r\n                    // we cannot obtain content of them, so this needs to be enabled\r\n                    sourcesContent: true\r\n                    // when \"prev: preprocessorMap\", the result map may include duplicate filename in `postcssResult.map.sources`\r\n                    // prev: preprocessorMap,\r\n                }\r\n            }\r\n            : {})\r\n    });\r\n    // record CSS dependencies from @imports\r\n    for (const message of postcssResult.messages) {\r\n        if (message.type === 'dependency') {\r\n            deps.add(normalizePath$3(message.file));\r\n        }\r\n        else if (message.type === 'dir-dependency') {\r\n            // https://github.com/postcss/postcss/blob/main/docs/guidelines/plugin.md#3-dependencies\r\n            const { dir, glob: globPattern = '**' } = message;\r\n            const pattern = out.escapePath(normalizePath$3(path$n.resolve(path$n.dirname(id), dir))) +\r\n                `/` +\r\n                globPattern;\r\n            const files = out.sync(pattern, {\r\n                ignore: ['**/node_modules/**']\r\n            });\r\n            for (let i = 0; i < files.length; i++) {\r\n                deps.add(files[i]);\r\n            }\r\n        }\r\n        else if (message.type === 'warning') {\r\n            let msg = `[vite:css] ${message.text}`;\r\n            if (message.line && message.column) {\r\n                msg += `\\n${generateCodeFrame(code, {\r\n                    line: message.line,\r\n                    column: message.column\r\n                })}`;\r\n            }\r\n            config.logger.warn(picocolors.exports.yellow(msg));\r\n        }\r\n    }\r\n    if (!devSourcemap) {\r\n        return {\r\n            ast: postcssResult,\r\n            code: postcssResult.css,\r\n            map: { mappings: '' },\r\n            modules,\r\n            deps\r\n        };\r\n    }\r\n    const rawPostcssMap = postcssResult.map.toJSON();\r\n    const postcssMap = await formatPostcssSourceMap(\r\n    // version property of rawPostcssMap is declared as string\r\n    // but actually it is a number\r\n    rawPostcssMap, cleanUrl(id));\r\n    return {\r\n        ast: postcssResult,\r\n        code: postcssResult.css,\r\n        map: combineSourcemapsIfExists(cleanUrl(id), postcssMap, preprocessorMap),\r\n        modules,\r\n        deps\r\n    };\r\n}\r\nasync function formatPostcssSourceMap(rawMap, file) {\r\n    const inputFileDir = path$n.dirname(file);\r\n    const sources = rawMap.sources.map((source) => {\r\n        const cleanSource = cleanUrl(decodeURIComponent(source));\r\n        // postcss returns virtual files\r\n        if (/^<.+>$/.test(cleanSource)) {\r\n            return `\\0${cleanSource}`;\r\n        }\r\n        return normalizePath$3(path$n.resolve(inputFileDir, cleanSource));\r\n    });\r\n    return {\r\n        file,\r\n        mappings: rawMap.mappings,\r\n        names: rawMap.names,\r\n        sources,\r\n        sourcesContent: rawMap.sourcesContent,\r\n        version: rawMap.version\r\n    };\r\n}\r\nfunction combineSourcemapsIfExists(filename, map1, map2) {\r\n    return map1 && map2\r\n        ? combineSourcemaps(filename, [\r\n            // type of version property of ExistingRawSourceMap is number\r\n            // but it is always 3\r\n            map1,\r\n            map2\r\n        ])\r\n        : map1;\r\n}\r\nasync function finalizeCss(css, minify, config) {\r\n    // hoist external @imports and @charset to the top of the CSS chunk per spec (#1845 and #6333)\r\n    if (css.includes('@import') || css.includes('@charset')) {\r\n        css = await hoistAtRules(css);\r\n    }\r\n    if (minify && config.build.minify) {\r\n        css = await minifyCSS(css, config);\r\n    }\r\n    return css;\r\n}\r\nasync function resolvePostcssConfig(config) {\r\n    let result = postcssConfigCache.get(config);\r\n    if (result !== undefined) {\r\n        return result;\r\n    }\r\n    // inline postcss config via vite config\r\n    const inlineOptions = config.css?.postcss;\r\n    if (isObject$2(inlineOptions)) {\r\n        const options = { ...inlineOptions };\r\n        delete options.plugins;\r\n        result = {\r\n            options,\r\n            plugins: inlineOptions.plugins || []\r\n        };\r\n    }\r\n    else {\r\n        const searchPath = typeof inlineOptions === 'string' ? inlineOptions : config.root;\r\n        try {\r\n            // @ts-ignore\r\n            result = await src$1({}, searchPath);\r\n        }\r\n        catch (e) {\r\n            if (!/No PostCSS Config found/.test(e.message)) {\r\n                if (e instanceof Error) {\r\n                    const { name, message, stack } = e;\r\n                    e.name = 'Failed to load PostCSS config';\r\n                    e.message = `Failed to load PostCSS config (searchPath: ${searchPath}): [${name}] ${message}\\n${stack}`;\r\n                    e.stack = ''; // add stack to message to retain stack\r\n                    throw e;\r\n                }\r\n                else {\r\n                    throw new Error(`Failed to load PostCSS config: ${e}`);\r\n                }\r\n            }\r\n            result = null;\r\n        }\r\n    }\r\n    postcssConfigCache.set(config, result);\r\n    return result;\r\n}\r\n// https://drafts.csswg.org/css-syntax-3/#identifier-code-point\r\nconst cssUrlRE = /(?<=^|[^\\w\\-\\u0080-\\uffff])url\\(\\s*('[^']+'|\"[^\"]+\"|[^'\")]+)\\s*\\)/;\r\nconst cssDataUriRE = /(?<=^|[^\\w\\-\\u0080-\\uffff])data-uri\\(\\s*('[^']+'|\"[^\"]+\"|[^'\")]+)\\s*\\)/;\r\nconst importCssRE = /@import ('[^']+\\.css'|\"[^\"]+\\.css\"|[^'\")]+\\.css)/;\r\nconst cssImageSetRE = /(?<=image-set\\()((?:[\\w\\-]+\\([^\\)]*\\)|[^)])*)(?=\\))/;\r\nconst UrlRewritePostcssPlugin = (opts) => {\r\n    if (!opts) {\r\n        throw new Error('base or replace is required');\r\n    }\r\n    return {\r\n        postcssPlugin: 'vite-url-rewrite',\r\n        Once(root) {\r\n            const promises = [];\r\n            root.walkDecls((declaration) => {\r\n                const importer = declaration.source?.input.file;\r\n                if (!importer) {\r\n                    opts.logger.warnOnce('\\nA PostCSS plugin did not pass the `from` option to `postcss.parse`. ' +\r\n                        'This may cause imported assets to be incorrectly transformed. ' +\r\n                        \"If you've recently added a PostCSS plugin that raised this warning, \" +\r\n                        'please contact the package author to fix the issue.');\r\n                }\r\n                const isCssUrl = cssUrlRE.test(declaration.value);\r\n                const isCssImageSet = cssImageSetRE.test(declaration.value);\r\n                if (isCssUrl || isCssImageSet) {\r\n                    const replacerForDeclaration = (rawUrl) => {\r\n                        return opts.replacer(rawUrl, importer);\r\n                    };\r\n                    const rewriterToUse = isCssImageSet\r\n                        ? rewriteCssImageSet\r\n                        : rewriteCssUrls;\r\n                    promises.push(rewriterToUse(declaration.value, replacerForDeclaration).then((url) => {\r\n                        declaration.value = url;\r\n                    }));\r\n                }\r\n            });\r\n            if (promises.length) {\r\n                return Promise.all(promises);\r\n            }\r\n        }\r\n    };\r\n};\r\nUrlRewritePostcssPlugin.postcss = true;\r\nfunction rewriteCssUrls(css, replacer) {\r\n    return asyncReplace(css, cssUrlRE, async (match) => {\r\n        const [matched, rawUrl] = match;\r\n        return await doUrlReplace(rawUrl, matched, replacer);\r\n    });\r\n}\r\nfunction rewriteCssDataUris(css, replacer) {\r\n    return asyncReplace(css, cssDataUriRE, async (match) => {\r\n        const [matched, rawUrl] = match;\r\n        return await doUrlReplace(rawUrl, matched, replacer, 'data-uri');\r\n    });\r\n}\r\nfunction rewriteImportCss(css, replacer) {\r\n    return asyncReplace(css, importCssRE, async (match) => {\r\n        const [matched, rawUrl] = match;\r\n        return await doImportCSSReplace(rawUrl, matched, replacer);\r\n    });\r\n}\r\n// TODO: image and cross-fade could contain a \"url\" that needs to be processed\r\n// https://drafts.csswg.org/css-images-4/#image-notation\r\n// https://drafts.csswg.org/css-images-4/#cross-fade-function\r\nconst cssNotProcessedRE = /(gradient|element|cross-fade|image)\\(/;\r\nasync function rewriteCssImageSet(css, replacer) {\r\n    return await asyncReplace(css, cssImageSetRE, async (match) => {\r\n        const [, rawUrl] = match;\r\n        const url = await processSrcSet(rawUrl, async ({ url }) => {\r\n            // the url maybe url(...)\r\n            if (cssUrlRE.test(url)) {\r\n                return await rewriteCssUrls(url, replacer);\r\n            }\r\n            if (!cssNotProcessedRE.test(url)) {\r\n                return await doUrlReplace(url, url, replacer);\r\n            }\r\n            return url;\r\n        });\r\n        return url;\r\n    });\r\n}\r\nasync function doUrlReplace(rawUrl, matched, replacer, funcName = 'url') {\r\n    let wrap = '';\r\n    const first = rawUrl[0];\r\n    if (first === `\"` || first === `'`) {\r\n        wrap = first;\r\n        rawUrl = rawUrl.slice(1, -1);\r\n    }\r\n    if (isExternalUrl(rawUrl) ||\r\n        isDataUrl(rawUrl) ||\r\n        rawUrl.startsWith('#') ||\r\n        varRE.test(rawUrl)) {\r\n        return matched;\r\n    }\r\n    const newUrl = await replacer(rawUrl);\r\n    if (wrap === '' && newUrl !== encodeURI(newUrl)) {\r\n        // The new url might need wrapping even if the original did not have it, e.g. if a space was added during replacement\r\n        wrap = \"'\";\r\n    }\r\n    return `${funcName}(${wrap}${newUrl}${wrap})`;\r\n}\r\nasync function doImportCSSReplace(rawUrl, matched, replacer) {\r\n    let wrap = '';\r\n    const first = rawUrl[0];\r\n    if (first === `\"` || first === `'`) {\r\n        wrap = first;\r\n        rawUrl = rawUrl.slice(1, -1);\r\n    }\r\n    if (isExternalUrl(rawUrl) || isDataUrl(rawUrl) || rawUrl.startsWith('#')) {\r\n        return matched;\r\n    }\r\n    return `@import ${wrap}${await replacer(rawUrl)}${wrap}`;\r\n}\r\nasync function minifyCSS(css, config) {\r\n    try {\r\n        const { code, warnings } = await transform$2(css, {\r\n            loader: 'css',\r\n            target: config.build.cssTarget || undefined,\r\n            ...resolveEsbuildMinifyOptions(config.esbuild || {})\r\n        });\r\n        if (warnings.length) {\r\n            const msgs = await formatMessages(warnings, { kind: 'warning' });\r\n            config.logger.warn(picocolors.exports.yellow(`warnings when minifying css:\\n${msgs.join('\\n')}`));\r\n        }\r\n        return code;\r\n    }\r\n    catch (e) {\r\n        if (e.errors) {\r\n            const msgs = await formatMessages(e.errors, { kind: 'error' });\r\n            e.frame = '\\n' + msgs.join('\\n');\r\n            e.loc = e.errors[0].location;\r\n        }\r\n        throw e;\r\n    }\r\n}\r\nfunction resolveEsbuildMinifyOptions(options) {\r\n    const base = {\r\n        logLevel: options.logLevel,\r\n        logLimit: options.logLimit,\r\n        logOverride: options.logOverride\r\n    };\r\n    if (options.minifyIdentifiers != null ||\r\n        options.minifySyntax != null ||\r\n        options.minifyWhitespace != null) {\r\n        return {\r\n            ...base,\r\n            minifyIdentifiers: options.minifyIdentifiers ?? true,\r\n            minifySyntax: options.minifySyntax ?? true,\r\n            minifyWhitespace: options.minifyWhitespace ?? true\r\n        };\r\n    }\r\n    else {\r\n        return { ...base, minify: true };\r\n    }\r\n}\r\nasync function hoistAtRules(css) {\r\n    const s = new MagicString(css);\r\n    const cleanCss = emptyCssComments(css);\r\n    let match;\r\n    // #1845\r\n    // CSS @import can only appear at top of the file. We need to hoist all @import\r\n    // to top when multiple files are concatenated.\r\n    // match until semicolon that's not in quotes\r\n    const atImportRE = /@import\\s*(?:url\\([^\\)]*\\)|\"([^\"]|(?<=\\\\)\")*\"|'([^']|(?<=\\\\)')*'|[^;]*).*?;/gm;\r\n    while ((match = atImportRE.exec(cleanCss))) {\r\n        s.remove(match.index, match.index + match[0].length);\r\n        // Use `appendLeft` instead of `prepend` to preserve original @import order\r\n        s.appendLeft(0, match[0]);\r\n    }\r\n    // #6333\r\n    // CSS @charset must be the top-first in the file, hoist the first to top\r\n    const atCharsetRE = /@charset\\s*(?:\"([^\"]|(?<=\\\\)\")*\"|'([^']|(?<=\\\\)')*'|[^;]*).*?;/gm;\r\n    let foundCharset = false;\r\n    while ((match = atCharsetRE.exec(cleanCss))) {\r\n        s.remove(match.index, match.index + match[0].length);\r\n        if (!foundCharset) {\r\n            s.prepend(match[0]);\r\n            foundCharset = true;\r\n        }\r\n    }\r\n    return s.toString();\r\n}\r\nconst loadedPreprocessors = {};\r\n// TODO: use dynamic import\r\nconst _require$2 = createRequire$1(import.meta.url);\r\nfunction loadPreprocessor(lang, root) {\r\n    if (lang in loadedPreprocessors) {\r\n        return loadedPreprocessors[lang];\r\n    }\r\n    try {\r\n        const resolved = requireResolveFromRootWithFallback(root, lang);\r\n        return (loadedPreprocessors[lang] = _require$2(resolved));\r\n    }\r\n    catch (e) {\r\n        if (e.code === 'MODULE_NOT_FOUND') {\r\n            throw new Error(`Preprocessor dependency \"${lang}\" not found. Did you install it?`);\r\n        }\r\n        else {\r\n            const message = new Error(`Preprocessor dependency \"${lang}\" failed to load:\\n${e.message}`);\r\n            message.stack = e.stack + '\\n' + message.stack;\r\n            throw message;\r\n        }\r\n    }\r\n}\r\n// .scss/.sass processor\r\nconst scss = async (source, root, options, resolvers) => {\r\n    const render = loadPreprocessor(\"sass\" /* sass */, root).render;\r\n    const internalImporter = (url, importer, done) => {\r\n        resolvers.sass(url, importer).then((resolved) => {\r\n            if (resolved) {\r\n                rebaseUrls(resolved, options.filename, options.alias)\r\n                    .then((data) => done?.(data))\r\n                    .catch((data) => done?.(data));\r\n            }\r\n            else {\r\n                done?.(null);\r\n            }\r\n        });\r\n    };\r\n    const importer = [internalImporter];\r\n    if (options.importer) {\r\n        Array.isArray(options.importer)\r\n            ? importer.push(...options.importer)\r\n            : importer.push(options.importer);\r\n    }\r\n    const { content: data, map: additionalMap } = await getSource(source, options.filename, options.additionalData, options.enableSourcemap);\r\n    const finalOptions = {\r\n        ...options,\r\n        data,\r\n        file: options.filename,\r\n        outFile: options.filename,\r\n        importer,\r\n        ...(options.enableSourcemap\r\n            ? {\r\n                sourceMap: true,\r\n                omitSourceMapUrl: true,\r\n                sourceMapRoot: path$n.dirname(options.filename)\r\n            }\r\n            : {})\r\n    };\r\n    try {\r\n        const result = await new Promise((resolve, reject) => {\r\n            render(finalOptions, (err, res) => {\r\n                if (err) {\r\n                    reject(err);\r\n                }\r\n                else {\r\n                    resolve(res);\r\n                }\r\n            });\r\n        });\r\n        const deps = result.stats.includedFiles;\r\n        const map = result.map\r\n            ? JSON.parse(result.map.toString())\r\n            : undefined;\r\n        return {\r\n            code: result.css.toString(),\r\n            map,\r\n            additionalMap,\r\n            errors: [],\r\n            deps\r\n        };\r\n    }\r\n    catch (e) {\r\n        // normalize SASS error\r\n        e.id = e.file;\r\n        e.frame = e.formatted;\r\n        return { code: '', errors: [e], deps: [] };\r\n    }\r\n};\r\nconst sass = (source, root, options, aliasResolver) => scss(source, root, {\r\n    ...options,\r\n    indentedSyntax: true\r\n}, aliasResolver);\r\n/**\r\n * relative url() inside \\@imported sass and less files must be rebased to use\r\n * root file as base.\r\n */\r\nasync function rebaseUrls(file, rootFile, alias) {\r\n    file = path$n.resolve(file); // ensure os-specific flashes\r\n    // in the same dir, no need to rebase\r\n    const fileDir = path$n.dirname(file);\r\n    const rootDir = path$n.dirname(rootFile);\r\n    if (fileDir === rootDir) {\r\n        return { file };\r\n    }\r\n    const content = fs$l.readFileSync(file, 'utf-8');\r\n    // no url()\r\n    const hasUrls = cssUrlRE.test(content);\r\n    // data-uri() calls\r\n    const hasDataUris = cssDataUriRE.test(content);\r\n    // no @import xxx.css\r\n    const hasImportCss = importCssRE.test(content);\r\n    if (!hasUrls && !hasDataUris && !hasImportCss) {\r\n        return { file };\r\n    }\r\n    let rebased;\r\n    const rebaseFn = (url) => {\r\n        if (url.startsWith('/'))\r\n            return url;\r\n        // match alias, no need to rewrite\r\n        for (const { find } of alias) {\r\n            const matches = typeof find === 'string' ? url.startsWith(find) : find.test(url);\r\n            if (matches) {\r\n                return url;\r\n            }\r\n        }\r\n        const absolute = path$n.resolve(fileDir, url);\r\n        const relative = path$n.relative(rootDir, absolute);\r\n        return normalizePath$3(relative);\r\n    };\r\n    // fix css imports in less such as `@import \"foo.css\"`\r\n    if (hasImportCss) {\r\n        rebased = await rewriteImportCss(content, rebaseFn);\r\n    }\r\n    if (hasUrls) {\r\n        rebased = await rewriteCssUrls(rebased || content, rebaseFn);\r\n    }\r\n    if (hasDataUris) {\r\n        rebased = await rewriteCssDataUris(rebased || content, rebaseFn);\r\n    }\r\n    return {\r\n        file,\r\n        contents: rebased\r\n    };\r\n}\r\n// .less\r\nconst less = async (source, root, options, resolvers) => {\r\n    const nodeLess = loadPreprocessor(\"less\" /* less */, root);\r\n    const viteResolverPlugin = createViteLessPlugin(nodeLess, options.filename, options.alias, resolvers);\r\n    const { content, map: additionalMap } = await getSource(source, options.filename, options.additionalData, options.enableSourcemap);\r\n    let result;\r\n    try {\r\n        result = await nodeLess.render(content, {\r\n            ...options,\r\n            plugins: [viteResolverPlugin, ...(options.plugins || [])],\r\n            ...(options.enableSourcemap\r\n                ? {\r\n                    sourceMap: {\r\n                        outputSourceFiles: true,\r\n                        sourceMapFileInline: false\r\n                    }\r\n                }\r\n                : {})\r\n        });\r\n    }\r\n    catch (e) {\r\n        const error = e;\r\n        // normalize error info\r\n        const normalizedError = new Error(error.message || error.type);\r\n        normalizedError.loc = {\r\n            file: error.filename || options.filename,\r\n            line: error.line,\r\n            column: error.column\r\n        };\r\n        return { code: '', errors: [normalizedError], deps: [] };\r\n    }\r\n    const map = result.map && JSON.parse(result.map);\r\n    if (map) {\r\n        delete map.sourcesContent;\r\n    }\r\n    return {\r\n        code: result.css.toString(),\r\n        map,\r\n        additionalMap,\r\n        deps: result.imports,\r\n        errors: []\r\n    };\r\n};\r\n/**\r\n * Less manager, lazy initialized\r\n */\r\nlet ViteLessManager;\r\nfunction createViteLessPlugin(less, rootFile, alias, resolvers) {\r\n    if (!ViteLessManager) {\r\n        ViteLessManager = class ViteManager extends less.FileManager {\r\n            constructor(rootFile, resolvers, alias) {\r\n                super();\r\n                this.rootFile = rootFile;\r\n                this.resolvers = resolvers;\r\n                this.alias = alias;\r\n            }\r\n            supports() {\r\n                return true;\r\n            }\r\n            supportsSync() {\r\n                return false;\r\n            }\r\n            async loadFile(filename, dir, opts, env) {\r\n                const resolved = await this.resolvers.less(filename, path$n.join(dir, '*'));\r\n                if (resolved) {\r\n                    const result = await rebaseUrls(resolved, this.rootFile, this.alias);\r\n                    let contents;\r\n                    if (result && 'contents' in result) {\r\n                        contents = result.contents;\r\n                    }\r\n                    else {\r\n                        contents = fs$l.readFileSync(resolved, 'utf-8');\r\n                    }\r\n                    return {\r\n                        filename: path$n.resolve(resolved),\r\n                        contents\r\n                    };\r\n                }\r\n                else {\r\n                    return super.loadFile(filename, dir, opts, env);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    return {\r\n        install(_, pluginManager) {\r\n            pluginManager.addFileManager(new ViteLessManager(rootFile, resolvers, alias));\r\n        },\r\n        minVersion: [3, 0, 0]\r\n    };\r\n}\r\n// .styl\r\nconst styl = async (source, root, options) => {\r\n    const nodeStylus = loadPreprocessor(\"stylus\" /* stylus */, root);\r\n    // Get source with preprocessor options.additionalData. Make sure a new line separator\r\n    // is added to avoid any render error, as added stylus content may not have semi-colon separators\r\n    const { content, map: additionalMap } = await getSource(source, options.filename, options.additionalData, options.enableSourcemap, '\\n');\r\n    // Get preprocessor options.imports dependencies as stylus\r\n    // does not return them with its builtin `.deps()` method\r\n    const importsDeps = (options.imports ?? []).map((dep) => path$n.resolve(dep));\r\n    try {\r\n        const ref = nodeStylus(content, options);\r\n        if (options.enableSourcemap) {\r\n            ref.set('sourcemap', {\r\n                comment: false,\r\n                inline: false,\r\n                basePath: root\r\n            });\r\n        }\r\n        const result = ref.render();\r\n        // Concat imports deps with computed deps\r\n        const deps = [...ref.deps(), ...importsDeps];\r\n        // @ts-expect-error sourcemap exists\r\n        const map = ref.sourcemap;\r\n        return {\r\n            code: result,\r\n            map: formatStylusSourceMap(map, root),\r\n            additionalMap,\r\n            errors: [],\r\n            deps\r\n        };\r\n    }\r\n    catch (e) {\r\n        return { code: '', errors: [e], deps: [] };\r\n    }\r\n};\r\nfunction formatStylusSourceMap(mapBefore, root) {\r\n    if (!mapBefore)\r\n        return undefined;\r\n    const map = { ...mapBefore };\r\n    const resolveFromRoot = (p) => normalizePath$3(path$n.resolve(root, p));\r\n    if (map.file) {\r\n        map.file = resolveFromRoot(map.file);\r\n    }\r\n    map.sources = map.sources.map(resolveFromRoot);\r\n    return map;\r\n}\r\nasync function getSource(source, filename, additionalData, enableSourcemap, sep = '') {\r\n    if (!additionalData)\r\n        return { content: source };\r\n    if (typeof additionalData === 'function') {\r\n        const newContent = await additionalData(source, filename);\r\n        if (typeof newContent === 'string') {\r\n            return { content: newContent };\r\n        }\r\n        return newContent;\r\n    }\r\n    if (!enableSourcemap) {\r\n        return { content: additionalData + sep + source };\r\n    }\r\n    const ms = new MagicString(source);\r\n    ms.appendLeft(0, sep);\r\n    ms.appendLeft(0, additionalData);\r\n    const map = ms.generateMap({ hires: true });\r\n    map.file = filename;\r\n    map.sources = [filename];\r\n    return {\r\n        content: ms.toString(),\r\n        map\r\n    };\r\n}\r\nconst preProcessors = Object.freeze({\r\n    [\"less\" /* less */]: less,\r\n    [\"sass\" /* sass */]: sass,\r\n    [\"scss\" /* scss */]: scss,\r\n    [\"styl\" /* styl */]: styl,\r\n    [\"stylus\" /* stylus */]: styl\r\n});\r\nfunction isPreProcessor(lang) {\r\n    return lang && lang in preProcessors;\r\n}\r\n\r\nfunction manifestPlugin(config) {\r\n    const manifest = {};\r\n    let outputCount;\r\n    return {\r\n        name: 'vite:manifest',\r\n        buildStart() {\r\n            outputCount = 0;\r\n        },\r\n        generateBundle({ format }, bundle) {\r\n            function getChunkName(chunk) {\r\n                if (chunk.facadeModuleId) {\r\n                    let name = normalizePath$3(path$n.relative(config.root, chunk.facadeModuleId));\r\n                    if (format === 'system' && !chunk.name.includes('-legacy')) {\r\n                        const ext = path$n.extname(name);\r\n                        const endPos = ext.length !== 0 ? -ext.length : undefined;\r\n                        name = name.slice(0, endPos) + `-legacy` + ext;\r\n                    }\r\n                    return name.replace(/\\0/g, '');\r\n                }\r\n                else {\r\n                    return `_` + path$n.basename(chunk.fileName);\r\n                }\r\n            }\r\n            function getInternalImports(imports) {\r\n                const filteredImports = [];\r\n                for (const file of imports) {\r\n                    if (bundle[file] === undefined) {\r\n                        continue;\r\n                    }\r\n                    filteredImports.push(getChunkName(bundle[file]));\r\n                }\r\n                return filteredImports;\r\n            }\r\n            function createChunk(chunk) {\r\n                const manifestChunk = {\r\n                    file: chunk.fileName\r\n                };\r\n                if (chunk.facadeModuleId) {\r\n                    manifestChunk.src = getChunkName(chunk);\r\n                }\r\n                if (chunk.isEntry) {\r\n                    manifestChunk.isEntry = true;\r\n                }\r\n                if (chunk.isDynamicEntry) {\r\n                    manifestChunk.isDynamicEntry = true;\r\n                }\r\n                if (chunk.imports.length) {\r\n                    const internalImports = getInternalImports(chunk.imports);\r\n                    if (internalImports.length > 0) {\r\n                        manifestChunk.imports = internalImports;\r\n                    }\r\n                }\r\n                if (chunk.dynamicImports.length) {\r\n                    const internalImports = getInternalImports(chunk.dynamicImports);\r\n                    if (internalImports.length > 0) {\r\n                        manifestChunk.dynamicImports = internalImports;\r\n                    }\r\n                }\r\n                if (chunk.viteMetadata.importedCss.size) {\r\n                    manifestChunk.css = [...chunk.viteMetadata.importedCss];\r\n                }\r\n                if (chunk.viteMetadata.importedAssets.size) {\r\n                    manifestChunk.assets = [...chunk.viteMetadata.importedAssets];\r\n                }\r\n                return manifestChunk;\r\n            }\r\n            function createAsset(chunk) {\r\n                const manifestChunk = {\r\n                    file: chunk.fileName,\r\n                    src: chunk.name\r\n                };\r\n                if (cssEntryFiles.has(chunk.name))\r\n                    manifestChunk.isEntry = true;\r\n                return manifestChunk;\r\n            }\r\n            const cssEntryFiles = cssEntryFilesCache.get(config);\r\n            for (const file in bundle) {\r\n                const chunk = bundle[file];\r\n                if (chunk.type === 'chunk') {\r\n                    manifest[getChunkName(chunk)] = createChunk(chunk);\r\n                }\r\n                else if (chunk.type === 'asset' && typeof chunk.name === 'string') {\r\n                    manifest[chunk.name] = createAsset(chunk);\r\n                }\r\n            }\r\n            outputCount++;\r\n            const output = config.build.rollupOptions?.output;\r\n            const outputLength = Array.isArray(output) ? output.length : 1;\r\n            if (outputCount >= outputLength) {\r\n                this.emitFile({\r\n                    fileName: typeof config.build.manifest === 'string'\r\n                        ? config.build.manifest\r\n                        : 'manifest.json',\r\n                    type: 'asset',\r\n                    source: JSON.stringify(manifest, null, 2)\r\n                });\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\n// This is based on @rollup/plugin-data-uri\r\nconst dataUriRE = /^([^/]+\\/[^;,]+)(;base64)?,([\\s\\S]*)$/;\r\nconst dataUriPrefix = `/@data-uri/`;\r\n/**\r\n * Build only, since importing from a data URI works natively.\r\n */\r\nfunction dataURIPlugin() {\r\n    let resolved;\r\n    return {\r\n        name: 'vite:data-uri',\r\n        buildStart() {\r\n            resolved = {};\r\n        },\r\n        resolveId(id) {\r\n            if (!dataUriRE.test(id)) {\r\n                return null;\r\n            }\r\n            const uri = new URL$3(id);\r\n            if (uri.protocol !== 'data:') {\r\n                return null;\r\n            }\r\n            const match = uri.pathname.match(dataUriRE);\r\n            if (!match) {\r\n                return null;\r\n            }\r\n            const [, mime, format, data] = match;\r\n            if (mime !== 'text/javascript') {\r\n                throw new Error(`data URI with non-JavaScript mime type is not supported.`);\r\n            }\r\n            // decode data\r\n            const base64 = format && /base64/i.test(format.substring(1));\r\n            const content = base64\r\n                ? Buffer.from(data, 'base64').toString('utf-8')\r\n                : data;\r\n            resolved[id] = content;\r\n            return dataUriPrefix + id;\r\n        },\r\n        load(id) {\r\n            if (id.startsWith(dataUriPrefix)) {\r\n                id = id.slice(dataUriPrefix.length);\r\n                return resolved[id] || null;\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nfunction ssrManifestPlugin(config) {\r\n    // module id => preload assets mapping\r\n    const ssrManifest = {};\r\n    const base = config.base; // TODO:base\r\n    return {\r\n        name: 'vite:ssr-manifest',\r\n        generateBundle(_options, bundle) {\r\n            for (const file in bundle) {\r\n                const chunk = bundle[file];\r\n                if (chunk.type === 'chunk') {\r\n                    for (const id in chunk.modules) {\r\n                        const normalizedId = normalizePath$3(relative$2(config.root, id));\r\n                        const mappedChunks = ssrManifest[normalizedId] ?? (ssrManifest[normalizedId] = []);\r\n                        if (!chunk.isEntry) {\r\n                            mappedChunks.push(base + chunk.fileName);\r\n                            // <link> tags for entry chunks are already generated in static HTML,\r\n                            // so we only need to record info for non-entry chunks.\r\n                            chunk.viteMetadata.importedCss.forEach((file) => {\r\n                                mappedChunks.push(base + file);\r\n                            });\r\n                        }\r\n                        chunk.viteMetadata.importedAssets.forEach((file) => {\r\n                            mappedChunks.push(base + file);\r\n                        });\r\n                    }\r\n                    if (chunk.code.includes(preloadMethod)) {\r\n                        // generate css deps map\r\n                        const code = chunk.code;\r\n                        let imports;\r\n                        try {\r\n                            imports = parse$b(code)[0].filter((i) => i.n && i.d > -1);\r\n                        }\r\n                        catch (e) {\r\n                            this.error(e, e.idx);\r\n                        }\r\n                        if (imports.length) {\r\n                            for (let index = 0; index < imports.length; index++) {\r\n                                const { s: start, e: end, n: name } = imports[index];\r\n                                // check the chunk being imported\r\n                                const url = code.slice(start, end);\r\n                                const deps = [];\r\n                                const ownerFilename = chunk.fileName;\r\n                                // literal import - trace direct imports and add to deps\r\n                                const analyzed = new Set();\r\n                                const addDeps = (filename) => {\r\n                                    if (filename === ownerFilename)\r\n                                        return;\r\n                                    if (analyzed.has(filename))\r\n                                        return;\r\n                                    analyzed.add(filename);\r\n                                    const chunk = bundle[filename];\r\n                                    if (chunk) {\r\n                                        chunk.viteMetadata.importedCss.forEach((file) => {\r\n                                            deps.push(join$2(base, file)); // TODO:base\r\n                                        });\r\n                                        chunk.imports.forEach(addDeps);\r\n                                    }\r\n                                };\r\n                                const normalizedFile = normalizePath$3(join$2(dirname$2(chunk.fileName), url.slice(1, -1)));\r\n                                addDeps(normalizedFile);\r\n                                ssrManifest[basename$2(name)] = deps;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.emitFile({\r\n                fileName: typeof config.build.ssrManifest === 'string'\r\n                    ? config.build.ssrManifest\r\n                    : 'ssr-manifest.json',\r\n                type: 'asset',\r\n                source: JSON.stringify(ssrManifest, null, 2)\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * Convert `new URL('./foo.png', import.meta.url)` to its resolved built URL\r\n *\r\n * Supports template string with dynamic segments:\r\n * ```\r\n * new URL(`./dir/${name}.png`, import.meta.url)\r\n * // transformed to\r\n * import.meta.glob('./dir/**.png', { eager: true, import: 'default' })[`./dir/${name}.png`]\r\n * ```\r\n */\r\nfunction assetImportMetaUrlPlugin(config) {\r\n    return {\r\n        name: 'vite:asset-import-meta-url',\r\n        async transform(code, id, options) {\r\n            if (!options?.ssr &&\r\n                id !== preloadHelperId &&\r\n                code.includes('new URL') &&\r\n                code.includes(`import.meta.url`)) {\r\n                let s;\r\n                const assetImportMetaUrlRE = /\\bnew\\s+URL\\s*\\(\\s*('[^']+'|\"[^\"]+\"|`[^`]+`)\\s*,\\s*import\\.meta\\.url\\s*,?\\s*\\)/g;\r\n                const cleanString = stripLiteral(code);\r\n                let match;\r\n                while ((match = assetImportMetaUrlRE.exec(cleanString))) {\r\n                    const { 0: exp, 1: emptyUrl, index } = match;\r\n                    const urlStart = cleanString.indexOf(emptyUrl, index);\r\n                    const urlEnd = urlStart + emptyUrl.length;\r\n                    const rawUrl = code.slice(urlStart, urlEnd);\r\n                    if (!s)\r\n                        s = new MagicString(code);\r\n                    // potential dynamic template string\r\n                    if (rawUrl[0] === '`' && /\\$\\{/.test(rawUrl)) {\r\n                        const ast = this.parse(rawUrl);\r\n                        const templateLiteral = ast.body[0].expression;\r\n                        if (templateLiteral.expressions.length) {\r\n                            const pattern = JSON.stringify(buildGlobPattern(templateLiteral));\r\n                            // Note: native import.meta.url is not supported in the baseline\r\n                            // target so we use the global location here. It can be\r\n                            // window.location or self.location in case it is used in a Web Worker.\r\n                            // @see https://developer.mozilla.org/en-US/docs/Web/API/Window/self\r\n                            s.overwrite(index, index + exp.length, `new URL((import.meta.glob(${pattern}, { eager: true, import: 'default', as: 'url' }))[${rawUrl}], self.location)`, { contentOnly: true });\r\n                            continue;\r\n                        }\r\n                    }\r\n                    const url = rawUrl.slice(1, -1);\r\n                    const file = path$n.resolve(path$n.dirname(id), url);\r\n                    // Get final asset URL. Catch error if the file does not exist,\r\n                    // in which we can resort to the initial URL and let it resolve in runtime\r\n                    const builtUrl = await fileToUrl(file, config, this).catch(() => {\r\n                        const rawExp = code.slice(index, index + exp.length);\r\n                        config.logger.warnOnce(`\\n${rawExp} doesn't exist at build time, it will remain unchanged to be resolved at runtime`);\r\n                        return url;\r\n                    });\r\n                    s.overwrite(index, index + exp.length, `new URL(${JSON.stringify(builtUrl)}, self.location)`, { contentOnly: true });\r\n                }\r\n                if (s) {\r\n                    return transformStableResult(s, id, config);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n}\r\nfunction buildGlobPattern(ast) {\r\n    let pattern = '';\r\n    let lastElementIndex = -1;\r\n    for (const exp of ast.expressions) {\r\n        for (let i = lastElementIndex + 1; i < ast.quasis.length; i++) {\r\n            const el = ast.quasis[i];\r\n            if (el.end < exp.start) {\r\n                pattern += el.value.raw;\r\n                lastElementIndex = i;\r\n            }\r\n        }\r\n        pattern += '**';\r\n    }\r\n    for (let i = lastElementIndex + 1; i < ast.quasis.length; i++) {\r\n        pattern += ast.quasis[i].value.raw;\r\n    }\r\n    return pattern;\r\n}\r\n\r\n/**\r\n * A plugin to provide build load fallback for arbitrary request with queries.\r\n */\r\nfunction loadFallbackPlugin() {\r\n    return {\r\n        name: 'vite:load-fallback',\r\n        async load(id) {\r\n            try {\r\n                // if we don't add `await` here, we couldn't catch the error in readFile\r\n                return await promises$2.readFile(cleanUrl(id), 'utf-8');\r\n            }\r\n            catch (e) {\r\n                return promises$2.readFile(id, 'utf-8');\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * plugin to ensure rollup can watch correctly.\r\n */\r\nfunction ensureWatchPlugin() {\r\n    return {\r\n        name: 'vite:ensure-watch',\r\n        load(id) {\r\n            if (queryRE.test(id)) {\r\n                this.addWatchFile(cleanUrl(id));\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\nfunction resolveChokidarOptions(options) {\r\n    const { ignored = [], ...otherOptions } = options ?? {};\r\n    const resolvedWatchOptions = {\r\n        ignored: [\r\n            '**/.git/**',\r\n            '**/node_modules/**',\r\n            '**/test-results/**',\r\n            ...(Array.isArray(ignored) ? ignored : [ignored])\r\n        ],\r\n        ignoreInitial: true,\r\n        ignorePermissionErrors: true,\r\n        ...otherOptions\r\n    };\r\n    return resolvedWatchOptions;\r\n}\r\n\r\n/**\r\n * make sure systemjs register wrap to had complete parameters in system format\r\n */\r\nfunction completeSystemWrapPlugin() {\r\n    const SystemJSWrapRE = /System.register\\(.*\\((exports)\\)/g;\r\n    return {\r\n        name: 'vite:force-systemjs-wrap-complete',\r\n        renderChunk(code, chunk, opts) {\r\n            if (opts.format === 'system') {\r\n                return {\r\n                    code: code.replace(SystemJSWrapRE, (s, s1) => s.replace(s1, 'exports, module')),\r\n                    map: null\r\n                };\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nfunction resolveBuildOptions(raw, isBuild, logger) {\r\n    const resolved = {\r\n        target: 'modules',\r\n        polyfillModulePreload: true,\r\n        outDir: 'dist',\r\n        assetsDir: 'assets',\r\n        assetsInlineLimit: 4096,\r\n        cssCodeSplit: !raw?.lib,\r\n        cssTarget: false,\r\n        sourcemap: false,\r\n        rollupOptions: {},\r\n        minify: raw?.ssr ? false : 'esbuild',\r\n        terserOptions: {},\r\n        write: true,\r\n        emptyOutDir: null,\r\n        manifest: false,\r\n        lib: false,\r\n        ssr: false,\r\n        ssrManifest: false,\r\n        reportCompressedSize: true,\r\n        chunkSizeWarningLimit: 500,\r\n        watch: null,\r\n        ...raw,\r\n        commonjsOptions: {\r\n            include: [/node_modules/],\r\n            extensions: ['.js', '.cjs'],\r\n            ...raw?.commonjsOptions\r\n        },\r\n        dynamicImportVarsOptions: {\r\n            warnOnError: true,\r\n            exclude: [/node_modules/],\r\n            ...raw?.dynamicImportVarsOptions\r\n        }\r\n    };\r\n    // handle special build targets\r\n    if (resolved.target === 'modules') {\r\n        resolved.target = ESBUILD_MODULES_TARGET;\r\n    }\r\n    else if (resolved.target === 'esnext' && resolved.minify === 'terser') {\r\n        // esnext + terser: limit to es2021 so it can be minified by terser\r\n        resolved.target = 'es2021';\r\n    }\r\n    if (!resolved.cssTarget) {\r\n        resolved.cssTarget = resolved.target;\r\n    }\r\n    // normalize false string into actual false\r\n    if (resolved.minify === 'false') {\r\n        resolved.minify = false;\r\n    }\r\n    if (resolved.minify === true) {\r\n        resolved.minify = 'esbuild';\r\n    }\r\n    return resolved;\r\n}\r\nfunction resolveBuildPlugins(config) {\r\n    const options = config.build;\r\n    const { commonjsOptions } = options;\r\n    const usePluginCommonjs = !Array.isArray(commonjsOptions?.include) ||\r\n        commonjsOptions?.include.length !== 0;\r\n    return {\r\n        pre: [\r\n            completeSystemWrapPlugin(),\r\n            ...(options.watch ? [ensureWatchPlugin()] : []),\r\n            watchPackageDataPlugin(config),\r\n            ...(usePluginCommonjs ? [commonjs(options.commonjsOptions)] : []),\r\n            dataURIPlugin(),\r\n            assetImportMetaUrlPlugin(config),\r\n            ...(options.rollupOptions.plugins\r\n                ? options.rollupOptions.plugins.filter(Boolean)\r\n                : [])\r\n        ],\r\n        post: [\r\n            buildImportAnalysisPlugin(config),\r\n            ...(config.esbuild !== false ? [buildEsbuildPlugin(config)] : []),\r\n            ...(options.minify ? [terserPlugin(config)] : []),\r\n            ...(options.manifest ? [manifestPlugin(config)] : []),\r\n            ...(options.ssrManifest ? [ssrManifestPlugin(config)] : []),\r\n            buildReporterPlugin(config),\r\n            loadFallbackPlugin()\r\n        ]\r\n    };\r\n}\r\n/**\r\n * Track parallel build calls and only stop the esbuild service when all\r\n * builds are done. (#1098)\r\n */\r\nlet parallelCallCounts = 0;\r\n// we use a separate counter to track since the call may error before the\r\n// bundle is even pushed.\r\nconst parallelBuilds = [];\r\n/**\r\n * Bundles the app for production.\r\n * Returns a Promise containing the build result.\r\n */\r\nasync function build(inlineConfig = {}) {\r\n    parallelCallCounts++;\r\n    try {\r\n        return await doBuild(inlineConfig);\r\n    }\r\n    finally {\r\n        parallelCallCounts--;\r\n        if (parallelCallCounts <= 0) {\r\n            await Promise.all(parallelBuilds.map((bundle) => bundle.close()));\r\n            parallelBuilds.length = 0;\r\n        }\r\n    }\r\n}\r\nasync function doBuild(inlineConfig = {}) {\r\n    const config = await resolveConfig(inlineConfig, 'build', 'production');\r\n    const options = config.build;\r\n    const ssr = !!options.ssr;\r\n    const libOptions = options.lib;\r\n    config.logger.info(picocolors.exports.cyan(`vite v${VERSION} ${picocolors.exports.green(`building ${ssr ? `SSR bundle ` : ``}for ${config.mode}...`)}`));\r\n    const resolve = (p) => path$n.resolve(config.root, p);\r\n    const input = libOptions\r\n        ? resolve(libOptions.entry)\r\n        : typeof options.ssr === 'string'\r\n            ? resolve(options.ssr)\r\n            : options.rollupOptions?.input || resolve('index.html');\r\n    if (ssr && typeof input === 'string' && input.endsWith('.html')) {\r\n        throw new Error(`rollupOptions.input should not be an html file when building for SSR. ` +\r\n            `Please specify a dedicated SSR entry.`);\r\n    }\r\n    const outDir = resolve(options.outDir);\r\n    // inject ssr arg to plugin load/transform hooks\r\n    const plugins = (ssr ? config.plugins.map((p) => injectSsrFlagToHooks(p)) : config.plugins);\r\n    const userExternal = options.rollupOptions?.external;\r\n    let external = userExternal;\r\n    // In CJS, we can pass the externals to rollup as is. In ESM, we need to\r\n    // do it in the resolve plugin so we can add the resolved extension for\r\n    // deep node_modules imports\r\n    if (ssr && config.legacy?.buildSsrCjsExternalHeuristics) {\r\n        external = await cjsSsrResolveExternal(config, userExternal);\r\n    }\r\n    if (isDepsOptimizerEnabled(config, ssr)) {\r\n        await initDepsOptimizer(config);\r\n    }\r\n    const rollupOptions = {\r\n        context: 'globalThis',\r\n        preserveEntrySignatures: ssr\r\n            ? 'allow-extension'\r\n            : libOptions\r\n                ? 'strict'\r\n                : false,\r\n        ...options.rollupOptions,\r\n        input,\r\n        plugins,\r\n        external,\r\n        onwarn(warning, warn) {\r\n            onRollupWarning(warning, warn, config);\r\n        }\r\n    };\r\n    const outputBuildError = (e) => {\r\n        let msg = picocolors.exports.red((e.plugin ? `[${e.plugin}] ` : '') + e.message);\r\n        if (e.id) {\r\n            msg += `\\nfile: ${picocolors.exports.cyan(e.id + (e.loc ? `:${e.loc.line}:${e.loc.column}` : ''))}`;\r\n        }\r\n        if (e.frame) {\r\n            msg += `\\n` + picocolors.exports.yellow(e.frame);\r\n        }\r\n        config.logger.error(msg, { error: e });\r\n    };\r\n    try {\r\n        const buildOutputOptions = (output = {}) => {\r\n            // See https://github.com/vitejs/vite/issues/5812#issuecomment-984345618\r\n            // @ts-ignore\r\n            if (output.output) {\r\n                config.logger.warn(`You've set \"rollupOptions.output.output\" in your config. ` +\r\n                    `This is deprecated and will override all Vite.js default output options. ` +\r\n                    `Please use \"rollupOptions.output\" instead.`);\r\n            }\r\n            const ssrNodeBuild = ssr && config.ssr.target === 'node';\r\n            const ssrWorkerBuild = ssr && config.ssr.target === 'webworker';\r\n            const cjsSsrBuild = ssr && config.ssr.format === 'cjs';\r\n            const format = output.format || (cjsSsrBuild ? 'cjs' : 'es');\r\n            const jsExt = ssrNodeBuild || libOptions\r\n                ? resolveOutputJsExtension(format, getPkgJson(config.root)?.type)\r\n                : 'js';\r\n            return {\r\n                dir: outDir,\r\n                // Default format is 'es' for regular and for SSR builds\r\n                format,\r\n                exports: cjsSsrBuild ? 'named' : 'auto',\r\n                sourcemap: options.sourcemap,\r\n                name: libOptions ? libOptions.name : undefined,\r\n                // es2015 enables `generatedCode.symbols`\r\n                // - #764 add `Symbol.toStringTag` when build es module into cjs chunk\r\n                // - #1048 add `Symbol.toStringTag` for module default export\r\n                generatedCode: 'es2015',\r\n                entryFileNames: ssr\r\n                    ? `[name].${jsExt}`\r\n                    : libOptions\r\n                        ? resolveLibFilename(libOptions, format, config.root, jsExt)\r\n                        : path$n.posix.join(options.assetsDir, `[name].[hash].${jsExt}`),\r\n                chunkFileNames: libOptions\r\n                    ? `[name].[hash].${jsExt}`\r\n                    : path$n.posix.join(options.assetsDir, `[name].[hash].${jsExt}`),\r\n                assetFileNames: libOptions\r\n                    ? `[name].[ext]`\r\n                    : path$n.posix.join(options.assetsDir, `[name].[hash].[ext]`),\r\n                inlineDynamicImports: output.format === 'umd' ||\r\n                    output.format === 'iife' ||\r\n                    (ssrWorkerBuild && typeof input === 'string'),\r\n                ...output\r\n            };\r\n        };\r\n        // resolve lib mode outputs\r\n        const outputs = resolveBuildOutputs(options.rollupOptions?.output, libOptions, config.logger);\r\n        // watch file changes with rollup\r\n        if (config.build.watch) {\r\n            config.logger.info(picocolors.exports.cyan(`\\nwatching for file changes...`));\r\n            const output = [];\r\n            if (Array.isArray(outputs)) {\r\n                for (const resolvedOutput of outputs) {\r\n                    output.push(buildOutputOptions(resolvedOutput));\r\n                }\r\n            }\r\n            else {\r\n                output.push(buildOutputOptions(outputs));\r\n            }\r\n            const resolvedChokidarOptions = resolveChokidarOptions(config.build.watch.chokidar);\r\n            const { watch } = await import('rollup');\r\n            const watcher = watch({\r\n                ...rollupOptions,\r\n                output,\r\n                watch: {\r\n                    ...config.build.watch,\r\n                    chokidar: resolvedChokidarOptions\r\n                }\r\n            });\r\n            watcher.on('event', (event) => {\r\n                if (event.code === 'BUNDLE_START') {\r\n                    config.logger.info(picocolors.exports.cyan(`\\nbuild started...`));\r\n                    if (options.write) {\r\n                        prepareOutDir(outDir, options.emptyOutDir, config);\r\n                    }\r\n                }\r\n                else if (event.code === 'BUNDLE_END') {\r\n                    event.result.close();\r\n                    config.logger.info(picocolors.exports.cyan(`built in ${event.duration}ms.`));\r\n                }\r\n                else if (event.code === 'ERROR') {\r\n                    outputBuildError(event.error);\r\n                }\r\n            });\r\n            return watcher;\r\n        }\r\n        // write or generate files with rollup\r\n        const { rollup } = await import('rollup');\r\n        const bundle = await rollup(rollupOptions);\r\n        parallelBuilds.push(bundle);\r\n        const generate = (output = {}) => {\r\n            return bundle[options.write ? 'write' : 'generate'](buildOutputOptions(output));\r\n        };\r\n        if (options.write) {\r\n            prepareOutDir(outDir, options.emptyOutDir, config);\r\n        }\r\n        if (Array.isArray(outputs)) {\r\n            const res = [];\r\n            for (const output of outputs) {\r\n                res.push(await generate(output));\r\n            }\r\n            return res;\r\n        }\r\n        else {\r\n            return await generate(outputs);\r\n        }\r\n    }\r\n    catch (e) {\r\n        outputBuildError(e);\r\n        throw e;\r\n    }\r\n}\r\nfunction prepareOutDir(outDir, emptyOutDir, config) {\r\n    if (fs$l.existsSync(outDir)) {\r\n        if (emptyOutDir == null &&\r\n            !normalizePath$3(outDir).startsWith(config.root + '/')) {\r\n            // warn if outDir is outside of root\r\n            config.logger.warn(picocolors.exports.yellow(`\\n${picocolors.exports.bold(`(!)`)} outDir ${picocolors.exports.white(picocolors.exports.dim(outDir))} is not inside project root and will not be emptied.\\n` +\r\n                `Use --emptyOutDir to override.\\n`));\r\n        }\r\n        else if (emptyOutDir !== false) {\r\n            emptyDir(outDir, ['.git']);\r\n        }\r\n    }\r\n    if (config.publicDir && fs$l.existsSync(config.publicDir)) {\r\n        copyDir(config.publicDir, outDir);\r\n    }\r\n}\r\nfunction getPkgJson(root) {\r\n    return JSON.parse(lookupFile(root, ['package.json']) || `{}`);\r\n}\r\nfunction getPkgName(name) {\r\n    return name?.startsWith('@') ? name.split('/')[1] : name;\r\n}\r\nfunction resolveOutputJsExtension(format, type = 'commonjs') {\r\n    if (type === 'module') {\r\n        return format === 'cjs' || format === 'umd' ? 'cjs' : 'js';\r\n    }\r\n    else {\r\n        return format === 'es' ? 'mjs' : 'js';\r\n    }\r\n}\r\nfunction resolveLibFilename(libOptions, format, root, extension) {\r\n    if (typeof libOptions.fileName === 'function') {\r\n        return libOptions.fileName(format);\r\n    }\r\n    const packageJson = getPkgJson(root);\r\n    const name = libOptions.fileName || getPkgName(packageJson.name);\r\n    if (!name)\r\n        throw new Error('Name in package.json is required if option \"build.lib.fileName\" is not provided.');\r\n    extension ?? (extension = resolveOutputJsExtension(format, packageJson.type));\r\n    if (format === 'cjs' || format === 'es') {\r\n        return `${name}.${extension}`;\r\n    }\r\n    return `${name}.${format}.${extension}`;\r\n}\r\nfunction resolveBuildOutputs(outputs, libOptions, logger) {\r\n    if (libOptions) {\r\n        const formats = libOptions.formats || ['es', 'umd'];\r\n        if ((formats.includes('umd') || formats.includes('iife')) &&\r\n            !libOptions.name) {\r\n            throw new Error(`Option \"build.lib.name\" is required when output formats ` +\r\n                `include \"umd\" or \"iife\".`);\r\n        }\r\n        if (!outputs) {\r\n            return formats.map((format) => ({ format }));\r\n        }\r\n        else if (!Array.isArray(outputs)) {\r\n            return formats.map((format) => ({ ...outputs, format }));\r\n        }\r\n        else if (libOptions.formats) {\r\n            // user explicitly specifying own output array\r\n            logger.warn(picocolors.exports.yellow(`\"build.lib.formats\" will be ignored because ` +\r\n                `\"build.rollupOptions.output\" is already an array format`));\r\n        }\r\n    }\r\n    return outputs;\r\n}\r\nconst warningIgnoreList = [`CIRCULAR_DEPENDENCY`, `THIS_IS_UNDEFINED`];\r\nconst dynamicImportWarningIgnoreList = [\r\n    `Unsupported expression`,\r\n    `statically analyzed`\r\n];\r\nfunction onRollupWarning(warning, warn, config) {\r\n    if (warning.code === 'UNRESOLVED_IMPORT') {\r\n        const id = warning.source;\r\n        const importer = warning.importer;\r\n        // throw unless it's commonjs external...\r\n        if (!importer || !/\\?commonjs-external$/.test(importer)) {\r\n            throw new Error(`[vite]: Rollup failed to resolve import \"${id}\" from \"${importer}\".\\n` +\r\n                `This is most likely unintended because it can break your application at runtime.\\n` +\r\n                `If you do want to externalize this module explicitly add it to\\n` +\r\n                `\\`build.rollupOptions.external\\``);\r\n        }\r\n    }\r\n    if (warning.plugin === 'rollup-plugin-dynamic-import-variables' &&\r\n        dynamicImportWarningIgnoreList.some((msg) => warning.message.includes(msg))) {\r\n        return;\r\n    }\r\n    if (!warningIgnoreList.includes(warning.code)) {\r\n        const userOnWarn = config.build.rollupOptions?.onwarn;\r\n        if (userOnWarn) {\r\n            userOnWarn(warning, warn);\r\n        }\r\n        else if (warning.code === 'PLUGIN_WARNING') {\r\n            config.logger.warn(`${picocolors.exports.bold(picocolors.exports.yellow(`[plugin:${warning.plugin}]`))} ${picocolors.exports.yellow(warning.message)}`);\r\n        }\r\n        else {\r\n            warn(warning);\r\n        }\r\n    }\r\n}\r\nasync function cjsSsrResolveExternal(config, user) {\r\n    // see if we have cached deps data available\r\n    let knownImports;\r\n    const dataPath = path$n.join(getDepsCacheDir(config, false), '_metadata.json');\r\n    try {\r\n        const data = JSON.parse(fs$l.readFileSync(dataPath, 'utf-8'));\r\n        knownImports = Object.keys(data.optimized);\r\n    }\r\n    catch (e) { }\r\n    if (!knownImports) {\r\n        // no dev deps optimization data, do a fresh scan\r\n        knownImports = await findKnownImports(config, false); // needs to use non-ssr\r\n    }\r\n    const ssrExternals = cjsSsrResolveExternals(config, knownImports);\r\n    return (id, parentId, isResolved) => {\r\n        const isExternal = cjsShouldExternalizeForSSR(id, ssrExternals);\r\n        if (isExternal) {\r\n            return true;\r\n        }\r\n        if (user) {\r\n            return resolveUserExternal(user, id, parentId, isResolved);\r\n        }\r\n    };\r\n}\r\nfunction resolveUserExternal(user, id, parentId, isResolved) {\r\n    if (typeof user === 'function') {\r\n        return user(id, parentId, isResolved);\r\n    }\r\n    else if (Array.isArray(user)) {\r\n        return user.some((test) => isExternal(id, test));\r\n    }\r\n    else {\r\n        return isExternal(id, user);\r\n    }\r\n}\r\nfunction isExternal(id, test) {\r\n    if (typeof test === 'string') {\r\n        return id === test;\r\n    }\r\n    else {\r\n        return test.test(id);\r\n    }\r\n}\r\nfunction injectSsrFlagToHooks(plugin) {\r\n    const { resolveId, load, transform } = plugin;\r\n    return {\r\n        ...plugin,\r\n        resolveId: wrapSsrResolveId(resolveId),\r\n        load: wrapSsrLoad(load),\r\n        transform: wrapSsrTransform(transform)\r\n    };\r\n}\r\nfunction wrapSsrResolveId(fn) {\r\n    if (!fn)\r\n        return;\r\n    return function (id, importer, options) {\r\n        return fn.call(this, id, importer, injectSsrFlag(options));\r\n    };\r\n}\r\nfunction wrapSsrLoad(fn) {\r\n    if (!fn)\r\n        return;\r\n    return function (id, ...args) {\r\n        // @ts-expect-error: Receiving options param to be future-proof if Rollup adds it\r\n        return fn.call(this, id, injectSsrFlag(args[0]));\r\n    };\r\n}\r\nfunction wrapSsrTransform(fn) {\r\n    if (!fn)\r\n        return;\r\n    return function (code, importer, ...args) {\r\n        // @ts-expect-error: Receiving options param to be future-proof if Rollup adds it\r\n        return fn.call(this, code, importer, injectSsrFlag(args[0]));\r\n    };\r\n}\r\nfunction injectSsrFlag(options) {\r\n    return { ...(options ?? {}), ssr: true };\r\n}\r\n/*\r\n  The following functions are copied from rollup\r\n  https://github.com/rollup/rollup/blob/c5269747cd3dd14c4b306e8cea36f248d9c1aa01/src/ast/nodes/MetaProperty.ts#L189-L232\r\n\r\n  https://github.com/rollup/rollup\r\n  The MIT License (MIT)\r\n  Copyright (c) 2017 [these people](https://github.com/rollup/rollup/graphs/contributors)\r\n  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\nconst getResolveUrl = (path, URL = 'URL') => `new ${URL}(${path}).href`;\r\nconst getRelativeUrlFromDocument = (relativePath, umd = false) => getResolveUrl(`'${relativePath}', ${umd ? `typeof document === 'undefined' ? location.href : ` : ''}document.currentScript && document.currentScript.src || document.baseURI`);\r\nconst relativeUrlMechanisms = {\r\n    amd: (relativePath) => {\r\n        if (relativePath[0] !== '.')\r\n            relativePath = './' + relativePath;\r\n        return getResolveUrl(`require.toUrl('${relativePath}'), document.baseURI`);\r\n    },\r\n    cjs: (relativePath) => `(typeof document === 'undefined' ? ${getResolveUrl(`'file:' + __dirname + '/${relativePath}'`, `(require('u' + 'rl').URL)`)} : ${getRelativeUrlFromDocument(relativePath)})`,\r\n    es: (relativePath) => getResolveUrl(`'${relativePath}', import.meta.url`),\r\n    iife: (relativePath) => getRelativeUrlFromDocument(relativePath),\r\n    // NOTE: make sure rollup generate `module` params\r\n    system: (relativePath) => getResolveUrl(`'${relativePath}', module.meta.url`),\r\n    umd: (relativePath) => `(typeof document === 'undefined' && typeof location === 'undefined' ? ${getResolveUrl(`'file:' + __dirname + '/${relativePath}'`, `(require('u' + 'rl').URL)`)} : ${getRelativeUrlFromDocument(relativePath, true)})`\r\n};\r\nfunction toOutputFilePathInString(filename, type, hostId, hostType, config, format, toRelative = getToImportMetaURLBasedRelativePath(format)) {\r\n    const { renderBuiltUrl } = config.experimental;\r\n    let relative = config.base === '' || config.base === './';\r\n    if (renderBuiltUrl) {\r\n        const result = renderBuiltUrl(filename, {\r\n            hostId,\r\n            hostType,\r\n            type,\r\n            ssr: !!config.build.ssr\r\n        });\r\n        if (typeof result === 'object') {\r\n            if (result.runtime) {\r\n                return { runtime: result.runtime };\r\n            }\r\n            if (typeof result.relative === 'boolean') {\r\n                relative = result.relative;\r\n            }\r\n        }\r\n        else if (result) {\r\n            return result;\r\n        }\r\n    }\r\n    if (relative && !config.build.ssr) {\r\n        return toRelative(filename, hostId);\r\n    }\r\n    return config.base + filename;\r\n}\r\nfunction getToImportMetaURLBasedRelativePath(format) {\r\n    const toRelativePath = relativeUrlMechanisms[format];\r\n    return (filename, importer) => ({\r\n        runtime: toRelativePath(path$n.posix.relative(path$n.dirname(importer), filename))\r\n    });\r\n}\r\nfunction toOutputFilePathWithoutRuntime(filename, type, hostId, hostType, config, toRelative) {\r\n    const { renderBuiltUrl } = config.experimental;\r\n    let relative = config.base === '' || config.base === './';\r\n    if (renderBuiltUrl) {\r\n        const result = renderBuiltUrl(filename, {\r\n            hostId,\r\n            hostType,\r\n            type,\r\n            ssr: !!config.build.ssr\r\n        });\r\n        if (typeof result === 'object') {\r\n            if (result.runtime) {\r\n                throw new Error(`{ runtime: \"${result.runtime} }\" is not supported for assets in ${hostType} files: ${filename}`);\r\n            }\r\n            if (typeof result.relative === 'boolean') {\r\n                relative = result.relative;\r\n            }\r\n        }\r\n        else if (result) {\r\n            return result;\r\n        }\r\n    }\r\n    if (relative && !config.build.ssr) {\r\n        return toRelative(filename, hostId);\r\n    }\r\n    else {\r\n        return config.base + filename;\r\n    }\r\n}\r\nconst toOutputFilePathInCss = toOutputFilePathWithoutRuntime;\r\nconst toOutputFilePathInHtml = toOutputFilePathWithoutRuntime;\r\n\r\nvar build$1 = {\r\n\t__proto__: null,\r\n\tresolveBuildOptions: resolveBuildOptions,\r\n\tresolveBuildPlugins: resolveBuildPlugins,\r\n\tbuild: build,\r\n\tresolveLibFilename: resolveLibFilename,\r\n\tonRollupWarning: onRollupWarning,\r\n\ttoOutputFilePathInString: toOutputFilePathInString,\r\n\ttoOutputFilePathWithoutRuntime: toOutputFilePathWithoutRuntime,\r\n\ttoOutputFilePathInCss: toOutputFilePathInCss,\r\n\ttoOutputFilePathInHtml: toOutputFilePathInHtml\r\n};\r\n\r\nvar src = {exports: {}};\r\n\r\nvar browser = {exports: {}};\r\n\r\nvar debug$6 = {exports: {}};\r\n\r\n/**\r\n * Helpers.\r\n */\r\n\r\nvar ms;\r\nvar hasRequiredMs;\r\n\r\nfunction requireMs () {\r\n\tif (hasRequiredMs) return ms;\r\n\thasRequiredMs = 1;\r\n\tvar s = 1000;\r\n\tvar m = s * 60;\r\n\tvar h = m * 60;\r\n\tvar d = h * 24;\r\n\tvar y = d * 365.25;\r\n\r\n\t/**\r\n\t * Parse or format the given `val`.\r\n\t *\r\n\t * Options:\r\n\t *\r\n\t *  - `long` verbose formatting [false]\r\n\t *\r\n\t * @param {String|Number} val\r\n\t * @param {Object} [options]\r\n\t * @throws {Error} throw an error if val is not a non-empty string or a number\r\n\t * @return {String|Number}\r\n\t * @api public\r\n\t */\r\n\r\n\tms = function(val, options) {\r\n\t  options = options || {};\r\n\t  var type = typeof val;\r\n\t  if (type === 'string' && val.length > 0) {\r\n\t    return parse(val);\r\n\t  } else if (type === 'number' && isNaN(val) === false) {\r\n\t    return options.long ? fmtLong(val) : fmtShort(val);\r\n\t  }\r\n\t  throw new Error(\r\n\t    'val is not a non-empty string or a valid number. val=' +\r\n\t      JSON.stringify(val)\r\n\t  );\r\n\t};\r\n\r\n\t/**\r\n\t * Parse the given `str` and return milliseconds.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction parse(str) {\r\n\t  str = String(str);\r\n\t  if (str.length > 100) {\r\n\t    return;\r\n\t  }\r\n\t  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\r\n\t    str\r\n\t  );\r\n\t  if (!match) {\r\n\t    return;\r\n\t  }\r\n\t  var n = parseFloat(match[1]);\r\n\t  var type = (match[2] || 'ms').toLowerCase();\r\n\t  switch (type) {\r\n\t    case 'years':\r\n\t    case 'year':\r\n\t    case 'yrs':\r\n\t    case 'yr':\r\n\t    case 'y':\r\n\t      return n * y;\r\n\t    case 'days':\r\n\t    case 'day':\r\n\t    case 'd':\r\n\t      return n * d;\r\n\t    case 'hours':\r\n\t    case 'hour':\r\n\t    case 'hrs':\r\n\t    case 'hr':\r\n\t    case 'h':\r\n\t      return n * h;\r\n\t    case 'minutes':\r\n\t    case 'minute':\r\n\t    case 'mins':\r\n\t    case 'min':\r\n\t    case 'm':\r\n\t      return n * m;\r\n\t    case 'seconds':\r\n\t    case 'second':\r\n\t    case 'secs':\r\n\t    case 'sec':\r\n\t    case 's':\r\n\t      return n * s;\r\n\t    case 'milliseconds':\r\n\t    case 'millisecond':\r\n\t    case 'msecs':\r\n\t    case 'msec':\r\n\t    case 'ms':\r\n\t      return n;\r\n\t    default:\r\n\t      return undefined;\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Short format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtShort(ms) {\r\n\t  if (ms >= d) {\r\n\t    return Math.round(ms / d) + 'd';\r\n\t  }\r\n\t  if (ms >= h) {\r\n\t    return Math.round(ms / h) + 'h';\r\n\t  }\r\n\t  if (ms >= m) {\r\n\t    return Math.round(ms / m) + 'm';\r\n\t  }\r\n\t  if (ms >= s) {\r\n\t    return Math.round(ms / s) + 's';\r\n\t  }\r\n\t  return ms + 'ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Long format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtLong(ms) {\r\n\t  return plural(ms, d, 'day') ||\r\n\t    plural(ms, h, 'hour') ||\r\n\t    plural(ms, m, 'minute') ||\r\n\t    plural(ms, s, 'second') ||\r\n\t    ms + ' ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Pluralization helper.\r\n\t */\r\n\r\n\tfunction plural(ms, n, name) {\r\n\t  if (ms < n) {\r\n\t    return;\r\n\t  }\r\n\t  if (ms < n * 1.5) {\r\n\t    return Math.floor(ms / n) + ' ' + name;\r\n\t  }\r\n\t  return Math.ceil(ms / n) + ' ' + name + 's';\r\n\t}\r\n\treturn ms;\r\n}\r\n\r\nvar hasRequiredDebug;\r\n\r\nfunction requireDebug () {\r\n\tif (hasRequiredDebug) return debug$6.exports;\r\n\thasRequiredDebug = 1;\r\n\t(function (module, exports) {\r\n\t\t/**\r\n\t\t * This is the common logic for both the Node.js and web browser\r\n\t\t * implementations of `debug()`.\r\n\t\t *\r\n\t\t * Expose `debug()` as the module.\r\n\t\t */\r\n\r\n\t\texports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\r\n\t\texports.coerce = coerce;\r\n\t\texports.disable = disable;\r\n\t\texports.enable = enable;\r\n\t\texports.enabled = enabled;\r\n\t\texports.humanize = requireMs();\r\n\r\n\t\t/**\r\n\t\t * The currently active debug mode names, and names to skip.\r\n\t\t */\r\n\r\n\t\texports.names = [];\r\n\t\texports.skips = [];\r\n\r\n\t\t/**\r\n\t\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t\t *\r\n\t\t * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\r\n\t\t */\r\n\r\n\t\texports.formatters = {};\r\n\r\n\t\t/**\r\n\t\t * Previous log timestamp.\r\n\t\t */\r\n\r\n\t\tvar prevTime;\r\n\r\n\t\t/**\r\n\t\t * Select a color.\r\n\t\t * @param {String} namespace\r\n\t\t * @return {Number}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction selectColor(namespace) {\r\n\t\t  var hash = 0, i;\r\n\r\n\t\t  for (i in namespace) {\r\n\t\t    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\r\n\t\t    hash |= 0; // Convert to 32bit integer\r\n\t\t  }\r\n\r\n\t\t  return exports.colors[Math.abs(hash) % exports.colors.length];\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Create a debugger with the given `namespace`.\r\n\t\t *\r\n\t\t * @param {String} namespace\r\n\t\t * @return {Function}\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction createDebug(namespace) {\r\n\r\n\t\t  function debug() {\r\n\t\t    // disabled?\r\n\t\t    if (!debug.enabled) return;\r\n\r\n\t\t    var self = debug;\r\n\r\n\t\t    // set `diff` timestamp\r\n\t\t    var curr = +new Date();\r\n\t\t    var ms = curr - (prevTime || curr);\r\n\t\t    self.diff = ms;\r\n\t\t    self.prev = prevTime;\r\n\t\t    self.curr = curr;\r\n\t\t    prevTime = curr;\r\n\r\n\t\t    // turn the `arguments` into a proper Array\r\n\t\t    var args = new Array(arguments.length);\r\n\t\t    for (var i = 0; i < args.length; i++) {\r\n\t\t      args[i] = arguments[i];\r\n\t\t    }\r\n\r\n\t\t    args[0] = exports.coerce(args[0]);\r\n\r\n\t\t    if ('string' !== typeof args[0]) {\r\n\t\t      // anything else let's inspect with %O\r\n\t\t      args.unshift('%O');\r\n\t\t    }\r\n\r\n\t\t    // apply any `formatters` transformations\r\n\t\t    var index = 0;\r\n\t\t    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\r\n\t\t      // if we encounter an escaped % then don't increase the array index\r\n\t\t      if (match === '%%') return match;\r\n\t\t      index++;\r\n\t\t      var formatter = exports.formatters[format];\r\n\t\t      if ('function' === typeof formatter) {\r\n\t\t        var val = args[index];\r\n\t\t        match = formatter.call(self, val);\r\n\r\n\t\t        // now we need to remove `args[index]` since it's inlined in the `format`\r\n\t\t        args.splice(index, 1);\r\n\t\t        index--;\r\n\t\t      }\r\n\t\t      return match;\r\n\t\t    });\r\n\r\n\t\t    // apply env-specific formatting (colors, etc.)\r\n\t\t    exports.formatArgs.call(self, args);\r\n\r\n\t\t    var logFn = debug.log || exports.log || console.log.bind(console);\r\n\t\t    logFn.apply(self, args);\r\n\t\t  }\r\n\r\n\t\t  debug.namespace = namespace;\r\n\t\t  debug.enabled = exports.enabled(namespace);\r\n\t\t  debug.useColors = exports.useColors();\r\n\t\t  debug.color = selectColor(namespace);\r\n\r\n\t\t  // env-specific initialization logic for debug instances\r\n\t\t  if ('function' === typeof exports.init) {\r\n\t\t    exports.init(debug);\r\n\t\t  }\r\n\r\n\t\t  return debug;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Enables a debug mode by namespaces. This can include modes\r\n\t\t * separated by a colon and wildcards.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction enable(namespaces) {\r\n\t\t  exports.save(namespaces);\r\n\r\n\t\t  exports.names = [];\r\n\t\t  exports.skips = [];\r\n\r\n\t\t  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\r\n\t\t  var len = split.length;\r\n\r\n\t\t  for (var i = 0; i < len; i++) {\r\n\t\t    if (!split[i]) continue; // ignore empty strings\r\n\t\t    namespaces = split[i].replace(/\\*/g, '.*?');\r\n\t\t    if (namespaces[0] === '-') {\r\n\t\t      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\r\n\t\t    } else {\r\n\t\t      exports.names.push(new RegExp('^' + namespaces + '$'));\r\n\t\t    }\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Disable debug output.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction disable() {\r\n\t\t  exports.enable('');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns true if the given mode name is enabled, false otherwise.\r\n\t\t *\r\n\t\t * @param {String} name\r\n\t\t * @return {Boolean}\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction enabled(name) {\r\n\t\t  var i, len;\r\n\t\t  for (i = 0, len = exports.skips.length; i < len; i++) {\r\n\t\t    if (exports.skips[i].test(name)) {\r\n\t\t      return false;\r\n\t\t    }\r\n\t\t  }\r\n\t\t  for (i = 0, len = exports.names.length; i < len; i++) {\r\n\t\t    if (exports.names[i].test(name)) {\r\n\t\t      return true;\r\n\t\t    }\r\n\t\t  }\r\n\t\t  return false;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Coerce `val`.\r\n\t\t *\r\n\t\t * @param {Mixed} val\r\n\t\t * @return {Mixed}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction coerce(val) {\r\n\t\t  if (val instanceof Error) return val.stack || val.message;\r\n\t\t  return val;\r\n\t\t}\r\n} (debug$6, debug$6.exports));\r\n\treturn debug$6.exports;\r\n}\r\n\r\n/**\r\n * This is the web browser implementation of `debug()`.\r\n *\r\n * Expose `debug()` as the module.\r\n */\r\n\r\nvar hasRequiredBrowser;\r\n\r\nfunction requireBrowser () {\r\n\tif (hasRequiredBrowser) return browser.exports;\r\n\thasRequiredBrowser = 1;\r\n\t(function (module, exports) {\r\n\t\texports = module.exports = requireDebug();\r\n\t\texports.log = log;\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\t\texports.storage = 'undefined' != typeof chrome\r\n\t\t               && 'undefined' != typeof chrome.storage\r\n\t\t                  ? chrome.storage.local\r\n\t\t                  : localstorage();\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [\r\n\t\t  'lightseagreen',\r\n\t\t  'forestgreen',\r\n\t\t  'goldenrod',\r\n\t\t  'dodgerblue',\r\n\t\t  'darkorchid',\r\n\t\t  'crimson'\r\n\t\t];\r\n\r\n\t\t/**\r\n\t\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n\t\t * and the Firebug extension (any Firefox version) are known\r\n\t\t * to support \"%c\" CSS customizations.\r\n\t\t *\r\n\t\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n\t\t */\r\n\r\n\t\tfunction useColors() {\r\n\t\t  // NB: In an Electron preload script, document will be defined but not fully\r\n\t\t  // initialized. Since we know we're in Chrome, we'll just detect this case\r\n\t\t  // explicitly\r\n\t\t  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\r\n\t\t    return true;\r\n\t\t  }\r\n\r\n\t\t  // is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t\t  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\r\n\t\t  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\r\n\t\t    // is firebug? http://stackoverflow.com/a/398120/376773\r\n\t\t    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\r\n\t\t    // is firefox >= v31?\r\n\t\t    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t\t    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\r\n\t\t    // double check webkit in userAgent just in case we are in a worker\r\n\t\t    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n\t\t */\r\n\r\n\t\texports.formatters.j = function(v) {\r\n\t\t  try {\r\n\t\t    return JSON.stringify(v);\r\n\t\t  } catch (err) {\r\n\t\t    return '[UnexpectedJSONParseError]: ' + err.message;\r\n\t\t  }\r\n\t\t};\r\n\r\n\r\n\t\t/**\r\n\t\t * Colorize log arguments if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t  var useColors = this.useColors;\r\n\r\n\t\t  args[0] = (useColors ? '%c' : '')\r\n\t\t    + this.namespace\r\n\t\t    + (useColors ? ' %c' : ' ')\r\n\t\t    + args[0]\r\n\t\t    + (useColors ? '%c ' : ' ')\r\n\t\t    + '+' + exports.humanize(this.diff);\r\n\r\n\t\t  if (!useColors) return;\r\n\r\n\t\t  var c = 'color: ' + this.color;\r\n\t\t  args.splice(1, 0, c, 'color: inherit');\r\n\r\n\t\t  // the final \"%c\" is somewhat tricky, because there could be other\r\n\t\t  // arguments passed either before or after the %c, so we need to\r\n\t\t  // figure out the correct index to insert the CSS into\r\n\t\t  var index = 0;\r\n\t\t  var lastC = 0;\r\n\t\t  args[0].replace(/%[a-zA-Z%]/g, function(match) {\r\n\t\t    if ('%%' === match) return;\r\n\t\t    index++;\r\n\t\t    if ('%c' === match) {\r\n\t\t      // we only are interested in the *last* %c\r\n\t\t      // (the user may have provided their own)\r\n\t\t      lastC = index;\r\n\t\t    }\r\n\t\t  });\r\n\r\n\t\t  args.splice(lastC, 0, c);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `console.log()` when available.\r\n\t\t * No-op when `console.log` is not a \"function\".\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction log() {\r\n\t\t  // this hackery is required for IE8/9, where\r\n\t\t  // the `console.log` function doesn't have 'apply'\r\n\t\t  return 'object' === typeof console\r\n\t\t    && console.log\r\n\t\t    && Function.prototype.apply.call(console.log, console, arguments);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction save(namespaces) {\r\n\t\t  try {\r\n\t\t    if (null == namespaces) {\r\n\t\t      exports.storage.removeItem('debug');\r\n\t\t    } else {\r\n\t\t      exports.storage.debug = namespaces;\r\n\t\t    }\r\n\t\t  } catch(e) {}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction load() {\r\n\t\t  var r;\r\n\t\t  try {\r\n\t\t    r = exports.storage.debug;\r\n\t\t  } catch(e) {}\r\n\r\n\t\t  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\r\n\t\t  if (!r && typeof process !== 'undefined' && 'env' in process) {\r\n\t\t    r = process.env.DEBUG;\r\n\t\t  }\r\n\r\n\t\t  return r;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Enable namespaces listed in `localStorage.debug` initially.\r\n\t\t */\r\n\r\n\t\texports.enable(load());\r\n\r\n\t\t/**\r\n\t\t * Localstorage attempts to return the localstorage.\r\n\t\t *\r\n\t\t * This is necessary because safari throws\r\n\t\t * when a user disables cookies/localstorage\r\n\t\t * and you attempt to access it.\r\n\t\t *\r\n\t\t * @return {LocalStorage}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction localstorage() {\r\n\t\t  try {\r\n\t\t    return window.localStorage;\r\n\t\t  } catch (e) {}\r\n\t\t}\r\n} (browser, browser.exports));\r\n\treturn browser.exports;\r\n}\r\n\r\nvar node = {exports: {}};\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar hasRequiredNode;\r\n\r\nfunction requireNode () {\r\n\tif (hasRequiredNode) return node.exports;\r\n\thasRequiredNode = 1;\r\n\t(function (module, exports) {\r\n\t\tvar tty = require$$0$3;\r\n\t\tvar util = require$$0$6;\r\n\r\n\t\t/**\r\n\t\t * This is the Node.js implementation of `debug()`.\r\n\t\t *\r\n\t\t * Expose `debug()` as the module.\r\n\t\t */\r\n\r\n\t\texports = module.exports = requireDebug();\r\n\t\texports.init = init;\r\n\t\texports.log = log;\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [6, 2, 3, 4, 5, 1];\r\n\r\n\t\t/**\r\n\t\t * Build up the default `inspectOpts` object from the environment variables.\r\n\t\t *\r\n\t\t *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\r\n\t\t */\r\n\r\n\t\texports.inspectOpts = Object.keys(process.env).filter(function (key) {\r\n\t\t  return /^debug_/i.test(key);\r\n\t\t}).reduce(function (obj, key) {\r\n\t\t  // camel-case\r\n\t\t  var prop = key\r\n\t\t    .substring(6)\r\n\t\t    .toLowerCase()\r\n\t\t    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\r\n\r\n\t\t  // coerce string value into JS value\r\n\t\t  var val = process.env[key];\r\n\t\t  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\r\n\t\t  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\r\n\t\t  else if (val === 'null') val = null;\r\n\t\t  else val = Number(val);\r\n\r\n\t\t  obj[prop] = val;\r\n\t\t  return obj;\r\n\t\t}, {});\r\n\r\n\t\t/**\r\n\t\t * The file descriptor to write the `debug()` calls to.\r\n\t\t * Set the `DEBUG_FD` env variable to override with another value. i.e.:\r\n\t\t *\r\n\t\t *   $ DEBUG_FD=3 node script.js 3>debug.log\r\n\t\t */\r\n\r\n\t\tvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\r\n\r\n\t\tif (1 !== fd && 2 !== fd) {\r\n\t\t  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')();\r\n\t\t}\r\n\r\n\t\tvar stream = 1 === fd ? process.stdout :\r\n\t\t             2 === fd ? process.stderr :\r\n\t\t             createWritableStdioStream(fd);\r\n\r\n\t\t/**\r\n\t\t * Is stdout a TTY? Colored output is enabled when `true`.\r\n\t\t */\r\n\r\n\t\tfunction useColors() {\r\n\t\t  return 'colors' in exports.inspectOpts\r\n\t\t    ? Boolean(exports.inspectOpts.colors)\r\n\t\t    : tty.isatty(fd);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Map %o to `util.inspect()`, all on a single line.\r\n\t\t */\r\n\r\n\t\texports.formatters.o = function(v) {\r\n\t\t  this.inspectOpts.colors = this.useColors;\r\n\t\t  return util.inspect(v, this.inspectOpts)\r\n\t\t    .split('\\n').map(function(str) {\r\n\t\t      return str.trim()\r\n\t\t    }).join(' ');\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Map %o to `util.inspect()`, allowing multiple lines if needed.\r\n\t\t */\r\n\r\n\t\texports.formatters.O = function(v) {\r\n\t\t  this.inspectOpts.colors = this.useColors;\r\n\t\t  return util.inspect(v, this.inspectOpts);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Adds ANSI color escape codes if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t  var name = this.namespace;\r\n\t\t  var useColors = this.useColors;\r\n\r\n\t\t  if (useColors) {\r\n\t\t    var c = this.color;\r\n\t\t    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\r\n\r\n\t\t    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\r\n\t\t    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\r\n\t\t  } else {\r\n\t\t    args[0] = new Date().toUTCString()\r\n\t\t      + ' ' + name + ' ' + args[0];\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `util.format()` with the specified arguments and writes to `stream`.\r\n\t\t */\r\n\r\n\t\tfunction log() {\r\n\t\t  return stream.write(util.format.apply(util, arguments) + '\\n');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction save(namespaces) {\r\n\t\t  if (null == namespaces) {\r\n\t\t    // If you set a process.env field to null or undefined, it gets cast to the\r\n\t\t    // string 'null' or 'undefined'. Just delete instead.\r\n\t\t    delete process.env.DEBUG;\r\n\t\t  } else {\r\n\t\t    process.env.DEBUG = namespaces;\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction load() {\r\n\t\t  return process.env.DEBUG;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Copied from `node/src/node.js`.\r\n\t\t *\r\n\t\t * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\r\n\t\t * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\r\n\t\t */\r\n\r\n\t\tfunction createWritableStdioStream (fd) {\r\n\t\t  var stream;\r\n\t\t  var tty_wrap = process.binding('tty_wrap');\r\n\r\n\t\t  // Note stream._type is used for test-module-load-list.js\r\n\r\n\t\t  switch (tty_wrap.guessHandleType(fd)) {\r\n\t\t    case 'TTY':\r\n\t\t      stream = new tty.WriteStream(fd);\r\n\t\t      stream._type = 'tty';\r\n\r\n\t\t      // Hack to have stream not keep the event loop alive.\r\n\t\t      // See https://github.com/joyent/node/issues/1726\r\n\t\t      if (stream._handle && stream._handle.unref) {\r\n\t\t        stream._handle.unref();\r\n\t\t      }\r\n\t\t      break;\r\n\r\n\t\t    case 'FILE':\r\n\t\t      var fs = require$$0__default;\r\n\t\t      stream = new fs.SyncWriteStream(fd, { autoClose: false });\r\n\t\t      stream._type = 'fs';\r\n\t\t      break;\r\n\r\n\t\t    case 'PIPE':\r\n\t\t    case 'TCP':\r\n\t\t      var net = require$$3$1;\r\n\t\t      stream = new net.Socket({\r\n\t\t        fd: fd,\r\n\t\t        readable: false,\r\n\t\t        writable: true\r\n\t\t      });\r\n\r\n\t\t      // FIXME Should probably have an option in net.Socket to create a\r\n\t\t      // stream from an existing fd which is writable only. But for now\r\n\t\t      // we'll just add this hack and set the `readable` member to false.\r\n\t\t      // Test: ./node test/fixtures/echo.js < /etc/passwd\r\n\t\t      stream.readable = false;\r\n\t\t      stream.read = null;\r\n\t\t      stream._type = 'pipe';\r\n\r\n\t\t      // FIXME Hack to have stream not keep the event loop alive.\r\n\t\t      // See https://github.com/joyent/node/issues/1726\r\n\t\t      if (stream._handle && stream._handle.unref) {\r\n\t\t        stream._handle.unref();\r\n\t\t      }\r\n\t\t      break;\r\n\r\n\t\t    default:\r\n\t\t      // Probably an error on in uv_guess_handle()\r\n\t\t      throw new Error('Implement me. Unknown stream file type!');\r\n\t\t  }\r\n\r\n\t\t  // For supporting legacy API we put the FD here.\r\n\t\t  stream.fd = fd;\r\n\r\n\t\t  stream._isStdio = true;\r\n\r\n\t\t  return stream;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Init logic for `debug` instances.\r\n\t\t *\r\n\t\t * Create a new `inspectOpts` object in case `useColors` is set\r\n\t\t * differently for a particular `debug` instance.\r\n\t\t */\r\n\r\n\t\tfunction init (debug) {\r\n\t\t  debug.inspectOpts = {};\r\n\r\n\t\t  var keys = Object.keys(exports.inspectOpts);\r\n\t\t  for (var i = 0; i < keys.length; i++) {\r\n\t\t    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Enable namespaces listed in `process.env.DEBUG` initially.\r\n\t\t */\r\n\r\n\t\texports.enable(load());\r\n} (node, node.exports));\r\n\treturn node.exports;\r\n}\r\n\r\n/**\r\n * Detect Electron renderer process, which is node, but we should\r\n * treat as a browser.\r\n */\r\n\r\n(function (module) {\r\n\tif (typeof process !== 'undefined' && process.type === 'renderer') {\r\n\t  module.exports = requireBrowser();\r\n\t} else {\r\n\t  module.exports = requireNode();\r\n\t}\r\n} (src));\r\n\r\n/*!\r\n * encodeurl\r\n * Copyright(c) 2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar encodeurl = encodeUrl$1;\r\n\r\n/**\r\n * RegExp to match non-URL code points, *after* encoding (i.e. not including \"%\")\r\n * and including invalid escape sequences.\r\n * @private\r\n */\r\n\r\nvar ENCODE_CHARS_REGEXP = /(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g;\r\n\r\n/**\r\n * RegExp to match unmatched surrogate pair.\r\n * @private\r\n */\r\n\r\nvar UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g;\r\n\r\n/**\r\n * String to replace unmatched surrogate pair with.\r\n * @private\r\n */\r\n\r\nvar UNMATCHED_SURROGATE_PAIR_REPLACE = '$1\\uFFFD$2';\r\n\r\n/**\r\n * Encode a URL to a percent-encoded form, excluding already-encoded sequences.\r\n *\r\n * This function will take an already-encoded URL and encode all the non-URL\r\n * code points. This function will not encode the \"%\" character unless it is\r\n * not part of a valid sequence (`%20` will be left as-is, but `%foo` will\r\n * be encoded as `%25foo`).\r\n *\r\n * This encode is meant to be \"safe\" and does not throw errors. It will try as\r\n * hard as it can to properly encode the given URL, including replacing any raw,\r\n * unpaired surrogate pairs with the Unicode replacement character prior to\r\n * encoding.\r\n *\r\n * @param {string} url\r\n * @return {string}\r\n * @public\r\n */\r\n\r\nfunction encodeUrl$1 (url) {\r\n  return String(url)\r\n    .replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE)\r\n    .replace(ENCODE_CHARS_REGEXP, encodeURI)\r\n}\r\n\r\n/*!\r\n * escape-html\r\n * Copyright(c) 2012-2013 TJ Holowaychuk\r\n * Copyright(c) 2015 Andreas Lubbe\r\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar matchHtmlRegExp = /[\"'&<>]/;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar escapeHtml_1 = escapeHtml$1;\r\n\r\n/**\r\n * Escape special characters in the given string of html.\r\n *\r\n * @param  {string} string The string to escape for inserting into HTML\r\n * @return {string}\r\n * @public\r\n */\r\n\r\nfunction escapeHtml$1(string) {\r\n  var str = '' + string;\r\n  var match = matchHtmlRegExp.exec(str);\r\n\r\n  if (!match) {\r\n    return str;\r\n  }\r\n\r\n  var escape;\r\n  var html = '';\r\n  var index = 0;\r\n  var lastIndex = 0;\r\n\r\n  for (index = match.index; index < str.length; index++) {\r\n    switch (str.charCodeAt(index)) {\r\n      case 34: // \"\r\n        escape = '&quot;';\r\n        break;\r\n      case 38: // &\r\n        escape = '&amp;';\r\n        break;\r\n      case 39: // '\r\n        escape = '&#39;';\r\n        break;\r\n      case 60: // <\r\n        escape = '&lt;';\r\n        break;\r\n      case 62: // >\r\n        escape = '&gt;';\r\n        break;\r\n      default:\r\n        continue;\r\n    }\r\n\r\n    if (lastIndex !== index) {\r\n      html += str.substring(lastIndex, index);\r\n    }\r\n\r\n    lastIndex = index + 1;\r\n    html += escape;\r\n  }\r\n\r\n  return lastIndex !== index\r\n    ? html + str.substring(lastIndex, index)\r\n    : html;\r\n}\r\n\r\nvar onFinished$2 = {exports: {}};\r\n\r\n/*!\r\n * ee-first\r\n * Copyright(c) 2014 Jonathan Ong\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar eeFirst = first$1;\r\n\r\n/**\r\n * Get the first event in a set of event emitters and event pairs.\r\n *\r\n * @param {array} stuff\r\n * @param {function} done\r\n * @public\r\n */\r\n\r\nfunction first$1(stuff, done) {\r\n  if (!Array.isArray(stuff))\r\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\r\n\r\n  var cleanups = [];\r\n\r\n  for (var i = 0; i < stuff.length; i++) {\r\n    var arr = stuff[i];\r\n\r\n    if (!Array.isArray(arr) || arr.length < 2)\r\n      throw new TypeError('each array member must be [ee, events...]')\r\n\r\n    var ee = arr[0];\r\n\r\n    for (var j = 1; j < arr.length; j++) {\r\n      var event = arr[j];\r\n      var fn = listener(event, callback);\r\n\r\n      // listen to the event\r\n      ee.on(event, fn);\r\n      // push this listener to the list of cleanups\r\n      cleanups.push({\r\n        ee: ee,\r\n        event: event,\r\n        fn: fn,\r\n      });\r\n    }\r\n  }\r\n\r\n  function callback() {\r\n    cleanup();\r\n    done.apply(null, arguments);\r\n  }\r\n\r\n  function cleanup() {\r\n    var x;\r\n    for (var i = 0; i < cleanups.length; i++) {\r\n      x = cleanups[i];\r\n      x.ee.removeListener(x.event, x.fn);\r\n    }\r\n  }\r\n\r\n  function thunk(fn) {\r\n    done = fn;\r\n  }\r\n\r\n  thunk.cancel = cleanup;\r\n\r\n  return thunk\r\n}\r\n\r\n/**\r\n * Create the event listener.\r\n * @private\r\n */\r\n\r\nfunction listener(event, done) {\r\n  return function onevent(arg1) {\r\n    var args = new Array(arguments.length);\r\n    var ee = this;\r\n    var err = event === 'error'\r\n      ? arg1\r\n      : null;\r\n\r\n    // copy args to prevent arguments escaping scope\r\n    for (var i = 0; i < args.length; i++) {\r\n      args[i] = arguments[i];\r\n    }\r\n\r\n    done(err, ee, event, args);\r\n  }\r\n}\r\n\r\n/*!\r\n * on-finished\r\n * Copyright(c) 2013 Jonathan Ong\r\n * Copyright(c) 2014 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nonFinished$2.exports = onFinished$1;\r\nonFinished$2.exports.isFinished = isFinished$1;\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar first = eeFirst;\r\n\r\n/**\r\n * Variables.\r\n * @private\r\n */\r\n\r\n/* istanbul ignore next */\r\nvar defer$2 = typeof setImmediate === 'function'\r\n  ? setImmediate\r\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)); };\r\n\r\n/**\r\n * Invoke callback when the response has finished, useful for\r\n * cleaning up resources afterwards.\r\n *\r\n * @param {object} msg\r\n * @param {function} listener\r\n * @return {object}\r\n * @public\r\n */\r\n\r\nfunction onFinished$1(msg, listener) {\r\n  if (isFinished$1(msg) !== false) {\r\n    defer$2(listener, null, msg);\r\n    return msg\r\n  }\r\n\r\n  // attach the listener to the message\r\n  attachListener(msg, listener);\r\n\r\n  return msg\r\n}\r\n\r\n/**\r\n * Determine if message is already finished.\r\n *\r\n * @param {object} msg\r\n * @return {boolean}\r\n * @public\r\n */\r\n\r\nfunction isFinished$1(msg) {\r\n  var socket = msg.socket;\r\n\r\n  if (typeof msg.finished === 'boolean') {\r\n    // OutgoingMessage\r\n    return Boolean(msg.finished || (socket && !socket.writable))\r\n  }\r\n\r\n  if (typeof msg.complete === 'boolean') {\r\n    // IncomingMessage\r\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\r\n  }\r\n\r\n  // don't know\r\n  return undefined\r\n}\r\n\r\n/**\r\n * Attach a finished listener to the message.\r\n *\r\n * @param {object} msg\r\n * @param {function} callback\r\n * @private\r\n */\r\n\r\nfunction attachFinishedListener(msg, callback) {\r\n  var eeMsg;\r\n  var eeSocket;\r\n  var finished = false;\r\n\r\n  function onFinish(error) {\r\n    eeMsg.cancel();\r\n    eeSocket.cancel();\r\n\r\n    finished = true;\r\n    callback(error);\r\n  }\r\n\r\n  // finished on first message event\r\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish);\r\n\r\n  function onSocket(socket) {\r\n    // remove listener\r\n    msg.removeListener('socket', onSocket);\r\n\r\n    if (finished) return\r\n    if (eeMsg !== eeSocket) return\r\n\r\n    // finished on first socket event\r\n    eeSocket = first([[socket, 'error', 'close']], onFinish);\r\n  }\r\n\r\n  if (msg.socket) {\r\n    // socket already assigned\r\n    onSocket(msg.socket);\r\n    return\r\n  }\r\n\r\n  // wait for socket to be assigned\r\n  msg.on('socket', onSocket);\r\n\r\n  if (msg.socket === undefined) {\r\n    // node.js 0.8 patch\r\n    patchAssignSocket(msg, onSocket);\r\n  }\r\n}\r\n\r\n/**\r\n * Attach the listener to the message.\r\n *\r\n * @param {object} msg\r\n * @return {function}\r\n * @private\r\n */\r\n\r\nfunction attachListener(msg, listener) {\r\n  var attached = msg.__onFinished;\r\n\r\n  // create a private single listener with queue\r\n  if (!attached || !attached.queue) {\r\n    attached = msg.__onFinished = createListener(msg);\r\n    attachFinishedListener(msg, attached);\r\n  }\r\n\r\n  attached.queue.push(listener);\r\n}\r\n\r\n/**\r\n * Create listener on message.\r\n *\r\n * @param {object} msg\r\n * @return {function}\r\n * @private\r\n */\r\n\r\nfunction createListener(msg) {\r\n  function listener(err) {\r\n    if (msg.__onFinished === listener) msg.__onFinished = null;\r\n    if (!listener.queue) return\r\n\r\n    var queue = listener.queue;\r\n    listener.queue = null;\r\n\r\n    for (var i = 0; i < queue.length; i++) {\r\n      queue[i](err, msg);\r\n    }\r\n  }\r\n\r\n  listener.queue = [];\r\n\r\n  return listener\r\n}\r\n\r\n/**\r\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\r\n *\r\n * @param {ServerResponse} res\r\n * @param {function} callback\r\n * @private\r\n */\r\n\r\nfunction patchAssignSocket(res, callback) {\r\n  var assignSocket = res.assignSocket;\r\n\r\n  if (typeof assignSocket !== 'function') return\r\n\r\n  // res.on('socket', callback) is broken in 0.8\r\n  res.assignSocket = function _assignSocket(socket) {\r\n    assignSocket.call(this, socket);\r\n    callback(socket);\r\n  };\r\n}\r\n\r\nvar parseurl$1 = {exports: {}};\r\n\r\n/*!\r\n * parseurl\r\n * Copyright(c) 2014 Jonathan Ong\r\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar url$3 = require$$0$9;\r\nvar parse$9 = url$3.parse;\r\nvar Url = url$3.Url;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nparseurl$1.exports = parseurl;\r\nparseurl$1.exports.original = originalurl;\r\n\r\n/**\r\n * Parse the `req` url with memoization.\r\n *\r\n * @param {ServerRequest} req\r\n * @return {Object}\r\n * @public\r\n */\r\n\r\nfunction parseurl (req) {\r\n  var url = req.url;\r\n\r\n  if (url === undefined) {\r\n    // URL is undefined\r\n    return undefined\r\n  }\r\n\r\n  var parsed = req._parsedUrl;\r\n\r\n  if (fresh(url, parsed)) {\r\n    // Return cached URL parse\r\n    return parsed\r\n  }\r\n\r\n  // Parse the URL\r\n  parsed = fastparse(url);\r\n  parsed._raw = url;\r\n\r\n  return (req._parsedUrl = parsed)\r\n}\r\n/**\r\n * Parse the `req` original url with fallback and memoization.\r\n *\r\n * @param {ServerRequest} req\r\n * @return {Object}\r\n * @public\r\n */\r\n\r\nfunction originalurl (req) {\r\n  var url = req.originalUrl;\r\n\r\n  if (typeof url !== 'string') {\r\n    // Fallback\r\n    return parseurl(req)\r\n  }\r\n\r\n  var parsed = req._parsedOriginalUrl;\r\n\r\n  if (fresh(url, parsed)) {\r\n    // Return cached URL parse\r\n    return parsed\r\n  }\r\n\r\n  // Parse the URL\r\n  parsed = fastparse(url);\r\n  parsed._raw = url;\r\n\r\n  return (req._parsedOriginalUrl = parsed)\r\n}\r\n/**\r\n * Parse the `str` url with fast-path short-cut.\r\n *\r\n * @param {string} str\r\n * @return {Object}\r\n * @private\r\n */\r\n\r\nfunction fastparse (str) {\r\n  if (typeof str !== 'string' || str.charCodeAt(0) !== 0x2f /* / */) {\r\n    return parse$9(str)\r\n  }\r\n\r\n  var pathname = str;\r\n  var query = null;\r\n  var search = null;\r\n\r\n  // This takes the regexp from https://github.com/joyent/node/pull/7878\r\n  // Which is /^(\\/[^?#\\s]*)(\\?[^#\\s]*)?$/\r\n  // And unrolls it into a for loop\r\n  for (var i = 1; i < str.length; i++) {\r\n    switch (str.charCodeAt(i)) {\r\n      case 0x3f: /* ?  */\r\n        if (search === null) {\r\n          pathname = str.substring(0, i);\r\n          query = str.substring(i + 1);\r\n          search = str.substring(i);\r\n        }\r\n        break\r\n      case 0x09: /* \\t */\r\n      case 0x0a: /* \\n */\r\n      case 0x0c: /* \\f */\r\n      case 0x0d: /* \\r */\r\n      case 0x20: /*    */\r\n      case 0x23: /* #  */\r\n      case 0xa0:\r\n      case 0xfeff:\r\n        return parse$9(str)\r\n    }\r\n  }\r\n\r\n  var url = Url !== undefined\r\n    ? new Url()\r\n    : {};\r\n\r\n  url.path = str;\r\n  url.href = str;\r\n  url.pathname = pathname;\r\n\r\n  if (search !== null) {\r\n    url.query = query;\r\n    url.search = search;\r\n  }\r\n\r\n  return url\r\n}\r\n\r\n/**\r\n * Determine if parsed is still fresh for url.\r\n *\r\n * @param {string} url\r\n * @param {object} parsedUrl\r\n * @return {boolean}\r\n * @private\r\n */\r\n\r\nfunction fresh (url, parsedUrl) {\r\n  return typeof parsedUrl === 'object' &&\r\n    parsedUrl !== null &&\r\n    (Url === undefined || parsedUrl instanceof Url) &&\r\n    parsedUrl._raw === url\r\n}\r\n\r\nvar require$$0$1 = {\r\n\t\"100\": \"Continue\",\r\n\t\"101\": \"Switching Protocols\",\r\n\t\"102\": \"Processing\",\r\n\t\"103\": \"Early Hints\",\r\n\t\"200\": \"OK\",\r\n\t\"201\": \"Created\",\r\n\t\"202\": \"Accepted\",\r\n\t\"203\": \"Non-Authoritative Information\",\r\n\t\"204\": \"No Content\",\r\n\t\"205\": \"Reset Content\",\r\n\t\"206\": \"Partial Content\",\r\n\t\"207\": \"Multi-Status\",\r\n\t\"208\": \"Already Reported\",\r\n\t\"226\": \"IM Used\",\r\n\t\"300\": \"Multiple Choices\",\r\n\t\"301\": \"Moved Permanently\",\r\n\t\"302\": \"Found\",\r\n\t\"303\": \"See Other\",\r\n\t\"304\": \"Not Modified\",\r\n\t\"305\": \"Use Proxy\",\r\n\t\"306\": \"(Unused)\",\r\n\t\"307\": \"Temporary Redirect\",\r\n\t\"308\": \"Permanent Redirect\",\r\n\t\"400\": \"Bad Request\",\r\n\t\"401\": \"Unauthorized\",\r\n\t\"402\": \"Payment Required\",\r\n\t\"403\": \"Forbidden\",\r\n\t\"404\": \"Not Found\",\r\n\t\"405\": \"Method Not Allowed\",\r\n\t\"406\": \"Not Acceptable\",\r\n\t\"407\": \"Proxy Authentication Required\",\r\n\t\"408\": \"Request Timeout\",\r\n\t\"409\": \"Conflict\",\r\n\t\"410\": \"Gone\",\r\n\t\"411\": \"Length Required\",\r\n\t\"412\": \"Precondition Failed\",\r\n\t\"413\": \"Payload Too Large\",\r\n\t\"414\": \"URI Too Long\",\r\n\t\"415\": \"Unsupported Media Type\",\r\n\t\"416\": \"Range Not Satisfiable\",\r\n\t\"417\": \"Expectation Failed\",\r\n\t\"418\": \"I'm a teapot\",\r\n\t\"421\": \"Misdirected Request\",\r\n\t\"422\": \"Unprocessable Entity\",\r\n\t\"423\": \"Locked\",\r\n\t\"424\": \"Failed Dependency\",\r\n\t\"425\": \"Unordered Collection\",\r\n\t\"426\": \"Upgrade Required\",\r\n\t\"428\": \"Precondition Required\",\r\n\t\"429\": \"Too Many Requests\",\r\n\t\"431\": \"Request Header Fields Too Large\",\r\n\t\"451\": \"Unavailable For Legal Reasons\",\r\n\t\"500\": \"Internal Server Error\",\r\n\t\"501\": \"Not Implemented\",\r\n\t\"502\": \"Bad Gateway\",\r\n\t\"503\": \"Service Unavailable\",\r\n\t\"504\": \"Gateway Timeout\",\r\n\t\"505\": \"HTTP Version Not Supported\",\r\n\t\"506\": \"Variant Also Negotiates\",\r\n\t\"507\": \"Insufficient Storage\",\r\n\t\"508\": \"Loop Detected\",\r\n\t\"509\": \"Bandwidth Limit Exceeded\",\r\n\t\"510\": \"Not Extended\",\r\n\t\"511\": \"Network Authentication Required\"\r\n};\r\n\r\n/*!\r\n * statuses\r\n * Copyright(c) 2014 Jonathan Ong\r\n * Copyright(c) 2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar codes = require$$0$1;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar statuses$1 = status;\r\n\r\n// status code to message map\r\nstatus.STATUS_CODES = codes;\r\n\r\n// array of status codes\r\nstatus.codes = populateStatusesMap(status, codes);\r\n\r\n// status codes for redirects\r\nstatus.redirect = {\r\n  300: true,\r\n  301: true,\r\n  302: true,\r\n  303: true,\r\n  305: true,\r\n  307: true,\r\n  308: true\r\n};\r\n\r\n// status codes for empty bodies\r\nstatus.empty = {\r\n  204: true,\r\n  205: true,\r\n  304: true\r\n};\r\n\r\n// status codes for when you should retry the request\r\nstatus.retry = {\r\n  502: true,\r\n  503: true,\r\n  504: true\r\n};\r\n\r\n/**\r\n * Populate the statuses map for given codes.\r\n * @private\r\n */\r\n\r\nfunction populateStatusesMap (statuses, codes) {\r\n  var arr = [];\r\n\r\n  Object.keys(codes).forEach(function forEachCode (code) {\r\n    var message = codes[code];\r\n    var status = Number(code);\r\n\r\n    // Populate properties\r\n    statuses[status] = message;\r\n    statuses[message] = status;\r\n    statuses[message.toLowerCase()] = status;\r\n\r\n    // Add to array\r\n    arr.push(status);\r\n  });\r\n\r\n  return arr\r\n}\r\n\r\n/**\r\n * Get the status code.\r\n *\r\n * Given a number, this will throw if it is not a known status\r\n * code, otherwise the code will be returned. Given a string,\r\n * the string will be parsed for a number and return the code\r\n * if valid, otherwise will lookup the code assuming this is\r\n * the status message.\r\n *\r\n * @param {string|number} code\r\n * @returns {number}\r\n * @public\r\n */\r\n\r\nfunction status (code) {\r\n  if (typeof code === 'number') {\r\n    if (!status[code]) throw new Error('invalid status code: ' + code)\r\n    return code\r\n  }\r\n\r\n  if (typeof code !== 'string') {\r\n    throw new TypeError('code must be a number or string')\r\n  }\r\n\r\n  // '403'\r\n  var n = parseInt(code, 10);\r\n  if (!isNaN(n)) {\r\n    if (!status[n]) throw new Error('invalid status code: ' + n)\r\n    return n\r\n  }\r\n\r\n  n = status[code.toLowerCase()];\r\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\r\n  return n\r\n}\r\n\r\n/*!\r\n * unpipe\r\n * Copyright(c) 2015 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar unpipe_1 = unpipe$1;\r\n\r\n/**\r\n * Determine if there are Node.js pipe-like data listeners.\r\n * @private\r\n */\r\n\r\nfunction hasPipeDataListeners(stream) {\r\n  var listeners = stream.listeners('data');\r\n\r\n  for (var i = 0; i < listeners.length; i++) {\r\n    if (listeners[i].name === 'ondata') {\r\n      return true\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n/**\r\n * Unpipe a stream from all destinations.\r\n *\r\n * @param {object} stream\r\n * @public\r\n */\r\n\r\nfunction unpipe$1(stream) {\r\n  if (!stream) {\r\n    throw new TypeError('argument stream is required')\r\n  }\r\n\r\n  if (typeof stream.unpipe === 'function') {\r\n    // new-style\r\n    stream.unpipe();\r\n    return\r\n  }\r\n\r\n  // Node.js 0.8 hack\r\n  if (!hasPipeDataListeners(stream)) {\r\n    return\r\n  }\r\n\r\n  var listener;\r\n  var listeners = stream.listeners('close');\r\n\r\n  for (var i = 0; i < listeners.length; i++) {\r\n    listener = listeners[i];\r\n\r\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\r\n      continue\r\n    }\r\n\r\n    // invoke the listener\r\n    listener.call(stream);\r\n  }\r\n}\r\n\r\n/*!\r\n * finalhandler\r\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar debug$5 = src.exports('finalhandler');\r\nvar encodeUrl = encodeurl;\r\nvar escapeHtml = escapeHtml_1;\r\nvar onFinished = onFinished$2.exports;\r\nvar parseUrl$1 = parseurl$1.exports;\r\nvar statuses = statuses$1;\r\nvar unpipe = unpipe_1;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar DOUBLE_SPACE_REGEXP = /\\x20{2}/g;\r\nvar NEWLINE_REGEXP = /\\n/g;\r\n\r\n/* istanbul ignore next */\r\nvar defer$1 = typeof setImmediate === 'function'\r\n  ? setImmediate\r\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)); };\r\nvar isFinished = onFinished.isFinished;\r\n\r\n/**\r\n * Create a minimal HTML document.\r\n *\r\n * @param {string} message\r\n * @private\r\n */\r\n\r\nfunction createHtmlDocument (message) {\r\n  var body = escapeHtml(message)\r\n    .replace(NEWLINE_REGEXP, '<br>')\r\n    .replace(DOUBLE_SPACE_REGEXP, ' &nbsp;');\r\n\r\n  return '<!DOCTYPE html>\\n' +\r\n    '<html lang=\"en\">\\n' +\r\n    '<head>\\n' +\r\n    '<meta charset=\"utf-8\">\\n' +\r\n    '<title>Error</title>\\n' +\r\n    '</head>\\n' +\r\n    '<body>\\n' +\r\n    '<pre>' + body + '</pre>\\n' +\r\n    '</body>\\n' +\r\n    '</html>\\n'\r\n}\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar finalhandler_1 = finalhandler$1;\r\n\r\n/**\r\n * Create a function to handle the final response.\r\n *\r\n * @param {Request} req\r\n * @param {Response} res\r\n * @param {Object} [options]\r\n * @return {Function}\r\n * @public\r\n */\r\n\r\nfunction finalhandler$1 (req, res, options) {\r\n  var opts = options || {};\r\n\r\n  // get environment\r\n  var env = opts.env || process.env.NODE_ENV || 'development';\r\n\r\n  // get error callback\r\n  var onerror = opts.onerror;\r\n\r\n  return function (err) {\r\n    var headers;\r\n    var msg;\r\n    var status;\r\n\r\n    // ignore 404 on in-flight response\r\n    if (!err && headersSent(res)) {\r\n      debug$5('cannot 404 after headers sent');\r\n      return\r\n    }\r\n\r\n    // unhandled error\r\n    if (err) {\r\n      // respect status code from error\r\n      status = getErrorStatusCode(err);\r\n\r\n      if (status === undefined) {\r\n        // fallback to status code on response\r\n        status = getResponseStatusCode(res);\r\n      } else {\r\n        // respect headers from error\r\n        headers = getErrorHeaders(err);\r\n      }\r\n\r\n      // get error message\r\n      msg = getErrorMessage(err, status, env);\r\n    } else {\r\n      // not found\r\n      status = 404;\r\n      msg = 'Cannot ' + req.method + ' ' + encodeUrl(getResourceName(req));\r\n    }\r\n\r\n    debug$5('default %s', status);\r\n\r\n    // schedule onerror callback\r\n    if (err && onerror) {\r\n      defer$1(onerror, err, req, res);\r\n    }\r\n\r\n    // cannot actually respond\r\n    if (headersSent(res)) {\r\n      debug$5('cannot %d after headers sent', status);\r\n      req.socket.destroy();\r\n      return\r\n    }\r\n\r\n    // send response\r\n    send$1(req, res, status, headers, msg);\r\n  }\r\n}\r\n\r\n/**\r\n * Get headers from Error object.\r\n *\r\n * @param {Error} err\r\n * @return {object}\r\n * @private\r\n */\r\n\r\nfunction getErrorHeaders (err) {\r\n  if (!err.headers || typeof err.headers !== 'object') {\r\n    return undefined\r\n  }\r\n\r\n  var headers = Object.create(null);\r\n  var keys = Object.keys(err.headers);\r\n\r\n  for (var i = 0; i < keys.length; i++) {\r\n    var key = keys[i];\r\n    headers[key] = err.headers[key];\r\n  }\r\n\r\n  return headers\r\n}\r\n\r\n/**\r\n * Get message from Error object, fallback to status message.\r\n *\r\n * @param {Error} err\r\n * @param {number} status\r\n * @param {string} env\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction getErrorMessage (err, status, env) {\r\n  var msg;\r\n\r\n  if (env !== 'production') {\r\n    // use err.stack, which typically includes err.message\r\n    msg = err.stack;\r\n\r\n    // fallback to err.toString() when possible\r\n    if (!msg && typeof err.toString === 'function') {\r\n      msg = err.toString();\r\n    }\r\n  }\r\n\r\n  return msg || statuses[status]\r\n}\r\n\r\n/**\r\n * Get status code from Error object.\r\n *\r\n * @param {Error} err\r\n * @return {number}\r\n * @private\r\n */\r\n\r\nfunction getErrorStatusCode (err) {\r\n  // check err.status\r\n  if (typeof err.status === 'number' && err.status >= 400 && err.status < 600) {\r\n    return err.status\r\n  }\r\n\r\n  // check err.statusCode\r\n  if (typeof err.statusCode === 'number' && err.statusCode >= 400 && err.statusCode < 600) {\r\n    return err.statusCode\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\n/**\r\n * Get resource name for the request.\r\n *\r\n * This is typically just the original pathname of the request\r\n * but will fallback to \"resource\" is that cannot be determined.\r\n *\r\n * @param {IncomingMessage} req\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction getResourceName (req) {\r\n  try {\r\n    return parseUrl$1.original(req).pathname\r\n  } catch (e) {\r\n    return 'resource'\r\n  }\r\n}\r\n\r\n/**\r\n * Get status code from response.\r\n *\r\n * @param {OutgoingMessage} res\r\n * @return {number}\r\n * @private\r\n */\r\n\r\nfunction getResponseStatusCode (res) {\r\n  var status = res.statusCode;\r\n\r\n  // default status code to 500 if outside valid range\r\n  if (typeof status !== 'number' || status < 400 || status > 599) {\r\n    status = 500;\r\n  }\r\n\r\n  return status\r\n}\r\n\r\n/**\r\n * Determine if the response headers have been sent.\r\n *\r\n * @param {object} res\r\n * @returns {boolean}\r\n * @private\r\n */\r\n\r\nfunction headersSent (res) {\r\n  return typeof res.headersSent !== 'boolean'\r\n    ? Boolean(res._header)\r\n    : res.headersSent\r\n}\r\n\r\n/**\r\n * Send response.\r\n *\r\n * @param {IncomingMessage} req\r\n * @param {OutgoingMessage} res\r\n * @param {number} status\r\n * @param {object} headers\r\n * @param {string} message\r\n * @private\r\n */\r\n\r\nfunction send$1 (req, res, status, headers, message) {\r\n  function write () {\r\n    // response body\r\n    var body = createHtmlDocument(message);\r\n\r\n    // response status\r\n    res.statusCode = status;\r\n    res.statusMessage = statuses[status];\r\n\r\n    // response headers\r\n    setHeaders(res, headers);\r\n\r\n    // security headers\r\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\");\r\n    res.setHeader('X-Content-Type-Options', 'nosniff');\r\n\r\n    // standard headers\r\n    res.setHeader('Content-Type', 'text/html; charset=utf-8');\r\n    res.setHeader('Content-Length', Buffer.byteLength(body, 'utf8'));\r\n\r\n    if (req.method === 'HEAD') {\r\n      res.end();\r\n      return\r\n    }\r\n\r\n    res.end(body, 'utf8');\r\n  }\r\n\r\n  if (isFinished(req)) {\r\n    write();\r\n    return\r\n  }\r\n\r\n  // unpipe everything from the request\r\n  unpipe(req);\r\n\r\n  // flush the request\r\n  onFinished(req, write);\r\n  req.resume();\r\n}\r\n\r\n/**\r\n * Set response headers from an object.\r\n *\r\n * @param {OutgoingMessage} res\r\n * @param {object} headers\r\n * @private\r\n */\r\n\r\nfunction setHeaders (res, headers) {\r\n  if (!headers) {\r\n    return\r\n  }\r\n\r\n  var keys = Object.keys(headers);\r\n  for (var i = 0; i < keys.length; i++) {\r\n    var key = keys[i];\r\n    res.setHeader(key, headers[key]);\r\n  }\r\n}\r\n\r\nvar utilsMerge = {exports: {}};\r\n\r\n/**\r\n * Merge object b with object a.\r\n *\r\n *     var a = { foo: 'bar' }\r\n *       , b = { bar: 'baz' };\r\n *\r\n *     merge(a, b);\r\n *     // => { foo: 'bar', bar: 'baz' }\r\n *\r\n * @param {Object} a\r\n * @param {Object} b\r\n * @return {Object}\r\n * @api public\r\n */\r\n\r\n(function (module, exports) {\r\n\tmodule.exports = function(a, b){\r\n\t  if (a && b) {\r\n\t    for (var key in b) {\r\n\t      a[key] = b[key];\r\n\t    }\r\n\t  }\r\n\t  return a;\r\n\t};\r\n} (utilsMerge));\r\n\r\n/*!\r\n * connect\r\n * Copyright(c) 2010 Sencha Inc.\r\n * Copyright(c) 2011 TJ Holowaychuk\r\n * Copyright(c) 2015 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar debug$4 = src.exports('connect:dispatcher');\r\nvar EventEmitter$3 = require$$0$5.EventEmitter;\r\nvar finalhandler = finalhandler_1;\r\nvar http$4 = require$$1$2;\r\nvar merge = utilsMerge.exports;\r\nvar parseUrl = parseurl$1.exports;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar connect = createServer$1;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar env = process.env.NODE_ENV || 'development';\r\nvar proto = {};\r\n\r\n/* istanbul ignore next */\r\nvar defer = typeof setImmediate === 'function'\r\n  ? setImmediate\r\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)); };\r\n\r\n/**\r\n * Create a new connect server.\r\n *\r\n * @return {function}\r\n * @public\r\n */\r\n\r\nfunction createServer$1() {\r\n  function app(req, res, next){ app.handle(req, res, next); }\r\n  merge(app, proto);\r\n  merge(app, EventEmitter$3.prototype);\r\n  app.route = '/';\r\n  app.stack = [];\r\n  return app;\r\n}\r\n\r\n/**\r\n * Utilize the given middleware `handle` to the given `route`,\r\n * defaulting to _/_. This \"route\" is the mount-point for the\r\n * middleware, when given a value other than _/_ the middleware\r\n * is only effective when that segment is present in the request's\r\n * pathname.\r\n *\r\n * For example if we were to mount a function at _/admin_, it would\r\n * be invoked on _/admin_, and _/admin/settings_, however it would\r\n * not be invoked for _/_, or _/posts_.\r\n *\r\n * @param {String|Function|Server} route, callback or server\r\n * @param {Function|Server} callback or server\r\n * @return {Server} for chaining\r\n * @public\r\n */\r\n\r\nproto.use = function use(route, fn) {\r\n  var handle = fn;\r\n  var path = route;\r\n\r\n  // default route to '/'\r\n  if (typeof route !== 'string') {\r\n    handle = route;\r\n    path = '/';\r\n  }\r\n\r\n  // wrap sub-apps\r\n  if (typeof handle.handle === 'function') {\r\n    var server = handle;\r\n    server.route = path;\r\n    handle = function (req, res, next) {\r\n      server.handle(req, res, next);\r\n    };\r\n  }\r\n\r\n  // wrap vanilla http.Servers\r\n  if (handle instanceof http$4.Server) {\r\n    handle = handle.listeners('request')[0];\r\n  }\r\n\r\n  // strip trailing slash\r\n  if (path[path.length - 1] === '/') {\r\n    path = path.slice(0, -1);\r\n  }\r\n\r\n  // add the middleware\r\n  debug$4('use %s %s', path || '/', handle.name || 'anonymous');\r\n  this.stack.push({ route: path, handle: handle });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Handle server requests, punting them down\r\n * the middleware stack.\r\n *\r\n * @private\r\n */\r\n\r\nproto.handle = function handle(req, res, out) {\r\n  var index = 0;\r\n  var protohost = getProtohost(req.url) || '';\r\n  var removed = '';\r\n  var slashAdded = false;\r\n  var stack = this.stack;\r\n\r\n  // final function handler\r\n  var done = out || finalhandler(req, res, {\r\n    env: env,\r\n    onerror: logerror\r\n  });\r\n\r\n  // store the original URL\r\n  req.originalUrl = req.originalUrl || req.url;\r\n\r\n  function next(err) {\r\n    if (slashAdded) {\r\n      req.url = req.url.substr(1);\r\n      slashAdded = false;\r\n    }\r\n\r\n    if (removed.length !== 0) {\r\n      req.url = protohost + removed + req.url.substr(protohost.length);\r\n      removed = '';\r\n    }\r\n\r\n    // next callback\r\n    var layer = stack[index++];\r\n\r\n    // all done\r\n    if (!layer) {\r\n      defer(done, err);\r\n      return;\r\n    }\r\n\r\n    // route data\r\n    var path = parseUrl(req).pathname || '/';\r\n    var route = layer.route;\r\n\r\n    // skip this layer if the route doesn't match\r\n    if (path.toLowerCase().substr(0, route.length) !== route.toLowerCase()) {\r\n      return next(err);\r\n    }\r\n\r\n    // skip if route match does not border \"/\", \".\", or end\r\n    var c = path.length > route.length && path[route.length];\r\n    if (c && c !== '/' && c !== '.') {\r\n      return next(err);\r\n    }\r\n\r\n    // trim off the part of the url that matches the route\r\n    if (route.length !== 0 && route !== '/') {\r\n      removed = route;\r\n      req.url = protohost + req.url.substr(protohost.length + removed.length);\r\n\r\n      // ensure leading slash\r\n      if (!protohost && req.url[0] !== '/') {\r\n        req.url = '/' + req.url;\r\n        slashAdded = true;\r\n      }\r\n    }\r\n\r\n    // call the layer handle\r\n    call(layer.handle, route, err, req, res, next);\r\n  }\r\n\r\n  next();\r\n};\r\n\r\n/**\r\n * Listen for connections.\r\n *\r\n * This method takes the same arguments\r\n * as node's `http.Server#listen()`.\r\n *\r\n * HTTP and HTTPS:\r\n *\r\n * If you run your application both as HTTP\r\n * and HTTPS you may wrap them individually,\r\n * since your Connect \"server\" is really just\r\n * a JavaScript `Function`.\r\n *\r\n *      var connect = require('connect')\r\n *        , http = require('http')\r\n *        , https = require('https');\r\n *\r\n *      var app = connect();\r\n *\r\n *      http.createServer(app).listen(80);\r\n *      https.createServer(options, app).listen(443);\r\n *\r\n * @return {http.Server}\r\n * @api public\r\n */\r\n\r\nproto.listen = function listen() {\r\n  var server = http$4.createServer(this);\r\n  return server.listen.apply(server, arguments);\r\n};\r\n\r\n/**\r\n * Invoke a route handle.\r\n * @private\r\n */\r\n\r\nfunction call(handle, route, err, req, res, next) {\r\n  var arity = handle.length;\r\n  var error = err;\r\n  var hasError = Boolean(err);\r\n\r\n  debug$4('%s %s : %s', handle.name || '<anonymous>', route, req.originalUrl);\r\n\r\n  try {\r\n    if (hasError && arity === 4) {\r\n      // error-handling middleware\r\n      handle(err, req, res, next);\r\n      return;\r\n    } else if (!hasError && arity < 4) {\r\n      // request-handling middleware\r\n      handle(req, res, next);\r\n      return;\r\n    }\r\n  } catch (e) {\r\n    // replace the error\r\n    error = e;\r\n  }\r\n\r\n  // continue\r\n  next(error);\r\n}\r\n\r\n/**\r\n * Log error using console.error.\r\n *\r\n * @param {Error} err\r\n * @private\r\n */\r\n\r\nfunction logerror(err) {\r\n  if (env !== 'test') console.error(err.stack || err.toString());\r\n}\r\n\r\n/**\r\n * Get get protocol + host for a URL.\r\n *\r\n * @param {string} url\r\n * @private\r\n */\r\n\r\nfunction getProtohost(url) {\r\n  if (url.length === 0 || url[0] === '/') {\r\n    return undefined;\r\n  }\r\n\r\n  var fqdnIndex = url.indexOf('://');\r\n\r\n  return fqdnIndex !== -1 && url.lastIndexOf('?', fqdnIndex) === -1\r\n    ? url.substr(0, url.indexOf('/', 3 + fqdnIndex))\r\n    : undefined;\r\n}\r\n\r\nvar lib$2 = {exports: {}};\r\n\r\n/*\r\nobject-assign\r\n(c) Sindre Sorhus\r\n@license MIT\r\n*/\r\n/* eslint-disable no-unused-vars */\r\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\r\n\r\nfunction toObject(val) {\r\n\tif (val === null || val === undefined) {\r\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\r\n\t}\r\n\r\n\treturn Object(val);\r\n}\r\n\r\nfunction shouldUseNative() {\r\n\ttry {\r\n\t\tif (!Object.assign) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Detect buggy property enumeration order in older V8 versions.\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\r\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\r\n\t\ttest1[5] = 'de';\r\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test2 = {};\r\n\t\tfor (var i = 0; i < 10; i++) {\r\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\r\n\t\t}\r\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\r\n\t\t\treturn test2[n];\r\n\t\t});\r\n\t\tif (order2.join('') !== '0123456789') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test3 = {};\r\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\r\n\t\t\ttest3[letter] = letter;\r\n\t\t});\r\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\r\n\t\t\t\t'abcdefghijklmnopqrst') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\t// We don't expect any of the above to throw, but better to be safe.\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\r\n\tvar from;\r\n\tvar to = toObject(target);\r\n\tvar symbols;\r\n\r\n\tfor (var s = 1; s < arguments.length; s++) {\r\n\t\tfrom = Object(arguments[s]);\r\n\r\n\t\tfor (var key in from) {\r\n\t\t\tif (hasOwnProperty.call(from, key)) {\r\n\t\t\t\tto[key] = from[key];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (getOwnPropertySymbols) {\r\n\t\t\tsymbols = getOwnPropertySymbols(from);\r\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\r\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\r\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn to;\r\n};\r\n\r\nvar vary$1 = {exports: {}};\r\n\r\n/*!\r\n * vary\r\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n */\r\n\r\nvary$1.exports = vary;\r\nvary$1.exports.append = append;\r\n\r\n/**\r\n * RegExp to match field-name in RFC 7230 sec 3.2\r\n *\r\n * field-name    = token\r\n * token         = 1*tchar\r\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\r\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\r\n *               / DIGIT / ALPHA\r\n *               ; any VCHAR, except delimiters\r\n */\r\n\r\nvar FIELD_NAME_REGEXP = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\r\n\r\n/**\r\n * Append a field to a vary header.\r\n *\r\n * @param {String} header\r\n * @param {String|Array} field\r\n * @return {String}\r\n * @public\r\n */\r\n\r\nfunction append (header, field) {\r\n  if (typeof header !== 'string') {\r\n    throw new TypeError('header argument is required')\r\n  }\r\n\r\n  if (!field) {\r\n    throw new TypeError('field argument is required')\r\n  }\r\n\r\n  // get fields array\r\n  var fields = !Array.isArray(field)\r\n    ? parse$8(String(field))\r\n    : field;\r\n\r\n  // assert on invalid field names\r\n  for (var j = 0; j < fields.length; j++) {\r\n    if (!FIELD_NAME_REGEXP.test(fields[j])) {\r\n      throw new TypeError('field argument contains an invalid header name')\r\n    }\r\n  }\r\n\r\n  // existing, unspecified vary\r\n  if (header === '*') {\r\n    return header\r\n  }\r\n\r\n  // enumerate current values\r\n  var val = header;\r\n  var vals = parse$8(header.toLowerCase());\r\n\r\n  // unspecified vary\r\n  if (fields.indexOf('*') !== -1 || vals.indexOf('*') !== -1) {\r\n    return '*'\r\n  }\r\n\r\n  for (var i = 0; i < fields.length; i++) {\r\n    var fld = fields[i].toLowerCase();\r\n\r\n    // append value (case-preserving)\r\n    if (vals.indexOf(fld) === -1) {\r\n      vals.push(fld);\r\n      val = val\r\n        ? val + ', ' + fields[i]\r\n        : fields[i];\r\n    }\r\n  }\r\n\r\n  return val\r\n}\r\n\r\n/**\r\n * Parse a vary header into an array.\r\n *\r\n * @param {String} header\r\n * @return {Array}\r\n * @private\r\n */\r\n\r\nfunction parse$8 (header) {\r\n  var end = 0;\r\n  var list = [];\r\n  var start = 0;\r\n\r\n  // gather tokens\r\n  for (var i = 0, len = header.length; i < len; i++) {\r\n    switch (header.charCodeAt(i)) {\r\n      case 0x20: /*   */\r\n        if (start === end) {\r\n          start = end = i + 1;\r\n        }\r\n        break\r\n      case 0x2c: /* , */\r\n        list.push(header.substring(start, end));\r\n        start = end = i + 1;\r\n        break\r\n      default:\r\n        end = i + 1;\r\n        break\r\n    }\r\n  }\r\n\r\n  // final token\r\n  list.push(header.substring(start, end));\r\n\r\n  return list\r\n}\r\n\r\n/**\r\n * Mark that a request is varied on a header field.\r\n *\r\n * @param {Object} res\r\n * @param {String|Array} field\r\n * @public\r\n */\r\n\r\nfunction vary (res, field) {\r\n  if (!res || !res.getHeader || !res.setHeader) {\r\n    // quack quack\r\n    throw new TypeError('res argument is required')\r\n  }\r\n\r\n  // get existing header\r\n  var val = res.getHeader('Vary') || '';\r\n  var header = Array.isArray(val)\r\n    ? val.join(', ')\r\n    : String(val);\r\n\r\n  // set new header\r\n  if ((val = append(header, field))) {\r\n    res.setHeader('Vary', val);\r\n  }\r\n}\r\n\r\n(function () {\r\n\r\n  var assign = objectAssign;\r\n  var vary = vary$1.exports;\r\n\r\n  var defaults = {\r\n    origin: '*',\r\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\r\n    preflightContinue: false,\r\n    optionsSuccessStatus: 204\r\n  };\r\n\r\n  function isString(s) {\r\n    return typeof s === 'string' || s instanceof String;\r\n  }\r\n\r\n  function isOriginAllowed(origin, allowedOrigin) {\r\n    if (Array.isArray(allowedOrigin)) {\r\n      for (var i = 0; i < allowedOrigin.length; ++i) {\r\n        if (isOriginAllowed(origin, allowedOrigin[i])) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    } else if (isString(allowedOrigin)) {\r\n      return origin === allowedOrigin;\r\n    } else if (allowedOrigin instanceof RegExp) {\r\n      return allowedOrigin.test(origin);\r\n    } else {\r\n      return !!allowedOrigin;\r\n    }\r\n  }\r\n\r\n  function configureOrigin(options, req) {\r\n    var requestOrigin = req.headers.origin,\r\n      headers = [],\r\n      isAllowed;\r\n\r\n    if (!options.origin || options.origin === '*') {\r\n      // allow any origin\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Origin',\r\n        value: '*'\r\n      }]);\r\n    } else if (isString(options.origin)) {\r\n      // fixed origin\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Origin',\r\n        value: options.origin\r\n      }]);\r\n      headers.push([{\r\n        key: 'Vary',\r\n        value: 'Origin'\r\n      }]);\r\n    } else {\r\n      isAllowed = isOriginAllowed(requestOrigin, options.origin);\r\n      // reflect origin\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Origin',\r\n        value: isAllowed ? requestOrigin : false\r\n      }]);\r\n      headers.push([{\r\n        key: 'Vary',\r\n        value: 'Origin'\r\n      }]);\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  function configureMethods(options) {\r\n    var methods = options.methods;\r\n    if (methods.join) {\r\n      methods = options.methods.join(','); // .methods is an array, so turn it into a string\r\n    }\r\n    return {\r\n      key: 'Access-Control-Allow-Methods',\r\n      value: methods\r\n    };\r\n  }\r\n\r\n  function configureCredentials(options) {\r\n    if (options.credentials === true) {\r\n      return {\r\n        key: 'Access-Control-Allow-Credentials',\r\n        value: 'true'\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function configureAllowedHeaders(options, req) {\r\n    var allowedHeaders = options.allowedHeaders || options.headers;\r\n    var headers = [];\r\n\r\n    if (!allowedHeaders) {\r\n      allowedHeaders = req.headers['access-control-request-headers']; // .headers wasn't specified, so reflect the request headers\r\n      headers.push([{\r\n        key: 'Vary',\r\n        value: 'Access-Control-Request-Headers'\r\n      }]);\r\n    } else if (allowedHeaders.join) {\r\n      allowedHeaders = allowedHeaders.join(','); // .headers is an array, so turn it into a string\r\n    }\r\n    if (allowedHeaders && allowedHeaders.length) {\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Headers',\r\n        value: allowedHeaders\r\n      }]);\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  function configureExposedHeaders(options) {\r\n    var headers = options.exposedHeaders;\r\n    if (!headers) {\r\n      return null;\r\n    } else if (headers.join) {\r\n      headers = headers.join(','); // .headers is an array, so turn it into a string\r\n    }\r\n    if (headers && headers.length) {\r\n      return {\r\n        key: 'Access-Control-Expose-Headers',\r\n        value: headers\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function configureMaxAge(options) {\r\n    var maxAge = (typeof options.maxAge === 'number' || options.maxAge) && options.maxAge.toString();\r\n    if (maxAge && maxAge.length) {\r\n      return {\r\n        key: 'Access-Control-Max-Age',\r\n        value: maxAge\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function applyHeaders(headers, res) {\r\n    for (var i = 0, n = headers.length; i < n; i++) {\r\n      var header = headers[i];\r\n      if (header) {\r\n        if (Array.isArray(header)) {\r\n          applyHeaders(header, res);\r\n        } else if (header.key === 'Vary' && header.value) {\r\n          vary(res, header.value);\r\n        } else if (header.value) {\r\n          res.setHeader(header.key, header.value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function cors(options, req, res, next) {\r\n    var headers = [],\r\n      method = req.method && req.method.toUpperCase && req.method.toUpperCase();\r\n\r\n    if (method === 'OPTIONS') {\r\n      // preflight\r\n      headers.push(configureOrigin(options, req));\r\n      headers.push(configureCredentials(options));\r\n      headers.push(configureMethods(options));\r\n      headers.push(configureAllowedHeaders(options, req));\r\n      headers.push(configureMaxAge(options));\r\n      headers.push(configureExposedHeaders(options));\r\n      applyHeaders(headers, res);\r\n\r\n      if (options.preflightContinue) {\r\n        next();\r\n      } else {\r\n        // Safari (and potentially other browsers) need content-length 0,\r\n        //   for 204 or they just hang waiting for a body\r\n        res.statusCode = options.optionsSuccessStatus;\r\n        res.setHeader('Content-Length', '0');\r\n        res.end();\r\n      }\r\n    } else {\r\n      // actual response\r\n      headers.push(configureOrigin(options, req));\r\n      headers.push(configureCredentials(options));\r\n      headers.push(configureExposedHeaders(options));\r\n      applyHeaders(headers, res);\r\n      next();\r\n    }\r\n  }\r\n\r\n  function middlewareWrapper(o) {\r\n    // if options are static (either via defaults or custom options passed in), wrap in a function\r\n    var optionsCallback = null;\r\n    if (typeof o === 'function') {\r\n      optionsCallback = o;\r\n    } else {\r\n      optionsCallback = function (req, cb) {\r\n        cb(null, o);\r\n      };\r\n    }\r\n\r\n    return function corsMiddleware(req, res, next) {\r\n      optionsCallback(req, function (err, options) {\r\n        if (err) {\r\n          next(err);\r\n        } else {\r\n          var corsOptions = assign({}, defaults, options);\r\n          var originCallback = null;\r\n          if (corsOptions.origin && typeof corsOptions.origin === 'function') {\r\n            originCallback = corsOptions.origin;\r\n          } else if (corsOptions.origin) {\r\n            originCallback = function (origin, cb) {\r\n              cb(null, corsOptions.origin);\r\n            };\r\n          }\r\n\r\n          if (originCallback) {\r\n            originCallback(req.headers.origin, function (err2, origin) {\r\n              if (err2 || !origin) {\r\n                next(err2);\r\n              } else {\r\n                corsOptions.origin = origin;\r\n                cors(corsOptions, req, res, next);\r\n              }\r\n            });\r\n          } else {\r\n            next();\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }\r\n\r\n  // can pass either an options hash, an options delegate, or nothing\r\n  lib$2.exports = middlewareWrapper;\r\n\r\n}());\r\n\r\nvar chokidar = {};\r\n\r\nconst fs$9 = require$$0__default;\r\nconst { Readable } = require$$0$7;\r\nconst sysPath$3 = require$$0$4;\r\nconst { promisify: promisify$3 } = require$$0$6;\r\nconst picomatch$1 = picomatch$4.exports;\r\n\r\nconst readdir$1 = promisify$3(fs$9.readdir);\r\nconst stat$3 = promisify$3(fs$9.stat);\r\nconst lstat$2 = promisify$3(fs$9.lstat);\r\nconst realpath$1 = promisify$3(fs$9.realpath);\r\n\r\n/**\r\n * @typedef {Object} EntryInfo\r\n * @property {String} path\r\n * @property {String} fullPath\r\n * @property {fs.Stats=} stats\r\n * @property {fs.Dirent=} dirent\r\n * @property {String} basename\r\n */\r\n\r\nconst BANG$2 = '!';\r\nconst RECURSIVE_ERROR_CODE = 'READDIRP_RECURSIVE_ERROR';\r\nconst NORMAL_FLOW_ERRORS = new Set(['ENOENT', 'EPERM', 'EACCES', 'ELOOP', RECURSIVE_ERROR_CODE]);\r\nconst FILE_TYPE = 'files';\r\nconst DIR_TYPE = 'directories';\r\nconst FILE_DIR_TYPE = 'files_directories';\r\nconst EVERYTHING_TYPE = 'all';\r\nconst ALL_TYPES = [FILE_TYPE, DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE];\r\n\r\nconst isNormalFlowError = error => NORMAL_FLOW_ERRORS.has(error.code);\r\nconst [maj, min] = process.versions.node.split('.').slice(0, 2).map(n => Number.parseInt(n, 10));\r\nconst wantBigintFsStats = process.platform === 'win32' && (maj > 10 || (maj === 10 && min >= 5));\r\n\r\nconst normalizeFilter = filter => {\r\n  if (filter === undefined) return;\r\n  if (typeof filter === 'function') return filter;\r\n\r\n  if (typeof filter === 'string') {\r\n    const glob = picomatch$1(filter.trim());\r\n    return entry => glob(entry.basename);\r\n  }\r\n\r\n  if (Array.isArray(filter)) {\r\n    const positive = [];\r\n    const negative = [];\r\n    for (const item of filter) {\r\n      const trimmed = item.trim();\r\n      if (trimmed.charAt(0) === BANG$2) {\r\n        negative.push(picomatch$1(trimmed.slice(1)));\r\n      } else {\r\n        positive.push(picomatch$1(trimmed));\r\n      }\r\n    }\r\n\r\n    if (negative.length > 0) {\r\n      if (positive.length > 0) {\r\n        return entry =>\r\n          positive.some(f => f(entry.basename)) && !negative.some(f => f(entry.basename));\r\n      }\r\n      return entry => !negative.some(f => f(entry.basename));\r\n    }\r\n    return entry => positive.some(f => f(entry.basename));\r\n  }\r\n};\r\n\r\nclass ReaddirpStream extends Readable {\r\n  static get defaultOptions() {\r\n    return {\r\n      root: '.',\r\n      /* eslint-disable no-unused-vars */\r\n      fileFilter: (path) => true,\r\n      directoryFilter: (path) => true,\r\n      /* eslint-enable no-unused-vars */\r\n      type: FILE_TYPE,\r\n      lstat: false,\r\n      depth: 2147483648,\r\n      alwaysStat: false\r\n    };\r\n  }\r\n\r\n  constructor(options = {}) {\r\n    super({\r\n      objectMode: true,\r\n      autoDestroy: true,\r\n      highWaterMark: options.highWaterMark || 4096\r\n    });\r\n    const opts = { ...ReaddirpStream.defaultOptions, ...options };\r\n    const { root, type } = opts;\r\n\r\n    this._fileFilter = normalizeFilter(opts.fileFilter);\r\n    this._directoryFilter = normalizeFilter(opts.directoryFilter);\r\n\r\n    const statMethod = opts.lstat ? lstat$2 : stat$3;\r\n    // Use bigint stats if it's windows and stat() supports options (node 10+).\r\n    if (wantBigintFsStats) {\r\n      this._stat = path => statMethod(path, { bigint: true });\r\n    } else {\r\n      this._stat = statMethod;\r\n    }\r\n\r\n    this._maxDepth = opts.depth;\r\n    this._wantsDir = [DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\r\n    this._wantsFile = [FILE_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\r\n    this._wantsEverything = type === EVERYTHING_TYPE;\r\n    this._root = sysPath$3.resolve(root);\r\n    this._isDirent = ('Dirent' in fs$9) && !opts.alwaysStat;\r\n    this._statsProp = this._isDirent ? 'dirent' : 'stats';\r\n    this._rdOptions = { encoding: 'utf8', withFileTypes: this._isDirent };\r\n\r\n    // Launch stream with one parent, the root dir.\r\n    this.parents = [this._exploreDir(root, 1)];\r\n    this.reading = false;\r\n    this.parent = undefined;\r\n  }\r\n\r\n  async _read(batch) {\r\n    if (this.reading) return;\r\n    this.reading = true;\r\n\r\n    try {\r\n      while (!this.destroyed && batch > 0) {\r\n        const { path, depth, files = [] } = this.parent || {};\r\n\r\n        if (files.length > 0) {\r\n          const slice = files.splice(0, batch).map(dirent => this._formatEntry(dirent, path));\r\n          for (const entry of await Promise.all(slice)) {\r\n            if (this.destroyed) return;\r\n\r\n            const entryType = await this._getEntryType(entry);\r\n            if (entryType === 'directory' && this._directoryFilter(entry)) {\r\n              if (depth <= this._maxDepth) {\r\n                this.parents.push(this._exploreDir(entry.fullPath, depth + 1));\r\n              }\r\n\r\n              if (this._wantsDir) {\r\n                this.push(entry);\r\n                batch--;\r\n              }\r\n            } else if ((entryType === 'file' || this._includeAsFile(entry)) && this._fileFilter(entry)) {\r\n              if (this._wantsFile) {\r\n                this.push(entry);\r\n                batch--;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          const parent = this.parents.pop();\r\n          if (!parent) {\r\n            this.push(null);\r\n            break;\r\n          }\r\n          this.parent = await parent;\r\n          if (this.destroyed) return;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      this.destroy(error);\r\n    } finally {\r\n      this.reading = false;\r\n    }\r\n  }\r\n\r\n  async _exploreDir(path, depth) {\r\n    let files;\r\n    try {\r\n      files = await readdir$1(path, this._rdOptions);\r\n    } catch (error) {\r\n      this._onError(error);\r\n    }\r\n    return { files, depth, path };\r\n  }\r\n\r\n  async _formatEntry(dirent, path) {\r\n    let entry;\r\n    try {\r\n      const basename = this._isDirent ? dirent.name : dirent;\r\n      const fullPath = sysPath$3.resolve(sysPath$3.join(path, basename));\r\n      entry = { path: sysPath$3.relative(this._root, fullPath), fullPath, basename };\r\n      entry[this._statsProp] = this._isDirent ? dirent : await this._stat(fullPath);\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n    return entry;\r\n  }\r\n\r\n  _onError(err) {\r\n    if (isNormalFlowError(err) && !this.destroyed) {\r\n      this.emit('warn', err);\r\n    } else {\r\n      this.destroy(err);\r\n    }\r\n  }\r\n\r\n  async _getEntryType(entry) {\r\n    // entry may be undefined, because a warning or an error were emitted\r\n    // and the statsProp is undefined\r\n    const stats = entry && entry[this._statsProp];\r\n    if (!stats) {\r\n      return;\r\n    }\r\n    if (stats.isFile()) {\r\n      return 'file';\r\n    }\r\n    if (stats.isDirectory()) {\r\n      return 'directory';\r\n    }\r\n    if (stats && stats.isSymbolicLink()) {\r\n      const full = entry.fullPath;\r\n      try {\r\n        const entryRealPath = await realpath$1(full);\r\n        const entryRealPathStats = await lstat$2(entryRealPath);\r\n        if (entryRealPathStats.isFile()) {\r\n          return 'file';\r\n        }\r\n        if (entryRealPathStats.isDirectory()) {\r\n          const len = entryRealPath.length;\r\n          if (full.startsWith(entryRealPath) && full.substr(len, 1) === sysPath$3.sep) {\r\n            const recursiveError = new Error(\r\n              `Circular symlink detected: \"${full}\" points to \"${entryRealPath}\"`\r\n            );\r\n            recursiveError.code = RECURSIVE_ERROR_CODE;\r\n            return this._onError(recursiveError);\r\n          }\r\n          return 'directory';\r\n        }\r\n      } catch (error) {\r\n        this._onError(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  _includeAsFile(entry) {\r\n    const stats = entry && entry[this._statsProp];\r\n\r\n    return stats && this._wantsEverything && !stats.isDirectory();\r\n  }\r\n}\r\n\r\n/**\r\n * @typedef {Object} ReaddirpArguments\r\n * @property {Function=} fileFilter\r\n * @property {Function=} directoryFilter\r\n * @property {String=} type\r\n * @property {Number=} depth\r\n * @property {String=} root\r\n * @property {Boolean=} lstat\r\n * @property {Boolean=} bigint\r\n */\r\n\r\n/**\r\n * Main function which ends up calling readdirRec and reads all files and directories in given root recursively.\r\n * @param {String} root Root directory\r\n * @param {ReaddirpArguments=} options Options to specify root (start directory), filters and recursion depth\r\n */\r\nconst readdirp$1 = (root, options = {}) => {\r\n  let type = options.entryType || options.type;\r\n  if (type === 'both') type = FILE_DIR_TYPE; // backwards-compatibility\r\n  if (type) options.type = type;\r\n  if (!root) {\r\n    throw new Error('readdirp: root argument is required. Usage: readdirp(root, options)');\r\n  } else if (typeof root !== 'string') {\r\n    throw new TypeError('readdirp: root argument must be a string. Usage: readdirp(root, options)');\r\n  } else if (type && !ALL_TYPES.includes(type)) {\r\n    throw new Error(`readdirp: Invalid type passed. Use one of ${ALL_TYPES.join(', ')}`);\r\n  }\r\n\r\n  options.root = root;\r\n  return new ReaddirpStream(options);\r\n};\r\n\r\nconst readdirpPromise = (root, options = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    const files = [];\r\n    readdirp$1(root, options)\r\n      .on('data', entry => files.push(entry))\r\n      .on('end', () => resolve(files))\r\n      .on('error', error => reject(error));\r\n  });\r\n};\r\n\r\nreaddirp$1.promise = readdirpPromise;\r\nreaddirp$1.ReaddirpStream = ReaddirpStream;\r\nreaddirp$1.default = readdirp$1;\r\n\r\nvar readdirp_1 = readdirp$1;\r\n\r\nvar anymatch$2 = {exports: {}};\r\n\r\n/*!\r\n * normalize-path <https://github.com/jonschlinkert/normalize-path>\r\n *\r\n * Copyright (c) 2014-2018, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nvar normalizePath$2 = function(path, stripTrailing) {\r\n  if (typeof path !== 'string') {\r\n    throw new TypeError('expected path to be a string');\r\n  }\r\n\r\n  if (path === '\\\\' || path === '/') return '/';\r\n\r\n  var len = path.length;\r\n  if (len <= 1) return path;\r\n\r\n  // ensure that win32 namespaces has two leading slashes, so that the path is\r\n  // handled properly by the win32 version of path.parse() after being normalized\r\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\r\n  var prefix = '';\r\n  if (len > 4 && path[3] === '\\\\') {\r\n    var ch = path[2];\r\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\r\n      path = path.slice(2);\r\n      prefix = '//';\r\n    }\r\n  }\r\n\r\n  var segs = path.split(/[/\\\\]+/);\r\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\r\n    segs.pop();\r\n  }\r\n  return prefix + segs.join('/');\r\n};\r\n\r\nObject.defineProperty(anymatch$2.exports, \"__esModule\", { value: true });\r\n\r\nconst picomatch = picomatch$4.exports;\r\nconst normalizePath$1 = normalizePath$2;\r\n\r\n/**\r\n * @typedef {(testString: string) => boolean} AnymatchFn\r\n * @typedef {string|RegExp|AnymatchFn} AnymatchPattern\r\n * @typedef {AnymatchPattern|AnymatchPattern[]} AnymatchMatcher\r\n */\r\nconst BANG$1 = '!';\r\nconst DEFAULT_OPTIONS = {returnIndex: false};\r\nconst arrify$1 = (item) => Array.isArray(item) ? item : [item];\r\n\r\n/**\r\n * @param {AnymatchPattern} matcher\r\n * @param {object} options\r\n * @returns {AnymatchFn}\r\n */\r\nconst createPattern = (matcher, options) => {\r\n  if (typeof matcher === 'function') {\r\n    return matcher;\r\n  }\r\n  if (typeof matcher === 'string') {\r\n    const glob = picomatch(matcher, options);\r\n    return (string) => matcher === string || glob(string);\r\n  }\r\n  if (matcher instanceof RegExp) {\r\n    return (string) => matcher.test(string);\r\n  }\r\n  return (string) => false;\r\n};\r\n\r\n/**\r\n * @param {Array<Function>} patterns\r\n * @param {Array<Function>} negPatterns\r\n * @param {String|Array} args\r\n * @param {Boolean} returnIndex\r\n * @returns {boolean|number}\r\n */\r\nconst matchPatterns = (patterns, negPatterns, args, returnIndex) => {\r\n  const isList = Array.isArray(args);\r\n  const _path = isList ? args[0] : args;\r\n  if (!isList && typeof _path !== 'string') {\r\n    throw new TypeError('anymatch: second argument must be a string: got ' +\r\n      Object.prototype.toString.call(_path))\r\n  }\r\n  const path = normalizePath$1(_path);\r\n\r\n  for (let index = 0; index < negPatterns.length; index++) {\r\n    const nglob = negPatterns[index];\r\n    if (nglob(path)) {\r\n      return returnIndex ? -1 : false;\r\n    }\r\n  }\r\n\r\n  const applied = isList && [path].concat(args.slice(1));\r\n  for (let index = 0; index < patterns.length; index++) {\r\n    const pattern = patterns[index];\r\n    if (isList ? pattern(...applied) : pattern(path)) {\r\n      return returnIndex ? index : true;\r\n    }\r\n  }\r\n\r\n  return returnIndex ? -1 : false;\r\n};\r\n\r\n/**\r\n * @param {AnymatchMatcher} matchers\r\n * @param {Array|string} testString\r\n * @param {object} options\r\n * @returns {boolean|number|Function}\r\n */\r\nconst anymatch$1 = (matchers, testString, options = DEFAULT_OPTIONS) => {\r\n  if (matchers == null) {\r\n    throw new TypeError('anymatch: specify first argument');\r\n  }\r\n  const opts = typeof options === 'boolean' ? {returnIndex: options} : options;\r\n  const returnIndex = opts.returnIndex || false;\r\n\r\n  // Early cache for matchers.\r\n  const mtchers = arrify$1(matchers);\r\n  const negatedGlobs = mtchers\r\n    .filter(item => typeof item === 'string' && item.charAt(0) === BANG$1)\r\n    .map(item => item.slice(1))\r\n    .map(item => picomatch(item, opts));\r\n  const patterns = mtchers\r\n    .filter(item => typeof item !== 'string' || (typeof item === 'string' && item.charAt(0) !== BANG$1))\r\n    .map(matcher => createPattern(matcher, opts));\r\n\r\n  if (testString == null) {\r\n    return (testString, ri = false) => {\r\n      const returnIndex = typeof ri === 'boolean' ? ri : false;\r\n      return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\r\n    }\r\n  }\r\n\r\n  return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\r\n};\r\n\r\nanymatch$1.default = anymatch$1;\r\nanymatch$2.exports = anymatch$1;\r\n\r\nvar binaryExtensions$1 = {exports: {}};\r\n\r\nvar require$$0 = [\r\n\t\"3dm\",\r\n\t\"3ds\",\r\n\t\"3g2\",\r\n\t\"3gp\",\r\n\t\"7z\",\r\n\t\"a\",\r\n\t\"aac\",\r\n\t\"adp\",\r\n\t\"ai\",\r\n\t\"aif\",\r\n\t\"aiff\",\r\n\t\"alz\",\r\n\t\"ape\",\r\n\t\"apk\",\r\n\t\"appimage\",\r\n\t\"ar\",\r\n\t\"arj\",\r\n\t\"asf\",\r\n\t\"au\",\r\n\t\"avi\",\r\n\t\"bak\",\r\n\t\"baml\",\r\n\t\"bh\",\r\n\t\"bin\",\r\n\t\"bk\",\r\n\t\"bmp\",\r\n\t\"btif\",\r\n\t\"bz2\",\r\n\t\"bzip2\",\r\n\t\"cab\",\r\n\t\"caf\",\r\n\t\"cgm\",\r\n\t\"class\",\r\n\t\"cmx\",\r\n\t\"cpio\",\r\n\t\"cr2\",\r\n\t\"cur\",\r\n\t\"dat\",\r\n\t\"dcm\",\r\n\t\"deb\",\r\n\t\"dex\",\r\n\t\"djvu\",\r\n\t\"dll\",\r\n\t\"dmg\",\r\n\t\"dng\",\r\n\t\"doc\",\r\n\t\"docm\",\r\n\t\"docx\",\r\n\t\"dot\",\r\n\t\"dotm\",\r\n\t\"dra\",\r\n\t\"DS_Store\",\r\n\t\"dsk\",\r\n\t\"dts\",\r\n\t\"dtshd\",\r\n\t\"dvb\",\r\n\t\"dwg\",\r\n\t\"dxf\",\r\n\t\"ecelp4800\",\r\n\t\"ecelp7470\",\r\n\t\"ecelp9600\",\r\n\t\"egg\",\r\n\t\"eol\",\r\n\t\"eot\",\r\n\t\"epub\",\r\n\t\"exe\",\r\n\t\"f4v\",\r\n\t\"fbs\",\r\n\t\"fh\",\r\n\t\"fla\",\r\n\t\"flac\",\r\n\t\"flatpak\",\r\n\t\"fli\",\r\n\t\"flv\",\r\n\t\"fpx\",\r\n\t\"fst\",\r\n\t\"fvt\",\r\n\t\"g3\",\r\n\t\"gh\",\r\n\t\"gif\",\r\n\t\"graffle\",\r\n\t\"gz\",\r\n\t\"gzip\",\r\n\t\"h261\",\r\n\t\"h263\",\r\n\t\"h264\",\r\n\t\"icns\",\r\n\t\"ico\",\r\n\t\"ief\",\r\n\t\"img\",\r\n\t\"ipa\",\r\n\t\"iso\",\r\n\t\"jar\",\r\n\t\"jpeg\",\r\n\t\"jpg\",\r\n\t\"jpgv\",\r\n\t\"jpm\",\r\n\t\"jxr\",\r\n\t\"key\",\r\n\t\"ktx\",\r\n\t\"lha\",\r\n\t\"lib\",\r\n\t\"lvp\",\r\n\t\"lz\",\r\n\t\"lzh\",\r\n\t\"lzma\",\r\n\t\"lzo\",\r\n\t\"m3u\",\r\n\t\"m4a\",\r\n\t\"m4v\",\r\n\t\"mar\",\r\n\t\"mdi\",\r\n\t\"mht\",\r\n\t\"mid\",\r\n\t\"midi\",\r\n\t\"mj2\",\r\n\t\"mka\",\r\n\t\"mkv\",\r\n\t\"mmr\",\r\n\t\"mng\",\r\n\t\"mobi\",\r\n\t\"mov\",\r\n\t\"movie\",\r\n\t\"mp3\",\r\n\t\"mp4\",\r\n\t\"mp4a\",\r\n\t\"mpeg\",\r\n\t\"mpg\",\r\n\t\"mpga\",\r\n\t\"mxu\",\r\n\t\"nef\",\r\n\t\"npx\",\r\n\t\"numbers\",\r\n\t\"nupkg\",\r\n\t\"o\",\r\n\t\"odp\",\r\n\t\"ods\",\r\n\t\"odt\",\r\n\t\"oga\",\r\n\t\"ogg\",\r\n\t\"ogv\",\r\n\t\"otf\",\r\n\t\"ott\",\r\n\t\"pages\",\r\n\t\"pbm\",\r\n\t\"pcx\",\r\n\t\"pdb\",\r\n\t\"pdf\",\r\n\t\"pea\",\r\n\t\"pgm\",\r\n\t\"pic\",\r\n\t\"png\",\r\n\t\"pnm\",\r\n\t\"pot\",\r\n\t\"potm\",\r\n\t\"potx\",\r\n\t\"ppa\",\r\n\t\"ppam\",\r\n\t\"ppm\",\r\n\t\"pps\",\r\n\t\"ppsm\",\r\n\t\"ppsx\",\r\n\t\"ppt\",\r\n\t\"pptm\",\r\n\t\"pptx\",\r\n\t\"psd\",\r\n\t\"pya\",\r\n\t\"pyc\",\r\n\t\"pyo\",\r\n\t\"pyv\",\r\n\t\"qt\",\r\n\t\"rar\",\r\n\t\"ras\",\r\n\t\"raw\",\r\n\t\"resources\",\r\n\t\"rgb\",\r\n\t\"rip\",\r\n\t\"rlc\",\r\n\t\"rmf\",\r\n\t\"rmvb\",\r\n\t\"rpm\",\r\n\t\"rtf\",\r\n\t\"rz\",\r\n\t\"s3m\",\r\n\t\"s7z\",\r\n\t\"scpt\",\r\n\t\"sgi\",\r\n\t\"shar\",\r\n\t\"snap\",\r\n\t\"sil\",\r\n\t\"sketch\",\r\n\t\"slk\",\r\n\t\"smv\",\r\n\t\"snk\",\r\n\t\"so\",\r\n\t\"stl\",\r\n\t\"suo\",\r\n\t\"sub\",\r\n\t\"swf\",\r\n\t\"tar\",\r\n\t\"tbz\",\r\n\t\"tbz2\",\r\n\t\"tga\",\r\n\t\"tgz\",\r\n\t\"thmx\",\r\n\t\"tif\",\r\n\t\"tiff\",\r\n\t\"tlz\",\r\n\t\"ttc\",\r\n\t\"ttf\",\r\n\t\"txz\",\r\n\t\"udf\",\r\n\t\"uvh\",\r\n\t\"uvi\",\r\n\t\"uvm\",\r\n\t\"uvp\",\r\n\t\"uvs\",\r\n\t\"uvu\",\r\n\t\"viv\",\r\n\t\"vob\",\r\n\t\"war\",\r\n\t\"wav\",\r\n\t\"wax\",\r\n\t\"wbmp\",\r\n\t\"wdp\",\r\n\t\"weba\",\r\n\t\"webm\",\r\n\t\"webp\",\r\n\t\"whl\",\r\n\t\"wim\",\r\n\t\"wm\",\r\n\t\"wma\",\r\n\t\"wmv\",\r\n\t\"wmx\",\r\n\t\"woff\",\r\n\t\"woff2\",\r\n\t\"wrm\",\r\n\t\"wvx\",\r\n\t\"xbm\",\r\n\t\"xif\",\r\n\t\"xla\",\r\n\t\"xlam\",\r\n\t\"xls\",\r\n\t\"xlsb\",\r\n\t\"xlsm\",\r\n\t\"xlsx\",\r\n\t\"xlt\",\r\n\t\"xltm\",\r\n\t\"xltx\",\r\n\t\"xm\",\r\n\t\"xmind\",\r\n\t\"xpi\",\r\n\t\"xpm\",\r\n\t\"xwd\",\r\n\t\"xz\",\r\n\t\"z\",\r\n\t\"zip\",\r\n\t\"zipx\"\r\n];\r\n\r\n(function (module) {\r\n\tmodule.exports = require$$0;\r\n} (binaryExtensions$1));\r\n\r\nconst path$9 = require$$0$4;\r\nconst binaryExtensions = binaryExtensions$1.exports;\r\n\r\nconst extensions = new Set(binaryExtensions);\r\n\r\nvar isBinaryPath$1 = filePath => extensions.has(path$9.extname(filePath).slice(1).toLowerCase());\r\n\r\nvar constants$1 = {};\r\n\r\n(function (exports) {\r\n\r\n\tconst {sep} = require$$0$4;\r\n\tconst {platform} = process;\r\n\tconst os = require$$1;\r\n\r\n\texports.EV_ALL = 'all';\r\n\texports.EV_READY = 'ready';\r\n\texports.EV_ADD = 'add';\r\n\texports.EV_CHANGE = 'change';\r\n\texports.EV_ADD_DIR = 'addDir';\r\n\texports.EV_UNLINK = 'unlink';\r\n\texports.EV_UNLINK_DIR = 'unlinkDir';\r\n\texports.EV_RAW = 'raw';\r\n\texports.EV_ERROR = 'error';\r\n\r\n\texports.STR_DATA = 'data';\r\n\texports.STR_END = 'end';\r\n\texports.STR_CLOSE = 'close';\r\n\r\n\texports.FSEVENT_CREATED = 'created';\r\n\texports.FSEVENT_MODIFIED = 'modified';\r\n\texports.FSEVENT_DELETED = 'deleted';\r\n\texports.FSEVENT_MOVED = 'moved';\r\n\texports.FSEVENT_CLONED = 'cloned';\r\n\texports.FSEVENT_UNKNOWN = 'unknown';\r\n\texports.FSEVENT_TYPE_FILE = 'file';\r\n\texports.FSEVENT_TYPE_DIRECTORY = 'directory';\r\n\texports.FSEVENT_TYPE_SYMLINK = 'symlink';\r\n\r\n\texports.KEY_LISTENERS = 'listeners';\r\n\texports.KEY_ERR = 'errHandlers';\r\n\texports.KEY_RAW = 'rawEmitters';\r\n\texports.HANDLER_KEYS = [exports.KEY_LISTENERS, exports.KEY_ERR, exports.KEY_RAW];\r\n\r\n\texports.DOT_SLASH = `.${sep}`;\r\n\r\n\texports.BACK_SLASH_RE = /\\\\/g;\r\n\texports.DOUBLE_SLASH_RE = /\\/\\//;\r\n\texports.SLASH_OR_BACK_SLASH_RE = /[/\\\\]/;\r\n\texports.DOT_RE = /\\..*\\.(sw[px])$|~$|\\.subl.*\\.tmp/;\r\n\texports.REPLACER_RE = /^\\.[/\\\\]/;\r\n\r\n\texports.SLASH = '/';\r\n\texports.SLASH_SLASH = '//';\r\n\texports.BRACE_START = '{';\r\n\texports.BANG = '!';\r\n\texports.ONE_DOT = '.';\r\n\texports.TWO_DOTS = '..';\r\n\texports.STAR = '*';\r\n\texports.GLOBSTAR = '**';\r\n\texports.ROOT_GLOBSTAR = '/**/*';\r\n\texports.SLASH_GLOBSTAR = '/**';\r\n\texports.DIR_SUFFIX = 'Dir';\r\n\texports.ANYMATCH_OPTS = {dot: true};\r\n\texports.STRING_TYPE = 'string';\r\n\texports.FUNCTION_TYPE = 'function';\r\n\texports.EMPTY_STR = '';\r\n\texports.EMPTY_FN = () => {};\r\n\texports.IDENTITY_FN = val => val;\r\n\r\n\texports.isWindows = platform === 'win32';\r\n\texports.isMacos = platform === 'darwin';\r\n\texports.isLinux = platform === 'linux';\r\n\texports.isIBMi = os.type() === 'OS400';\r\n} (constants$1));\r\n\r\nconst fs$8 = require$$0__default;\r\nconst sysPath$2 = require$$0$4;\r\nconst { promisify: promisify$2 } = require$$0$6;\r\nconst isBinaryPath = isBinaryPath$1;\r\nconst {\r\n  isWindows: isWindows$2,\r\n  isLinux,\r\n  EMPTY_FN: EMPTY_FN$2,\r\n  EMPTY_STR: EMPTY_STR$1,\r\n  KEY_LISTENERS,\r\n  KEY_ERR,\r\n  KEY_RAW,\r\n  HANDLER_KEYS,\r\n  EV_CHANGE: EV_CHANGE$2,\r\n  EV_ADD: EV_ADD$2,\r\n  EV_ADD_DIR: EV_ADD_DIR$2,\r\n  EV_ERROR: EV_ERROR$2,\r\n  STR_DATA: STR_DATA$1,\r\n  STR_END: STR_END$2,\r\n  BRACE_START: BRACE_START$1,\r\n  STAR\r\n} = constants$1;\r\n\r\nconst THROTTLE_MODE_WATCH = 'watch';\r\n\r\nconst open$1 = promisify$2(fs$8.open);\r\nconst stat$2 = promisify$2(fs$8.stat);\r\nconst lstat$1 = promisify$2(fs$8.lstat);\r\nconst close = promisify$2(fs$8.close);\r\nconst fsrealpath = promisify$2(fs$8.realpath);\r\n\r\nconst statMethods$1 = { lstat: lstat$1, stat: stat$2 };\r\n\r\n// TODO: emit errors properly. Example: EMFILE on Macos.\r\nconst foreach = (val, fn) => {\r\n  if (val instanceof Set) {\r\n    val.forEach(fn);\r\n  } else {\r\n    fn(val);\r\n  }\r\n};\r\n\r\nconst addAndConvert = (main, prop, item) => {\r\n  let container = main[prop];\r\n  if (!(container instanceof Set)) {\r\n    main[prop] = container = new Set([container]);\r\n  }\r\n  container.add(item);\r\n};\r\n\r\nconst clearItem = cont => key => {\r\n  const set = cont[key];\r\n  if (set instanceof Set) {\r\n    set.clear();\r\n  } else {\r\n    delete cont[key];\r\n  }\r\n};\r\n\r\nconst delFromSet = (main, prop, item) => {\r\n  const container = main[prop];\r\n  if (container instanceof Set) {\r\n    container.delete(item);\r\n  } else if (container === item) {\r\n    delete main[prop];\r\n  }\r\n};\r\n\r\nconst isEmptySet = (val) => val instanceof Set ? val.size === 0 : !val;\r\n\r\n/**\r\n * @typedef {String} Path\r\n */\r\n\r\n// fs_watch helpers\r\n\r\n// object to hold per-process fs_watch instances\r\n// (may be shared across chokidar FSWatcher instances)\r\n\r\n/**\r\n * @typedef {Object} FsWatchContainer\r\n * @property {Set} listeners\r\n * @property {Set} errHandlers\r\n * @property {Set} rawEmitters\r\n * @property {fs.FSWatcher=} watcher\r\n * @property {Boolean=} watcherUnusable\r\n */\r\n\r\n/**\r\n * @type {Map<String,FsWatchContainer>}\r\n */\r\nconst FsWatchInstances = new Map();\r\n\r\n/**\r\n * Instantiates the fs_watch interface\r\n * @param {String} path to be watched\r\n * @param {Object} options to be passed to fs_watch\r\n * @param {Function} listener main event handler\r\n * @param {Function} errHandler emits info about errors\r\n * @param {Function} emitRaw emits raw event data\r\n * @returns {fs.FSWatcher} new fsevents instance\r\n */\r\nfunction createFsWatchInstance(path, options, listener, errHandler, emitRaw) {\r\n  const handleEvent = (rawEvent, evPath) => {\r\n    listener(path);\r\n    emitRaw(rawEvent, evPath, {watchedPath: path});\r\n\r\n    // emit based on events occurring for files from a directory's watcher in\r\n    // case the file's watcher misses it (and rely on throttling to de-dupe)\r\n    if (evPath && path !== evPath) {\r\n      fsWatchBroadcast(\r\n        sysPath$2.resolve(path, evPath), KEY_LISTENERS, sysPath$2.join(path, evPath)\r\n      );\r\n    }\r\n  };\r\n  try {\r\n    return fs$8.watch(path, options, handleEvent);\r\n  } catch (error) {\r\n    errHandler(error);\r\n  }\r\n}\r\n\r\n/**\r\n * Helper for passing fs_watch event data to a collection of listeners\r\n * @param {Path} fullPath absolute path bound to fs_watch instance\r\n * @param {String} type listener type\r\n * @param {*=} val1 arguments to be passed to listeners\r\n * @param {*=} val2\r\n * @param {*=} val3\r\n */\r\nconst fsWatchBroadcast = (fullPath, type, val1, val2, val3) => {\r\n  const cont = FsWatchInstances.get(fullPath);\r\n  if (!cont) return;\r\n  foreach(cont[type], (listener) => {\r\n    listener(val1, val2, val3);\r\n  });\r\n};\r\n\r\n/**\r\n * Instantiates the fs_watch interface or binds listeners\r\n * to an existing one covering the same file system entry\r\n * @param {String} path\r\n * @param {String} fullPath absolute path\r\n * @param {Object} options to be passed to fs_watch\r\n * @param {Object} handlers container for event listener functions\r\n */\r\nconst setFsWatchListener = (path, fullPath, options, handlers) => {\r\n  const {listener, errHandler, rawEmitter} = handlers;\r\n  let cont = FsWatchInstances.get(fullPath);\r\n\r\n  /** @type {fs.FSWatcher=} */\r\n  let watcher;\r\n  if (!options.persistent) {\r\n    watcher = createFsWatchInstance(\r\n      path, options, listener, errHandler, rawEmitter\r\n    );\r\n    return watcher.close.bind(watcher);\r\n  }\r\n  if (cont) {\r\n    addAndConvert(cont, KEY_LISTENERS, listener);\r\n    addAndConvert(cont, KEY_ERR, errHandler);\r\n    addAndConvert(cont, KEY_RAW, rawEmitter);\r\n  } else {\r\n    watcher = createFsWatchInstance(\r\n      path,\r\n      options,\r\n      fsWatchBroadcast.bind(null, fullPath, KEY_LISTENERS),\r\n      errHandler, // no need to use broadcast here\r\n      fsWatchBroadcast.bind(null, fullPath, KEY_RAW)\r\n    );\r\n    if (!watcher) return;\r\n    watcher.on(EV_ERROR$2, async (error) => {\r\n      const broadcastErr = fsWatchBroadcast.bind(null, fullPath, KEY_ERR);\r\n      cont.watcherUnusable = true; // documented since Node 10.4.1\r\n      // Workaround for https://github.com/joyent/node/issues/4337\r\n      if (isWindows$2 && error.code === 'EPERM') {\r\n        try {\r\n          const fd = await open$1(path, 'r');\r\n          await close(fd);\r\n          broadcastErr(error);\r\n        } catch (err) {}\r\n      } else {\r\n        broadcastErr(error);\r\n      }\r\n    });\r\n    cont = {\r\n      listeners: listener,\r\n      errHandlers: errHandler,\r\n      rawEmitters: rawEmitter,\r\n      watcher\r\n    };\r\n    FsWatchInstances.set(fullPath, cont);\r\n  }\r\n  // const index = cont.listeners.indexOf(listener);\r\n\r\n  // removes this instance's listeners and closes the underlying fs_watch\r\n  // instance if there are no more listeners left\r\n  return () => {\r\n    delFromSet(cont, KEY_LISTENERS, listener);\r\n    delFromSet(cont, KEY_ERR, errHandler);\r\n    delFromSet(cont, KEY_RAW, rawEmitter);\r\n    if (isEmptySet(cont.listeners)) {\r\n      // Check to protect against issue gh-730.\r\n      // if (cont.watcherUnusable) {\r\n      cont.watcher.close();\r\n      // }\r\n      FsWatchInstances.delete(fullPath);\r\n      HANDLER_KEYS.forEach(clearItem(cont));\r\n      cont.watcher = undefined;\r\n      Object.freeze(cont);\r\n    }\r\n  };\r\n};\r\n\r\n// fs_watchFile helpers\r\n\r\n// object to hold per-process fs_watchFile instances\r\n// (may be shared across chokidar FSWatcher instances)\r\nconst FsWatchFileInstances = new Map();\r\n\r\n/**\r\n * Instantiates the fs_watchFile interface or binds listeners\r\n * to an existing one covering the same file system entry\r\n * @param {String} path to be watched\r\n * @param {String} fullPath absolute path\r\n * @param {Object} options options to be passed to fs_watchFile\r\n * @param {Object} handlers container for event listener functions\r\n * @returns {Function} closer\r\n */\r\nconst setFsWatchFileListener = (path, fullPath, options, handlers) => {\r\n  const {listener, rawEmitter} = handlers;\r\n  let cont = FsWatchFileInstances.get(fullPath);\r\n\r\n  const copts = cont && cont.options;\r\n  if (copts && (copts.persistent < options.persistent || copts.interval > options.interval)) {\r\n    fs$8.unwatchFile(fullPath);\r\n    cont = undefined;\r\n  }\r\n\r\n  /* eslint-enable no-unused-vars, prefer-destructuring */\r\n\r\n  if (cont) {\r\n    addAndConvert(cont, KEY_LISTENERS, listener);\r\n    addAndConvert(cont, KEY_RAW, rawEmitter);\r\n  } else {\r\n    // TODO\r\n    // listeners.add(listener);\r\n    // rawEmitters.add(rawEmitter);\r\n    cont = {\r\n      listeners: listener,\r\n      rawEmitters: rawEmitter,\r\n      options,\r\n      watcher: fs$8.watchFile(fullPath, options, (curr, prev) => {\r\n        foreach(cont.rawEmitters, (rawEmitter) => {\r\n          rawEmitter(EV_CHANGE$2, fullPath, {curr, prev});\r\n        });\r\n        const currmtime = curr.mtimeMs;\r\n        if (curr.size !== prev.size || currmtime > prev.mtimeMs || currmtime === 0) {\r\n          foreach(cont.listeners, (listener) => listener(path, curr));\r\n        }\r\n      })\r\n    };\r\n    FsWatchFileInstances.set(fullPath, cont);\r\n  }\r\n  // const index = cont.listeners.indexOf(listener);\r\n\r\n  // Removes this instance's listeners and closes the underlying fs_watchFile\r\n  // instance if there are no more listeners left.\r\n  return () => {\r\n    delFromSet(cont, KEY_LISTENERS, listener);\r\n    delFromSet(cont, KEY_RAW, rawEmitter);\r\n    if (isEmptySet(cont.listeners)) {\r\n      FsWatchFileInstances.delete(fullPath);\r\n      fs$8.unwatchFile(fullPath);\r\n      cont.options = cont.watcher = undefined;\r\n      Object.freeze(cont);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * @mixin\r\n */\r\nclass NodeFsHandler$1 {\r\n\r\n/**\r\n * @param {import(\"../index\").FSWatcher} fsW\r\n */\r\nconstructor(fsW) {\r\n  this.fsw = fsW;\r\n  this._boundHandleError = (error) => fsW._handleError(error);\r\n}\r\n\r\n/**\r\n * Watch file for changes with fs_watchFile or fs_watch.\r\n * @param {String} path to file or dir\r\n * @param {Function} listener on fs change\r\n * @returns {Function} closer for the watcher instance\r\n */\r\n_watchWithNodeFs(path, listener) {\r\n  const opts = this.fsw.options;\r\n  const directory = sysPath$2.dirname(path);\r\n  const basename = sysPath$2.basename(path);\r\n  const parent = this.fsw._getWatchedDir(directory);\r\n  parent.add(basename);\r\n  const absolutePath = sysPath$2.resolve(path);\r\n  const options = {persistent: opts.persistent};\r\n  if (!listener) listener = EMPTY_FN$2;\r\n\r\n  let closer;\r\n  if (opts.usePolling) {\r\n    options.interval = opts.enableBinaryInterval && isBinaryPath(basename) ?\r\n      opts.binaryInterval : opts.interval;\r\n    closer = setFsWatchFileListener(path, absolutePath, options, {\r\n      listener,\r\n      rawEmitter: this.fsw._emitRaw\r\n    });\r\n  } else {\r\n    closer = setFsWatchListener(path, absolutePath, options, {\r\n      listener,\r\n      errHandler: this._boundHandleError,\r\n      rawEmitter: this.fsw._emitRaw\r\n    });\r\n  }\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Watch a file and emit add event if warranted.\r\n * @param {Path} file Path\r\n * @param {fs.Stats} stats result of fs_stat\r\n * @param {Boolean} initialAdd was the file added at watch instantiation?\r\n * @returns {Function} closer for the watcher instance\r\n */\r\n_handleFile(file, stats, initialAdd) {\r\n  if (this.fsw.closed) {\r\n    return;\r\n  }\r\n  const dirname = sysPath$2.dirname(file);\r\n  const basename = sysPath$2.basename(file);\r\n  const parent = this.fsw._getWatchedDir(dirname);\r\n  // stats is always present\r\n  let prevStats = stats;\r\n\r\n  // if the file is already being watched, do nothing\r\n  if (parent.has(basename)) return;\r\n\r\n  const listener = async (path, newStats) => {\r\n    if (!this.fsw._throttle(THROTTLE_MODE_WATCH, file, 5)) return;\r\n    if (!newStats || newStats.mtimeMs === 0) {\r\n      try {\r\n        const newStats = await stat$2(file);\r\n        if (this.fsw.closed) return;\r\n        // Check that change event was not fired because of changed only accessTime.\r\n        const at = newStats.atimeMs;\r\n        const mt = newStats.mtimeMs;\r\n        if (!at || at <= mt || mt !== prevStats.mtimeMs) {\r\n          this.fsw._emit(EV_CHANGE$2, file, newStats);\r\n        }\r\n        if (isLinux && prevStats.ino !== newStats.ino) {\r\n          this.fsw._closeFile(path);\r\n          prevStats = newStats;\r\n          this.fsw._addPathCloser(path, this._watchWithNodeFs(file, listener));\r\n        } else {\r\n          prevStats = newStats;\r\n        }\r\n      } catch (error) {\r\n        // Fix issues where mtime is null but file is still present\r\n        this.fsw._remove(dirname, basename);\r\n      }\r\n      // add is about to be emitted if file not already tracked in parent\r\n    } else if (parent.has(basename)) {\r\n      // Check that change event was not fired because of changed only accessTime.\r\n      const at = newStats.atimeMs;\r\n      const mt = newStats.mtimeMs;\r\n      if (!at || at <= mt || mt !== prevStats.mtimeMs) {\r\n        this.fsw._emit(EV_CHANGE$2, file, newStats);\r\n      }\r\n      prevStats = newStats;\r\n    }\r\n  };\r\n  // kick off the watcher\r\n  const closer = this._watchWithNodeFs(file, listener);\r\n\r\n  // emit an add event if we're supposed to\r\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && this.fsw._isntIgnored(file)) {\r\n    if (!this.fsw._throttle(EV_ADD$2, file, 0)) return;\r\n    this.fsw._emit(EV_ADD$2, file, stats);\r\n  }\r\n\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Handle symlinks encountered while reading a dir.\r\n * @param {Object} entry returned by readdirp\r\n * @param {String} directory path of dir being read\r\n * @param {String} path of this item\r\n * @param {String} item basename of this item\r\n * @returns {Promise<Boolean>} true if no more processing is needed for this entry.\r\n */\r\nasync _handleSymlink(entry, directory, path, item) {\r\n  if (this.fsw.closed) {\r\n    return;\r\n  }\r\n  const full = entry.fullPath;\r\n  const dir = this.fsw._getWatchedDir(directory);\r\n\r\n  if (!this.fsw.options.followSymlinks) {\r\n    // watch symlink directly (don't follow) and detect changes\r\n    this.fsw._incrReadyCount();\r\n\r\n    let linkPath;\r\n    try {\r\n      linkPath = await fsrealpath(path);\r\n    } catch (e) {\r\n      this.fsw._emitReady();\r\n      return true;\r\n    }\r\n\r\n    if (this.fsw.closed) return;\r\n    if (dir.has(item)) {\r\n      if (this.fsw._symlinkPaths.get(full) !== linkPath) {\r\n        this.fsw._symlinkPaths.set(full, linkPath);\r\n        this.fsw._emit(EV_CHANGE$2, path, entry.stats);\r\n      }\r\n    } else {\r\n      dir.add(item);\r\n      this.fsw._symlinkPaths.set(full, linkPath);\r\n      this.fsw._emit(EV_ADD$2, path, entry.stats);\r\n    }\r\n    this.fsw._emitReady();\r\n    return true;\r\n  }\r\n\r\n  // don't follow the same symlink more than once\r\n  if (this.fsw._symlinkPaths.has(full)) {\r\n    return true;\r\n  }\r\n\r\n  this.fsw._symlinkPaths.set(full, true);\r\n}\r\n\r\n_handleRead(directory, initialAdd, wh, target, dir, depth, throttler) {\r\n  // Normalize the directory name on Windows\r\n  directory = sysPath$2.join(directory, EMPTY_STR$1);\r\n\r\n  if (!wh.hasGlob) {\r\n    throttler = this.fsw._throttle('readdir', directory, 1000);\r\n    if (!throttler) return;\r\n  }\r\n\r\n  const previous = this.fsw._getWatchedDir(wh.path);\r\n  const current = new Set();\r\n\r\n  let stream = this.fsw._readdirp(directory, {\r\n    fileFilter: entry => wh.filterPath(entry),\r\n    directoryFilter: entry => wh.filterDir(entry),\r\n    depth: 0\r\n  }).on(STR_DATA$1, async (entry) => {\r\n    if (this.fsw.closed) {\r\n      stream = undefined;\r\n      return;\r\n    }\r\n    const item = entry.path;\r\n    let path = sysPath$2.join(directory, item);\r\n    current.add(item);\r\n\r\n    if (entry.stats.isSymbolicLink() && await this._handleSymlink(entry, directory, path, item)) {\r\n      return;\r\n    }\r\n\r\n    if (this.fsw.closed) {\r\n      stream = undefined;\r\n      return;\r\n    }\r\n    // Files that present in current directory snapshot\r\n    // but absent in previous are added to watch list and\r\n    // emit `add` event.\r\n    if (item === target || !target && !previous.has(item)) {\r\n      this.fsw._incrReadyCount();\r\n\r\n      // ensure relativeness of path is preserved in case of watcher reuse\r\n      path = sysPath$2.join(dir, sysPath$2.relative(dir, path));\r\n\r\n      this._addToNodeFs(path, initialAdd, wh, depth + 1);\r\n    }\r\n  }).on(EV_ERROR$2, this._boundHandleError);\r\n\r\n  return new Promise(resolve =>\r\n    stream.once(STR_END$2, () => {\r\n      if (this.fsw.closed) {\r\n        stream = undefined;\r\n        return;\r\n      }\r\n      const wasThrottled = throttler ? throttler.clear() : false;\r\n\r\n      resolve();\r\n\r\n      // Files that absent in current directory snapshot\r\n      // but present in previous emit `remove` event\r\n      // and are removed from @watched[directory].\r\n      previous.getChildren().filter((item) => {\r\n        return item !== directory &&\r\n          !current.has(item) &&\r\n          // in case of intersecting globs;\r\n          // a path may have been filtered out of this readdir, but\r\n          // shouldn't be removed because it matches a different glob\r\n          (!wh.hasGlob || wh.filterPath({\r\n            fullPath: sysPath$2.resolve(directory, item)\r\n          }));\r\n      }).forEach((item) => {\r\n        this.fsw._remove(directory, item);\r\n      });\r\n\r\n      stream = undefined;\r\n\r\n      // one more time for any missed in case changes came in extremely quickly\r\n      if (wasThrottled) this._handleRead(directory, false, wh, target, dir, depth, throttler);\r\n    })\r\n  );\r\n}\r\n\r\n/**\r\n * Read directory to add / remove files from `@watched` list and re-read it on change.\r\n * @param {String} dir fs path\r\n * @param {fs.Stats} stats\r\n * @param {Boolean} initialAdd\r\n * @param {Number} depth relative to user-supplied path\r\n * @param {String} target child path targeted for watch\r\n * @param {Object} wh Common watch helpers for this path\r\n * @param {String} realpath\r\n * @returns {Promise<Function>} closer for the watcher instance.\r\n */\r\nasync _handleDir(dir, stats, initialAdd, depth, target, wh, realpath) {\r\n  const parentDir = this.fsw._getWatchedDir(sysPath$2.dirname(dir));\r\n  const tracked = parentDir.has(sysPath$2.basename(dir));\r\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && !target && !tracked) {\r\n    if (!wh.hasGlob || wh.globFilter(dir)) this.fsw._emit(EV_ADD_DIR$2, dir, stats);\r\n  }\r\n\r\n  // ensure dir is tracked (harmless if redundant)\r\n  parentDir.add(sysPath$2.basename(dir));\r\n  this.fsw._getWatchedDir(dir);\r\n  let throttler;\r\n  let closer;\r\n\r\n  const oDepth = this.fsw.options.depth;\r\n  if ((oDepth == null || depth <= oDepth) && !this.fsw._symlinkPaths.has(realpath)) {\r\n    if (!target) {\r\n      await this._handleRead(dir, initialAdd, wh, target, dir, depth, throttler);\r\n      if (this.fsw.closed) return;\r\n    }\r\n\r\n    closer = this._watchWithNodeFs(dir, (dirPath, stats) => {\r\n      // if current directory is removed, do nothing\r\n      if (stats && stats.mtimeMs === 0) return;\r\n\r\n      this._handleRead(dirPath, false, wh, target, dir, depth, throttler);\r\n    });\r\n  }\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Handle added file, directory, or glob pattern.\r\n * Delegates call to _handleFile / _handleDir after checks.\r\n * @param {String} path to file or ir\r\n * @param {Boolean} initialAdd was the file added at watch instantiation?\r\n * @param {Object} priorWh depth relative to user-supplied path\r\n * @param {Number} depth Child path actually targeted for watch\r\n * @param {String=} target Child path actually targeted for watch\r\n * @returns {Promise}\r\n */\r\nasync _addToNodeFs(path, initialAdd, priorWh, depth, target) {\r\n  const ready = this.fsw._emitReady;\r\n  if (this.fsw._isIgnored(path) || this.fsw.closed) {\r\n    ready();\r\n    return false;\r\n  }\r\n\r\n  const wh = this.fsw._getWatchHelpers(path, depth);\r\n  if (!wh.hasGlob && priorWh) {\r\n    wh.hasGlob = priorWh.hasGlob;\r\n    wh.globFilter = priorWh.globFilter;\r\n    wh.filterPath = entry => priorWh.filterPath(entry);\r\n    wh.filterDir = entry => priorWh.filterDir(entry);\r\n  }\r\n\r\n  // evaluate what is at the path we're being asked to watch\r\n  try {\r\n    const stats = await statMethods$1[wh.statMethod](wh.watchPath);\r\n    if (this.fsw.closed) return;\r\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\r\n      ready();\r\n      return false;\r\n    }\r\n\r\n    const follow = this.fsw.options.followSymlinks && !path.includes(STAR) && !path.includes(BRACE_START$1);\r\n    let closer;\r\n    if (stats.isDirectory()) {\r\n      const absPath = sysPath$2.resolve(path);\r\n      const targetPath = follow ? await fsrealpath(path) : path;\r\n      if (this.fsw.closed) return;\r\n      closer = await this._handleDir(wh.watchPath, stats, initialAdd, depth, target, wh, targetPath);\r\n      if (this.fsw.closed) return;\r\n      // preserve this symlink's target path\r\n      if (absPath !== targetPath && targetPath !== undefined) {\r\n        this.fsw._symlinkPaths.set(absPath, targetPath);\r\n      }\r\n    } else if (stats.isSymbolicLink()) {\r\n      const targetPath = follow ? await fsrealpath(path) : path;\r\n      if (this.fsw.closed) return;\r\n      const parent = sysPath$2.dirname(wh.watchPath);\r\n      this.fsw._getWatchedDir(parent).add(wh.watchPath);\r\n      this.fsw._emit(EV_ADD$2, wh.watchPath, stats);\r\n      closer = await this._handleDir(parent, stats, initialAdd, depth, path, wh, targetPath);\r\n      if (this.fsw.closed) return;\r\n\r\n      // preserve this symlink's target path\r\n      if (targetPath !== undefined) {\r\n        this.fsw._symlinkPaths.set(sysPath$2.resolve(path), targetPath);\r\n      }\r\n    } else {\r\n      closer = this._handleFile(wh.watchPath, stats, initialAdd);\r\n    }\r\n    ready();\r\n\r\n    this.fsw._addPathCloser(path, closer);\r\n    return false;\r\n\r\n  } catch (error) {\r\n    if (this.fsw._handleError(error)) {\r\n      ready();\r\n      return path;\r\n    }\r\n  }\r\n}\r\n\r\n}\r\n\r\nvar nodefsHandler = NodeFsHandler$1;\r\n\r\nvar fseventsHandler = {exports: {}};\r\n\r\nconst fs$7 = require$$0__default;\r\nconst sysPath$1 = require$$0$4;\r\nconst { promisify: promisify$1 } = require$$0$6;\r\n\r\nlet fsevents;\r\ntry {\r\n  fsevents = __require('fsevents');\r\n} catch (error) {\r\n  if (process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR) console.error(error);\r\n}\r\n\r\nif (fsevents) {\r\n  // TODO: real check\r\n  const mtch = process.version.match(/v(\\d+)\\.(\\d+)/);\r\n  if (mtch && mtch[1] && mtch[2]) {\r\n    const maj = Number.parseInt(mtch[1], 10);\r\n    const min = Number.parseInt(mtch[2], 10);\r\n    if (maj === 8 && min < 16) {\r\n      fsevents = undefined;\r\n    }\r\n  }\r\n}\r\n\r\nconst {\r\n  EV_ADD: EV_ADD$1,\r\n  EV_CHANGE: EV_CHANGE$1,\r\n  EV_ADD_DIR: EV_ADD_DIR$1,\r\n  EV_UNLINK: EV_UNLINK$1,\r\n  EV_ERROR: EV_ERROR$1,\r\n  STR_DATA,\r\n  STR_END: STR_END$1,\r\n  FSEVENT_CREATED,\r\n  FSEVENT_MODIFIED,\r\n  FSEVENT_DELETED,\r\n  FSEVENT_MOVED,\r\n  // FSEVENT_CLONED,\r\n  FSEVENT_UNKNOWN,\r\n  FSEVENT_TYPE_FILE,\r\n  FSEVENT_TYPE_DIRECTORY,\r\n  FSEVENT_TYPE_SYMLINK,\r\n\r\n  ROOT_GLOBSTAR,\r\n  DIR_SUFFIX,\r\n  DOT_SLASH,\r\n  FUNCTION_TYPE: FUNCTION_TYPE$1,\r\n  EMPTY_FN: EMPTY_FN$1,\r\n  IDENTITY_FN\r\n} = constants$1;\r\n\r\nconst Depth = (value) => isNaN(value) ? {} : {depth: value};\r\n\r\nconst stat$1 = promisify$1(fs$7.stat);\r\nconst lstat = promisify$1(fs$7.lstat);\r\nconst realpath = promisify$1(fs$7.realpath);\r\n\r\nconst statMethods = { stat: stat$1, lstat };\r\n\r\n/**\r\n * @typedef {String} Path\r\n */\r\n\r\n/**\r\n * @typedef {Object} FsEventsWatchContainer\r\n * @property {Set<Function>} listeners\r\n * @property {Function} rawEmitter\r\n * @property {{stop: Function}} watcher\r\n */\r\n\r\n// fsevents instance helper functions\r\n/**\r\n * Object to hold per-process fsevents instances (may be shared across chokidar FSWatcher instances)\r\n * @type {Map<Path,FsEventsWatchContainer>}\r\n */\r\nconst FSEventsWatchers = new Map();\r\n\r\n// Threshold of duplicate path prefixes at which to start\r\n// consolidating going forward\r\nconst consolidateThreshhold = 10;\r\n\r\nconst wrongEventFlags = new Set([\r\n  69888, 70400, 71424, 72704, 73472, 131328, 131840, 262912\r\n]);\r\n\r\n/**\r\n * Instantiates the fsevents interface\r\n * @param {Path} path path to be watched\r\n * @param {Function} callback called when fsevents is bound and ready\r\n * @returns {{stop: Function}} new fsevents instance\r\n */\r\nconst createFSEventsInstance = (path, callback) => {\r\n  const stop = fsevents.watch(path, callback);\r\n  return {stop};\r\n};\r\n\r\n/**\r\n * Instantiates the fsevents interface or binds listeners to an existing one covering\r\n * the same file tree.\r\n * @param {Path} path           - to be watched\r\n * @param {Path} realPath       - real path for symlinks\r\n * @param {Function} listener   - called when fsevents emits events\r\n * @param {Function} rawEmitter - passes data to listeners of the 'raw' event\r\n * @returns {Function} closer\r\n */\r\nfunction setFSEventsListener(path, realPath, listener, rawEmitter) {\r\n  let watchPath = sysPath$1.extname(realPath) ? sysPath$1.dirname(realPath) : realPath;\r\n\r\n  const parentPath = sysPath$1.dirname(watchPath);\r\n  let cont = FSEventsWatchers.get(watchPath);\r\n\r\n  // If we've accumulated a substantial number of paths that\r\n  // could have been consolidated by watching one directory\r\n  // above the current one, create a watcher on the parent\r\n  // path instead, so that we do consolidate going forward.\r\n  if (couldConsolidate(parentPath)) {\r\n    watchPath = parentPath;\r\n  }\r\n\r\n  const resolvedPath = sysPath$1.resolve(path);\r\n  const hasSymlink = resolvedPath !== realPath;\r\n\r\n  const filteredListener = (fullPath, flags, info) => {\r\n    if (hasSymlink) fullPath = fullPath.replace(realPath, resolvedPath);\r\n    if (\r\n      fullPath === resolvedPath ||\r\n      !fullPath.indexOf(resolvedPath + sysPath$1.sep)\r\n    ) listener(fullPath, flags, info);\r\n  };\r\n\r\n  // check if there is already a watcher on a parent path\r\n  // modifies `watchPath` to the parent path when it finds a match\r\n  let watchedParent = false;\r\n  for (const watchedPath of FSEventsWatchers.keys()) {\r\n    if (realPath.indexOf(sysPath$1.resolve(watchedPath) + sysPath$1.sep) === 0) {\r\n      watchPath = watchedPath;\r\n      cont = FSEventsWatchers.get(watchPath);\r\n      watchedParent = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (cont || watchedParent) {\r\n    cont.listeners.add(filteredListener);\r\n  } else {\r\n    cont = {\r\n      listeners: new Set([filteredListener]),\r\n      rawEmitter,\r\n      watcher: createFSEventsInstance(watchPath, (fullPath, flags) => {\r\n        if (!cont.listeners.size) return;\r\n        const info = fsevents.getInfo(fullPath, flags);\r\n        cont.listeners.forEach(list => {\r\n          list(fullPath, flags, info);\r\n        });\r\n\r\n        cont.rawEmitter(info.event, fullPath, info);\r\n      })\r\n    };\r\n    FSEventsWatchers.set(watchPath, cont);\r\n  }\r\n\r\n  // removes this instance's listeners and closes the underlying fsevents\r\n  // instance if there are no more listeners left\r\n  return () => {\r\n    const lst = cont.listeners;\r\n\r\n    lst.delete(filteredListener);\r\n    if (!lst.size) {\r\n      FSEventsWatchers.delete(watchPath);\r\n      if (cont.watcher) return cont.watcher.stop().then(() => {\r\n        cont.rawEmitter = cont.watcher = undefined;\r\n        Object.freeze(cont);\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\n// Decide whether or not we should start a new higher-level\r\n// parent watcher\r\nconst couldConsolidate = (path) => {\r\n  let count = 0;\r\n  for (const watchPath of FSEventsWatchers.keys()) {\r\n    if (watchPath.indexOf(path) === 0) {\r\n      count++;\r\n      if (count >= consolidateThreshhold) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n// returns boolean indicating whether fsevents can be used\r\nconst canUse = () => fsevents && FSEventsWatchers.size < 128;\r\n\r\n// determines subdirectory traversal levels from root to path\r\nconst calcDepth = (path, root) => {\r\n  let i = 0;\r\n  while (!path.indexOf(root) && (path = sysPath$1.dirname(path)) !== root) i++;\r\n  return i;\r\n};\r\n\r\n// returns boolean indicating whether the fsevents' event info has the same type\r\n// as the one returned by fs.stat\r\nconst sameTypes = (info, stats) => (\r\n  info.type === FSEVENT_TYPE_DIRECTORY && stats.isDirectory() ||\r\n  info.type === FSEVENT_TYPE_SYMLINK && stats.isSymbolicLink() ||\r\n  info.type === FSEVENT_TYPE_FILE && stats.isFile()\r\n);\r\n\r\n/**\r\n * @mixin\r\n */\r\nclass FsEventsHandler$1 {\r\n\r\n/**\r\n * @param {import('../index').FSWatcher} fsw\r\n */\r\nconstructor(fsw) {\r\n  this.fsw = fsw;\r\n}\r\ncheckIgnored(path, stats) {\r\n  const ipaths = this.fsw._ignoredPaths;\r\n  if (this.fsw._isIgnored(path, stats)) {\r\n    ipaths.add(path);\r\n    if (stats && stats.isDirectory()) {\r\n      ipaths.add(path + ROOT_GLOBSTAR);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  ipaths.delete(path);\r\n  ipaths.delete(path + ROOT_GLOBSTAR);\r\n}\r\n\r\naddOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\r\n  const event = watchedDir.has(item) ? EV_CHANGE$1 : EV_ADD$1;\r\n  this.handleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n}\r\n\r\nasync checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\r\n  try {\r\n    const stats = await stat$1(path);\r\n    if (this.fsw.closed) return;\r\n    if (sameTypes(info, stats)) {\r\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    } else {\r\n      this.handleEvent(EV_UNLINK$1, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    }\r\n  } catch (error) {\r\n    if (error.code === 'EACCES') {\r\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    } else {\r\n      this.handleEvent(EV_UNLINK$1, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    }\r\n  }\r\n}\r\n\r\nhandleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts) {\r\n  if (this.fsw.closed || this.checkIgnored(path)) return;\r\n\r\n  if (event === EV_UNLINK$1) {\r\n    const isDirectory = info.type === FSEVENT_TYPE_DIRECTORY;\r\n    // suppress unlink events on never before seen files\r\n    if (isDirectory || watchedDir.has(item)) {\r\n      this.fsw._remove(parent, item, isDirectory);\r\n    }\r\n  } else {\r\n    if (event === EV_ADD$1) {\r\n      // track new directories\r\n      if (info.type === FSEVENT_TYPE_DIRECTORY) this.fsw._getWatchedDir(path);\r\n\r\n      if (info.type === FSEVENT_TYPE_SYMLINK && opts.followSymlinks) {\r\n        // push symlinks back to the top of the stack to get handled\r\n        const curDepth = opts.depth === undefined ?\r\n          undefined : calcDepth(fullPath, realPath) + 1;\r\n        return this._addToFsEvents(path, false, true, curDepth);\r\n      }\r\n\r\n      // track new paths\r\n      // (other than symlinks being followed, which will be tracked soon)\r\n      this.fsw._getWatchedDir(parent).add(item);\r\n    }\r\n    /**\r\n     * @type {'add'|'addDir'|'unlink'|'unlinkDir'}\r\n     */\r\n    const eventName = info.type === FSEVENT_TYPE_DIRECTORY ? event + DIR_SUFFIX : event;\r\n    this.fsw._emit(eventName, path);\r\n    if (eventName === EV_ADD_DIR$1) this._addToFsEvents(path, false, true);\r\n  }\r\n}\r\n\r\n/**\r\n * Handle symlinks encountered during directory scan\r\n * @param {String} watchPath  - file/dir path to be watched with fsevents\r\n * @param {String} realPath   - real path (in case of symlinks)\r\n * @param {Function} transform  - path transformer\r\n * @param {Function} globFilter - path filter in case a glob pattern was provided\r\n * @returns {Function} closer for the watcher instance\r\n*/\r\n_watchWithFsEvents(watchPath, realPath, transform, globFilter) {\r\n  if (this.fsw.closed || this.fsw._isIgnored(watchPath)) return;\r\n  const opts = this.fsw.options;\r\n  const watchCallback = async (fullPath, flags, info) => {\r\n    if (this.fsw.closed) return;\r\n    if (\r\n      opts.depth !== undefined &&\r\n      calcDepth(fullPath, realPath) > opts.depth\r\n    ) return;\r\n    const path = transform(sysPath$1.join(\r\n      watchPath, sysPath$1.relative(watchPath, fullPath)\r\n    ));\r\n    if (globFilter && !globFilter(path)) return;\r\n    // ensure directories are tracked\r\n    const parent = sysPath$1.dirname(path);\r\n    const item = sysPath$1.basename(path);\r\n    const watchedDir = this.fsw._getWatchedDir(\r\n      info.type === FSEVENT_TYPE_DIRECTORY ? path : parent\r\n    );\r\n\r\n    // correct for wrong events emitted\r\n    if (wrongEventFlags.has(flags) || info.event === FSEVENT_UNKNOWN) {\r\n      if (typeof opts.ignored === FUNCTION_TYPE$1) {\r\n        let stats;\r\n        try {\r\n          stats = await stat$1(path);\r\n        } catch (error) {}\r\n        if (this.fsw.closed) return;\r\n        if (this.checkIgnored(path, stats)) return;\r\n        if (sameTypes(info, stats)) {\r\n          this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n        } else {\r\n          this.handleEvent(EV_UNLINK$1, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n        }\r\n      } else {\r\n        this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n      }\r\n    } else {\r\n      switch (info.event) {\r\n      case FSEVENT_CREATED:\r\n      case FSEVENT_MODIFIED:\r\n        return this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n      case FSEVENT_DELETED:\r\n      case FSEVENT_MOVED:\r\n        return this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n      }\r\n    }\r\n  };\r\n\r\n  const closer = setFSEventsListener(\r\n    watchPath,\r\n    realPath,\r\n    watchCallback,\r\n    this.fsw._emitRaw\r\n  );\r\n\r\n  this.fsw._emitReady();\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Handle symlinks encountered during directory scan\r\n * @param {String} linkPath path to symlink\r\n * @param {String} fullPath absolute path to the symlink\r\n * @param {Function} transform pre-existing path transformer\r\n * @param {Number} curDepth level of subdirectories traversed to where symlink is\r\n * @returns {Promise<void>}\r\n */\r\nasync _handleFsEventsSymlink(linkPath, fullPath, transform, curDepth) {\r\n  // don't follow the same symlink more than once\r\n  if (this.fsw.closed || this.fsw._symlinkPaths.has(fullPath)) return;\r\n\r\n  this.fsw._symlinkPaths.set(fullPath, true);\r\n  this.fsw._incrReadyCount();\r\n\r\n  try {\r\n    const linkTarget = await realpath(linkPath);\r\n    if (this.fsw.closed) return;\r\n    if (this.fsw._isIgnored(linkTarget)) {\r\n      return this.fsw._emitReady();\r\n    }\r\n\r\n    this.fsw._incrReadyCount();\r\n\r\n    // add the linkTarget for watching with a wrapper for transform\r\n    // that causes emitted paths to incorporate the link's path\r\n    this._addToFsEvents(linkTarget || linkPath, (path) => {\r\n      let aliasedPath = linkPath;\r\n      if (linkTarget && linkTarget !== DOT_SLASH) {\r\n        aliasedPath = path.replace(linkTarget, linkPath);\r\n      } else if (path !== DOT_SLASH) {\r\n        aliasedPath = sysPath$1.join(linkPath, path);\r\n      }\r\n      return transform(aliasedPath);\r\n    }, false, curDepth);\r\n  } catch(error) {\r\n    if (this.fsw._handleError(error)) {\r\n      return this.fsw._emitReady();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {Path} newPath\r\n * @param {fs.Stats} stats\r\n */\r\nemitAdd(newPath, stats, processPath, opts, forceAdd) {\r\n  const pp = processPath(newPath);\r\n  const isDir = stats.isDirectory();\r\n  const dirObj = this.fsw._getWatchedDir(sysPath$1.dirname(pp));\r\n  const base = sysPath$1.basename(pp);\r\n\r\n  // ensure empty dirs get tracked\r\n  if (isDir) this.fsw._getWatchedDir(pp);\r\n  if (dirObj.has(base)) return;\r\n  dirObj.add(base);\r\n\r\n  if (!opts.ignoreInitial || forceAdd === true) {\r\n    this.fsw._emit(isDir ? EV_ADD_DIR$1 : EV_ADD$1, pp, stats);\r\n  }\r\n}\r\n\r\ninitWatch(realPath, path, wh, processPath) {\r\n  if (this.fsw.closed) return;\r\n  const closer = this._watchWithFsEvents(\r\n    wh.watchPath,\r\n    sysPath$1.resolve(realPath || wh.watchPath),\r\n    processPath,\r\n    wh.globFilter\r\n  );\r\n  this.fsw._addPathCloser(path, closer);\r\n}\r\n\r\n/**\r\n * Handle added path with fsevents\r\n * @param {String} path file/dir path or glob pattern\r\n * @param {Function|Boolean=} transform converts working path to what the user expects\r\n * @param {Boolean=} forceAdd ensure add is emitted\r\n * @param {Number=} priorDepth Level of subdirectories already traversed.\r\n * @returns {Promise<void>}\r\n */\r\nasync _addToFsEvents(path, transform, forceAdd, priorDepth) {\r\n  if (this.fsw.closed) {\r\n    return;\r\n  }\r\n  const opts = this.fsw.options;\r\n  const processPath = typeof transform === FUNCTION_TYPE$1 ? transform : IDENTITY_FN;\r\n\r\n  const wh = this.fsw._getWatchHelpers(path);\r\n\r\n  // evaluate what is at the path we're being asked to watch\r\n  try {\r\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\r\n    if (this.fsw.closed) return;\r\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\r\n      throw null;\r\n    }\r\n    if (stats.isDirectory()) {\r\n      // emit addDir unless this is a glob parent\r\n      if (!wh.globFilter) this.emitAdd(processPath(path), stats, processPath, opts, forceAdd);\r\n\r\n      // don't recurse further if it would exceed depth setting\r\n      if (priorDepth && priorDepth > opts.depth) return;\r\n\r\n      // scan the contents of the dir\r\n      this.fsw._readdirp(wh.watchPath, {\r\n        fileFilter: entry => wh.filterPath(entry),\r\n        directoryFilter: entry => wh.filterDir(entry),\r\n        ...Depth(opts.depth - (priorDepth || 0))\r\n      }).on(STR_DATA, (entry) => {\r\n        // need to check filterPath on dirs b/c filterDir is less restrictive\r\n        if (this.fsw.closed) {\r\n          return;\r\n        }\r\n        if (entry.stats.isDirectory() && !wh.filterPath(entry)) return;\r\n\r\n        const joinedPath = sysPath$1.join(wh.watchPath, entry.path);\r\n        const {fullPath} = entry;\r\n\r\n        if (wh.followSymlinks && entry.stats.isSymbolicLink()) {\r\n          // preserve the current depth here since it can't be derived from\r\n          // real paths past the symlink\r\n          const curDepth = opts.depth === undefined ?\r\n            undefined : calcDepth(joinedPath, sysPath$1.resolve(wh.watchPath)) + 1;\r\n\r\n          this._handleFsEventsSymlink(joinedPath, fullPath, processPath, curDepth);\r\n        } else {\r\n          this.emitAdd(joinedPath, entry.stats, processPath, opts, forceAdd);\r\n        }\r\n      }).on(EV_ERROR$1, EMPTY_FN$1).on(STR_END$1, () => {\r\n        this.fsw._emitReady();\r\n      });\r\n    } else {\r\n      this.emitAdd(wh.watchPath, stats, processPath, opts, forceAdd);\r\n      this.fsw._emitReady();\r\n    }\r\n  } catch (error) {\r\n    if (!error || this.fsw._handleError(error)) {\r\n      // TODO: Strange thing: \"should not choke on an ignored watch path\" will be failed without 2 ready calls -__-\r\n      this.fsw._emitReady();\r\n      this.fsw._emitReady();\r\n    }\r\n  }\r\n\r\n  if (opts.persistent && forceAdd !== true) {\r\n    if (typeof transform === FUNCTION_TYPE$1) {\r\n      // realpath has already been resolved\r\n      this.initWatch(undefined, path, wh, processPath);\r\n    } else {\r\n      let realPath;\r\n      try {\r\n        realPath = await realpath(wh.watchPath);\r\n      } catch (e) {}\r\n      this.initWatch(realPath, path, wh, processPath);\r\n    }\r\n  }\r\n}\r\n\r\n}\r\n\r\nfseventsHandler.exports = FsEventsHandler$1;\r\nfseventsHandler.exports.canUse = canUse;\r\n\r\nconst { EventEmitter: EventEmitter$2 } = require$$0$5;\r\nconst fs$6 = require$$0__default;\r\nconst sysPath = require$$0$4;\r\nconst { promisify } = require$$0$6;\r\nconst readdirp = readdirp_1;\r\nconst anymatch = anymatch$2.exports.default;\r\nconst globParent = globParent$2;\r\nconst isGlob = isGlob$2;\r\nconst braces = braces_1;\r\nconst normalizePath = normalizePath$2;\r\n\r\nconst NodeFsHandler = nodefsHandler;\r\nconst FsEventsHandler = fseventsHandler.exports;\r\nconst {\r\n  EV_ALL,\r\n  EV_READY,\r\n  EV_ADD,\r\n  EV_CHANGE,\r\n  EV_UNLINK,\r\n  EV_ADD_DIR,\r\n  EV_UNLINK_DIR,\r\n  EV_RAW,\r\n  EV_ERROR,\r\n\r\n  STR_CLOSE,\r\n  STR_END,\r\n\r\n  BACK_SLASH_RE,\r\n  DOUBLE_SLASH_RE,\r\n  SLASH_OR_BACK_SLASH_RE,\r\n  DOT_RE,\r\n  REPLACER_RE,\r\n\r\n  SLASH,\r\n  SLASH_SLASH,\r\n  BRACE_START,\r\n  BANG,\r\n  ONE_DOT,\r\n  TWO_DOTS,\r\n  GLOBSTAR,\r\n  SLASH_GLOBSTAR,\r\n  ANYMATCH_OPTS,\r\n  STRING_TYPE,\r\n  FUNCTION_TYPE,\r\n  EMPTY_STR,\r\n  EMPTY_FN,\r\n\r\n  isWindows: isWindows$1,\r\n  isMacos,\r\n  isIBMi\r\n} = constants$1;\r\n\r\nconst stat = promisify(fs$6.stat);\r\nconst readdir = promisify(fs$6.readdir);\r\n\r\n/**\r\n * @typedef {String} Path\r\n * @typedef {'all'|'add'|'addDir'|'change'|'unlink'|'unlinkDir'|'raw'|'error'|'ready'} EventName\r\n * @typedef {'readdir'|'watch'|'add'|'remove'|'change'} ThrottleType\r\n */\r\n\r\n/**\r\n *\r\n * @typedef {Object} WatchHelpers\r\n * @property {Boolean} followSymlinks\r\n * @property {'stat'|'lstat'} statMethod\r\n * @property {Path} path\r\n * @property {Path} watchPath\r\n * @property {Function} entryPath\r\n * @property {Boolean} hasGlob\r\n * @property {Object} globFilter\r\n * @property {Function} filterPath\r\n * @property {Function} filterDir\r\n */\r\n\r\nconst arrify = (value = []) => Array.isArray(value) ? value : [value];\r\nconst flatten = (list, result = []) => {\r\n  list.forEach(item => {\r\n    if (Array.isArray(item)) {\r\n      flatten(item, result);\r\n    } else {\r\n      result.push(item);\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nconst unifyPaths = (paths_) => {\r\n  /**\r\n   * @type {Array<String>}\r\n   */\r\n  const paths = flatten(arrify(paths_));\r\n  if (!paths.every(p => typeof p === STRING_TYPE)) {\r\n    throw new TypeError(`Non-string provided as watch path: ${paths}`);\r\n  }\r\n  return paths.map(normalizePathToUnix);\r\n};\r\n\r\n// If SLASH_SLASH occurs at the beginning of path, it is not replaced\r\n//     because \"//StoragePC/DrivePool/Movies\" is a valid network path\r\nconst toUnix = (string) => {\r\n  let str = string.replace(BACK_SLASH_RE, SLASH);\r\n  let prepend = false;\r\n  if (str.startsWith(SLASH_SLASH)) {\r\n    prepend = true;\r\n  }\r\n  while (str.match(DOUBLE_SLASH_RE)) {\r\n    str = str.replace(DOUBLE_SLASH_RE, SLASH);\r\n  }\r\n  if (prepend) {\r\n    str = SLASH + str;\r\n  }\r\n  return str;\r\n};\r\n\r\n// Our version of upath.normalize\r\n// TODO: this is not equal to path-normalize module - investigate why\r\nconst normalizePathToUnix = (path) => toUnix(sysPath.normalize(toUnix(path)));\r\n\r\nconst normalizeIgnored = (cwd = EMPTY_STR) => (path) => {\r\n  if (typeof path !== STRING_TYPE) return path;\r\n  return normalizePathToUnix(sysPath.isAbsolute(path) ? path : sysPath.join(cwd, path));\r\n};\r\n\r\nconst getAbsolutePath = (path, cwd) => {\r\n  if (sysPath.isAbsolute(path)) {\r\n    return path;\r\n  }\r\n  if (path.startsWith(BANG)) {\r\n    return BANG + sysPath.join(cwd, path.slice(1));\r\n  }\r\n  return sysPath.join(cwd, path);\r\n};\r\n\r\nconst undef = (opts, key) => opts[key] === undefined;\r\n\r\n/**\r\n * Directory entry.\r\n * @property {Path} path\r\n * @property {Set<Path>} items\r\n */\r\nclass DirEntry {\r\n  /**\r\n   * @param {Path} dir\r\n   * @param {Function} removeWatcher\r\n   */\r\n  constructor(dir, removeWatcher) {\r\n    this.path = dir;\r\n    this._removeWatcher = removeWatcher;\r\n    /** @type {Set<Path>} */\r\n    this.items = new Set();\r\n  }\r\n\r\n  add(item) {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    if (item !== ONE_DOT && item !== TWO_DOTS) items.add(item);\r\n  }\r\n\r\n  async remove(item) {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    items.delete(item);\r\n    if (items.size > 0) return;\r\n\r\n    const dir = this.path;\r\n    try {\r\n      await readdir(dir);\r\n    } catch (err) {\r\n      if (this._removeWatcher) {\r\n        this._removeWatcher(sysPath.dirname(dir), sysPath.basename(dir));\r\n      }\r\n    }\r\n  }\r\n\r\n  has(item) {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    return items.has(item);\r\n  }\r\n\r\n  /**\r\n   * @returns {Array<String>}\r\n   */\r\n  getChildren() {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    return [...items.values()];\r\n  }\r\n\r\n  dispose() {\r\n    this.items.clear();\r\n    delete this.path;\r\n    delete this._removeWatcher;\r\n    delete this.items;\r\n    Object.freeze(this);\r\n  }\r\n}\r\n\r\nconst STAT_METHOD_F = 'stat';\r\nconst STAT_METHOD_L = 'lstat';\r\nclass WatchHelper {\r\n  constructor(path, watchPath, follow, fsw) {\r\n    this.fsw = fsw;\r\n    this.path = path = path.replace(REPLACER_RE, EMPTY_STR);\r\n    this.watchPath = watchPath;\r\n    this.fullWatchPath = sysPath.resolve(watchPath);\r\n    this.hasGlob = watchPath !== path;\r\n    /** @type {object|boolean} */\r\n    if (path === EMPTY_STR) this.hasGlob = false;\r\n    this.globSymlink = this.hasGlob && follow ? undefined : false;\r\n    this.globFilter = this.hasGlob ? anymatch(path, undefined, ANYMATCH_OPTS) : false;\r\n    this.dirParts = this.getDirParts(path);\r\n    this.dirParts.forEach((parts) => {\r\n      if (parts.length > 1) parts.pop();\r\n    });\r\n    this.followSymlinks = follow;\r\n    this.statMethod = follow ? STAT_METHOD_F : STAT_METHOD_L;\r\n  }\r\n\r\n  checkGlobSymlink(entry) {\r\n    // only need to resolve once\r\n    // first entry should always have entry.parentDir === EMPTY_STR\r\n    if (this.globSymlink === undefined) {\r\n      this.globSymlink = entry.fullParentDir === this.fullWatchPath ?\r\n        false : {realPath: entry.fullParentDir, linkPath: this.fullWatchPath};\r\n    }\r\n\r\n    if (this.globSymlink) {\r\n      return entry.fullPath.replace(this.globSymlink.realPath, this.globSymlink.linkPath);\r\n    }\r\n\r\n    return entry.fullPath;\r\n  }\r\n\r\n  entryPath(entry) {\r\n    return sysPath.join(this.watchPath,\r\n      sysPath.relative(this.watchPath, this.checkGlobSymlink(entry))\r\n    );\r\n  }\r\n\r\n  filterPath(entry) {\r\n    const {stats} = entry;\r\n    if (stats && stats.isSymbolicLink()) return this.filterDir(entry);\r\n    const resolvedPath = this.entryPath(entry);\r\n    const matchesGlob = this.hasGlob && typeof this.globFilter === FUNCTION_TYPE ?\r\n      this.globFilter(resolvedPath) : true;\r\n    return matchesGlob &&\r\n      this.fsw._isntIgnored(resolvedPath, stats) &&\r\n      this.fsw._hasReadPermissions(stats);\r\n  }\r\n\r\n  getDirParts(path) {\r\n    if (!this.hasGlob) return [];\r\n    const parts = [];\r\n    const expandedPath = path.includes(BRACE_START) ? braces.expand(path) : [path];\r\n    expandedPath.forEach((path) => {\r\n      parts.push(sysPath.relative(this.watchPath, path).split(SLASH_OR_BACK_SLASH_RE));\r\n    });\r\n    return parts;\r\n  }\r\n\r\n  filterDir(entry) {\r\n    if (this.hasGlob) {\r\n      const entryParts = this.getDirParts(this.checkGlobSymlink(entry));\r\n      let globstar = false;\r\n      this.unmatchedGlob = !this.dirParts.some((parts) => {\r\n        return parts.every((part, i) => {\r\n          if (part === GLOBSTAR) globstar = true;\r\n          return globstar || !entryParts[0][i] || anymatch(part, entryParts[0][i], ANYMATCH_OPTS);\r\n        });\r\n      });\r\n    }\r\n    return !this.unmatchedGlob && this.fsw._isntIgnored(this.entryPath(entry), entry.stats);\r\n  }\r\n}\r\n\r\n/**\r\n * Watches files & directories for changes. Emitted events:\r\n * `add`, `addDir`, `change`, `unlink`, `unlinkDir`, `all`, `error`\r\n *\r\n *     new FSWatcher()\r\n *       .add(directories)\r\n *       .on('add', path => log('File', path, 'was added'))\r\n */\r\nclass FSWatcher extends EventEmitter$2 {\r\n// Not indenting methods for history sake; for now.\r\nconstructor(_opts) {\r\n  super();\r\n\r\n  const opts = {};\r\n  if (_opts) Object.assign(opts, _opts); // for frozen objects\r\n\r\n  /** @type {Map<String, DirEntry>} */\r\n  this._watched = new Map();\r\n  /** @type {Map<String, Array>} */\r\n  this._closers = new Map();\r\n  /** @type {Set<String>} */\r\n  this._ignoredPaths = new Set();\r\n\r\n  /** @type {Map<ThrottleType, Map>} */\r\n  this._throttled = new Map();\r\n\r\n  /** @type {Map<Path, String|Boolean>} */\r\n  this._symlinkPaths = new Map();\r\n\r\n  this._streams = new Set();\r\n  this.closed = false;\r\n\r\n  // Set up default options.\r\n  if (undef(opts, 'persistent')) opts.persistent = true;\r\n  if (undef(opts, 'ignoreInitial')) opts.ignoreInitial = false;\r\n  if (undef(opts, 'ignorePermissionErrors')) opts.ignorePermissionErrors = false;\r\n  if (undef(opts, 'interval')) opts.interval = 100;\r\n  if (undef(opts, 'binaryInterval')) opts.binaryInterval = 300;\r\n  if (undef(opts, 'disableGlobbing')) opts.disableGlobbing = false;\r\n  opts.enableBinaryInterval = opts.binaryInterval !== opts.interval;\r\n\r\n  // Enable fsevents on OS X when polling isn't explicitly enabled.\r\n  if (undef(opts, 'useFsEvents')) opts.useFsEvents = !opts.usePolling;\r\n\r\n  // If we can't use fsevents, ensure the options reflect it's disabled.\r\n  const canUseFsEvents = FsEventsHandler.canUse();\r\n  if (!canUseFsEvents) opts.useFsEvents = false;\r\n\r\n  // Use polling on Mac if not using fsevents.\r\n  // Other platforms use non-polling fs_watch.\r\n  if (undef(opts, 'usePolling') && !opts.useFsEvents) {\r\n    opts.usePolling = isMacos;\r\n  }\r\n\r\n  // Always default to polling on IBM i because fs.watch() is not available on IBM i.\r\n  if(isIBMi) {\r\n    opts.usePolling = true;\r\n  }\r\n\r\n  // Global override (useful for end-developers that need to force polling for all\r\n  // instances of chokidar, regardless of usage/dependency depth)\r\n  const envPoll = process.env.CHOKIDAR_USEPOLLING;\r\n  if (envPoll !== undefined) {\r\n    const envLower = envPoll.toLowerCase();\r\n\r\n    if (envLower === 'false' || envLower === '0') {\r\n      opts.usePolling = false;\r\n    } else if (envLower === 'true' || envLower === '1') {\r\n      opts.usePolling = true;\r\n    } else {\r\n      opts.usePolling = !!envLower;\r\n    }\r\n  }\r\n  const envInterval = process.env.CHOKIDAR_INTERVAL;\r\n  if (envInterval) {\r\n    opts.interval = Number.parseInt(envInterval, 10);\r\n  }\r\n\r\n  // Editor atomic write normalization enabled by default with fs.watch\r\n  if (undef(opts, 'atomic')) opts.atomic = !opts.usePolling && !opts.useFsEvents;\r\n  if (opts.atomic) this._pendingUnlinks = new Map();\r\n\r\n  if (undef(opts, 'followSymlinks')) opts.followSymlinks = true;\r\n\r\n  if (undef(opts, 'awaitWriteFinish')) opts.awaitWriteFinish = false;\r\n  if (opts.awaitWriteFinish === true) opts.awaitWriteFinish = {};\r\n  const awf = opts.awaitWriteFinish;\r\n  if (awf) {\r\n    if (!awf.stabilityThreshold) awf.stabilityThreshold = 2000;\r\n    if (!awf.pollInterval) awf.pollInterval = 100;\r\n    this._pendingWrites = new Map();\r\n  }\r\n  if (opts.ignored) opts.ignored = arrify(opts.ignored);\r\n\r\n  let readyCalls = 0;\r\n  this._emitReady = () => {\r\n    readyCalls++;\r\n    if (readyCalls >= this._readyCount) {\r\n      this._emitReady = EMPTY_FN;\r\n      this._readyEmitted = true;\r\n      // use process.nextTick to allow time for listener to be bound\r\n      process.nextTick(() => this.emit(EV_READY));\r\n    }\r\n  };\r\n  this._emitRaw = (...args) => this.emit(EV_RAW, ...args);\r\n  this._readyEmitted = false;\r\n  this.options = opts;\r\n\r\n  // Initialize with proper watcher.\r\n  if (opts.useFsEvents) {\r\n    this._fsEventsHandler = new FsEventsHandler(this);\r\n  } else {\r\n    this._nodeFsHandler = new NodeFsHandler(this);\r\n  }\r\n\r\n  // You\u2019re frozen when your heart\u2019s not open.\r\n  Object.freeze(opts);\r\n}\r\n\r\n// Public methods\r\n\r\n/**\r\n * Adds paths to be watched on an existing FSWatcher instance\r\n * @param {Path|Array<Path>} paths_\r\n * @param {String=} _origAdd private; for handling non-existent paths to be watched\r\n * @param {Boolean=} _internal private; indicates a non-user add\r\n * @returns {FSWatcher} for chaining\r\n */\r\nadd(paths_, _origAdd, _internal) {\r\n  const {cwd, disableGlobbing} = this.options;\r\n  this.closed = false;\r\n  let paths = unifyPaths(paths_);\r\n  if (cwd) {\r\n    paths = paths.map((path) => {\r\n      const absPath = getAbsolutePath(path, cwd);\r\n\r\n      // Check `path` instead of `absPath` because the cwd portion can't be a glob\r\n      if (disableGlobbing || !isGlob(path)) {\r\n        return absPath;\r\n      }\r\n      return normalizePath(absPath);\r\n    });\r\n  }\r\n\r\n  // set aside negated glob strings\r\n  paths = paths.filter((path) => {\r\n    if (path.startsWith(BANG)) {\r\n      this._ignoredPaths.add(path.slice(1));\r\n      return false;\r\n    }\r\n\r\n    // if a path is being added that was previously ignored, stop ignoring it\r\n    this._ignoredPaths.delete(path);\r\n    this._ignoredPaths.delete(path + SLASH_GLOBSTAR);\r\n\r\n    // reset the cached userIgnored anymatch fn\r\n    // to make ignoredPaths changes effective\r\n    this._userIgnored = undefined;\r\n\r\n    return true;\r\n  });\r\n\r\n  if (this.options.useFsEvents && this._fsEventsHandler) {\r\n    if (!this._readyCount) this._readyCount = paths.length;\r\n    if (this.options.persistent) this._readyCount *= 2;\r\n    paths.forEach((path) => this._fsEventsHandler._addToFsEvents(path));\r\n  } else {\r\n    if (!this._readyCount) this._readyCount = 0;\r\n    this._readyCount += paths.length;\r\n    Promise.all(\r\n      paths.map(async path => {\r\n        const res = await this._nodeFsHandler._addToNodeFs(path, !_internal, 0, 0, _origAdd);\r\n        if (res) this._emitReady();\r\n        return res;\r\n      })\r\n    ).then(results => {\r\n      if (this.closed) return;\r\n      results.filter(item => item).forEach(item => {\r\n        this.add(sysPath.dirname(item), sysPath.basename(_origAdd || item));\r\n      });\r\n    });\r\n  }\r\n\r\n  return this;\r\n}\r\n\r\n/**\r\n * Close watchers or start ignoring events from specified paths.\r\n * @param {Path|Array<Path>} paths_ - string or array of strings, file/directory paths and/or globs\r\n * @returns {FSWatcher} for chaining\r\n*/\r\nunwatch(paths_) {\r\n  if (this.closed) return this;\r\n  const paths = unifyPaths(paths_);\r\n  const {cwd} = this.options;\r\n\r\n  paths.forEach((path) => {\r\n    // convert to absolute path unless relative path already matches\r\n    if (!sysPath.isAbsolute(path) && !this._closers.has(path)) {\r\n      if (cwd) path = sysPath.join(cwd, path);\r\n      path = sysPath.resolve(path);\r\n    }\r\n\r\n    this._closePath(path);\r\n\r\n    this._ignoredPaths.add(path);\r\n    if (this._watched.has(path)) {\r\n      this._ignoredPaths.add(path + SLASH_GLOBSTAR);\r\n    }\r\n\r\n    // reset the cached userIgnored anymatch fn\r\n    // to make ignoredPaths changes effective\r\n    this._userIgnored = undefined;\r\n  });\r\n\r\n  return this;\r\n}\r\n\r\n/**\r\n * Close watchers and remove all listeners from watched paths.\r\n * @returns {Promise<void>}.\r\n*/\r\nclose() {\r\n  if (this.closed) return this._closePromise;\r\n  this.closed = true;\r\n\r\n  // Memory management.\r\n  this.removeAllListeners();\r\n  const closers = [];\r\n  this._closers.forEach(closerList => closerList.forEach(closer => {\r\n    const promise = closer();\r\n    if (promise instanceof Promise) closers.push(promise);\r\n  }));\r\n  this._streams.forEach(stream => stream.destroy());\r\n  this._userIgnored = undefined;\r\n  this._readyCount = 0;\r\n  this._readyEmitted = false;\r\n  this._watched.forEach(dirent => dirent.dispose());\r\n  ['closers', 'watched', 'streams', 'symlinkPaths', 'throttled'].forEach(key => {\r\n    this[`_${key}`].clear();\r\n  });\r\n\r\n  this._closePromise = closers.length ? Promise.all(closers).then(() => undefined) : Promise.resolve();\r\n  return this._closePromise;\r\n}\r\n\r\n/**\r\n * Expose list of watched paths\r\n * @returns {Object} for chaining\r\n*/\r\ngetWatched() {\r\n  const watchList = {};\r\n  this._watched.forEach((entry, dir) => {\r\n    const key = this.options.cwd ? sysPath.relative(this.options.cwd, dir) : dir;\r\n    watchList[key || ONE_DOT] = entry.getChildren().sort();\r\n  });\r\n  return watchList;\r\n}\r\n\r\nemitWithAll(event, args) {\r\n  this.emit(...args);\r\n  if (event !== EV_ERROR) this.emit(EV_ALL, ...args);\r\n}\r\n\r\n// Common helpers\r\n// --------------\r\n\r\n/**\r\n * Normalize and emit events.\r\n * Calling _emit DOES NOT MEAN emit() would be called!\r\n * @param {EventName} event Type of event\r\n * @param {Path} path File or directory path\r\n * @param {*=} val1 arguments to be passed with event\r\n * @param {*=} val2\r\n * @param {*=} val3\r\n * @returns the error if defined, otherwise the value of the FSWatcher instance's `closed` flag\r\n */\r\nasync _emit(event, path, val1, val2, val3) {\r\n  if (this.closed) return;\r\n\r\n  const opts = this.options;\r\n  if (isWindows$1) path = sysPath.normalize(path);\r\n  if (opts.cwd) path = sysPath.relative(opts.cwd, path);\r\n  /** @type Array<any> */\r\n  const args = [event, path];\r\n  if (val3 !== undefined) args.push(val1, val2, val3);\r\n  else if (val2 !== undefined) args.push(val1, val2);\r\n  else if (val1 !== undefined) args.push(val1);\r\n\r\n  const awf = opts.awaitWriteFinish;\r\n  let pw;\r\n  if (awf && (pw = this._pendingWrites.get(path))) {\r\n    pw.lastChange = new Date();\r\n    return this;\r\n  }\r\n\r\n  if (opts.atomic) {\r\n    if (event === EV_UNLINK) {\r\n      this._pendingUnlinks.set(path, args);\r\n      setTimeout(() => {\r\n        this._pendingUnlinks.forEach((entry, path) => {\r\n          this.emit(...entry);\r\n          this.emit(EV_ALL, ...entry);\r\n          this._pendingUnlinks.delete(path);\r\n        });\r\n      }, typeof opts.atomic === 'number' ? opts.atomic : 100);\r\n      return this;\r\n    }\r\n    if (event === EV_ADD && this._pendingUnlinks.has(path)) {\r\n      event = args[0] = EV_CHANGE;\r\n      this._pendingUnlinks.delete(path);\r\n    }\r\n  }\r\n\r\n  if (awf && (event === EV_ADD || event === EV_CHANGE) && this._readyEmitted) {\r\n    const awfEmit = (err, stats) => {\r\n      if (err) {\r\n        event = args[0] = EV_ERROR;\r\n        args[1] = err;\r\n        this.emitWithAll(event, args);\r\n      } else if (stats) {\r\n        // if stats doesn't exist the file must have been deleted\r\n        if (args.length > 2) {\r\n          args[2] = stats;\r\n        } else {\r\n          args.push(stats);\r\n        }\r\n        this.emitWithAll(event, args);\r\n      }\r\n    };\r\n\r\n    this._awaitWriteFinish(path, awf.stabilityThreshold, event, awfEmit);\r\n    return this;\r\n  }\r\n\r\n  if (event === EV_CHANGE) {\r\n    const isThrottled = !this._throttle(EV_CHANGE, path, 50);\r\n    if (isThrottled) return this;\r\n  }\r\n\r\n  if (opts.alwaysStat && val1 === undefined &&\r\n    (event === EV_ADD || event === EV_ADD_DIR || event === EV_CHANGE)\r\n  ) {\r\n    const fullPath = opts.cwd ? sysPath.join(opts.cwd, path) : path;\r\n    let stats;\r\n    try {\r\n      stats = await stat(fullPath);\r\n    } catch (err) {}\r\n    // Suppress event when fs_stat fails, to avoid sending undefined 'stat'\r\n    if (!stats || this.closed) return;\r\n    args.push(stats);\r\n  }\r\n  this.emitWithAll(event, args);\r\n\r\n  return this;\r\n}\r\n\r\n/**\r\n * Common handler for errors\r\n * @param {Error} error\r\n * @returns {Error|Boolean} The error if defined, otherwise the value of the FSWatcher instance's `closed` flag\r\n */\r\n_handleError(error) {\r\n  const code = error && error.code;\r\n  if (error && code !== 'ENOENT' && code !== 'ENOTDIR' &&\r\n    (!this.options.ignorePermissionErrors || (code !== 'EPERM' && code !== 'EACCES'))\r\n  ) {\r\n    this.emit(EV_ERROR, error);\r\n  }\r\n  return error || this.closed;\r\n}\r\n\r\n/**\r\n * Helper utility for throttling\r\n * @param {ThrottleType} actionType type being throttled\r\n * @param {Path} path being acted upon\r\n * @param {Number} timeout duration of time to suppress duplicate actions\r\n * @returns {Object|false} tracking object or false if action should be suppressed\r\n */\r\n_throttle(actionType, path, timeout) {\r\n  if (!this._throttled.has(actionType)) {\r\n    this._throttled.set(actionType, new Map());\r\n  }\r\n\r\n  /** @type {Map<Path, Object>} */\r\n  const action = this._throttled.get(actionType);\r\n  /** @type {Object} */\r\n  const actionPath = action.get(path);\r\n\r\n  if (actionPath) {\r\n    actionPath.count++;\r\n    return false;\r\n  }\r\n\r\n  let timeoutObject;\r\n  const clear = () => {\r\n    const item = action.get(path);\r\n    const count = item ? item.count : 0;\r\n    action.delete(path);\r\n    clearTimeout(timeoutObject);\r\n    if (item) clearTimeout(item.timeoutObject);\r\n    return count;\r\n  };\r\n  timeoutObject = setTimeout(clear, timeout);\r\n  const thr = {timeoutObject, clear, count: 0};\r\n  action.set(path, thr);\r\n  return thr;\r\n}\r\n\r\n_incrReadyCount() {\r\n  return this._readyCount++;\r\n}\r\n\r\n/**\r\n * Awaits write operation to finish.\r\n * Polls a newly created file for size variations. When files size does not change for 'threshold' milliseconds calls callback.\r\n * @param {Path} path being acted upon\r\n * @param {Number} threshold Time in milliseconds a file size must be fixed before acknowledging write OP is finished\r\n * @param {EventName} event\r\n * @param {Function} awfEmit Callback to be called when ready for event to be emitted.\r\n */\r\n_awaitWriteFinish(path, threshold, event, awfEmit) {\r\n  let timeoutHandler;\r\n\r\n  let fullPath = path;\r\n  if (this.options.cwd && !sysPath.isAbsolute(path)) {\r\n    fullPath = sysPath.join(this.options.cwd, path);\r\n  }\r\n\r\n  const now = new Date();\r\n\r\n  const awaitWriteFinish = (prevStat) => {\r\n    fs$6.stat(fullPath, (err, curStat) => {\r\n      if (err || !this._pendingWrites.has(path)) {\r\n        if (err && err.code !== 'ENOENT') awfEmit(err);\r\n        return;\r\n      }\r\n\r\n      const now = Number(new Date());\r\n\r\n      if (prevStat && curStat.size !== prevStat.size) {\r\n        this._pendingWrites.get(path).lastChange = now;\r\n      }\r\n      const pw = this._pendingWrites.get(path);\r\n      const df = now - pw.lastChange;\r\n\r\n      if (df >= threshold) {\r\n        this._pendingWrites.delete(path);\r\n        awfEmit(undefined, curStat);\r\n      } else {\r\n        timeoutHandler = setTimeout(\r\n          awaitWriteFinish,\r\n          this.options.awaitWriteFinish.pollInterval,\r\n          curStat\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!this._pendingWrites.has(path)) {\r\n    this._pendingWrites.set(path, {\r\n      lastChange: now,\r\n      cancelWait: () => {\r\n        this._pendingWrites.delete(path);\r\n        clearTimeout(timeoutHandler);\r\n        return event;\r\n      }\r\n    });\r\n    timeoutHandler = setTimeout(\r\n      awaitWriteFinish,\r\n      this.options.awaitWriteFinish.pollInterval\r\n    );\r\n  }\r\n}\r\n\r\n_getGlobIgnored() {\r\n  return [...this._ignoredPaths.values()];\r\n}\r\n\r\n/**\r\n * Determines whether user has asked to ignore this path.\r\n * @param {Path} path filepath or dir\r\n * @param {fs.Stats=} stats result of fs.stat\r\n * @returns {Boolean}\r\n */\r\n_isIgnored(path, stats) {\r\n  if (this.options.atomic && DOT_RE.test(path)) return true;\r\n  if (!this._userIgnored) {\r\n    const {cwd} = this.options;\r\n    const ign = this.options.ignored;\r\n\r\n    const ignored = ign && ign.map(normalizeIgnored(cwd));\r\n    const paths = arrify(ignored)\r\n      .filter((path) => typeof path === STRING_TYPE && !isGlob(path))\r\n      .map((path) => path + SLASH_GLOBSTAR);\r\n    const list = this._getGlobIgnored().map(normalizeIgnored(cwd)).concat(ignored, paths);\r\n    this._userIgnored = anymatch(list, undefined, ANYMATCH_OPTS);\r\n  }\r\n\r\n  return this._userIgnored([path, stats]);\r\n}\r\n\r\n_isntIgnored(path, stat) {\r\n  return !this._isIgnored(path, stat);\r\n}\r\n\r\n/**\r\n * Provides a set of common helpers and properties relating to symlink and glob handling.\r\n * @param {Path} path file, directory, or glob pattern being watched\r\n * @param {Number=} depth at any depth > 0, this isn't a glob\r\n * @returns {WatchHelper} object containing helpers for this path\r\n */\r\n_getWatchHelpers(path, depth) {\r\n  const watchPath = depth || this.options.disableGlobbing || !isGlob(path) ? path : globParent(path);\r\n  const follow = this.options.followSymlinks;\r\n\r\n  return new WatchHelper(path, watchPath, follow, this);\r\n}\r\n\r\n// Directory helpers\r\n// -----------------\r\n\r\n/**\r\n * Provides directory tracking objects\r\n * @param {String} directory path of the directory\r\n * @returns {DirEntry} the directory's tracking object\r\n */\r\n_getWatchedDir(directory) {\r\n  if (!this._boundRemove) this._boundRemove = this._remove.bind(this);\r\n  const dir = sysPath.resolve(directory);\r\n  if (!this._watched.has(dir)) this._watched.set(dir, new DirEntry(dir, this._boundRemove));\r\n  return this._watched.get(dir);\r\n}\r\n\r\n// File helpers\r\n// ------------\r\n\r\n/**\r\n * Check for read permissions.\r\n * Based on this answer on SO: https://stackoverflow.com/a/11781404/1358405\r\n * @param {fs.Stats} stats - object, result of fs_stat\r\n * @returns {Boolean} indicates whether the file can be read\r\n*/\r\n_hasReadPermissions(stats) {\r\n  if (this.options.ignorePermissionErrors) return true;\r\n\r\n  // stats.mode may be bigint\r\n  const md = stats && Number.parseInt(stats.mode, 10);\r\n  const st = md & 0o777;\r\n  const it = Number.parseInt(st.toString(8)[0], 10);\r\n  return Boolean(4 & it);\r\n}\r\n\r\n/**\r\n * Handles emitting unlink events for\r\n * files and directories, and via recursion, for\r\n * files and directories within directories that are unlinked\r\n * @param {String} directory within which the following item is located\r\n * @param {String} item      base path of item/directory\r\n * @returns {void}\r\n*/\r\n_remove(directory, item, isDirectory) {\r\n  // if what is being deleted is a directory, get that directory's paths\r\n  // for recursive deleting and cleaning of watched object\r\n  // if it is not a directory, nestedDirectoryChildren will be empty array\r\n  const path = sysPath.join(directory, item);\r\n  const fullPath = sysPath.resolve(path);\r\n  isDirectory = isDirectory != null\r\n    ? isDirectory\r\n    : this._watched.has(path) || this._watched.has(fullPath);\r\n\r\n  // prevent duplicate handling in case of arriving here nearly simultaneously\r\n  // via multiple paths (such as _handleFile and _handleDir)\r\n  if (!this._throttle('remove', path, 100)) return;\r\n\r\n  // if the only watched file is removed, watch for its return\r\n  if (!isDirectory && !this.options.useFsEvents && this._watched.size === 1) {\r\n    this.add(directory, item, true);\r\n  }\r\n\r\n  // This will create a new entry in the watched object in either case\r\n  // so we got to do the directory check beforehand\r\n  const wp = this._getWatchedDir(path);\r\n  const nestedDirectoryChildren = wp.getChildren();\r\n\r\n  // Recursively remove children directories / files.\r\n  nestedDirectoryChildren.forEach(nested => this._remove(path, nested));\r\n\r\n  // Check if item was on the watched list and remove it\r\n  const parent = this._getWatchedDir(directory);\r\n  const wasTracked = parent.has(item);\r\n  parent.remove(item);\r\n\r\n  // Fixes issue #1042 -> Relative paths were detected and added as symlinks\r\n  // (https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L612),\r\n  // but never removed from the map in case the path was deleted.\r\n  // This leads to an incorrect state if the path was recreated:\r\n  // https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L553\r\n  if (this._symlinkPaths.has(fullPath)) {\r\n    this._symlinkPaths.delete(fullPath);\r\n  }\r\n\r\n  // If we wait for this file to be fully written, cancel the wait.\r\n  let relPath = path;\r\n  if (this.options.cwd) relPath = sysPath.relative(this.options.cwd, path);\r\n  if (this.options.awaitWriteFinish && this._pendingWrites.has(relPath)) {\r\n    const event = this._pendingWrites.get(relPath).cancelWait();\r\n    if (event === EV_ADD) return;\r\n  }\r\n\r\n  // The Entry will either be a directory that just got removed\r\n  // or a bogus entry to a file, in either case we have to remove it\r\n  this._watched.delete(path);\r\n  this._watched.delete(fullPath);\r\n  const eventName = isDirectory ? EV_UNLINK_DIR : EV_UNLINK;\r\n  if (wasTracked && !this._isIgnored(path)) this._emit(eventName, path);\r\n\r\n  // Avoid conflicts if we later create another file with the same name\r\n  if (!this.options.useFsEvents) {\r\n    this._closePath(path);\r\n  }\r\n}\r\n\r\n/**\r\n * Closes all watchers for a path\r\n * @param {Path} path\r\n */\r\n_closePath(path) {\r\n  this._closeFile(path);\r\n  const dir = sysPath.dirname(path);\r\n  this._getWatchedDir(dir).remove(sysPath.basename(path));\r\n}\r\n\r\n/**\r\n * Closes only file-specific watchers\r\n * @param {Path} path\r\n */\r\n_closeFile(path) {\r\n  const closers = this._closers.get(path);\r\n  if (!closers) return;\r\n  closers.forEach(closer => closer());\r\n  this._closers.delete(path);\r\n}\r\n\r\n/**\r\n *\r\n * @param {Path} path\r\n * @param {Function} closer\r\n */\r\n_addPathCloser(path, closer) {\r\n  if (!closer) return;\r\n  let list = this._closers.get(path);\r\n  if (!list) {\r\n    list = [];\r\n    this._closers.set(path, list);\r\n  }\r\n  list.push(closer);\r\n}\r\n\r\n_readdirp(root, opts) {\r\n  if (this.closed) return;\r\n  const options = {type: EV_ALL, alwaysStat: true, lstat: true, ...opts};\r\n  let stream = readdirp(root, options);\r\n  this._streams.add(stream);\r\n  stream.once(STR_CLOSE, () => {\r\n    stream = undefined;\r\n  });\r\n  stream.once(STR_END, () => {\r\n    if (stream) {\r\n      this._streams.delete(stream);\r\n      stream = undefined;\r\n    }\r\n  });\r\n  return stream;\r\n}\r\n\r\n}\r\n\r\n// Export FSWatcher class\r\nchokidar.FSWatcher = FSWatcher;\r\n\r\n/**\r\n * Instantiates watcher with paths to be tracked.\r\n * @param {String|Array<String>} paths file/directory paths and/or globs\r\n * @param {Object=} options chokidar opts\r\n * @returns an instance of FSWatcher for chaining.\r\n */\r\nconst watch = (paths, options) => {\r\n  const watcher = new FSWatcher(options);\r\n  watcher.add(paths);\r\n  return watcher;\r\n};\r\n\r\nchokidar.watch = watch;\r\n\r\nvar shellQuote$1 = {};\r\n\r\nshellQuote$1.quote = function (xs) {\r\n    return xs.map(function (s) {\r\n        if (s && typeof s === 'object') {\r\n            return s.op.replace(/(.)/g, '\\\\$1');\r\n        }\r\n        else if (/[\"\\s]/.test(s) && !/'/.test(s)) {\r\n            return \"'\" + s.replace(/(['\\\\])/g, '\\\\$1') + \"'\";\r\n        }\r\n        else if (/[\"'\\s]/.test(s)) {\r\n            return '\"' + s.replace(/([\"\\\\$`!])/g, '\\\\$1') + '\"';\r\n        }\r\n        else {\r\n            return String(s).replace(/([A-Za-z]:)?([#!\"$&'()*,:;<=>?@\\[\\\\\\]^`{|}])/g, '$1\\\\$2');\r\n        }\r\n    }).join(' ');\r\n};\r\n\r\n// '<(' is process substitution operator and\r\n// can be parsed the same as control operator\r\nvar CONTROL = '(?:' + [\r\n    '\\\\|\\\\|', '\\\\&\\\\&', ';;', '\\\\|\\\\&', '\\\\<\\\\(', '>>', '>\\\\&', '[&;()|<>]'\r\n].join('|') + ')';\r\nvar META = '|&;()<> \\\\t';\r\nvar BAREWORD = '(\\\\\\\\[\\'\"' + META + ']|[^\\\\s\\'\"' + META + '])+';\r\nvar SINGLE_QUOTE = '\"((\\\\\\\\\"|[^\"])*?)\"';\r\nvar DOUBLE_QUOTE = '\\'((\\\\\\\\\\'|[^\\'])*?)\\'';\r\n\r\nvar TOKEN = '';\r\nfor (var i = 0; i < 4; i++) {\r\n    TOKEN += (Math.pow(16,8)*Math.random()).toString(16);\r\n}\r\n\r\nshellQuote$1.parse = function (s, env, opts) {\r\n    var mapped = parse$7(s, env, opts);\r\n    if (typeof env !== 'function') return mapped;\r\n    return mapped.reduce(function (acc, s) {\r\n        if (typeof s === 'object') return acc.concat(s);\r\n        var xs = s.split(RegExp('(' + TOKEN + '.*?' + TOKEN + ')', 'g'));\r\n        if (xs.length === 1) return acc.concat(xs[0]);\r\n        return acc.concat(xs.filter(Boolean).map(function (x) {\r\n            if (RegExp('^' + TOKEN).test(x)) {\r\n                return JSON.parse(x.split(TOKEN)[1]);\r\n            }\r\n            else return x;\r\n        }));\r\n    }, []);\r\n};\r\n\r\nfunction parse$7 (s, env, opts) {\r\n    var chunker = new RegExp([\r\n        '(' + CONTROL + ')', // control chars\r\n        '(' + BAREWORD + '|' + SINGLE_QUOTE + '|' + DOUBLE_QUOTE + ')*'\r\n    ].join('|'), 'g');\r\n    var match = s.match(chunker).filter(Boolean);\r\n    var commented = false;\r\n\r\n    if (!match) return [];\r\n    if (!env) env = {};\r\n    if (!opts) opts = {};\r\n    return match.map(function (s, j) {\r\n        if (commented) {\r\n            return;\r\n        }\r\n        if (RegExp('^' + CONTROL + '$').test(s)) {\r\n            return { op: s };\r\n        }\r\n\r\n        // Hand-written scanner/parser for Bash quoting rules:\r\n        //\r\n        //  1. inside single quotes, all characters are printed literally.\r\n        //  2. inside double quotes, all characters are printed literally\r\n        //     except variables prefixed by '$' and backslashes followed by\r\n        //     either a double quote or another backslash.\r\n        //  3. outside of any quotes, backslashes are treated as escape\r\n        //     characters and not printed (unless they are themselves escaped)\r\n        //  4. quote context can switch mid-token if there is no whitespace\r\n        //     between the two quote contexts (e.g. all'one'\"token\" parses as\r\n        //     \"allonetoken\")\r\n        var SQ = \"'\";\r\n        var DQ = '\"';\r\n        var DS = '$';\r\n        var BS = opts.escape || '\\\\';\r\n        var quote = false;\r\n        var esc = false;\r\n        var out = '';\r\n        var isGlob = false;\r\n\r\n        for (var i = 0, len = s.length; i < len; i++) {\r\n            var c = s.charAt(i);\r\n            isGlob = isGlob || (!quote && (c === '*' || c === '?'));\r\n            if (esc) {\r\n                out += c;\r\n                esc = false;\r\n            }\r\n            else if (quote) {\r\n                if (c === quote) {\r\n                    quote = false;\r\n                }\r\n                else if (quote == SQ) {\r\n                    out += c;\r\n                }\r\n                else { // Double quote\r\n                    if (c === BS) {\r\n                        i += 1;\r\n                        c = s.charAt(i);\r\n                        if (c === DQ || c === BS || c === DS) {\r\n                            out += c;\r\n                        } else {\r\n                            out += BS + c;\r\n                        }\r\n                    }\r\n                    else if (c === DS) {\r\n                        out += parseEnvVar();\r\n                    }\r\n                    else {\r\n                        out += c;\r\n                    }\r\n                }\r\n            }\r\n            else if (c === DQ || c === SQ) {\r\n                quote = c;\r\n            }\r\n            else if (RegExp('^' + CONTROL + '$').test(c)) {\r\n                return { op: s };\r\n            }\r\n            else if (RegExp('^#$').test(c)) {\r\n                commented = true;\r\n                if (out.length){\r\n                    return [out, { comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\r\n                }\r\n                return [{ comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\r\n            }\r\n            else if (c === BS) {\r\n                esc = true;\r\n            }\r\n            else if (c === DS) {\r\n                out += parseEnvVar();\r\n            }\r\n            else out += c;\r\n        }\r\n\r\n        if (isGlob) return {op: 'glob', pattern: out};\r\n\r\n        return out;\r\n\r\n        function parseEnvVar() {\r\n            i += 1;\r\n            var varend, varname;\r\n            //debugger\r\n            if (s.charAt(i) === '{') {\r\n                i += 1;\r\n                if (s.charAt(i) === '}') {\r\n                    throw new Error(\"Bad substitution: \" + s.substr(i - 2, 3));\r\n                }\r\n                varend = s.indexOf('}', i);\r\n                if (varend < 0) {\r\n                    throw new Error(\"Bad substitution: \" + s.substr(i));\r\n                }\r\n                varname = s.substr(i, varend - i);\r\n                i = varend;\r\n            }\r\n            else if (/[*@#?$!_\\-]/.test(s.charAt(i))) {\r\n                varname = s.charAt(i);\r\n                i += 1;\r\n            }\r\n            else {\r\n                varend = s.substr(i).match(/[^\\w\\d_]/);\r\n                if (!varend) {\r\n                    varname = s.substr(i);\r\n                    i = s.length;\r\n                } else {\r\n                    varname = s.substr(i, varend.index);\r\n                    i += varend.index - 1;\r\n                }\r\n            }\r\n            return getVar(null, '', varname);\r\n        }\r\n    })\r\n    // finalize parsed aruments\r\n    .reduce(function(prev, arg){\r\n        if (arg === undefined){\r\n            return prev;\r\n        }\r\n        return prev.concat(arg);\r\n    },[]);\r\n\r\n    function getVar (_, pre, key) {\r\n        var r = typeof env === 'function' ? env(key) : env[key];\r\n        if (r === undefined && key != '')\r\n            r = '';\r\n        else if (r === undefined)\r\n            r = '$';\r\n\r\n        if (typeof r === 'object') {\r\n            return pre + TOKEN + JSON.stringify(r) + TOKEN;\r\n        }\r\n        else return pre + r;\r\n    }\r\n}\r\n\r\nvar osx = {\r\n  '/Applications/Atom.app/Contents/MacOS/Atom': 'atom',\r\n  '/Applications/Atom Beta.app/Contents/MacOS/Atom Beta':\r\n    '/Applications/Atom Beta.app/Contents/MacOS/Atom Beta',\r\n  '/Applications/Brackets.app/Contents/MacOS/Brackets': 'brackets',\r\n  '/Applications/Sublime Text.app/Contents/MacOS/Sublime Text':\r\n    '/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Sublime Text.app/Contents/MacOS/sublime_text':\r\n    '/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Sublime Text 2.app/Contents/MacOS/Sublime Text 2':\r\n    '/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Sublime Text Dev.app/Contents/MacOS/Sublime Text':\r\n    '/Applications/Sublime Text Dev.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Visual Studio Code.app/Contents/MacOS/Electron': 'code',\r\n  '/Applications/Visual Studio Code - Insiders.app/Contents/MacOS/Electron':\r\n    'code-insiders',\r\n  '/Applications/AppCode.app/Contents/MacOS/appcode':\r\n    '/Applications/AppCode.app/Contents/MacOS/appcode',\r\n  '/Applications/CLion.app/Contents/MacOS/clion':\r\n    '/Applications/CLion.app/Contents/MacOS/clion',\r\n  '/Applications/IntelliJ IDEA.app/Contents/MacOS/idea':\r\n    '/Applications/IntelliJ IDEA.app/Contents/MacOS/idea',\r\n  '/Applications/PhpStorm.app/Contents/MacOS/phpstorm':\r\n    '/Applications/PhpStorm.app/Contents/MacOS/phpstorm',\r\n  '/Applications/PyCharm.app/Contents/MacOS/pycharm':\r\n    '/Applications/PyCharm.app/Contents/MacOS/pycharm',\r\n  '/Applications/PyCharm CE.app/Contents/MacOS/pycharm':\r\n    '/Applications/PyCharm CE.app/Contents/MacOS/pycharm',\r\n  '/Applications/RubyMine.app/Contents/MacOS/rubymine':\r\n    '/Applications/RubyMine.app/Contents/MacOS/rubymine',\r\n  '/Applications/WebStorm.app/Contents/MacOS/webstorm':\r\n    '/Applications/WebStorm.app/Contents/MacOS/webstorm'\r\n};\r\n\r\nvar linux = {\r\n  atom: 'atom',\r\n  Brackets: 'brackets',\r\n  code: 'code',\r\n  emacs: 'emacs',\r\n  'idea.sh': 'idea',\r\n  'phpstorm.sh': 'phpstorm',\r\n  'pycharm.sh': 'pycharm',\r\n  'rubymine.sh': 'rubymine',\r\n  sublime_text: 'subl',\r\n  vim: 'vim',\r\n  'webstorm.sh': 'webstorm'\r\n};\r\n\r\nvar windows$1 = [\r\n  'Brackets.exe',\r\n  'Code.exe',\r\n  'atom.exe',\r\n  'sublime_text.exe',\r\n  'notepad++.exe',\r\n  'clion.exe',\r\n  'clion64.exe',\r\n  'idea.exe',\r\n  'idea64.exe',\r\n  'phpstorm.exe',\r\n  'phpstorm64.exe',\r\n  'pycharm.exe',\r\n  'pycharm64.exe',\r\n  'rubymine.exe',\r\n  'rubymine64.exe',\r\n  'webstorm.exe',\r\n  'webstorm64.exe'\r\n];\r\n\r\nconst path$8 = require$$0$4;\r\nconst shellQuote = shellQuote$1;\r\nconst childProcess$2 = require$$2;\r\n\r\n// Map from full process name to binary that starts the process\r\n// We can't just re-use full process name, because it will spawn a new instance\r\n// of the app every time\r\nconst COMMON_EDITORS_OSX = osx;\r\nconst COMMON_EDITORS_LINUX = linux;\r\nconst COMMON_EDITORS_WIN = windows$1;\r\n\r\nvar guess = function guessEditor (specifiedEditor) {\r\n  if (specifiedEditor) {\r\n    return shellQuote.parse(specifiedEditor)\r\n  }\r\n\r\n  if (process.versions.webcontainer) {\r\n    return [process.env.EDITOR || 'code']\r\n  }\r\n\r\n  // We can find out which editor is currently running by:\r\n  // `ps x` on macOS and Linux\r\n  // `Get-Process` on Windows\r\n  try {\r\n    if (process.platform === 'darwin') {\r\n      const output = childProcess$2\r\n        .execSync('ps x -o comm=', {\r\n          stdio: ['pipe', 'pipe', 'ignore']\r\n        })\r\n        .toString();\r\n      const processNames = Object.keys(COMMON_EDITORS_OSX);\r\n      const processList = output.split('\\n');\r\n      for (let i = 0; i < processNames.length; i++) {\r\n        const processName = processNames[i];\r\n        // Find editor by exact match.\r\n        if (output.indexOf(processName) !== -1) {\r\n          return [COMMON_EDITORS_OSX[processName]]\r\n        }\r\n        const processNameWithoutApplications = processName.replace('/Applications', '');\r\n        // Find editor installation not in /Applications.\r\n        if (output.indexOf(processNameWithoutApplications) !== -1) {\r\n          // Use the CLI command if one is specified\r\n          if (processName !== COMMON_EDITORS_OSX[processName]) {\r\n            return [COMMON_EDITORS_OSX[processName]]\r\n          }\r\n          // Use a partial match to find the running process path.  If one is found, use the\r\n          // existing path since it can be running from anywhere.\r\n          const runningProcess = processList.find((procName) => procName.endsWith(processNameWithoutApplications));\r\n          if (runningProcess !== undefined) {\r\n            return [runningProcess]\r\n          }\r\n        }\r\n      }\r\n    } else if (process.platform === 'win32') {\r\n      const output = childProcess$2\r\n        .execSync(\r\n          'powershell -NoProfile -Command \"Get-CimInstance -Query \\\\\"select executablepath from win32_process where executablepath is not null\\\\\" | % { $_.ExecutablePath }\"',\r\n          {\r\n            stdio: ['pipe', 'pipe', 'ignore']\r\n          }\r\n        )\r\n        .toString();\r\n      const runningProcesses = output.split('\\r\\n');\r\n      for (let i = 0; i < runningProcesses.length; i++) {\r\n        const fullProcessPath = runningProcesses[i].trim();\r\n        const shortProcessName = path$8.basename(fullProcessPath);\r\n\r\n        if (COMMON_EDITORS_WIN.indexOf(shortProcessName) !== -1) {\r\n          return [fullProcessPath]\r\n        }\r\n      }\r\n    } else if (process.platform === 'linux') {\r\n      // --no-heading No header line\r\n      // x List all processes owned by you\r\n      // -o comm Need only names column\r\n      const output = childProcess$2\r\n        .execSync('ps x --no-heading -o comm --sort=comm', {\r\n          stdio: ['pipe', 'pipe', 'ignore']\r\n        })\r\n        .toString();\r\n      const processNames = Object.keys(COMMON_EDITORS_LINUX);\r\n      for (let i = 0; i < processNames.length; i++) {\r\n        const processName = processNames[i];\r\n        if (output.indexOf(processName) !== -1) {\r\n          return [COMMON_EDITORS_LINUX[processName]]\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    // Ignore...\r\n  }\r\n\r\n  // Last resort, use old skool env vars\r\n  if (process.env.VISUAL) {\r\n    return [process.env.VISUAL]\r\n  } else if (process.env.EDITOR) {\r\n    return [process.env.EDITOR]\r\n  }\r\n\r\n  return [null]\r\n};\r\n\r\nconst path$7 = require$$0$4;\r\n\r\n// normalize file/line numbers into command line args for specific editors\r\nvar getArgs = function getArgumentsForPosition (\r\n  editor,\r\n  fileName,\r\n  lineNumber,\r\n  columnNumber = 1\r\n) {\r\n  const editorBasename = path$7.basename(editor).replace(/\\.(exe|cmd|bat)$/i, '');\r\n  switch (editorBasename) {\r\n    case 'atom':\r\n    case 'Atom':\r\n    case 'Atom Beta':\r\n    case 'subl':\r\n    case 'sublime':\r\n    case 'sublime_text':\r\n    case 'wstorm':\r\n    case 'charm':\r\n      return [`${fileName}:${lineNumber}:${columnNumber}`]\r\n    case 'notepad++':\r\n      return ['-n' + lineNumber, fileName]\r\n    case 'vim':\r\n    case 'mvim':\r\n      return [`+call cursor(${lineNumber}, ${columnNumber})`, fileName]\r\n    case 'joe':\r\n      return ['+' + `${lineNumber}`, fileName]\r\n    case 'emacs':\r\n    case 'emacsclient':\r\n      return [`+${lineNumber}:${columnNumber}`, fileName]\r\n    case 'rmate':\r\n    case 'mate':\r\n    case 'mine':\r\n      return ['--line', lineNumber, fileName]\r\n    case 'code':\r\n    case 'code-insiders':\r\n    case 'Code':\r\n    case 'codium':\r\n      return ['-r', '-g', `${fileName}:${lineNumber}:${columnNumber}`]\r\n    case 'appcode':\r\n    case 'clion':\r\n    case 'clion64':\r\n    case 'idea':\r\n    case 'idea64':\r\n    case 'phpstorm':\r\n    case 'phpstorm64':\r\n    case 'pycharm':\r\n    case 'pycharm64':\r\n    case 'rubymine':\r\n    case 'rubymine64':\r\n    case 'webstorm':\r\n    case 'webstorm64':\r\n      return ['--line', lineNumber, '--column', columnNumber, fileName]\r\n  }\r\n\r\n  // For all others, drop the lineNumber until we have\r\n  // a mapping above, since providing the lineNumber incorrectly\r\n  // can result in errors or confusing behavior.\r\n  return [fileName]\r\n};\r\n\r\n/**\r\n * Copyright (c) 2015-present, Facebook, Inc.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file at\r\n * https://github.com/facebookincubator/create-react-app/blob/master/LICENSE\r\n *\r\n * Modified by Yuxi Evan You\r\n */\r\n\r\nconst fs$5 = require$$0__default;\r\nconst os$2 = require$$1;\r\nconst path$6 = require$$0$4;\r\nconst colors = picocolors.exports;\r\nconst childProcess$1 = require$$2;\r\n\r\nconst guessEditor = guess;\r\nconst getArgumentsForPosition = getArgs;\r\n\r\nfunction wrapErrorCallback (cb) {\r\n  return (fileName, errorMessage) => {\r\n    console.log();\r\n    console.log(\r\n      colors.red('Could not open ' + path$6.basename(fileName) + ' in the editor.')\r\n    );\r\n    if (errorMessage) {\r\n      if (errorMessage[errorMessage.length - 1] !== '.') {\r\n        errorMessage += '.';\r\n      }\r\n      console.log(\r\n        colors.red('The editor process exited with an error: ' + errorMessage)\r\n      );\r\n    }\r\n    console.log();\r\n    if (cb) cb(fileName, errorMessage);\r\n  }\r\n}\r\n\r\nfunction isTerminalEditor (editor) {\r\n  switch (editor) {\r\n    case 'vim':\r\n    case 'emacs':\r\n    case 'nano':\r\n      return true\r\n  }\r\n  return false\r\n}\r\n\r\nconst positionRE = /:(\\d+)(:(\\d+))?$/;\r\nfunction parseFile (file) {\r\n  const fileName = file.replace(positionRE, '');\r\n  const match = file.match(positionRE);\r\n  const lineNumber = match && match[1];\r\n  const columnNumber = match && match[3];\r\n  return {\r\n    fileName,\r\n    lineNumber,\r\n    columnNumber\r\n  }\r\n}\r\n\r\nlet _childProcess = null;\r\n\r\nfunction launchEditor (file, specifiedEditor, onErrorCallback) {\r\n  const parsed = parseFile(file);\r\n  let { fileName } = parsed;\r\n  const { lineNumber, columnNumber } = parsed;\r\n\r\n  if (!fs$5.existsSync(fileName)) {\r\n    return\r\n  }\r\n\r\n  if (typeof specifiedEditor === 'function') {\r\n    onErrorCallback = specifiedEditor;\r\n    specifiedEditor = undefined;\r\n  }\r\n\r\n  onErrorCallback = wrapErrorCallback(onErrorCallback);\r\n\r\n  const [editor, ...args] = guessEditor(specifiedEditor);\r\n  if (!editor) {\r\n    onErrorCallback(fileName, null);\r\n    return\r\n  }\r\n\r\n  if (\r\n    process.platform === 'linux' &&\r\n    fileName.startsWith('/mnt/') &&\r\n    /Microsoft/i.test(os$2.release())\r\n  ) {\r\n    // Assume WSL / \"Bash on Ubuntu on Windows\" is being used, and\r\n    // that the file exists on the Windows file system.\r\n    // `os.release()` is \"4.4.0-43-Microsoft\" in the current release\r\n    // build of WSL, see: https://github.com/Microsoft/BashOnWindows/issues/423#issuecomment-221627364\r\n    // When a Windows editor is specified, interop functionality can\r\n    // handle the path translation, but only if a relative path is used.\r\n    fileName = path$6.relative('', fileName);\r\n  }\r\n\r\n  if (lineNumber) {\r\n    const extraArgs = getArgumentsForPosition(editor, fileName, lineNumber, columnNumber);\r\n    args.push.apply(args, extraArgs);\r\n  } else {\r\n    args.push(fileName);\r\n  }\r\n\r\n  if (_childProcess && isTerminalEditor(editor)) {\r\n    // There's an existing editor process already and it's attached\r\n    // to the terminal, so go kill it. Otherwise two separate editor\r\n    // instances attach to the stdin/stdout which gets confusing.\r\n    _childProcess.kill('SIGKILL');\r\n  }\r\n\r\n  if (process.platform === 'win32') {\r\n    // On Windows, launch the editor in a shell because spawn can only\r\n    // launch .exe files.\r\n    _childProcess = childProcess$1.spawn(\r\n      'cmd.exe',\r\n      ['/C', editor].concat(args),\r\n      { stdio: 'inherit' }\r\n    );\r\n  } else {\r\n    _childProcess = childProcess$1.spawn(editor, args, { stdio: 'inherit' });\r\n  }\r\n  _childProcess.on('exit', function (errorCode) {\r\n    _childProcess = null;\r\n\r\n    if (errorCode) {\r\n      onErrorCallback(fileName, '(code ' + errorCode + ')');\r\n    }\r\n  });\r\n\r\n  _childProcess.on('error', function (error) {\r\n    onErrorCallback(fileName, error.message);\r\n  });\r\n}\r\n\r\nvar launchEditor_1 = launchEditor;\r\n\r\nconst url$2 = require$$0$9;\r\nconst path$5 = require$$0$4;\r\nconst launch = launchEditor_1;\r\n\r\nvar launchEditorMiddleware = (specifiedEditor, srcRoot, onErrorCallback) => {\r\n  if (typeof specifiedEditor === 'function') {\r\n    onErrorCallback = specifiedEditor;\r\n    specifiedEditor = undefined;\r\n  }\r\n\r\n  if (typeof srcRoot === 'function') {\r\n    onErrorCallback = srcRoot;\r\n    srcRoot = undefined;\r\n  }\r\n\r\n  srcRoot = srcRoot || process.cwd();\r\n\r\n  return function launchEditorMiddleware (req, res, next) {\r\n    const { file } = url$2.parse(req.url, true).query || {};\r\n    if (!file) {\r\n      res.statusCode = 500;\r\n      res.end(`launch-editor-middleware: required query param \"file\" is missing.`);\r\n    } else {\r\n      launch(path$5.resolve(srcRoot, file), specifiedEditor, onErrorCallback);\r\n      res.end();\r\n    }\r\n  }\r\n};\r\n\r\nasync function resolveHttpServer({ proxy }, app, httpsOptions) {\r\n    if (!httpsOptions) {\r\n        const { createServer } = await import('node:http');\r\n        return createServer(app);\r\n    }\r\n    // #484 fallback to http1 when proxy is needed.\r\n    if (proxy) {\r\n        const { createServer } = await import('node:https');\r\n        return createServer(httpsOptions, app);\r\n    }\r\n    else {\r\n        const { createSecureServer } = await import('node:http2');\r\n        return createSecureServer({\r\n            // Manually increase the session memory to prevent 502 ENHANCE_YOUR_CALM\r\n            // errors on large numbers of requests\r\n            maxSessionMemory: 1000,\r\n            ...httpsOptions,\r\n            allowHTTP1: true\r\n        }, \r\n        // @ts-expect-error TODO: is this correct?\r\n        app);\r\n    }\r\n}\r\nasync function resolveHttpsConfig(https, cacheDir) {\r\n    if (!https)\r\n        return undefined;\r\n    const httpsOption = isObject$2(https) ? { ...https } : {};\r\n    const { ca, cert, key, pfx } = httpsOption;\r\n    Object.assign(httpsOption, {\r\n        ca: readFileIfExists(ca),\r\n        cert: readFileIfExists(cert),\r\n        key: readFileIfExists(key),\r\n        pfx: readFileIfExists(pfx)\r\n    });\r\n    return httpsOption;\r\n}\r\nfunction readFileIfExists(value) {\r\n    if (typeof value === 'string') {\r\n        try {\r\n            return fs$l.readFileSync(path$n.resolve(value));\r\n        }\r\n        catch (e) {\r\n            return value;\r\n        }\r\n    }\r\n    return value;\r\n}\r\nasync function httpServerStart(httpServer, serverOptions) {\r\n    let { port, strictPort, host, logger } = serverOptions;\r\n    return new Promise((resolve, reject) => {\r\n        const onError = (e) => {\r\n            if (e.code === 'EADDRINUSE') {\r\n                if (strictPort) {\r\n                    httpServer.removeListener('error', onError);\r\n                    reject(new Error(`Port ${port} is already in use`));\r\n                }\r\n                else {\r\n                    logger.info(`Port ${port} is in use, trying another one...`);\r\n                    httpServer.listen(++port, host);\r\n                }\r\n            }\r\n            else {\r\n                httpServer.removeListener('error', onError);\r\n                reject(e);\r\n            }\r\n        };\r\n        httpServer.on('error', onError);\r\n        httpServer.listen(port, host, () => {\r\n            httpServer.removeListener('error', onError);\r\n            resolve(port);\r\n        });\r\n    });\r\n}\r\nfunction setClientErrorHandler(server, logger) {\r\n    server.on('clientError', (err, socket) => {\r\n        if (err.code === 'HPE_HEADER_OVERFLOW') {\r\n            logger.warn(picocolors.exports.yellow('Server responded with status code 431. ' +\r\n                'See https://vitejs.dev/guide/troubleshooting.html#_431-request-header-fields-too-large.'));\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * This plugin hooks into Node's module resolution algorithm at runtime,\r\n * so that SSR builds can benefit from `resolve.dedupe` like they do\r\n * in development.\r\n */\r\nfunction ssrRequireHookPlugin(config) {\r\n    if (config.command !== 'build' ||\r\n        !config.build.ssr ||\r\n        !config.resolve.dedupe?.length ||\r\n        config.ssr?.noExternal === true ||\r\n        config.ssr?.format !== 'cjs' ||\r\n        isBuildOutputEsm(config)) {\r\n        return null;\r\n    }\r\n    return {\r\n        name: 'vite:ssr-require-hook',\r\n        transform(code, id) {\r\n            const moduleInfo = this.getModuleInfo(id);\r\n            if (moduleInfo?.isEntry) {\r\n                const s = new MagicString(code);\r\n                s.prepend(`;(${dedupeRequire.toString()})(${JSON.stringify(config.resolve.dedupe)});\\n`);\r\n                return {\r\n                    code: s.toString(),\r\n                    map: s.generateMap({\r\n                        source: id,\r\n                        hires: true\r\n                    })\r\n                };\r\n            }\r\n        }\r\n    };\r\n}\r\n/** Respect the `resolve.dedupe` option in production SSR. */\r\nfunction dedupeRequire(dedupe) {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const Module = require('node:module');\r\n    const resolveFilename = Module._resolveFilename;\r\n    Module._resolveFilename = function (request, parent, isMain, options) {\r\n        if (request[0] !== '.' && request[0] !== '/') {\r\n            const parts = request.split('/');\r\n            const pkgName = parts[0][0] === '@' ? parts[0] + '/' + parts[1] : parts[0];\r\n            if (dedupe.includes(pkgName)) {\r\n                // Use this module as the parent.\r\n                parent = module;\r\n            }\r\n        }\r\n        return resolveFilename(request, parent, isMain, options);\r\n    };\r\n}\r\nconst _require$1 = createRequire$1(import.meta.url);\r\nfunction hookNodeResolve(getResolver) {\r\n    const Module = _require$1('module');\r\n    const prevResolver = Module._resolveFilename;\r\n    Module._resolveFilename = getResolver(prevResolver);\r\n    return () => {\r\n        Module._resolveFilename = prevResolver;\r\n    };\r\n}\r\nfunction isBuildOutputEsm(config) {\r\n    const outputs = arraify(config.build.rollupOptions?.output);\r\n    return outputs.some((output) => output?.format === 'es' || output?.format === 'esm');\r\n}\r\n\r\nlet offset;\r\ntry {\r\n    new Function('throw new Error(1)')();\r\n}\r\ncatch (e) {\r\n    // in Node 12, stack traces account for the function wrapper.\r\n    // in Node 13 and later, the function wrapper adds two lines,\r\n    // which must be subtracted to generate a valid mapping\r\n    const match = /:(\\d+):\\d+\\)$/.exec(e.stack.split('\\n')[1]);\r\n    offset = match ? +match[1] - 1 : 0;\r\n}\r\nfunction ssrRewriteStacktrace(stack, moduleGraph) {\r\n    return stack\r\n        .split('\\n')\r\n        .map((line) => {\r\n        return line.replace(/^ {4}at (?:(.+?)\\s+\\()?(?:(.+?):(\\d+)(?::(\\d+))?)\\)?/, (input, varName, url, line, column) => {\r\n            if (!url)\r\n                return input;\r\n            const mod = moduleGraph.urlToModuleMap.get(url);\r\n            const rawSourceMap = mod?.ssrTransformResult?.map;\r\n            if (!rawSourceMap) {\r\n                return input;\r\n            }\r\n            const traced = new TraceMap(rawSourceMap);\r\n            const pos = originalPositionFor$1(traced, {\r\n                line: Number(line) - offset,\r\n                column: Number(column)\r\n            });\r\n            if (!pos.source || pos.line == null || pos.column == null) {\r\n                return input;\r\n            }\r\n            const source = `${pos.source}:${pos.line}:${pos.column}`;\r\n            if (!varName || varName === 'eval') {\r\n                return `    at ${source}`;\r\n            }\r\n            else {\r\n                return `    at ${varName} (${source})`;\r\n            }\r\n        });\r\n    })\r\n        .join('\\n');\r\n}\r\nfunction rebindErrorStacktrace(e, stacktrace) {\r\n    const { configurable, writable } = Object.getOwnPropertyDescriptor(e, 'stack');\r\n    if (configurable) {\r\n        Object.defineProperty(e, 'stack', {\r\n            value: stacktrace,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    }\r\n    else if (writable) {\r\n        e.stack = stacktrace;\r\n    }\r\n}\r\n\r\nconst pendingModules = new Map();\r\nconst pendingImports = new Map();\r\nasync function ssrLoadModule(url, server, context = { global }, urlStack = [], fixStacktrace) {\r\n    url = unwrapId(url).replace(NULL_BYTE_PLACEHOLDER, '\\0');\r\n    // when we instantiate multiple dependency modules in parallel, they may\r\n    // point to shared modules. We need to avoid duplicate instantiation attempts\r\n    // by register every module as pending synchronously so that all subsequent\r\n    // request to that module are simply waiting on the same promise.\r\n    const pending = pendingModules.get(url);\r\n    if (pending) {\r\n        return pending;\r\n    }\r\n    const modulePromise = instantiateModule(url, server, context, urlStack, fixStacktrace);\r\n    pendingModules.set(url, modulePromise);\r\n    modulePromise\r\n        .catch(() => {\r\n        pendingImports.delete(url);\r\n    })\r\n        .finally(() => {\r\n        pendingModules.delete(url);\r\n    });\r\n    return modulePromise;\r\n}\r\nasync function instantiateModule(url, server, context = { global }, urlStack = [], fixStacktrace) {\r\n    const { moduleGraph } = server;\r\n    const mod = await moduleGraph.ensureEntryFromUrl(url, true);\r\n    if (mod.ssrError) {\r\n        throw mod.ssrError;\r\n    }\r\n    if (mod.ssrModule) {\r\n        return mod.ssrModule;\r\n    }\r\n    const result = mod.ssrTransformResult ||\r\n        (await transformRequest(url, server, { ssr: true }));\r\n    if (!result) {\r\n        // TODO more info? is this even necessary?\r\n        throw new Error(`failed to load module for ssr: ${url}`);\r\n    }\r\n    const ssrModule = {\r\n        [Symbol.toStringTag]: 'Module'\r\n    };\r\n    Object.defineProperty(ssrModule, '__esModule', { value: true });\r\n    // Tolerate circular imports by ensuring the module can be\r\n    // referenced before it's been instantiated.\r\n    mod.ssrModule = ssrModule;\r\n    const ssrImportMeta = {\r\n        // The filesystem URL, matching native Node.js modules\r\n        url: pathToFileURL(mod.file).toString()\r\n    };\r\n    urlStack = urlStack.concat(url);\r\n    const isCircular = (url) => urlStack.includes(url);\r\n    const { isProduction, resolve: { dedupe, preserveSymlinks }, root } = server.config;\r\n    // The `extensions` and `mainFields` options are used to ensure that\r\n    // CommonJS modules are preferred. We want to avoid ESM->ESM imports\r\n    // whenever possible, because `hookNodeResolve` can't intercept them.\r\n    const resolveOptions = {\r\n        dedupe,\r\n        extensions: ['.js', '.cjs', '.json'],\r\n        isBuild: true,\r\n        isProduction,\r\n        isRequire: true,\r\n        mainFields: ['main'],\r\n        preserveSymlinks,\r\n        root\r\n    };\r\n    // Since dynamic imports can happen in parallel, we need to\r\n    // account for multiple pending deps and duplicate imports.\r\n    const pendingDeps = [];\r\n    const ssrImport = async (dep) => {\r\n        if (dep[0] !== '.' && dep[0] !== '/') {\r\n            return nodeImport(dep, mod.file, resolveOptions);\r\n        }\r\n        // convert to rollup URL because `pendingImports`, `moduleGraph.urlToModuleMap` requires that\r\n        dep = unwrapId(dep).replace(NULL_BYTE_PLACEHOLDER, '\\0');\r\n        if (!isCircular(dep) && !pendingImports.get(dep)?.some(isCircular)) {\r\n            pendingDeps.push(dep);\r\n            if (pendingDeps.length === 1) {\r\n                pendingImports.set(url, pendingDeps);\r\n            }\r\n            const mod = await ssrLoadModule(dep, server, context, urlStack, fixStacktrace);\r\n            if (pendingDeps.length === 1) {\r\n                pendingImports.delete(url);\r\n            }\r\n            else {\r\n                pendingDeps.splice(pendingDeps.indexOf(dep), 1);\r\n            }\r\n            // return local module to avoid race condition #5470\r\n            return mod;\r\n        }\r\n        return moduleGraph.urlToModuleMap.get(dep)?.ssrModule;\r\n    };\r\n    const ssrDynamicImport = (dep) => {\r\n        // #3087 dynamic import vars is ignored at rewrite import path,\r\n        // so here need process relative path\r\n        if (dep[0] === '.') {\r\n            dep = path$n.posix.resolve(path$n.dirname(url), dep);\r\n        }\r\n        return ssrImport(dep);\r\n    };\r\n    function ssrExportAll(sourceModule) {\r\n        for (const key in sourceModule) {\r\n            if (key !== 'default') {\r\n                Object.defineProperty(ssrModule, key, {\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    get() {\r\n                        return sourceModule[key];\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    try {\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        const AsyncFunction = async function () { }.constructor;\r\n        const initModule = new AsyncFunction(`global`, ssrModuleExportsKey, ssrImportMetaKey, ssrImportKey, ssrDynamicImportKey, ssrExportAllKey, '\"use strict\";' + result.code + `\\n//# sourceURL=${mod.url}`);\r\n        await initModule(context.global, ssrModule, ssrImportMeta, ssrImport, ssrDynamicImport, ssrExportAll);\r\n    }\r\n    catch (e) {\r\n        mod.ssrError = e;\r\n        if (e.stack && fixStacktrace) {\r\n            const stacktrace = ssrRewriteStacktrace(e.stack, moduleGraph);\r\n            rebindErrorStacktrace(e, stacktrace);\r\n            server.config.logger.error(`Error when evaluating SSR module ${url}:\\n${stacktrace}`, {\r\n                timestamp: true,\r\n                clear: server.config.clearScreen,\r\n                error: e\r\n            });\r\n        }\r\n        throw e;\r\n    }\r\n    return Object.freeze(ssrModule);\r\n}\r\n// In node@12+ we can use dynamic import to load CJS and ESM\r\nasync function nodeImport(id, importer, resolveOptions) {\r\n    // Node's module resolution is hi-jacked so Vite can ensure the\r\n    // configured `resolve.dedupe` and `mode` options are respected.\r\n    const viteResolve = (id, importer, options = resolveOptions) => {\r\n        const resolved = tryNodeResolve(id, importer, options, false);\r\n        if (!resolved) {\r\n            const err = new Error(`Cannot find module '${id}' imported from '${importer}'`);\r\n            err.code = 'ERR_MODULE_NOT_FOUND';\r\n            throw err;\r\n        }\r\n        return resolved.id;\r\n    };\r\n    // When an ESM module imports an ESM dependency, this hook is *not* used.\r\n    const unhookNodeResolve = hookNodeResolve((nodeResolve) => (id, parent, isMain, options) => {\r\n        // Use the Vite resolver only for bare imports while skipping\r\n        // any absolute paths, built-in modules and binary modules.\r\n        if (!bareImportRE.test(id) ||\r\n            path$n.isAbsolute(id) ||\r\n            isBuiltin(id) ||\r\n            id.endsWith('.node')) {\r\n            return nodeResolve(id, parent, isMain, options);\r\n        }\r\n        if (parent) {\r\n            let resolved = viteResolve(id, parent.id);\r\n            if (resolved) {\r\n                // hookNodeResolve must use platform-specific path.normalize\r\n                // to be compatible with dynamicImport (#6080)\r\n                resolved = path$n.normalize(resolved);\r\n            }\r\n            return resolved;\r\n        }\r\n        // Importing a CJS module from an ESM module. In this case, the import\r\n        // specifier is already an absolute path, so this is a no-op.\r\n        // Options like `resolve.dedupe` and `mode` are not respected.\r\n        return id;\r\n    });\r\n    let url;\r\n    if (id.startsWith('node:') || isBuiltin(id)) {\r\n        url = id;\r\n    }\r\n    else {\r\n        url = viteResolve(id, importer, \r\n        // Non-external modules can import ESM-only modules, but only outside\r\n        // of test runs, because we use Node `require` in Jest to avoid segfault.\r\n        // @ts-expect-error\r\n        typeof jest === 'undefined'\r\n            ? { ...resolveOptions, tryEsmOnly: true }\r\n            : resolveOptions);\r\n        if (usingDynamicImport) {\r\n            url = pathToFileURL(url).toString();\r\n        }\r\n    }\r\n    try {\r\n        const mod = await dynamicImport(url);\r\n        return proxyESM(mod);\r\n    }\r\n    finally {\r\n        unhookNodeResolve();\r\n    }\r\n}\r\n// rollup-style default import interop for cjs\r\nfunction proxyESM(mod) {\r\n    // This is the only sensible option when the exports object is a primitive\r\n    if (isPrimitive(mod))\r\n        return { default: mod };\r\n    let defaultExport = 'default' in mod ? mod.default : mod;\r\n    if (!isPrimitive(defaultExport) && '__esModule' in defaultExport) {\r\n        mod = defaultExport;\r\n        if ('default' in defaultExport) {\r\n            defaultExport = defaultExport.default;\r\n        }\r\n    }\r\n    return new Proxy(mod, {\r\n        get(mod, prop) {\r\n            if (prop === 'default')\r\n                return defaultExport;\r\n            return mod[prop] ?? defaultExport?.[prop];\r\n        }\r\n    });\r\n}\r\nfunction isPrimitive(value) {\r\n    return !value || (typeof value !== 'object' && typeof value !== 'function');\r\n}\r\n\r\nvar bufferUtil$1 = {exports: {}};\r\n\r\nvar constants = {\r\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\r\n  EMPTY_BUFFER: Buffer.alloc(0),\r\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\r\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\r\n  kListener: Symbol('kListener'),\r\n  kStatusCode: Symbol('status-code'),\r\n  kWebSocket: Symbol('websocket'),\r\n  NOOP: () => {}\r\n};\r\n\r\nconst { EMPTY_BUFFER: EMPTY_BUFFER$3 } = constants;\r\n\r\n/**\r\n * Merges an array of buffers into a new buffer.\r\n *\r\n * @param {Buffer[]} list The array of buffers to concat\r\n * @param {Number} totalLength The total length of buffers in the list\r\n * @return {Buffer} The resulting buffer\r\n * @public\r\n */\r\nfunction concat$1(list, totalLength) {\r\n  if (list.length === 0) return EMPTY_BUFFER$3;\r\n  if (list.length === 1) return list[0];\r\n\r\n  const target = Buffer.allocUnsafe(totalLength);\r\n  let offset = 0;\r\n\r\n  for (let i = 0; i < list.length; i++) {\r\n    const buf = list[i];\r\n    target.set(buf, offset);\r\n    offset += buf.length;\r\n  }\r\n\r\n  if (offset < totalLength) return target.slice(0, offset);\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * Masks a buffer using the given mask.\r\n *\r\n * @param {Buffer} source The buffer to mask\r\n * @param {Buffer} mask The mask to use\r\n * @param {Buffer} output The buffer where to store the result\r\n * @param {Number} offset The offset at which to start writing\r\n * @param {Number} length The number of bytes to mask.\r\n * @public\r\n */\r\nfunction _mask(source, mask, output, offset, length) {\r\n  for (let i = 0; i < length; i++) {\r\n    output[offset + i] = source[i] ^ mask[i & 3];\r\n  }\r\n}\r\n\r\n/**\r\n * Unmasks a buffer using the given mask.\r\n *\r\n * @param {Buffer} buffer The buffer to unmask\r\n * @param {Buffer} mask The mask to use\r\n * @public\r\n */\r\nfunction _unmask(buffer, mask) {\r\n  for (let i = 0; i < buffer.length; i++) {\r\n    buffer[i] ^= mask[i & 3];\r\n  }\r\n}\r\n\r\n/**\r\n * Converts a buffer to an `ArrayBuffer`.\r\n *\r\n * @param {Buffer} buf The buffer to convert\r\n * @return {ArrayBuffer} Converted buffer\r\n * @public\r\n */\r\nfunction toArrayBuffer$1(buf) {\r\n  if (buf.byteLength === buf.buffer.byteLength) {\r\n    return buf.buffer;\r\n  }\r\n\r\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\r\n}\r\n\r\n/**\r\n * Converts `data` to a `Buffer`.\r\n *\r\n * @param {*} data The data to convert\r\n * @return {Buffer} The buffer\r\n * @throws {TypeError}\r\n * @public\r\n */\r\nfunction toBuffer$2(data) {\r\n  toBuffer$2.readOnly = true;\r\n\r\n  if (Buffer.isBuffer(data)) return data;\r\n\r\n  let buf;\r\n\r\n  if (data instanceof ArrayBuffer) {\r\n    buf = Buffer.from(data);\r\n  } else if (ArrayBuffer.isView(data)) {\r\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\r\n  } else {\r\n    buf = Buffer.from(data);\r\n    toBuffer$2.readOnly = false;\r\n  }\r\n\r\n  return buf;\r\n}\r\n\r\nbufferUtil$1.exports = {\r\n  concat: concat$1,\r\n  mask: _mask,\r\n  toArrayBuffer: toArrayBuffer$1,\r\n  toBuffer: toBuffer$2,\r\n  unmask: _unmask\r\n};\r\n\r\n/* istanbul ignore else  */\r\nif (!process.env.WS_NO_BUFFER_UTIL) {\r\n  try {\r\n    const bufferUtil = require('bufferutil');\r\n\r\n    bufferUtil$1.exports.mask = function (source, mask, output, offset, length) {\r\n      if (length < 48) _mask(source, mask, output, offset, length);\r\n      else bufferUtil.mask(source, mask, output, offset, length);\r\n    };\r\n\r\n    bufferUtil$1.exports.unmask = function (buffer, mask) {\r\n      if (buffer.length < 32) _unmask(buffer, mask);\r\n      else bufferUtil.unmask(buffer, mask);\r\n    };\r\n  } catch (e) {\r\n    // Continue regardless of the error.\r\n  }\r\n}\r\n\r\nconst kDone = Symbol('kDone');\r\nconst kRun = Symbol('kRun');\r\n\r\n/**\r\n * A very simple job queue with adjustable concurrency. Adapted from\r\n * https://github.com/STRML/async-limiter\r\n */\r\nclass Limiter$1 {\r\n  /**\r\n   * Creates a new `Limiter`.\r\n   *\r\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\r\n   *     to run concurrently\r\n   */\r\n  constructor(concurrency) {\r\n    this[kDone] = () => {\r\n      this.pending--;\r\n      this[kRun]();\r\n    };\r\n    this.concurrency = concurrency || Infinity;\r\n    this.jobs = [];\r\n    this.pending = 0;\r\n  }\r\n\r\n  /**\r\n   * Adds a job to the queue.\r\n   *\r\n   * @param {Function} job The job to run\r\n   * @public\r\n   */\r\n  add(job) {\r\n    this.jobs.push(job);\r\n    this[kRun]();\r\n  }\r\n\r\n  /**\r\n   * Removes a job from the queue and runs it if possible.\r\n   *\r\n   * @private\r\n   */\r\n  [kRun]() {\r\n    if (this.pending === this.concurrency) return;\r\n\r\n    if (this.jobs.length) {\r\n      const job = this.jobs.shift();\r\n\r\n      this.pending++;\r\n      job(this[kDone]);\r\n    }\r\n  }\r\n}\r\n\r\nvar limiter = Limiter$1;\r\n\r\nconst zlib = require$$0$b;\r\n\r\nconst bufferUtil = bufferUtil$1.exports;\r\nconst Limiter = limiter;\r\nconst { kStatusCode: kStatusCode$2 } = constants;\r\n\r\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\r\nconst kPerMessageDeflate = Symbol('permessage-deflate');\r\nconst kTotalLength = Symbol('total-length');\r\nconst kCallback = Symbol('callback');\r\nconst kBuffers = Symbol('buffers');\r\nconst kError$1 = Symbol('error');\r\n\r\n//\r\n// We limit zlib concurrency, which prevents severe memory fragmentation\r\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\r\n// and https://github.com/websockets/ws/issues/1202\r\n//\r\n// Intentionally global; it's the global thread pool that's an issue.\r\n//\r\nlet zlibLimiter;\r\n\r\n/**\r\n * permessage-deflate implementation.\r\n */\r\nclass PerMessageDeflate$4 {\r\n  /**\r\n   * Creates a PerMessageDeflate instance.\r\n   *\r\n   * @param {Object} [options] Configuration options\r\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\r\n   *     for, or request, a custom client window size\r\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\r\n   *     acknowledge disabling of client context takeover\r\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\r\n   *     calls to zlib\r\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\r\n   *     use of a custom server window size\r\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\r\n   *     disabling of server context takeover\r\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\r\n   *     messages should not be compressed if context takeover is disabled\r\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\r\n   *     deflate\r\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\r\n   *     inflate\r\n   * @param {Boolean} [isServer=false] Create the instance in either server or\r\n   *     client mode\r\n   * @param {Number} [maxPayload=0] The maximum allowed message length\r\n   */\r\n  constructor(options, isServer, maxPayload) {\r\n    this._maxPayload = maxPayload | 0;\r\n    this._options = options || {};\r\n    this._threshold =\r\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\r\n    this._isServer = !!isServer;\r\n    this._deflate = null;\r\n    this._inflate = null;\r\n\r\n    this.params = null;\r\n\r\n    if (!zlibLimiter) {\r\n      const concurrency =\r\n        this._options.concurrencyLimit !== undefined\r\n          ? this._options.concurrencyLimit\r\n          : 10;\r\n      zlibLimiter = new Limiter(concurrency);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  static get extensionName() {\r\n    return 'permessage-deflate';\r\n  }\r\n\r\n  /**\r\n   * Create an extension negotiation offer.\r\n   *\r\n   * @return {Object} Extension parameters\r\n   * @public\r\n   */\r\n  offer() {\r\n    const params = {};\r\n\r\n    if (this._options.serverNoContextTakeover) {\r\n      params.server_no_context_takeover = true;\r\n    }\r\n    if (this._options.clientNoContextTakeover) {\r\n      params.client_no_context_takeover = true;\r\n    }\r\n    if (this._options.serverMaxWindowBits) {\r\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\r\n    }\r\n    if (this._options.clientMaxWindowBits) {\r\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\r\n    } else if (this._options.clientMaxWindowBits == null) {\r\n      params.client_max_window_bits = true;\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  /**\r\n   * Accept an extension negotiation offer/response.\r\n   *\r\n   * @param {Array} configurations The extension negotiation offers/reponse\r\n   * @return {Object} Accepted configuration\r\n   * @public\r\n   */\r\n  accept(configurations) {\r\n    configurations = this.normalizeParams(configurations);\r\n\r\n    this.params = this._isServer\r\n      ? this.acceptAsServer(configurations)\r\n      : this.acceptAsClient(configurations);\r\n\r\n    return this.params;\r\n  }\r\n\r\n  /**\r\n   * Releases all resources used by the extension.\r\n   *\r\n   * @public\r\n   */\r\n  cleanup() {\r\n    if (this._inflate) {\r\n      this._inflate.close();\r\n      this._inflate = null;\r\n    }\r\n\r\n    if (this._deflate) {\r\n      const callback = this._deflate[kCallback];\r\n\r\n      this._deflate.close();\r\n      this._deflate = null;\r\n\r\n      if (callback) {\r\n        callback(\r\n          new Error(\r\n            'The deflate stream was closed while data was being processed'\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  Accept an extension negotiation offer.\r\n   *\r\n   * @param {Array} offers The extension negotiation offers\r\n   * @return {Object} Accepted configuration\r\n   * @private\r\n   */\r\n  acceptAsServer(offers) {\r\n    const opts = this._options;\r\n    const accepted = offers.find((params) => {\r\n      if (\r\n        (opts.serverNoContextTakeover === false &&\r\n          params.server_no_context_takeover) ||\r\n        (params.server_max_window_bits &&\r\n          (opts.serverMaxWindowBits === false ||\r\n            (typeof opts.serverMaxWindowBits === 'number' &&\r\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\r\n        (typeof opts.clientMaxWindowBits === 'number' &&\r\n          !params.client_max_window_bits)\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    if (!accepted) {\r\n      throw new Error('None of the extension offers can be accepted');\r\n    }\r\n\r\n    if (opts.serverNoContextTakeover) {\r\n      accepted.server_no_context_takeover = true;\r\n    }\r\n    if (opts.clientNoContextTakeover) {\r\n      accepted.client_no_context_takeover = true;\r\n    }\r\n    if (typeof opts.serverMaxWindowBits === 'number') {\r\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\r\n    }\r\n    if (typeof opts.clientMaxWindowBits === 'number') {\r\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\r\n    } else if (\r\n      accepted.client_max_window_bits === true ||\r\n      opts.clientMaxWindowBits === false\r\n    ) {\r\n      delete accepted.client_max_window_bits;\r\n    }\r\n\r\n    return accepted;\r\n  }\r\n\r\n  /**\r\n   * Accept the extension negotiation response.\r\n   *\r\n   * @param {Array} response The extension negotiation response\r\n   * @return {Object} Accepted configuration\r\n   * @private\r\n   */\r\n  acceptAsClient(response) {\r\n    const params = response[0];\r\n\r\n    if (\r\n      this._options.clientNoContextTakeover === false &&\r\n      params.client_no_context_takeover\r\n    ) {\r\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\r\n    }\r\n\r\n    if (!params.client_max_window_bits) {\r\n      if (typeof this._options.clientMaxWindowBits === 'number') {\r\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\r\n      }\r\n    } else if (\r\n      this._options.clientMaxWindowBits === false ||\r\n      (typeof this._options.clientMaxWindowBits === 'number' &&\r\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\r\n    ) {\r\n      throw new Error(\r\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\r\n      );\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  /**\r\n   * Normalize parameters.\r\n   *\r\n   * @param {Array} configurations The extension negotiation offers/reponse\r\n   * @return {Array} The offers/response with normalized parameters\r\n   * @private\r\n   */\r\n  normalizeParams(configurations) {\r\n    configurations.forEach((params) => {\r\n      Object.keys(params).forEach((key) => {\r\n        let value = params[key];\r\n\r\n        if (value.length > 1) {\r\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\r\n        }\r\n\r\n        value = value[0];\r\n\r\n        if (key === 'client_max_window_bits') {\r\n          if (value !== true) {\r\n            const num = +value;\r\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\r\n              throw new TypeError(\r\n                `Invalid value for parameter \"${key}\": ${value}`\r\n              );\r\n            }\r\n            value = num;\r\n          } else if (!this._isServer) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n        } else if (key === 'server_max_window_bits') {\r\n          const num = +value;\r\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n          value = num;\r\n        } else if (\r\n          key === 'client_no_context_takeover' ||\r\n          key === 'server_no_context_takeover'\r\n        ) {\r\n          if (value !== true) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n        } else {\r\n          throw new Error(`Unknown parameter \"${key}\"`);\r\n        }\r\n\r\n        params[key] = value;\r\n      });\r\n    });\r\n\r\n    return configurations;\r\n  }\r\n\r\n  /**\r\n   * Decompress data. Concurrency limited.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @public\r\n   */\r\n  decompress(data, fin, callback) {\r\n    zlibLimiter.add((done) => {\r\n      this._decompress(data, fin, (err, result) => {\r\n        done();\r\n        callback(err, result);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Compress data. Concurrency limited.\r\n   *\r\n   * @param {(Buffer|String)} data Data to compress\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @public\r\n   */\r\n  compress(data, fin, callback) {\r\n    zlibLimiter.add((done) => {\r\n      this._compress(data, fin, (err, result) => {\r\n        done();\r\n        callback(err, result);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Decompress data.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @private\r\n   */\r\n  _decompress(data, fin, callback) {\r\n    const endpoint = this._isServer ? 'client' : 'server';\r\n\r\n    if (!this._inflate) {\r\n      const key = `${endpoint}_max_window_bits`;\r\n      const windowBits =\r\n        typeof this.params[key] !== 'number'\r\n          ? zlib.Z_DEFAULT_WINDOWBITS\r\n          : this.params[key];\r\n\r\n      this._inflate = zlib.createInflateRaw({\r\n        ...this._options.zlibInflateOptions,\r\n        windowBits\r\n      });\r\n      this._inflate[kPerMessageDeflate] = this;\r\n      this._inflate[kTotalLength] = 0;\r\n      this._inflate[kBuffers] = [];\r\n      this._inflate.on('error', inflateOnError);\r\n      this._inflate.on('data', inflateOnData);\r\n    }\r\n\r\n    this._inflate[kCallback] = callback;\r\n\r\n    this._inflate.write(data);\r\n    if (fin) this._inflate.write(TRAILER);\r\n\r\n    this._inflate.flush(() => {\r\n      const err = this._inflate[kError$1];\r\n\r\n      if (err) {\r\n        this._inflate.close();\r\n        this._inflate = null;\r\n        callback(err);\r\n        return;\r\n      }\r\n\r\n      const data = bufferUtil.concat(\r\n        this._inflate[kBuffers],\r\n        this._inflate[kTotalLength]\r\n      );\r\n\r\n      if (this._inflate._readableState.endEmitted) {\r\n        this._inflate.close();\r\n        this._inflate = null;\r\n      } else {\r\n        this._inflate[kTotalLength] = 0;\r\n        this._inflate[kBuffers] = [];\r\n\r\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\r\n          this._inflate.reset();\r\n        }\r\n      }\r\n\r\n      callback(null, data);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Compress data.\r\n   *\r\n   * @param {(Buffer|String)} data Data to compress\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @private\r\n   */\r\n  _compress(data, fin, callback) {\r\n    const endpoint = this._isServer ? 'server' : 'client';\r\n\r\n    if (!this._deflate) {\r\n      const key = `${endpoint}_max_window_bits`;\r\n      const windowBits =\r\n        typeof this.params[key] !== 'number'\r\n          ? zlib.Z_DEFAULT_WINDOWBITS\r\n          : this.params[key];\r\n\r\n      this._deflate = zlib.createDeflateRaw({\r\n        ...this._options.zlibDeflateOptions,\r\n        windowBits\r\n      });\r\n\r\n      this._deflate[kTotalLength] = 0;\r\n      this._deflate[kBuffers] = [];\r\n\r\n      this._deflate.on('data', deflateOnData);\r\n    }\r\n\r\n    this._deflate[kCallback] = callback;\r\n\r\n    this._deflate.write(data);\r\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\r\n      if (!this._deflate) {\r\n        //\r\n        // The deflate stream was closed while data was being processed.\r\n        //\r\n        return;\r\n      }\r\n\r\n      let data = bufferUtil.concat(\r\n        this._deflate[kBuffers],\r\n        this._deflate[kTotalLength]\r\n      );\r\n\r\n      if (fin) data = data.slice(0, data.length - 4);\r\n\r\n      //\r\n      // Ensure that the callback will not be called again in\r\n      // `PerMessageDeflate#cleanup()`.\r\n      //\r\n      this._deflate[kCallback] = null;\r\n\r\n      this._deflate[kTotalLength] = 0;\r\n      this._deflate[kBuffers] = [];\r\n\r\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\r\n        this._deflate.reset();\r\n      }\r\n\r\n      callback(null, data);\r\n    });\r\n  }\r\n}\r\n\r\nvar permessageDeflate = PerMessageDeflate$4;\r\n\r\n/**\r\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction deflateOnData(chunk) {\r\n  this[kBuffers].push(chunk);\r\n  this[kTotalLength] += chunk.length;\r\n}\r\n\r\n/**\r\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction inflateOnData(chunk) {\r\n  this[kTotalLength] += chunk.length;\r\n\r\n  if (\r\n    this[kPerMessageDeflate]._maxPayload < 1 ||\r\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\r\n  ) {\r\n    this[kBuffers].push(chunk);\r\n    return;\r\n  }\r\n\r\n  this[kError$1] = new RangeError('Max payload size exceeded');\r\n  this[kError$1].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\r\n  this[kError$1][kStatusCode$2] = 1009;\r\n  this.removeListener('data', inflateOnData);\r\n  this.reset();\r\n}\r\n\r\n/**\r\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\r\n *\r\n * @param {Error} err The emitted error\r\n * @private\r\n */\r\nfunction inflateOnError(err) {\r\n  //\r\n  // There is no need to call `Zlib#close()` as the handle is automatically\r\n  // closed when an error is emitted.\r\n  //\r\n  this[kPerMessageDeflate]._inflate = null;\r\n  err[kStatusCode$2] = 1007;\r\n  this[kCallback](err);\r\n}\r\n\r\nvar validation = {exports: {}};\r\n\r\n//\r\n// Allowed token characters:\r\n//\r\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\r\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\r\n//\r\n// tokenChars[32] === 0 // ' '\r\n// tokenChars[33] === 1 // '!'\r\n// tokenChars[34] === 0 // '\"'\r\n// ...\r\n//\r\n// prettier-ignore\r\nconst tokenChars$2 = [\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\r\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\r\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\r\n];\r\n\r\n/**\r\n * Checks if a status code is allowed in a close frame.\r\n *\r\n * @param {Number} code The status code\r\n * @return {Boolean} `true` if the status code is valid, else `false`\r\n * @public\r\n */\r\nfunction isValidStatusCode$2(code) {\r\n  return (\r\n    (code >= 1000 &&\r\n      code <= 1014 &&\r\n      code !== 1004 &&\r\n      code !== 1005 &&\r\n      code !== 1006) ||\r\n    (code >= 3000 && code <= 4999)\r\n  );\r\n}\r\n\r\n/**\r\n * Checks if a given buffer contains only correct UTF-8.\r\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\r\n * Markus Kuhn.\r\n *\r\n * @param {Buffer} buf The buffer to check\r\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\r\n * @public\r\n */\r\nfunction _isValidUTF8(buf) {\r\n  const len = buf.length;\r\n  let i = 0;\r\n\r\n  while (i < len) {\r\n    if ((buf[i] & 0x80) === 0) {\r\n      // 0xxxxxxx\r\n      i++;\r\n    } else if ((buf[i] & 0xe0) === 0xc0) {\r\n      // 110xxxxx 10xxxxxx\r\n      if (\r\n        i + 1 === len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i] & 0xfe) === 0xc0 // Overlong\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 2;\r\n    } else if ((buf[i] & 0xf0) === 0xe0) {\r\n      // 1110xxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 2 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\r\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 3;\r\n    } else if ((buf[i] & 0xf8) === 0xf0) {\r\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 3 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        (buf[i + 3] & 0xc0) !== 0x80 ||\r\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\r\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\r\n        buf[i] > 0xf4 // > U+10FFFF\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 4;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nvalidation.exports = {\r\n  isValidStatusCode: isValidStatusCode$2,\r\n  isValidUTF8: _isValidUTF8,\r\n  tokenChars: tokenChars$2\r\n};\r\n\r\n/* istanbul ignore else  */\r\nif (!process.env.WS_NO_UTF_8_VALIDATE) {\r\n  try {\r\n    const isValidUTF8 = require('utf-8-validate');\r\n\r\n    validation.exports.isValidUTF8 = function (buf) {\r\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\r\n    };\r\n  } catch (e) {\r\n    // Continue regardless of the error.\r\n  }\r\n}\r\n\r\nconst { Writable: Writable$1 } = require$$0$7;\r\n\r\nconst PerMessageDeflate$3 = permessageDeflate;\r\nconst {\r\n  BINARY_TYPES: BINARY_TYPES$1,\r\n  EMPTY_BUFFER: EMPTY_BUFFER$2,\r\n  kStatusCode: kStatusCode$1,\r\n  kWebSocket: kWebSocket$2\r\n} = constants;\r\nconst { concat, toArrayBuffer, unmask } = bufferUtil$1.exports;\r\nconst { isValidStatusCode: isValidStatusCode$1, isValidUTF8 } = validation.exports;\r\n\r\nconst GET_INFO = 0;\r\nconst GET_PAYLOAD_LENGTH_16 = 1;\r\nconst GET_PAYLOAD_LENGTH_64 = 2;\r\nconst GET_MASK = 3;\r\nconst GET_DATA = 4;\r\nconst INFLATING = 5;\r\n\r\n/**\r\n * HyBi Receiver implementation.\r\n *\r\n * @extends Writable\r\n */\r\nclass Receiver$1 extends Writable$1 {\r\n  /**\r\n   * Creates a Receiver instance.\r\n   *\r\n   * @param {Object} [options] Options object\r\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\r\n   * @param {Object} [options.extensions] An object containing the negotiated\r\n   *     extensions\r\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\r\n   *     client or server mode\r\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    this._binaryType = options.binaryType || BINARY_TYPES$1[0];\r\n    this._extensions = options.extensions || {};\r\n    this._isServer = !!options.isServer;\r\n    this._maxPayload = options.maxPayload | 0;\r\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\r\n    this[kWebSocket$2] = undefined;\r\n\r\n    this._bufferedBytes = 0;\r\n    this._buffers = [];\r\n\r\n    this._compressed = false;\r\n    this._payloadLength = 0;\r\n    this._mask = undefined;\r\n    this._fragmented = 0;\r\n    this._masked = false;\r\n    this._fin = false;\r\n    this._opcode = 0;\r\n\r\n    this._totalPayloadLength = 0;\r\n    this._messageLength = 0;\r\n    this._fragments = [];\r\n\r\n    this._state = GET_INFO;\r\n    this._loop = false;\r\n  }\r\n\r\n  /**\r\n   * Implements `Writable.prototype._write()`.\r\n   *\r\n   * @param {Buffer} chunk The chunk of data to write\r\n   * @param {String} encoding The character encoding of `chunk`\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  _write(chunk, encoding, cb) {\r\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\r\n\r\n    this._bufferedBytes += chunk.length;\r\n    this._buffers.push(chunk);\r\n    this.startLoop(cb);\r\n  }\r\n\r\n  /**\r\n   * Consumes `n` bytes from the buffered data.\r\n   *\r\n   * @param {Number} n The number of bytes to consume\r\n   * @return {Buffer} The consumed bytes\r\n   * @private\r\n   */\r\n  consume(n) {\r\n    this._bufferedBytes -= n;\r\n\r\n    if (n === this._buffers[0].length) return this._buffers.shift();\r\n\r\n    if (n < this._buffers[0].length) {\r\n      const buf = this._buffers[0];\r\n      this._buffers[0] = buf.slice(n);\r\n      return buf.slice(0, n);\r\n    }\r\n\r\n    const dst = Buffer.allocUnsafe(n);\r\n\r\n    do {\r\n      const buf = this._buffers[0];\r\n      const offset = dst.length - n;\r\n\r\n      if (n >= buf.length) {\r\n        dst.set(this._buffers.shift(), offset);\r\n      } else {\r\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\r\n        this._buffers[0] = buf.slice(n);\r\n      }\r\n\r\n      n -= buf.length;\r\n    } while (n > 0);\r\n\r\n    return dst;\r\n  }\r\n\r\n  /**\r\n   * Starts the parsing loop.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  startLoop(cb) {\r\n    let err;\r\n    this._loop = true;\r\n\r\n    do {\r\n      switch (this._state) {\r\n        case GET_INFO:\r\n          err = this.getInfo();\r\n          break;\r\n        case GET_PAYLOAD_LENGTH_16:\r\n          err = this.getPayloadLength16();\r\n          break;\r\n        case GET_PAYLOAD_LENGTH_64:\r\n          err = this.getPayloadLength64();\r\n          break;\r\n        case GET_MASK:\r\n          this.getMask();\r\n          break;\r\n        case GET_DATA:\r\n          err = this.getData(cb);\r\n          break;\r\n        default:\r\n          // `INFLATING`\r\n          this._loop = false;\r\n          return;\r\n      }\r\n    } while (this._loop);\r\n\r\n    cb(err);\r\n  }\r\n\r\n  /**\r\n   * Reads the first two bytes of a frame.\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getInfo() {\r\n    if (this._bufferedBytes < 2) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    const buf = this.consume(2);\r\n\r\n    if ((buf[0] & 0x30) !== 0x00) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'RSV2 and RSV3 must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_RSV_2_3'\r\n      );\r\n    }\r\n\r\n    const compressed = (buf[0] & 0x40) === 0x40;\r\n\r\n    if (compressed && !this._extensions[PerMessageDeflate$3.extensionName]) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'RSV1 must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_RSV_1'\r\n      );\r\n    }\r\n\r\n    this._fin = (buf[0] & 0x80) === 0x80;\r\n    this._opcode = buf[0] & 0x0f;\r\n    this._payloadLength = buf[1] & 0x7f;\r\n\r\n    if (this._opcode === 0x00) {\r\n      if (compressed) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'RSV1 must be clear',\r\n          true,\r\n          1002,\r\n          'WS_ERR_UNEXPECTED_RSV_1'\r\n        );\r\n      }\r\n\r\n      if (!this._fragmented) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'invalid opcode 0',\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_OPCODE'\r\n        );\r\n      }\r\n\r\n      this._opcode = this._fragmented;\r\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\r\n      if (this._fragmented) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          `invalid opcode ${this._opcode}`,\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_OPCODE'\r\n        );\r\n      }\r\n\r\n      this._compressed = compressed;\r\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\r\n      if (!this._fin) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'FIN must be set',\r\n          true,\r\n          1002,\r\n          'WS_ERR_EXPECTED_FIN'\r\n        );\r\n      }\r\n\r\n      if (compressed) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'RSV1 must be clear',\r\n          true,\r\n          1002,\r\n          'WS_ERR_UNEXPECTED_RSV_1'\r\n        );\r\n      }\r\n\r\n      if (this._payloadLength > 0x7d) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          `invalid payload length ${this._payloadLength}`,\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\r\n        );\r\n      }\r\n    } else {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        `invalid opcode ${this._opcode}`,\r\n        true,\r\n        1002,\r\n        'WS_ERR_INVALID_OPCODE'\r\n      );\r\n    }\r\n\r\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\r\n    this._masked = (buf[1] & 0x80) === 0x80;\r\n\r\n    if (this._isServer) {\r\n      if (!this._masked) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'MASK must be set',\r\n          true,\r\n          1002,\r\n          'WS_ERR_EXPECTED_MASK'\r\n        );\r\n      }\r\n    } else if (this._masked) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'MASK must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_MASK'\r\n      );\r\n    }\r\n\r\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\r\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\r\n    else return this.haveLength();\r\n  }\r\n\r\n  /**\r\n   * Gets extended payload length (7+16).\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getPayloadLength16() {\r\n    if (this._bufferedBytes < 2) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    this._payloadLength = this.consume(2).readUInt16BE(0);\r\n    return this.haveLength();\r\n  }\r\n\r\n  /**\r\n   * Gets extended payload length (7+64).\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getPayloadLength64() {\r\n    if (this._bufferedBytes < 8) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    const buf = this.consume(8);\r\n    const num = buf.readUInt32BE(0);\r\n\r\n    //\r\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\r\n    // if payload length is greater than this number.\r\n    //\r\n    if (num > Math.pow(2, 53 - 32) - 1) {\r\n      this._loop = false;\r\n      return error(\r\n        RangeError,\r\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\r\n        false,\r\n        1009,\r\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\r\n      );\r\n    }\r\n\r\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\r\n    return this.haveLength();\r\n  }\r\n\r\n  /**\r\n   * Payload length has been read.\r\n   *\r\n   * @return {(RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  haveLength() {\r\n    if (this._payloadLength && this._opcode < 0x08) {\r\n      this._totalPayloadLength += this._payloadLength;\r\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\r\n        this._loop = false;\r\n        return error(\r\n          RangeError,\r\n          'Max payload size exceeded',\r\n          false,\r\n          1009,\r\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\r\n        );\r\n      }\r\n    }\r\n\r\n    if (this._masked) this._state = GET_MASK;\r\n    else this._state = GET_DATA;\r\n  }\r\n\r\n  /**\r\n   * Reads mask bytes.\r\n   *\r\n   * @private\r\n   */\r\n  getMask() {\r\n    if (this._bufferedBytes < 4) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    this._mask = this.consume(4);\r\n    this._state = GET_DATA;\r\n  }\r\n\r\n  /**\r\n   * Reads data bytes.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @return {(Error|RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  getData(cb) {\r\n    let data = EMPTY_BUFFER$2;\r\n\r\n    if (this._payloadLength) {\r\n      if (this._bufferedBytes < this._payloadLength) {\r\n        this._loop = false;\r\n        return;\r\n      }\r\n\r\n      data = this.consume(this._payloadLength);\r\n\r\n      if (\r\n        this._masked &&\r\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\r\n      ) {\r\n        unmask(data, this._mask);\r\n      }\r\n    }\r\n\r\n    if (this._opcode > 0x07) return this.controlMessage(data);\r\n\r\n    if (this._compressed) {\r\n      this._state = INFLATING;\r\n      this.decompress(data, cb);\r\n      return;\r\n    }\r\n\r\n    if (data.length) {\r\n      //\r\n      // This message is not compressed so its length is the sum of the payload\r\n      // length of all fragments.\r\n      //\r\n      this._messageLength = this._totalPayloadLength;\r\n      this._fragments.push(data);\r\n    }\r\n\r\n    return this.dataMessage();\r\n  }\r\n\r\n  /**\r\n   * Decompresses data.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  decompress(data, cb) {\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate$3.extensionName];\r\n\r\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\r\n      if (err) return cb(err);\r\n\r\n      if (buf.length) {\r\n        this._messageLength += buf.length;\r\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\r\n          return cb(\r\n            error(\r\n              RangeError,\r\n              'Max payload size exceeded',\r\n              false,\r\n              1009,\r\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\r\n            )\r\n          );\r\n        }\r\n\r\n        this._fragments.push(buf);\r\n      }\r\n\r\n      const er = this.dataMessage();\r\n      if (er) return cb(er);\r\n\r\n      this.startLoop(cb);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handles a data message.\r\n   *\r\n   * @return {(Error|undefined)} A possible error\r\n   * @private\r\n   */\r\n  dataMessage() {\r\n    if (this._fin) {\r\n      const messageLength = this._messageLength;\r\n      const fragments = this._fragments;\r\n\r\n      this._totalPayloadLength = 0;\r\n      this._messageLength = 0;\r\n      this._fragmented = 0;\r\n      this._fragments = [];\r\n\r\n      if (this._opcode === 2) {\r\n        let data;\r\n\r\n        if (this._binaryType === 'nodebuffer') {\r\n          data = concat(fragments, messageLength);\r\n        } else if (this._binaryType === 'arraybuffer') {\r\n          data = toArrayBuffer(concat(fragments, messageLength));\r\n        } else {\r\n          data = fragments;\r\n        }\r\n\r\n        this.emit('message', data, true);\r\n      } else {\r\n        const buf = concat(fragments, messageLength);\r\n\r\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\r\n          this._loop = false;\r\n          return error(\r\n            Error,\r\n            'invalid UTF-8 sequence',\r\n            true,\r\n            1007,\r\n            'WS_ERR_INVALID_UTF8'\r\n          );\r\n        }\r\n\r\n        this.emit('message', buf, false);\r\n      }\r\n    }\r\n\r\n    this._state = GET_INFO;\r\n  }\r\n\r\n  /**\r\n   * Handles a control message.\r\n   *\r\n   * @param {Buffer} data Data to handle\r\n   * @return {(Error|RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  controlMessage(data) {\r\n    if (this._opcode === 0x08) {\r\n      this._loop = false;\r\n\r\n      if (data.length === 0) {\r\n        this.emit('conclude', 1005, EMPTY_BUFFER$2);\r\n        this.end();\r\n      } else if (data.length === 1) {\r\n        return error(\r\n          RangeError,\r\n          'invalid payload length 1',\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\r\n        );\r\n      } else {\r\n        const code = data.readUInt16BE(0);\r\n\r\n        if (!isValidStatusCode$1(code)) {\r\n          return error(\r\n            RangeError,\r\n            `invalid status code ${code}`,\r\n            true,\r\n            1002,\r\n            'WS_ERR_INVALID_CLOSE_CODE'\r\n          );\r\n        }\r\n\r\n        const buf = data.slice(2);\r\n\r\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\r\n          return error(\r\n            Error,\r\n            'invalid UTF-8 sequence',\r\n            true,\r\n            1007,\r\n            'WS_ERR_INVALID_UTF8'\r\n          );\r\n        }\r\n\r\n        this.emit('conclude', code, buf);\r\n        this.end();\r\n      }\r\n    } else if (this._opcode === 0x09) {\r\n      this.emit('ping', data);\r\n    } else {\r\n      this.emit('pong', data);\r\n    }\r\n\r\n    this._state = GET_INFO;\r\n  }\r\n}\r\n\r\nvar receiver = Receiver$1;\r\n\r\n/**\r\n * Builds an error object.\r\n *\r\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\r\n * @param {String} message The error message\r\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\r\n *     `message`\r\n * @param {Number} statusCode The status code\r\n * @param {String} errorCode The exposed error code\r\n * @return {(Error|RangeError)} The error\r\n * @private\r\n */\r\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\r\n  const err = new ErrorCtor(\r\n    prefix ? `Invalid WebSocket frame: ${message}` : message\r\n  );\r\n\r\n  Error.captureStackTrace(err, error);\r\n  err.code = errorCode;\r\n  err[kStatusCode$1] = statusCode;\r\n  return err;\r\n}\r\n\r\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\r\nconst { randomFillSync } = require$$5;\r\n\r\nconst PerMessageDeflate$2 = permessageDeflate;\r\nconst { EMPTY_BUFFER: EMPTY_BUFFER$1 } = constants;\r\nconst { isValidStatusCode } = validation.exports;\r\nconst { mask: applyMask, toBuffer: toBuffer$1 } = bufferUtil$1.exports;\r\n\r\nconst kByteLength = Symbol('kByteLength');\r\nconst maskBuffer = Buffer.alloc(4);\r\n\r\n/**\r\n * HyBi Sender implementation.\r\n */\r\nclass Sender$1 {\r\n  /**\r\n   * Creates a Sender instance.\r\n   *\r\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\r\n   * @param {Object} [extensions] An object containing the negotiated extensions\r\n   * @param {Function} [generateMask] The function used to generate the masking\r\n   *     key\r\n   */\r\n  constructor(socket, extensions, generateMask) {\r\n    this._extensions = extensions || {};\r\n\r\n    if (generateMask) {\r\n      this._generateMask = generateMask;\r\n      this._maskBuffer = Buffer.alloc(4);\r\n    }\r\n\r\n    this._socket = socket;\r\n\r\n    this._firstFragment = true;\r\n    this._compress = false;\r\n\r\n    this._bufferedBytes = 0;\r\n    this._deflating = false;\r\n    this._queue = [];\r\n  }\r\n\r\n  /**\r\n   * Frames a piece of data according to the HyBi WebSocket protocol.\r\n   *\r\n   * @param {(Buffer|String)} data The data to frame\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\r\n   *     FIN bit\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\r\n   *     key\r\n   * @param {Number} options.opcode The opcode\r\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\r\n   *     modified\r\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\r\n   *     RSV1 bit\r\n   * @return {(Buffer|String)[]} The framed data\r\n   * @public\r\n   */\r\n  static frame(data, options) {\r\n    let mask;\r\n    let merge = false;\r\n    let offset = 2;\r\n    let skipMasking = false;\r\n\r\n    if (options.mask) {\r\n      mask = options.maskBuffer || maskBuffer;\r\n\r\n      if (options.generateMask) {\r\n        options.generateMask(mask);\r\n      } else {\r\n        randomFillSync(mask, 0, 4);\r\n      }\r\n\r\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\r\n      offset = 6;\r\n    }\r\n\r\n    let dataLength;\r\n\r\n    if (typeof data === 'string') {\r\n      if (\r\n        (!options.mask || skipMasking) &&\r\n        options[kByteLength] !== undefined\r\n      ) {\r\n        dataLength = options[kByteLength];\r\n      } else {\r\n        data = Buffer.from(data);\r\n        dataLength = data.length;\r\n      }\r\n    } else {\r\n      dataLength = data.length;\r\n      merge = options.mask && options.readOnly && !skipMasking;\r\n    }\r\n\r\n    let payloadLength = dataLength;\r\n\r\n    if (dataLength >= 65536) {\r\n      offset += 8;\r\n      payloadLength = 127;\r\n    } else if (dataLength > 125) {\r\n      offset += 2;\r\n      payloadLength = 126;\r\n    }\r\n\r\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\r\n\r\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\r\n    if (options.rsv1) target[0] |= 0x40;\r\n\r\n    target[1] = payloadLength;\r\n\r\n    if (payloadLength === 126) {\r\n      target.writeUInt16BE(dataLength, 2);\r\n    } else if (payloadLength === 127) {\r\n      target[2] = target[3] = 0;\r\n      target.writeUIntBE(dataLength, 4, 6);\r\n    }\r\n\r\n    if (!options.mask) return [target, data];\r\n\r\n    target[1] |= 0x80;\r\n    target[offset - 4] = mask[0];\r\n    target[offset - 3] = mask[1];\r\n    target[offset - 2] = mask[2];\r\n    target[offset - 1] = mask[3];\r\n\r\n    if (skipMasking) return [target, data];\r\n\r\n    if (merge) {\r\n      applyMask(data, mask, target, offset, dataLength);\r\n      return [target];\r\n    }\r\n\r\n    applyMask(data, mask, data, 0, dataLength);\r\n    return [target, data];\r\n  }\r\n\r\n  /**\r\n   * Sends a close message to the other peer.\r\n   *\r\n   * @param {Number} [code] The status code component of the body\r\n   * @param {(String|Buffer)} [data] The message component of the body\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  close(code, data, mask, cb) {\r\n    let buf;\r\n\r\n    if (code === undefined) {\r\n      buf = EMPTY_BUFFER$1;\r\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\r\n      throw new TypeError('First argument must be a valid error code number');\r\n    } else if (data === undefined || !data.length) {\r\n      buf = Buffer.allocUnsafe(2);\r\n      buf.writeUInt16BE(code, 0);\r\n    } else {\r\n      const length = Buffer.byteLength(data);\r\n\r\n      if (length > 123) {\r\n        throw new RangeError('The message must not be greater than 123 bytes');\r\n      }\r\n\r\n      buf = Buffer.allocUnsafe(2 + length);\r\n      buf.writeUInt16BE(code, 0);\r\n\r\n      if (typeof data === 'string') {\r\n        buf.write(data, 2);\r\n      } else {\r\n        buf.set(data, 2);\r\n      }\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: buf.length,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x08,\r\n      readOnly: false,\r\n      rsv1: false\r\n    };\r\n\r\n    if (this._deflating) {\r\n      this.enqueue([this.dispatch, buf, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender$1.frame(buf, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a ping message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  ping(data, mask, cb) {\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer$1(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer$1.readOnly;\r\n    }\r\n\r\n    if (byteLength > 125) {\r\n      throw new RangeError('The data size must not be greater than 125 bytes');\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: byteLength,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x09,\r\n      readOnly,\r\n      rsv1: false\r\n    };\r\n\r\n    if (this._deflating) {\r\n      this.enqueue([this.dispatch, data, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender$1.frame(data, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a pong message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  pong(data, mask, cb) {\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer$1(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer$1.readOnly;\r\n    }\r\n\r\n    if (byteLength > 125) {\r\n      throw new RangeError('The data size must not be greater than 125 bytes');\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: byteLength,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x0a,\r\n      readOnly,\r\n      rsv1: false\r\n    };\r\n\r\n    if (this._deflating) {\r\n      this.enqueue([this.dispatch, data, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender$1.frame(data, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a data message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\r\n   *     or text\r\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\r\n   *     compress `data`\r\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\r\n   *     last one\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  send(data, options, cb) {\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate$2.extensionName];\r\n    let opcode = options.binary ? 2 : 1;\r\n    let rsv1 = options.compress;\r\n\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer$1(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer$1.readOnly;\r\n    }\r\n\r\n    if (this._firstFragment) {\r\n      this._firstFragment = false;\r\n      if (\r\n        rsv1 &&\r\n        perMessageDeflate &&\r\n        perMessageDeflate.params[\r\n          perMessageDeflate._isServer\r\n            ? 'server_no_context_takeover'\r\n            : 'client_no_context_takeover'\r\n        ]\r\n      ) {\r\n        rsv1 = byteLength >= perMessageDeflate._threshold;\r\n      }\r\n      this._compress = rsv1;\r\n    } else {\r\n      rsv1 = false;\r\n      opcode = 0;\r\n    }\r\n\r\n    if (options.fin) this._firstFragment = true;\r\n\r\n    if (perMessageDeflate) {\r\n      const opts = {\r\n        [kByteLength]: byteLength,\r\n        fin: options.fin,\r\n        generateMask: this._generateMask,\r\n        mask: options.mask,\r\n        maskBuffer: this._maskBuffer,\r\n        opcode,\r\n        readOnly,\r\n        rsv1\r\n      };\r\n\r\n      if (this._deflating) {\r\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\r\n      } else {\r\n        this.dispatch(data, this._compress, opts, cb);\r\n      }\r\n    } else {\r\n      this.sendFrame(\r\n        Sender$1.frame(data, {\r\n          [kByteLength]: byteLength,\r\n          fin: options.fin,\r\n          generateMask: this._generateMask,\r\n          mask: options.mask,\r\n          maskBuffer: this._maskBuffer,\r\n          opcode,\r\n          readOnly,\r\n          rsv1: false\r\n        }),\r\n        cb\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Dispatches a message.\r\n   *\r\n   * @param {(Buffer|String)} data The message to send\r\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\r\n   *     `data`\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\r\n   *     FIN bit\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\r\n   *     key\r\n   * @param {Number} options.opcode The opcode\r\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\r\n   *     modified\r\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\r\n   *     RSV1 bit\r\n   * @param {Function} [cb] Callback\r\n   * @private\r\n   */\r\n  dispatch(data, compress, options, cb) {\r\n    if (!compress) {\r\n      this.sendFrame(Sender$1.frame(data, options), cb);\r\n      return;\r\n    }\r\n\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate$2.extensionName];\r\n\r\n    this._bufferedBytes += options[kByteLength];\r\n    this._deflating = true;\r\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\r\n      if (this._socket.destroyed) {\r\n        const err = new Error(\r\n          'The socket was closed while data was being compressed'\r\n        );\r\n\r\n        if (typeof cb === 'function') cb(err);\r\n\r\n        for (let i = 0; i < this._queue.length; i++) {\r\n          const params = this._queue[i];\r\n          const callback = params[params.length - 1];\r\n\r\n          if (typeof callback === 'function') callback(err);\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      this._bufferedBytes -= options[kByteLength];\r\n      this._deflating = false;\r\n      options.readOnly = false;\r\n      this.sendFrame(Sender$1.frame(buf, options), cb);\r\n      this.dequeue();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Executes queued send operations.\r\n   *\r\n   * @private\r\n   */\r\n  dequeue() {\r\n    while (!this._deflating && this._queue.length) {\r\n      const params = this._queue.shift();\r\n\r\n      this._bufferedBytes -= params[3][kByteLength];\r\n      Reflect.apply(params[0], this, params.slice(1));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Enqueues a send operation.\r\n   *\r\n   * @param {Array} params Send operation parameters.\r\n   * @private\r\n   */\r\n  enqueue(params) {\r\n    this._bufferedBytes += params[3][kByteLength];\r\n    this._queue.push(params);\r\n  }\r\n\r\n  /**\r\n   * Sends a frame.\r\n   *\r\n   * @param {Buffer[]} list The frame to send\r\n   * @param {Function} [cb] Callback\r\n   * @private\r\n   */\r\n  sendFrame(list, cb) {\r\n    if (list.length === 2) {\r\n      this._socket.cork();\r\n      this._socket.write(list[0]);\r\n      this._socket.write(list[1], cb);\r\n      this._socket.uncork();\r\n    } else {\r\n      this._socket.write(list[0], cb);\r\n    }\r\n  }\r\n}\r\n\r\nvar sender = Sender$1;\r\n\r\nconst { kForOnEventAttribute: kForOnEventAttribute$1, kListener: kListener$1 } = constants;\r\n\r\nconst kCode = Symbol('kCode');\r\nconst kData = Symbol('kData');\r\nconst kError = Symbol('kError');\r\nconst kMessage = Symbol('kMessage');\r\nconst kReason = Symbol('kReason');\r\nconst kTarget = Symbol('kTarget');\r\nconst kType = Symbol('kType');\r\nconst kWasClean = Symbol('kWasClean');\r\n\r\n/**\r\n * Class representing an event.\r\n */\r\nclass Event {\r\n  /**\r\n   * Create a new `Event`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @throws {TypeError} If the `type` argument is not specified\r\n   */\r\n  constructor(type) {\r\n    this[kTarget] = null;\r\n    this[kType] = type;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get target() {\r\n    return this[kTarget];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get type() {\r\n    return this[kType];\r\n  }\r\n}\r\n\r\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\r\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\r\n\r\n/**\r\n * Class representing a close event.\r\n *\r\n * @extends Event\r\n */\r\nclass CloseEvent extends Event {\r\n  /**\r\n   * Create a new `CloseEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {Number} [options.code=0] The status code explaining why the\r\n   *     connection was closed\r\n   * @param {String} [options.reason=''] A human-readable string explaining why\r\n   *     the connection was closed\r\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\r\n   *     connection was cleanly closed\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kCode] = options.code === undefined ? 0 : options.code;\r\n    this[kReason] = options.reason === undefined ? '' : options.reason;\r\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get code() {\r\n    return this[kCode];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get reason() {\r\n    return this[kReason];\r\n  }\r\n\r\n  /**\r\n   * @type {Boolean}\r\n   */\r\n  get wasClean() {\r\n    return this[kWasClean];\r\n  }\r\n}\r\n\r\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\r\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\r\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\r\n\r\n/**\r\n * Class representing an error event.\r\n *\r\n * @extends Event\r\n */\r\nclass ErrorEvent extends Event {\r\n  /**\r\n   * Create a new `ErrorEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {*} [options.error=null] The error that generated this event\r\n   * @param {String} [options.message=''] The error message\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kError] = options.error === undefined ? null : options.error;\r\n    this[kMessage] = options.message === undefined ? '' : options.message;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get error() {\r\n    return this[kError];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get message() {\r\n    return this[kMessage];\r\n  }\r\n}\r\n\r\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\r\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\r\n\r\n/**\r\n * Class representing a message event.\r\n *\r\n * @extends Event\r\n */\r\nclass MessageEvent extends Event {\r\n  /**\r\n   * Create a new `MessageEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {*} [options.data=null] The message content\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kData] = options.data === undefined ? null : options.data;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get data() {\r\n    return this[kData];\r\n  }\r\n}\r\n\r\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\r\n\r\n/**\r\n * This provides methods for emulating the `EventTarget` interface. It's not\r\n * meant to be used directly.\r\n *\r\n * @mixin\r\n */\r\nconst EventTarget = {\r\n  /**\r\n   * Register an event listener.\r\n   *\r\n   * @param {String} type A string representing the event type to listen for\r\n   * @param {Function} listener The listener to add\r\n   * @param {Object} [options] An options object specifies characteristics about\r\n   *     the event listener\r\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\r\n   *     listener should be invoked at most once after being added. If `true`,\r\n   *     the listener would be automatically removed when invoked.\r\n   * @public\r\n   */\r\n  addEventListener(type, listener, options = {}) {\r\n    let wrapper;\r\n\r\n    if (type === 'message') {\r\n      wrapper = function onMessage(data, isBinary) {\r\n        const event = new MessageEvent('message', {\r\n          data: isBinary ? data : data.toString()\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        listener.call(this, event);\r\n      };\r\n    } else if (type === 'close') {\r\n      wrapper = function onClose(code, message) {\r\n        const event = new CloseEvent('close', {\r\n          code,\r\n          reason: message.toString(),\r\n          wasClean: this._closeFrameReceived && this._closeFrameSent\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        listener.call(this, event);\r\n      };\r\n    } else if (type === 'error') {\r\n      wrapper = function onError(error) {\r\n        const event = new ErrorEvent('error', {\r\n          error,\r\n          message: error.message\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        listener.call(this, event);\r\n      };\r\n    } else if (type === 'open') {\r\n      wrapper = function onOpen() {\r\n        const event = new Event('open');\r\n\r\n        event[kTarget] = this;\r\n        listener.call(this, event);\r\n      };\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    wrapper[kForOnEventAttribute$1] = !!options[kForOnEventAttribute$1];\r\n    wrapper[kListener$1] = listener;\r\n\r\n    if (options.once) {\r\n      this.once(type, wrapper);\r\n    } else {\r\n      this.on(type, wrapper);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Remove an event listener.\r\n   *\r\n   * @param {String} type A string representing the event type to remove\r\n   * @param {Function} handler The listener to remove\r\n   * @public\r\n   */\r\n  removeEventListener(type, handler) {\r\n    for (const listener of this.listeners(type)) {\r\n      if (listener[kListener$1] === handler && !listener[kForOnEventAttribute$1]) {\r\n        this.removeListener(type, listener);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nvar eventTarget = {\r\n  CloseEvent,\r\n  ErrorEvent,\r\n  Event,\r\n  EventTarget,\r\n  MessageEvent\r\n};\r\n\r\nconst { tokenChars: tokenChars$1 } = validation.exports;\r\n\r\n/**\r\n * Adds an offer to the map of extension offers or a parameter to the map of\r\n * parameters.\r\n *\r\n * @param {Object} dest The map of extension offers or parameters\r\n * @param {String} name The extension or parameter name\r\n * @param {(Object|Boolean|String)} elem The extension parameters or the\r\n *     parameter value\r\n * @private\r\n */\r\nfunction push$1(dest, name, elem) {\r\n  if (dest[name] === undefined) dest[name] = [elem];\r\n  else dest[name].push(elem);\r\n}\r\n\r\n/**\r\n * Parses the `Sec-WebSocket-Extensions` header into an object.\r\n *\r\n * @param {String} header The field value of the header\r\n * @return {Object} The parsed object\r\n * @public\r\n */\r\nfunction parse$6(header) {\r\n  const offers = Object.create(null);\r\n  let params = Object.create(null);\r\n  let mustUnescape = false;\r\n  let isEscaping = false;\r\n  let inQuotes = false;\r\n  let extensionName;\r\n  let paramName;\r\n  let start = -1;\r\n  let code = -1;\r\n  let end = -1;\r\n  let i = 0;\r\n\r\n  for (; i < header.length; i++) {\r\n    code = header.charCodeAt(i);\r\n\r\n    if (extensionName === undefined) {\r\n      if (end === -1 && tokenChars$1[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (\r\n        i !== 0 &&\r\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\r\n      ) {\r\n        if (end === -1 && start !== -1) end = i;\r\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        const name = header.slice(start, end);\r\n        if (code === 0x2c) {\r\n          push$1(offers, name, params);\r\n          params = Object.create(null);\r\n        } else {\r\n          extensionName = name;\r\n        }\r\n\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    } else if (paramName === undefined) {\r\n      if (end === -1 && tokenChars$1[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (code === 0x20 || code === 0x09) {\r\n        if (end === -1 && start !== -1) end = i;\r\n      } else if (code === 0x3b || code === 0x2c) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        push$1(params, header.slice(start, end), true);\r\n        if (code === 0x2c) {\r\n          push$1(offers, extensionName, params);\r\n          params = Object.create(null);\r\n          extensionName = undefined;\r\n        }\r\n\r\n        start = end = -1;\r\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\r\n        paramName = header.slice(start, i);\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    } else {\r\n      //\r\n      // The value of a quoted-string after unescaping must conform to the\r\n      // token ABNF, so only token characters are valid.\r\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\r\n      //\r\n      if (isEscaping) {\r\n        if (tokenChars$1[code] !== 1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n        if (start === -1) start = i;\r\n        else if (!mustUnescape) mustUnescape = true;\r\n        isEscaping = false;\r\n      } else if (inQuotes) {\r\n        if (tokenChars$1[code] === 1) {\r\n          if (start === -1) start = i;\r\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\r\n          inQuotes = false;\r\n          end = i;\r\n        } else if (code === 0x5c /* '\\' */) {\r\n          isEscaping = true;\r\n        } else {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\r\n        inQuotes = true;\r\n      } else if (end === -1 && tokenChars$1[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\r\n        if (end === -1) end = i;\r\n      } else if (code === 0x3b || code === 0x2c) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        let value = header.slice(start, end);\r\n        if (mustUnescape) {\r\n          value = value.replace(/\\\\/g, '');\r\n          mustUnescape = false;\r\n        }\r\n        push$1(params, paramName, value);\r\n        if (code === 0x2c) {\r\n          push$1(offers, extensionName, params);\r\n          params = Object.create(null);\r\n          extensionName = undefined;\r\n        }\r\n\r\n        paramName = undefined;\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\r\n    throw new SyntaxError('Unexpected end of input');\r\n  }\r\n\r\n  if (end === -1) end = i;\r\n  const token = header.slice(start, end);\r\n  if (extensionName === undefined) {\r\n    push$1(offers, token, params);\r\n  } else {\r\n    if (paramName === undefined) {\r\n      push$1(params, token, true);\r\n    } else if (mustUnescape) {\r\n      push$1(params, paramName, token.replace(/\\\\/g, ''));\r\n    } else {\r\n      push$1(params, paramName, token);\r\n    }\r\n    push$1(offers, extensionName, params);\r\n  }\r\n\r\n  return offers;\r\n}\r\n\r\n/**\r\n * Builds the `Sec-WebSocket-Extensions` header field value.\r\n *\r\n * @param {Object} extensions The map of extensions and parameters to format\r\n * @return {String} A string representing the given object\r\n * @public\r\n */\r\nfunction format$1(extensions) {\r\n  return Object.keys(extensions)\r\n    .map((extension) => {\r\n      let configurations = extensions[extension];\r\n      if (!Array.isArray(configurations)) configurations = [configurations];\r\n      return configurations\r\n        .map((params) => {\r\n          return [extension]\r\n            .concat(\r\n              Object.keys(params).map((k) => {\r\n                let values = params[k];\r\n                if (!Array.isArray(values)) values = [values];\r\n                return values\r\n                  .map((v) => (v === true ? k : `${k}=${v}`))\r\n                  .join('; ');\r\n              })\r\n            )\r\n            .join('; ');\r\n        })\r\n        .join(', ');\r\n    })\r\n    .join(', ');\r\n}\r\n\r\nvar extension$1 = { format: format$1, parse: parse$6 };\r\n\r\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\r\n\r\nconst EventEmitter$1 = require$$0$5;\r\nconst https$2 = require$$1$3;\r\nconst http$3 = require$$1$2;\r\nconst net = require$$3$1;\r\nconst tls = require$$4;\r\nconst { randomBytes, createHash: createHash$1 } = require$$5;\r\nconst { URL: URL$2 } = require$$0$9;\r\n\r\nconst PerMessageDeflate$1 = permessageDeflate;\r\nconst Receiver = receiver;\r\nconst Sender = sender;\r\nconst {\r\n  BINARY_TYPES,\r\n  EMPTY_BUFFER,\r\n  GUID: GUID$1,\r\n  kForOnEventAttribute,\r\n  kListener,\r\n  kStatusCode,\r\n  kWebSocket: kWebSocket$1,\r\n  NOOP\r\n} = constants;\r\nconst {\r\n  EventTarget: { addEventListener, removeEventListener }\r\n} = eventTarget;\r\nconst { format, parse: parse$5 } = extension$1;\r\nconst { toBuffer } = bufferUtil$1.exports;\r\n\r\nconst closeTimeout = 30 * 1000;\r\nconst kAborted = Symbol('kAborted');\r\nconst protocolVersions = [8, 13];\r\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\r\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\r\n\r\n/**\r\n * Class representing a WebSocket.\r\n *\r\n * @extends EventEmitter\r\n */\r\nclass WebSocket$1 extends EventEmitter$1 {\r\n  /**\r\n   * Create a new `WebSocket`.\r\n   *\r\n   * @param {(String|URL)} address The URL to which to connect\r\n   * @param {(String|String[])} [protocols] The subprotocols\r\n   * @param {Object} [options] Connection options\r\n   */\r\n  constructor(address, protocols, options) {\r\n    super();\r\n\r\n    this._binaryType = BINARY_TYPES[0];\r\n    this._closeCode = 1006;\r\n    this._closeFrameReceived = false;\r\n    this._closeFrameSent = false;\r\n    this._closeMessage = EMPTY_BUFFER;\r\n    this._closeTimer = null;\r\n    this._extensions = {};\r\n    this._paused = false;\r\n    this._protocol = '';\r\n    this._readyState = WebSocket$1.CONNECTING;\r\n    this._receiver = null;\r\n    this._sender = null;\r\n    this._socket = null;\r\n\r\n    if (address !== null) {\r\n      this._bufferedAmount = 0;\r\n      this._isServer = false;\r\n      this._redirects = 0;\r\n\r\n      if (protocols === undefined) {\r\n        protocols = [];\r\n      } else if (!Array.isArray(protocols)) {\r\n        if (typeof protocols === 'object' && protocols !== null) {\r\n          options = protocols;\r\n          protocols = [];\r\n        } else {\r\n          protocols = [protocols];\r\n        }\r\n      }\r\n\r\n      initAsClient(this, address, protocols, options);\r\n    } else {\r\n      this._isServer = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This deviates from the WHATWG interface since ws doesn't support the\r\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\r\n   * type).\r\n   *\r\n   * @type {String}\r\n   */\r\n  get binaryType() {\r\n    return this._binaryType;\r\n  }\r\n\r\n  set binaryType(type) {\r\n    if (!BINARY_TYPES.includes(type)) return;\r\n\r\n    this._binaryType = type;\r\n\r\n    //\r\n    // Allow to change `binaryType` on the fly.\r\n    //\r\n    if (this._receiver) this._receiver._binaryType = type;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get bufferedAmount() {\r\n    if (!this._socket) return this._bufferedAmount;\r\n\r\n    return this._socket._writableState.length + this._sender._bufferedBytes;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get extensions() {\r\n    return Object.keys(this._extensions).join();\r\n  }\r\n\r\n  /**\r\n   * @type {Boolean}\r\n   */\r\n  get isPaused() {\r\n    return this._paused;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onclose() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onerror() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onopen() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onmessage() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get protocol() {\r\n    return this._protocol;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get readyState() {\r\n    return this._readyState;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get url() {\r\n    return this._url;\r\n  }\r\n\r\n  /**\r\n   * Set up the socket and the internal resources.\r\n   *\r\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\r\n   *     server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Object} options Options object\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   * @private\r\n   */\r\n  setSocket(socket, head, options) {\r\n    const receiver = new Receiver({\r\n      binaryType: this.binaryType,\r\n      extensions: this._extensions,\r\n      isServer: this._isServer,\r\n      maxPayload: options.maxPayload,\r\n      skipUTF8Validation: options.skipUTF8Validation\r\n    });\r\n\r\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\r\n    this._receiver = receiver;\r\n    this._socket = socket;\r\n\r\n    receiver[kWebSocket$1] = this;\r\n    socket[kWebSocket$1] = this;\r\n\r\n    receiver.on('conclude', receiverOnConclude);\r\n    receiver.on('drain', receiverOnDrain);\r\n    receiver.on('error', receiverOnError);\r\n    receiver.on('message', receiverOnMessage);\r\n    receiver.on('ping', receiverOnPing);\r\n    receiver.on('pong', receiverOnPong);\r\n\r\n    socket.setTimeout(0);\r\n    socket.setNoDelay();\r\n\r\n    if (head.length > 0) socket.unshift(head);\r\n\r\n    socket.on('close', socketOnClose);\r\n    socket.on('data', socketOnData);\r\n    socket.on('end', socketOnEnd);\r\n    socket.on('error', socketOnError$1);\r\n\r\n    this._readyState = WebSocket$1.OPEN;\r\n    this.emit('open');\r\n  }\r\n\r\n  /**\r\n   * Emit the `'close'` event.\r\n   *\r\n   * @private\r\n   */\r\n  emitClose() {\r\n    if (!this._socket) {\r\n      this._readyState = WebSocket$1.CLOSED;\r\n      this.emit('close', this._closeCode, this._closeMessage);\r\n      return;\r\n    }\r\n\r\n    if (this._extensions[PerMessageDeflate$1.extensionName]) {\r\n      this._extensions[PerMessageDeflate$1.extensionName].cleanup();\r\n    }\r\n\r\n    this._receiver.removeAllListeners();\r\n    this._readyState = WebSocket$1.CLOSED;\r\n    this.emit('close', this._closeCode, this._closeMessage);\r\n  }\r\n\r\n  /**\r\n   * Start a closing handshake.\r\n   *\r\n   *          +----------+   +-----------+   +----------+\r\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\r\n   *    |     +----------+   +-----------+   +----------+     |\r\n   *          +----------+   +-----------+         |\r\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\r\n   *          +----------+   +-----------+   |\r\n   *    |           |                        |   +---+        |\r\n   *                +------------------------+-->|fin| - - - -\r\n   *    |         +---+                      |   +---+\r\n   *     - - - - -|fin|<---------------------+\r\n   *              +---+\r\n   *\r\n   * @param {Number} [code] Status code explaining why the connection is closing\r\n   * @param {(String|Buffer)} [data] The reason why the connection is\r\n   *     closing\r\n   * @public\r\n   */\r\n  close(code, data) {\r\n    if (this.readyState === WebSocket$1.CLOSED) return;\r\n    if (this.readyState === WebSocket$1.CONNECTING) {\r\n      const msg = 'WebSocket was closed before the connection was established';\r\n      return abortHandshake$1(this, this._req, msg);\r\n    }\r\n\r\n    if (this.readyState === WebSocket$1.CLOSING) {\r\n      if (\r\n        this._closeFrameSent &&\r\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\r\n      ) {\r\n        this._socket.end();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    this._readyState = WebSocket$1.CLOSING;\r\n    this._sender.close(code, data, !this._isServer, (err) => {\r\n      //\r\n      // This error is handled by the `'error'` listener on the socket. We only\r\n      // want to know if the close frame has been sent here.\r\n      //\r\n      if (err) return;\r\n\r\n      this._closeFrameSent = true;\r\n\r\n      if (\r\n        this._closeFrameReceived ||\r\n        this._receiver._writableState.errorEmitted\r\n      ) {\r\n        this._socket.end();\r\n      }\r\n    });\r\n\r\n    //\r\n    // Specify a timeout for the closing handshake to complete.\r\n    //\r\n    this._closeTimer = setTimeout(\r\n      this._socket.destroy.bind(this._socket),\r\n      closeTimeout\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Pause the socket.\r\n   *\r\n   * @public\r\n   */\r\n  pause() {\r\n    if (\r\n      this.readyState === WebSocket$1.CONNECTING ||\r\n      this.readyState === WebSocket$1.CLOSED\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this._paused = true;\r\n    this._socket.pause();\r\n  }\r\n\r\n  /**\r\n   * Send a ping.\r\n   *\r\n   * @param {*} [data] The data to send\r\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when the ping is sent\r\n   * @public\r\n   */\r\n  ping(data, mask, cb) {\r\n    if (this.readyState === WebSocket$1.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof data === 'function') {\r\n      cb = data;\r\n      data = mask = undefined;\r\n    } else if (typeof mask === 'function') {\r\n      cb = mask;\r\n      mask = undefined;\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket$1.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    if (mask === undefined) mask = !this._isServer;\r\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\r\n  }\r\n\r\n  /**\r\n   * Send a pong.\r\n   *\r\n   * @param {*} [data] The data to send\r\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when the pong is sent\r\n   * @public\r\n   */\r\n  pong(data, mask, cb) {\r\n    if (this.readyState === WebSocket$1.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof data === 'function') {\r\n      cb = data;\r\n      data = mask = undefined;\r\n    } else if (typeof mask === 'function') {\r\n      cb = mask;\r\n      mask = undefined;\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket$1.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    if (mask === undefined) mask = !this._isServer;\r\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\r\n  }\r\n\r\n  /**\r\n   * Resume the socket.\r\n   *\r\n   * @public\r\n   */\r\n  resume() {\r\n    if (\r\n      this.readyState === WebSocket$1.CONNECTING ||\r\n      this.readyState === WebSocket$1.CLOSED\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this._paused = false;\r\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\r\n  }\r\n\r\n  /**\r\n   * Send a data message.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Object} [options] Options object\r\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\r\n   *     text\r\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\r\n   *     `data`\r\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\r\n   *     last one\r\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when data is written out\r\n   * @public\r\n   */\r\n  send(data, options, cb) {\r\n    if (this.readyState === WebSocket$1.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof options === 'function') {\r\n      cb = options;\r\n      options = {};\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket$1.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    const opts = {\r\n      binary: typeof data !== 'string',\r\n      mask: !this._isServer,\r\n      compress: true,\r\n      fin: true,\r\n      ...options\r\n    };\r\n\r\n    if (!this._extensions[PerMessageDeflate$1.extensionName]) {\r\n      opts.compress = false;\r\n    }\r\n\r\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\r\n  }\r\n\r\n  /**\r\n   * Forcibly close the connection.\r\n   *\r\n   * @public\r\n   */\r\n  terminate() {\r\n    if (this.readyState === WebSocket$1.CLOSED) return;\r\n    if (this.readyState === WebSocket$1.CONNECTING) {\r\n      const msg = 'WebSocket was closed before the connection was established';\r\n      return abortHandshake$1(this, this._req, msg);\r\n    }\r\n\r\n    if (this._socket) {\r\n      this._readyState = WebSocket$1.CLOSING;\r\n      this._socket.destroy();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @constant {Number} CONNECTING\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'CONNECTING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CONNECTING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CONNECTING\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'CONNECTING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CONNECTING')\r\n});\r\n\r\n/**\r\n * @constant {Number} OPEN\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'OPEN', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('OPEN')\r\n});\r\n\r\n/**\r\n * @constant {Number} OPEN\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'OPEN', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('OPEN')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSING\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'CLOSING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSING\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'CLOSING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSED\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'CLOSED', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSED')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSED\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'CLOSED', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSED')\r\n});\r\n\r\n[\r\n  'binaryType',\r\n  'bufferedAmount',\r\n  'extensions',\r\n  'isPaused',\r\n  'protocol',\r\n  'readyState',\r\n  'url'\r\n].forEach((property) => {\r\n  Object.defineProperty(WebSocket$1.prototype, property, { enumerable: true });\r\n});\r\n\r\n//\r\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\r\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\r\n//\r\n['open', 'error', 'close', 'message'].forEach((method) => {\r\n  Object.defineProperty(WebSocket$1.prototype, `on${method}`, {\r\n    enumerable: true,\r\n    get() {\r\n      for (const listener of this.listeners(method)) {\r\n        if (listener[kForOnEventAttribute]) return listener[kListener];\r\n      }\r\n\r\n      return null;\r\n    },\r\n    set(handler) {\r\n      for (const listener of this.listeners(method)) {\r\n        if (listener[kForOnEventAttribute]) {\r\n          this.removeListener(method, listener);\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (typeof handler !== 'function') return;\r\n\r\n      this.addEventListener(method, handler, {\r\n        [kForOnEventAttribute]: true\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\nWebSocket$1.prototype.addEventListener = addEventListener;\r\nWebSocket$1.prototype.removeEventListener = removeEventListener;\r\n\r\nvar websocket = WebSocket$1;\r\n\r\n/**\r\n * Initialize a WebSocket client.\r\n *\r\n * @param {WebSocket} websocket The client to initialize\r\n * @param {(String|URL)} address The URL to which to connect\r\n * @param {Array} protocols The subprotocols\r\n * @param {Object} [options] Connection options\r\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\r\n *     redirects\r\n * @param {Function} [options.generateMask] The function used to generate the\r\n *     masking key\r\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\r\n *     handshake request\r\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\r\n *     size\r\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\r\n *     allowed\r\n * @param {String} [options.origin] Value of the `Origin` or\r\n *     `Sec-WebSocket-Origin` header\r\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\r\n *     permessage-deflate\r\n * @param {Number} [options.protocolVersion=13] Value of the\r\n *     `Sec-WebSocket-Version` header\r\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n *     not to skip UTF-8 validation for text and close messages\r\n * @private\r\n */\r\nfunction initAsClient(websocket, address, protocols, options) {\r\n  const opts = {\r\n    protocolVersion: protocolVersions[1],\r\n    maxPayload: 100 * 1024 * 1024,\r\n    skipUTF8Validation: false,\r\n    perMessageDeflate: true,\r\n    followRedirects: false,\r\n    maxRedirects: 10,\r\n    ...options,\r\n    createConnection: undefined,\r\n    socketPath: undefined,\r\n    hostname: undefined,\r\n    protocol: undefined,\r\n    timeout: undefined,\r\n    method: 'GET',\r\n    host: undefined,\r\n    path: undefined,\r\n    port: undefined\r\n  };\r\n\r\n  if (!protocolVersions.includes(opts.protocolVersion)) {\r\n    throw new RangeError(\r\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\r\n        `(supported versions: ${protocolVersions.join(', ')})`\r\n    );\r\n  }\r\n\r\n  let parsedUrl;\r\n\r\n  if (address instanceof URL$2) {\r\n    parsedUrl = address;\r\n    websocket._url = address.href;\r\n  } else {\r\n    try {\r\n      parsedUrl = new URL$2(address);\r\n    } catch (e) {\r\n      throw new SyntaxError(`Invalid URL: ${address}`);\r\n    }\r\n\r\n    websocket._url = address;\r\n  }\r\n\r\n  const isSecure = parsedUrl.protocol === 'wss:';\r\n  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';\r\n  let invalidURLMessage;\r\n\r\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isUnixSocket) {\r\n    invalidURLMessage =\r\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\r\n  } else if (isUnixSocket && !parsedUrl.pathname) {\r\n    invalidURLMessage = \"The URL's pathname is empty\";\r\n  } else if (parsedUrl.hash) {\r\n    invalidURLMessage = 'The URL contains a fragment identifier';\r\n  }\r\n\r\n  if (invalidURLMessage) {\r\n    const err = new SyntaxError(invalidURLMessage);\r\n\r\n    if (websocket._redirects === 0) {\r\n      throw err;\r\n    } else {\r\n      emitErrorAndClose(websocket, err);\r\n      return;\r\n    }\r\n  }\r\n\r\n  const defaultPort = isSecure ? 443 : 80;\r\n  const key = randomBytes(16).toString('base64');\r\n  const request = isSecure ? https$2.request : http$3.request;\r\n  const protocolSet = new Set();\r\n  let perMessageDeflate;\r\n\r\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\r\n  opts.defaultPort = opts.defaultPort || defaultPort;\r\n  opts.port = parsedUrl.port || defaultPort;\r\n  opts.host = parsedUrl.hostname.startsWith('[')\r\n    ? parsedUrl.hostname.slice(1, -1)\r\n    : parsedUrl.hostname;\r\n  opts.headers = {\r\n    ...opts.headers,\r\n    'Sec-WebSocket-Version': opts.protocolVersion,\r\n    'Sec-WebSocket-Key': key,\r\n    Connection: 'Upgrade',\r\n    Upgrade: 'websocket'\r\n  };\r\n  opts.path = parsedUrl.pathname + parsedUrl.search;\r\n  opts.timeout = opts.handshakeTimeout;\r\n\r\n  if (opts.perMessageDeflate) {\r\n    perMessageDeflate = new PerMessageDeflate$1(\r\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\r\n      false,\r\n      opts.maxPayload\r\n    );\r\n    opts.headers['Sec-WebSocket-Extensions'] = format({\r\n      [PerMessageDeflate$1.extensionName]: perMessageDeflate.offer()\r\n    });\r\n  }\r\n  if (protocols.length) {\r\n    for (const protocol of protocols) {\r\n      if (\r\n        typeof protocol !== 'string' ||\r\n        !subprotocolRegex.test(protocol) ||\r\n        protocolSet.has(protocol)\r\n      ) {\r\n        throw new SyntaxError(\r\n          'An invalid or duplicated subprotocol was specified'\r\n        );\r\n      }\r\n\r\n      protocolSet.add(protocol);\r\n    }\r\n\r\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\r\n  }\r\n  if (opts.origin) {\r\n    if (opts.protocolVersion < 13) {\r\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\r\n    } else {\r\n      opts.headers.Origin = opts.origin;\r\n    }\r\n  }\r\n  if (parsedUrl.username || parsedUrl.password) {\r\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\r\n  }\r\n\r\n  if (isUnixSocket) {\r\n    const parts = opts.path.split(':');\r\n\r\n    opts.socketPath = parts[0];\r\n    opts.path = parts[1];\r\n  }\r\n\r\n  let req;\r\n\r\n  if (opts.followRedirects) {\r\n    if (websocket._redirects === 0) {\r\n      websocket._originalUnixSocket = isUnixSocket;\r\n      websocket._originalSecure = isSecure;\r\n      websocket._originalHostOrSocketPath = isUnixSocket\r\n        ? opts.socketPath\r\n        : parsedUrl.host;\r\n\r\n      const headers = options && options.headers;\r\n\r\n      //\r\n      // Shallow copy the user provided options so that headers can be changed\r\n      // without mutating the original object.\r\n      //\r\n      options = { ...options, headers: {} };\r\n\r\n      if (headers) {\r\n        for (const [key, value] of Object.entries(headers)) {\r\n          options.headers[key.toLowerCase()] = value;\r\n        }\r\n      }\r\n    } else if (websocket.listenerCount('redirect') === 0) {\r\n      const isSameHost = isUnixSocket\r\n        ? websocket._originalUnixSocket\r\n          ? opts.socketPath === websocket._originalHostOrSocketPath\r\n          : false\r\n        : websocket._originalUnixSocket\r\n        ? false\r\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\r\n\r\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\r\n        //\r\n        // Match curl 7.77.0 behavior and drop the following headers. These\r\n        // headers are also dropped when following a redirect to a subdomain.\r\n        //\r\n        delete opts.headers.authorization;\r\n        delete opts.headers.cookie;\r\n\r\n        if (!isSameHost) delete opts.headers.host;\r\n\r\n        opts.auth = undefined;\r\n      }\r\n    }\r\n\r\n    //\r\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\r\n    // If the `Authorization` header is set, then there is nothing to do as it\r\n    // will take precedence.\r\n    //\r\n    if (opts.auth && !options.headers.authorization) {\r\n      options.headers.authorization =\r\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\r\n    }\r\n\r\n    req = websocket._req = request(opts);\r\n\r\n    if (websocket._redirects) {\r\n      //\r\n      // Unlike what is done for the `'upgrade'` event, no early exit is\r\n      // triggered here if the user calls `websocket.close()` or\r\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\r\n      // is because the user can also call `request.destroy()` with an error\r\n      // before calling `websocket.close()` or `websocket.terminate()` and this\r\n      // would result in an error being emitted on the `request` object with no\r\n      // `'error'` event listeners attached.\r\n      //\r\n      websocket.emit('redirect', websocket.url, req);\r\n    }\r\n  } else {\r\n    req = websocket._req = request(opts);\r\n  }\r\n\r\n  if (opts.timeout) {\r\n    req.on('timeout', () => {\r\n      abortHandshake$1(websocket, req, 'Opening handshake has timed out');\r\n    });\r\n  }\r\n\r\n  req.on('error', (err) => {\r\n    if (req === null || req[kAborted]) return;\r\n\r\n    req = websocket._req = null;\r\n    emitErrorAndClose(websocket, err);\r\n  });\r\n\r\n  req.on('response', (res) => {\r\n    const location = res.headers.location;\r\n    const statusCode = res.statusCode;\r\n\r\n    if (\r\n      location &&\r\n      opts.followRedirects &&\r\n      statusCode >= 300 &&\r\n      statusCode < 400\r\n    ) {\r\n      if (++websocket._redirects > opts.maxRedirects) {\r\n        abortHandshake$1(websocket, req, 'Maximum redirects exceeded');\r\n        return;\r\n      }\r\n\r\n      req.abort();\r\n\r\n      let addr;\r\n\r\n      try {\r\n        addr = new URL$2(location, address);\r\n      } catch (e) {\r\n        const err = new SyntaxError(`Invalid URL: ${location}`);\r\n        emitErrorAndClose(websocket, err);\r\n        return;\r\n      }\r\n\r\n      initAsClient(websocket, addr, protocols, options);\r\n    } else if (!websocket.emit('unexpected-response', req, res)) {\r\n      abortHandshake$1(\r\n        websocket,\r\n        req,\r\n        `Unexpected server response: ${res.statusCode}`\r\n      );\r\n    }\r\n  });\r\n\r\n  req.on('upgrade', (res, socket, head) => {\r\n    websocket.emit('upgrade', res);\r\n\r\n    //\r\n    // The user may have closed the connection from a listener of the\r\n    // `'upgrade'` event.\r\n    //\r\n    if (websocket.readyState !== WebSocket$1.CONNECTING) return;\r\n\r\n    req = websocket._req = null;\r\n\r\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\r\n      abortHandshake$1(websocket, socket, 'Invalid Upgrade header');\r\n      return;\r\n    }\r\n\r\n    const digest = createHash$1('sha1')\r\n      .update(key + GUID$1)\r\n      .digest('base64');\r\n\r\n    if (res.headers['sec-websocket-accept'] !== digest) {\r\n      abortHandshake$1(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\r\n      return;\r\n    }\r\n\r\n    const serverProt = res.headers['sec-websocket-protocol'];\r\n    let protError;\r\n\r\n    if (serverProt !== undefined) {\r\n      if (!protocolSet.size) {\r\n        protError = 'Server sent a subprotocol but none was requested';\r\n      } else if (!protocolSet.has(serverProt)) {\r\n        protError = 'Server sent an invalid subprotocol';\r\n      }\r\n    } else if (protocolSet.size) {\r\n      protError = 'Server sent no subprotocol';\r\n    }\r\n\r\n    if (protError) {\r\n      abortHandshake$1(websocket, socket, protError);\r\n      return;\r\n    }\r\n\r\n    if (serverProt) websocket._protocol = serverProt;\r\n\r\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\r\n\r\n    if (secWebSocketExtensions !== undefined) {\r\n      if (!perMessageDeflate) {\r\n        const message =\r\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\r\n          'was requested';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      let extensions;\r\n\r\n      try {\r\n        extensions = parse$5(secWebSocketExtensions);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Extensions header';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      const extensionNames = Object.keys(extensions);\r\n\r\n      if (\r\n        extensionNames.length !== 1 ||\r\n        extensionNames[0] !== PerMessageDeflate$1.extensionName\r\n      ) {\r\n        const message = 'Server indicated an extension that was not requested';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        perMessageDeflate.accept(extensions[PerMessageDeflate$1.extensionName]);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Extensions header';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      websocket._extensions[PerMessageDeflate$1.extensionName] =\r\n        perMessageDeflate;\r\n    }\r\n\r\n    websocket.setSocket(socket, head, {\r\n      generateMask: opts.generateMask,\r\n      maxPayload: opts.maxPayload,\r\n      skipUTF8Validation: opts.skipUTF8Validation\r\n    });\r\n  });\r\n\r\n  req.end();\r\n}\r\n\r\n/**\r\n * Emit the `'error'` and `'close'` events.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {Error} The error to emit\r\n * @private\r\n */\r\nfunction emitErrorAndClose(websocket, err) {\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n  websocket.emit('error', err);\r\n  websocket.emitClose();\r\n}\r\n\r\n/**\r\n * Create a `net.Socket` and initiate a connection.\r\n *\r\n * @param {Object} options Connection options\r\n * @return {net.Socket} The newly created socket used to start the connection\r\n * @private\r\n */\r\nfunction netConnect(options) {\r\n  options.path = options.socketPath;\r\n  return net.connect(options);\r\n}\r\n\r\n/**\r\n * Create a `tls.TLSSocket` and initiate a connection.\r\n *\r\n * @param {Object} options Connection options\r\n * @return {tls.TLSSocket} The newly created socket used to start the connection\r\n * @private\r\n */\r\nfunction tlsConnect(options) {\r\n  options.path = undefined;\r\n\r\n  if (!options.servername && options.servername !== '') {\r\n    options.servername = net.isIP(options.host) ? '' : options.host;\r\n  }\r\n\r\n  return tls.connect(options);\r\n}\r\n\r\n/**\r\n * Abort the handshake and emit an error.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\r\n *     abort or the socket to destroy\r\n * @param {String} message The error message\r\n * @private\r\n */\r\nfunction abortHandshake$1(websocket, stream, message) {\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n\r\n  const err = new Error(message);\r\n  Error.captureStackTrace(err, abortHandshake$1);\r\n\r\n  if (stream.setHeader) {\r\n    stream[kAborted] = true;\r\n    stream.abort();\r\n\r\n    if (stream.socket && !stream.socket.destroyed) {\r\n      //\r\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\r\n      // called after the request completed. See\r\n      // https://github.com/websockets/ws/issues/1869.\r\n      //\r\n      stream.socket.destroy();\r\n    }\r\n\r\n    process.nextTick(emitErrorAndClose, websocket, err);\r\n  } else {\r\n    stream.destroy(err);\r\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\r\n    stream.once('close', websocket.emitClose.bind(websocket));\r\n  }\r\n}\r\n\r\n/**\r\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\r\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {*} [data] The data to send\r\n * @param {Function} [cb] Callback\r\n * @private\r\n */\r\nfunction sendAfterClose(websocket, data, cb) {\r\n  if (data) {\r\n    const length = toBuffer(data).length;\r\n\r\n    //\r\n    // The `_bufferedAmount` property is used only when the peer is a client and\r\n    // the opening handshake fails. Under these circumstances, in fact, the\r\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\r\n    // properties are set to `null`.\r\n    //\r\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\r\n    else websocket._bufferedAmount += length;\r\n  }\r\n\r\n  if (cb) {\r\n    const err = new Error(\r\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\r\n        `(${readyStates[websocket.readyState]})`\r\n    );\r\n    cb(err);\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'conclude'` event.\r\n *\r\n * @param {Number} code The status code\r\n * @param {Buffer} reason The reason for closing\r\n * @private\r\n */\r\nfunction receiverOnConclude(code, reason) {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  websocket._closeFrameReceived = true;\r\n  websocket._closeMessage = reason;\r\n  websocket._closeCode = code;\r\n\r\n  if (websocket._socket[kWebSocket$1] === undefined) return;\r\n\r\n  websocket._socket.removeListener('data', socketOnData);\r\n  process.nextTick(resume, websocket._socket);\r\n\r\n  if (code === 1005) websocket.close();\r\n  else websocket.close(code, reason);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'drain'` event.\r\n *\r\n * @private\r\n */\r\nfunction receiverOnDrain() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  if (!websocket.isPaused) websocket._socket.resume();\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'error'` event.\r\n *\r\n * @param {(RangeError|Error)} err The emitted error\r\n * @private\r\n */\r\nfunction receiverOnError(err) {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  if (websocket._socket[kWebSocket$1] !== undefined) {\r\n    websocket._socket.removeListener('data', socketOnData);\r\n\r\n    //\r\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\r\n    // https://github.com/websockets/ws/issues/1940.\r\n    //\r\n    process.nextTick(resume, websocket._socket);\r\n\r\n    websocket.close(err[kStatusCode]);\r\n  }\r\n\r\n  websocket.emit('error', err);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'finish'` event.\r\n *\r\n * @private\r\n */\r\nfunction receiverOnFinish() {\r\n  this[kWebSocket$1].emitClose();\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'message'` event.\r\n *\r\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\r\n * @param {Boolean} isBinary Specifies whether the message is binary or not\r\n * @private\r\n */\r\nfunction receiverOnMessage(data, isBinary) {\r\n  this[kWebSocket$1].emit('message', data, isBinary);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'ping'` event.\r\n *\r\n * @param {Buffer} data The data included in the ping frame\r\n * @private\r\n */\r\nfunction receiverOnPing(data) {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  websocket.pong(data, !websocket._isServer, NOOP);\r\n  websocket.emit('ping', data);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'pong'` event.\r\n *\r\n * @param {Buffer} data The data included in the pong frame\r\n * @private\r\n */\r\nfunction receiverOnPong(data) {\r\n  this[kWebSocket$1].emit('pong', data);\r\n}\r\n\r\n/**\r\n * Resume a readable stream\r\n *\r\n * @param {Readable} stream The readable stream\r\n * @private\r\n */\r\nfunction resume(stream) {\r\n  stream.resume();\r\n}\r\n\r\n/**\r\n * The listener of the `net.Socket` `'close'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnClose() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  this.removeListener('close', socketOnClose);\r\n  this.removeListener('data', socketOnData);\r\n  this.removeListener('end', socketOnEnd);\r\n\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n\r\n  let chunk;\r\n\r\n  //\r\n  // The close frame might not have been received or the `'end'` event emitted,\r\n  // for example, if the socket was destroyed due to an error. Ensure that the\r\n  // `receiver` stream is closed after writing any remaining buffered data to\r\n  // it. If the readable side of the socket is in flowing mode then there is no\r\n  // buffered data as everything has been already written and `readable.read()`\r\n  // will return `null`. If instead, the socket is paused, any possible buffered\r\n  // data will be read as a single chunk.\r\n  //\r\n  if (\r\n    !this._readableState.endEmitted &&\r\n    !websocket._closeFrameReceived &&\r\n    !websocket._receiver._writableState.errorEmitted &&\r\n    (chunk = websocket._socket.read()) !== null\r\n  ) {\r\n    websocket._receiver.write(chunk);\r\n  }\r\n\r\n  websocket._receiver.end();\r\n\r\n  this[kWebSocket$1] = undefined;\r\n\r\n  clearTimeout(websocket._closeTimer);\r\n\r\n  if (\r\n    websocket._receiver._writableState.finished ||\r\n    websocket._receiver._writableState.errorEmitted\r\n  ) {\r\n    websocket.emitClose();\r\n  } else {\r\n    websocket._receiver.on('error', receiverOnFinish);\r\n    websocket._receiver.on('finish', receiverOnFinish);\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the `net.Socket` `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction socketOnData(chunk) {\r\n  if (!this[kWebSocket$1]._receiver.write(chunk)) {\r\n    this.pause();\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the `net.Socket` `'end'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnEnd() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n  websocket._receiver.end();\r\n  this.end();\r\n}\r\n\r\n/**\r\n * The listener of the `net.Socket` `'error'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnError$1() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  this.removeListener('error', socketOnError$1);\r\n  this.on('error', NOOP);\r\n\r\n  if (websocket) {\r\n    websocket._readyState = WebSocket$1.CLOSING;\r\n    this.destroy();\r\n  }\r\n}\r\n\r\nconst { tokenChars } = validation.exports;\r\n\r\n/**\r\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\r\n *\r\n * @param {String} header The field value of the header\r\n * @return {Set} The subprotocol names\r\n * @public\r\n */\r\nfunction parse$4(header) {\r\n  const protocols = new Set();\r\n  let start = -1;\r\n  let end = -1;\r\n  let i = 0;\r\n\r\n  for (i; i < header.length; i++) {\r\n    const code = header.charCodeAt(i);\r\n\r\n    if (end === -1 && tokenChars[code] === 1) {\r\n      if (start === -1) start = i;\r\n    } else if (\r\n      i !== 0 &&\r\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\r\n    ) {\r\n      if (end === -1 && start !== -1) end = i;\r\n    } else if (code === 0x2c /* ',' */) {\r\n      if (start === -1) {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n\r\n      if (end === -1) end = i;\r\n\r\n      const protocol = header.slice(start, end);\r\n\r\n      if (protocols.has(protocol)) {\r\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\r\n      }\r\n\r\n      protocols.add(protocol);\r\n      start = end = -1;\r\n    } else {\r\n      throw new SyntaxError(`Unexpected character at index ${i}`);\r\n    }\r\n  }\r\n\r\n  if (start === -1 || end !== -1) {\r\n    throw new SyntaxError('Unexpected end of input');\r\n  }\r\n\r\n  const protocol = header.slice(start, i);\r\n\r\n  if (protocols.has(protocol)) {\r\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\r\n  }\r\n\r\n  protocols.add(protocol);\r\n  return protocols;\r\n}\r\n\r\nvar subprotocol$1 = { parse: parse$4 };\r\n\r\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\r\n\r\nconst EventEmitter = require$$0$5;\r\nconst http$2 = require$$1$2;\r\nconst { createHash } = require$$5;\r\n\r\nconst extension = extension$1;\r\nconst PerMessageDeflate = permessageDeflate;\r\nconst subprotocol = subprotocol$1;\r\nconst WebSocket = websocket;\r\nconst { GUID, kWebSocket } = constants;\r\n\r\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\r\n\r\nconst RUNNING = 0;\r\nconst CLOSING = 1;\r\nconst CLOSED = 2;\r\n\r\n/**\r\n * Class representing a WebSocket server.\r\n *\r\n * @extends EventEmitter\r\n */\r\nclass WebSocketServer extends EventEmitter {\r\n  /**\r\n   * Create a `WebSocketServer` instance.\r\n   *\r\n   * @param {Object} options Configuration options\r\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\r\n   *     pending connections\r\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\r\n   *     track clients\r\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\r\n   * @param {String} [options.host] The hostname where to bind the server\r\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\r\n   *     size\r\n   * @param {Boolean} [options.noServer=false] Enable no server mode\r\n   * @param {String} [options.path] Accept only connections matching this path\r\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\r\n   *     permessage-deflate\r\n   * @param {Number} [options.port] The port where to bind the server\r\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\r\n   *     server to use\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   * @param {Function} [options.verifyClient] A hook to reject connections\r\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\r\n   *     class to use. It must be the `WebSocket` class or class that extends it\r\n   * @param {Function} [callback] A listener for the `listening` event\r\n   */\r\n  constructor(options, callback) {\r\n    super();\r\n\r\n    options = {\r\n      maxPayload: 100 * 1024 * 1024,\r\n      skipUTF8Validation: false,\r\n      perMessageDeflate: false,\r\n      handleProtocols: null,\r\n      clientTracking: true,\r\n      verifyClient: null,\r\n      noServer: false,\r\n      backlog: null, // use default (511 as implemented in net.js)\r\n      server: null,\r\n      host: null,\r\n      path: null,\r\n      port: null,\r\n      WebSocket,\r\n      ...options\r\n    };\r\n\r\n    if (\r\n      (options.port == null && !options.server && !options.noServer) ||\r\n      (options.port != null && (options.server || options.noServer)) ||\r\n      (options.server && options.noServer)\r\n    ) {\r\n      throw new TypeError(\r\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\r\n          'must be specified'\r\n      );\r\n    }\r\n\r\n    if (options.port != null) {\r\n      this._server = http$2.createServer((req, res) => {\r\n        const body = http$2.STATUS_CODES[426];\r\n\r\n        res.writeHead(426, {\r\n          'Content-Length': body.length,\r\n          'Content-Type': 'text/plain'\r\n        });\r\n        res.end(body);\r\n      });\r\n      this._server.listen(\r\n        options.port,\r\n        options.host,\r\n        options.backlog,\r\n        callback\r\n      );\r\n    } else if (options.server) {\r\n      this._server = options.server;\r\n    }\r\n\r\n    if (this._server) {\r\n      const emitConnection = this.emit.bind(this, 'connection');\r\n\r\n      this._removeListeners = addListeners(this._server, {\r\n        listening: this.emit.bind(this, 'listening'),\r\n        error: this.emit.bind(this, 'error'),\r\n        upgrade: (req, socket, head) => {\r\n          this.handleUpgrade(req, socket, head, emitConnection);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\r\n    if (options.clientTracking) {\r\n      this.clients = new Set();\r\n      this._shouldEmitClose = false;\r\n    }\r\n\r\n    this.options = options;\r\n    this._state = RUNNING;\r\n  }\r\n\r\n  /**\r\n   * Returns the bound address, the address family name, and port of the server\r\n   * as reported by the operating system if listening on an IP socket.\r\n   * If the server is listening on a pipe or UNIX domain socket, the name is\r\n   * returned as a string.\r\n   *\r\n   * @return {(Object|String|null)} The address of the server\r\n   * @public\r\n   */\r\n  address() {\r\n    if (this.options.noServer) {\r\n      throw new Error('The server is operating in \"noServer\" mode');\r\n    }\r\n\r\n    if (!this._server) return null;\r\n    return this._server.address();\r\n  }\r\n\r\n  /**\r\n   * Stop the server from accepting new connections and emit the `'close'` event\r\n   * when all existing connections are closed.\r\n   *\r\n   * @param {Function} [cb] A one-time listener for the `'close'` event\r\n   * @public\r\n   */\r\n  close(cb) {\r\n    if (this._state === CLOSED) {\r\n      if (cb) {\r\n        this.once('close', () => {\r\n          cb(new Error('The server is not running'));\r\n        });\r\n      }\r\n\r\n      process.nextTick(emitClose, this);\r\n      return;\r\n    }\r\n\r\n    if (cb) this.once('close', cb);\r\n\r\n    if (this._state === CLOSING) return;\r\n    this._state = CLOSING;\r\n\r\n    if (this.options.noServer || this.options.server) {\r\n      if (this._server) {\r\n        this._removeListeners();\r\n        this._removeListeners = this._server = null;\r\n      }\r\n\r\n      if (this.clients) {\r\n        if (!this.clients.size) {\r\n          process.nextTick(emitClose, this);\r\n        } else {\r\n          this._shouldEmitClose = true;\r\n        }\r\n      } else {\r\n        process.nextTick(emitClose, this);\r\n      }\r\n    } else {\r\n      const server = this._server;\r\n\r\n      this._removeListeners();\r\n      this._removeListeners = this._server = null;\r\n\r\n      //\r\n      // The HTTP/S server was created internally. Close it, and rely on its\r\n      // `'close'` event.\r\n      //\r\n      server.close(() => {\r\n        emitClose(this);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * See if a given request should be handled by this server instance.\r\n   *\r\n   * @param {http.IncomingMessage} req Request object to inspect\r\n   * @return {Boolean} `true` if the request is valid, else `false`\r\n   * @public\r\n   */\r\n  shouldHandle(req) {\r\n    if (this.options.path) {\r\n      const index = req.url.indexOf('?');\r\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\r\n\r\n      if (pathname !== this.options.path) return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Handle a HTTP Upgrade request.\r\n   *\r\n   * @param {http.IncomingMessage} req The request object\r\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\r\n   *     server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Function} cb Callback\r\n   * @public\r\n   */\r\n  handleUpgrade(req, socket, head, cb) {\r\n    socket.on('error', socketOnError);\r\n\r\n    const key = req.headers['sec-websocket-key'];\r\n    const version = +req.headers['sec-websocket-version'];\r\n\r\n    if (req.method !== 'GET') {\r\n      const message = 'Invalid HTTP method';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\r\n      return;\r\n    }\r\n\r\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\r\n      const message = 'Invalid Upgrade header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (!key || !keyRegex.test(key)) {\r\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (version !== 8 && version !== 13) {\r\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (!this.shouldHandle(req)) {\r\n      abortHandshake(socket, 400);\r\n      return;\r\n    }\r\n\r\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\r\n    let protocols = new Set();\r\n\r\n    if (secWebSocketProtocol !== undefined) {\r\n      try {\r\n        protocols = subprotocol.parse(secWebSocketProtocol);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Protocol header';\r\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\r\n    const extensions = {};\r\n\r\n    if (\r\n      this.options.perMessageDeflate &&\r\n      secWebSocketExtensions !== undefined\r\n    ) {\r\n      const perMessageDeflate = new PerMessageDeflate(\r\n        this.options.perMessageDeflate,\r\n        true,\r\n        this.options.maxPayload\r\n      );\r\n\r\n      try {\r\n        const offers = extension.parse(secWebSocketExtensions);\r\n\r\n        if (offers[PerMessageDeflate.extensionName]) {\r\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\r\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\r\n        }\r\n      } catch (err) {\r\n        const message =\r\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\r\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n        return;\r\n      }\r\n    }\r\n\r\n    //\r\n    // Optionally call external client verification handler.\r\n    //\r\n    if (this.options.verifyClient) {\r\n      const info = {\r\n        origin:\r\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\r\n        secure: !!(req.socket.authorized || req.socket.encrypted),\r\n        req\r\n      };\r\n\r\n      if (this.options.verifyClient.length === 2) {\r\n        this.options.verifyClient(info, (verified, code, message, headers) => {\r\n          if (!verified) {\r\n            return abortHandshake(socket, code || 401, message, headers);\r\n          }\r\n\r\n          this.completeUpgrade(\r\n            extensions,\r\n            key,\r\n            protocols,\r\n            req,\r\n            socket,\r\n            head,\r\n            cb\r\n          );\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\r\n    }\r\n\r\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\r\n  }\r\n\r\n  /**\r\n   * Upgrade the connection to WebSocket.\r\n   *\r\n   * @param {Object} extensions The accepted extensions\r\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\r\n   * @param {Set} protocols The subprotocols\r\n   * @param {http.IncomingMessage} req The request object\r\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\r\n   *     server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Function} cb Callback\r\n   * @throws {Error} If called more than once with the same socket\r\n   * @private\r\n   */\r\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\r\n    //\r\n    // Destroy the socket if the client has already sent a FIN packet.\r\n    //\r\n    if (!socket.readable || !socket.writable) return socket.destroy();\r\n\r\n    if (socket[kWebSocket]) {\r\n      throw new Error(\r\n        'server.handleUpgrade() was called more than once with the same ' +\r\n          'socket, possibly due to a misconfiguration'\r\n      );\r\n    }\r\n\r\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\r\n\r\n    const digest = createHash('sha1')\r\n      .update(key + GUID)\r\n      .digest('base64');\r\n\r\n    const headers = [\r\n      'HTTP/1.1 101 Switching Protocols',\r\n      'Upgrade: websocket',\r\n      'Connection: Upgrade',\r\n      `Sec-WebSocket-Accept: ${digest}`\r\n    ];\r\n\r\n    const ws = new this.options.WebSocket(null);\r\n\r\n    if (protocols.size) {\r\n      //\r\n      // Optionally call external protocol selection handler.\r\n      //\r\n      const protocol = this.options.handleProtocols\r\n        ? this.options.handleProtocols(protocols, req)\r\n        : protocols.values().next().value;\r\n\r\n      if (protocol) {\r\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\r\n        ws._protocol = protocol;\r\n      }\r\n    }\r\n\r\n    if (extensions[PerMessageDeflate.extensionName]) {\r\n      const params = extensions[PerMessageDeflate.extensionName].params;\r\n      const value = extension.format({\r\n        [PerMessageDeflate.extensionName]: [params]\r\n      });\r\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\r\n      ws._extensions = extensions;\r\n    }\r\n\r\n    //\r\n    // Allow external modification/inspection of handshake headers.\r\n    //\r\n    this.emit('headers', headers, req);\r\n\r\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\r\n    socket.removeListener('error', socketOnError);\r\n\r\n    ws.setSocket(socket, head, {\r\n      maxPayload: this.options.maxPayload,\r\n      skipUTF8Validation: this.options.skipUTF8Validation\r\n    });\r\n\r\n    if (this.clients) {\r\n      this.clients.add(ws);\r\n      ws.on('close', () => {\r\n        this.clients.delete(ws);\r\n\r\n        if (this._shouldEmitClose && !this.clients.size) {\r\n          process.nextTick(emitClose, this);\r\n        }\r\n      });\r\n    }\r\n\r\n    cb(ws, req);\r\n  }\r\n}\r\n\r\nvar websocketServer = WebSocketServer;\r\n\r\n/**\r\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\r\n * pairs.\r\n *\r\n * @param {EventEmitter} server The event emitter\r\n * @param {Object.<String, Function>} map The listeners to add\r\n * @return {Function} A function that will remove the added listeners when\r\n *     called\r\n * @private\r\n */\r\nfunction addListeners(server, map) {\r\n  for (const event of Object.keys(map)) server.on(event, map[event]);\r\n\r\n  return function removeListeners() {\r\n    for (const event of Object.keys(map)) {\r\n      server.removeListener(event, map[event]);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Emit a `'close'` event on an `EventEmitter`.\r\n *\r\n * @param {EventEmitter} server The event emitter\r\n * @private\r\n */\r\nfunction emitClose(server) {\r\n  server._state = CLOSED;\r\n  server.emit('close');\r\n}\r\n\r\n/**\r\n * Handle socket errors.\r\n *\r\n * @private\r\n */\r\nfunction socketOnError() {\r\n  this.destroy();\r\n}\r\n\r\n/**\r\n * Close the connection when preconditions are not fulfilled.\r\n *\r\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\r\n * @param {Number} code The HTTP response status code\r\n * @param {String} [message] The HTTP response body\r\n * @param {Object} [headers] Additional HTTP response headers\r\n * @private\r\n */\r\nfunction abortHandshake(socket, code, message, headers) {\r\n  //\r\n  // The socket is writable unless the user destroyed or ended it before calling\r\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\r\n  // error. Handling this does not make much sense as the worst that can happen\r\n  // is that some of the data written by the user might be discarded due to the\r\n  // call to `socket.end()` below, which triggers an `'error'` event that in\r\n  // turn causes the socket to be destroyed.\r\n  //\r\n  message = message || http$2.STATUS_CODES[code];\r\n  headers = {\r\n    Connection: 'close',\r\n    'Content-Type': 'text/html',\r\n    'Content-Length': Buffer.byteLength(message),\r\n    ...headers\r\n  };\r\n\r\n  socket.once('finish', socket.destroy);\r\n\r\n  socket.end(\r\n    `HTTP/1.1 ${code} ${http$2.STATUS_CODES[code]}\\r\\n` +\r\n      Object.keys(headers)\r\n        .map((h) => `${h}: ${headers[h]}`)\r\n        .join('\\r\\n') +\r\n      '\\r\\n\\r\\n' +\r\n      message\r\n  );\r\n}\r\n\r\n/**\r\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\r\n * one listener for it, otherwise call `abortHandshake()`.\r\n *\r\n * @param {WebSocketServer} server The WebSocket server\r\n * @param {http.IncomingMessage} req The request object\r\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\r\n * @param {Number} code The HTTP response status code\r\n * @param {String} message The HTTP response body\r\n * @private\r\n */\r\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\r\n  if (server.listenerCount('wsClientError')) {\r\n    const err = new Error(message);\r\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\r\n\r\n    server.emit('wsClientError', err, socket, req);\r\n  } else {\r\n    abortHandshake(socket, code, message);\r\n  }\r\n}\r\n\r\nconst HMR_HEADER = 'vite-hmr';\r\nconst wsServerEvents = [\r\n    'connection',\r\n    'error',\r\n    'headers',\r\n    'listening',\r\n    'message'\r\n];\r\nfunction createWebSocketServer(server, config, httpsOptions) {\r\n    let wss;\r\n    let httpsServer = undefined;\r\n    const hmr = isObject$2(config.server.hmr) && config.server.hmr;\r\n    const hmrServer = hmr && hmr.server;\r\n    const hmrPort = hmr && hmr.port;\r\n    // TODO: the main server port may not have been chosen yet as it may use the next available\r\n    const portsAreCompatible = !hmrPort || hmrPort === config.server.port;\r\n    const wsServer = hmrServer || (portsAreCompatible && server);\r\n    const customListeners = new Map();\r\n    const clientsMap = new WeakMap();\r\n    if (wsServer) {\r\n        wss = new websocketServer({ noServer: true });\r\n        wsServer.on('upgrade', (req, socket, head) => {\r\n            if (req.headers['sec-websocket-protocol'] === HMR_HEADER) {\r\n                wss.handleUpgrade(req, socket, head, (ws) => {\r\n                    wss.emit('connection', ws, req);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        const websocketServerOptions = {};\r\n        const port = hmrPort || 24678;\r\n        const host = (hmr && hmr.host) || undefined;\r\n        if (httpsOptions) {\r\n            // if we're serving the middlewares over https, the ws library doesn't support automatically creating an https server, so we need to do it ourselves\r\n            // create an inline https server and mount the websocket server to it\r\n            httpsServer = createServer$2(httpsOptions, (req, res) => {\r\n                const statusCode = 426;\r\n                const body = STATUS_CODES[statusCode];\r\n                if (!body)\r\n                    throw new Error(`No body text found for the ${statusCode} status code`);\r\n                res.writeHead(statusCode, {\r\n                    'Content-Length': body.length,\r\n                    'Content-Type': 'text/plain'\r\n                });\r\n                res.end(body);\r\n            });\r\n            httpsServer.listen(port, host);\r\n            websocketServerOptions.server = httpsServer;\r\n        }\r\n        else {\r\n            // we don't need to serve over https, just let ws handle its own server\r\n            websocketServerOptions.port = port;\r\n            if (host) {\r\n                websocketServerOptions.host = host;\r\n            }\r\n        }\r\n        // vite dev server in middleware mode\r\n        wss = new websocketServer(websocketServerOptions);\r\n    }\r\n    wss.on('connection', (socket) => {\r\n        socket.on('message', (raw) => {\r\n            if (!customListeners.size)\r\n                return;\r\n            let parsed;\r\n            try {\r\n                parsed = JSON.parse(String(raw));\r\n            }\r\n            catch { }\r\n            if (!parsed || parsed.type !== 'custom' || !parsed.event)\r\n                return;\r\n            const listeners = customListeners.get(parsed.event);\r\n            if (!listeners?.size)\r\n                return;\r\n            const client = getSocketClient(socket);\r\n            listeners.forEach((listener) => listener(parsed.data, client));\r\n        });\r\n        socket.send(JSON.stringify({ type: 'connected' }));\r\n        if (bufferedError) {\r\n            socket.send(JSON.stringify(bufferedError));\r\n            bufferedError = null;\r\n        }\r\n    });\r\n    wss.on('error', (e) => {\r\n        if (e.code === 'EADDRINUSE') {\r\n            config.logger.error(picocolors.exports.red(`WebSocket server error: Port is already in use`), { error: e });\r\n        }\r\n        else {\r\n            config.logger.error(picocolors.exports.red(`WebSocket server error:\\n${e.stack || e.message}`), { error: e });\r\n        }\r\n    });\r\n    // Provide a wrapper to the ws client so we can send messages in JSON format\r\n    // To be consistent with server.ws.send\r\n    function getSocketClient(socket) {\r\n        if (!clientsMap.has(socket)) {\r\n            clientsMap.set(socket, {\r\n                send: (...args) => {\r\n                    let payload;\r\n                    if (typeof args[0] === 'string') {\r\n                        payload = {\r\n                            type: 'custom',\r\n                            event: args[0],\r\n                            data: args[1]\r\n                        };\r\n                    }\r\n                    else {\r\n                        payload = args[0];\r\n                    }\r\n                    socket.send(JSON.stringify(payload));\r\n                },\r\n                socket\r\n            });\r\n        }\r\n        return clientsMap.get(socket);\r\n    }\r\n    // On page reloads, if a file fails to compile and returns 500, the server\r\n    // sends the error payload before the client connection is established.\r\n    // If we have no open clients, buffer the error and send it to the next\r\n    // connected client.\r\n    let bufferedError = null;\r\n    return {\r\n        on: ((event, fn) => {\r\n            if (wsServerEvents.includes(event))\r\n                wss.on(event, fn);\r\n            else {\r\n                if (!customListeners.has(event)) {\r\n                    customListeners.set(event, new Set());\r\n                }\r\n                customListeners.get(event).add(fn);\r\n            }\r\n        }),\r\n        off: ((event, fn) => {\r\n            if (wsServerEvents.includes(event)) {\r\n                wss.off(event, fn);\r\n            }\r\n            else {\r\n                customListeners.get(event)?.delete(fn);\r\n            }\r\n        }),\r\n        get clients() {\r\n            return new Set(Array.from(wss.clients).map(getSocketClient));\r\n        },\r\n        send(...args) {\r\n            let payload;\r\n            if (typeof args[0] === 'string') {\r\n                payload = {\r\n                    type: 'custom',\r\n                    event: args[0],\r\n                    data: args[1]\r\n                };\r\n            }\r\n            else {\r\n                payload = args[0];\r\n            }\r\n            if (payload.type === 'error' && !wss.clients.size) {\r\n                bufferedError = payload;\r\n                return;\r\n            }\r\n            const stringified = JSON.stringify(payload);\r\n            wss.clients.forEach((client) => {\r\n                // readyState 1 means the connection is open\r\n                if (client.readyState === 1) {\r\n                    client.send(stringified);\r\n                }\r\n            });\r\n        },\r\n        close() {\r\n            return new Promise((resolve, reject) => {\r\n                wss.clients.forEach((client) => {\r\n                    client.terminate();\r\n                });\r\n                wss.close((err) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    }\r\n                    else {\r\n                        if (httpsServer) {\r\n                            httpsServer.close((err) => {\r\n                                if (err) {\r\n                                    reject(err);\r\n                                }\r\n                                else {\r\n                                    resolve();\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            resolve();\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\n// this middleware is only active when (config.base !== '/')\r\nfunction baseMiddleware({ config }) {\r\n    const devBase = config.base;\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteBaseMiddleware(req, res, next) {\r\n        const url = req.url;\r\n        const parsed = new URL(url, 'http://vitejs.dev');\r\n        const path = parsed.pathname || '/';\r\n        if (path.startsWith(devBase)) {\r\n            // rewrite url to remove base.. this ensures that other middleware does\r\n            // not need to consider base being prepended or not\r\n            req.url = url.replace(devBase, '/');\r\n            return next();\r\n        }\r\n        // skip redirect and error fallback on middleware mode, #4057\r\n        if (config.server.middlewareMode) {\r\n            return next();\r\n        }\r\n        if (path === '/' || path === '/index.html') {\r\n            // redirect root visit to based url with search and hash\r\n            res.writeHead(302, {\r\n                Location: devBase + (parsed.search || '') + (parsed.hash || '')\r\n            });\r\n            res.end();\r\n            return;\r\n        }\r\n        else if (req.headers.accept?.includes('text/html')) {\r\n            // non-based page visit\r\n            const redirectPath = devBase + url.slice(1);\r\n            res.writeHead(404, {\r\n                'Content-Type': 'text/html'\r\n            });\r\n            res.end(`The server is configured with a public base URL of ${devBase} - ` +\r\n                `did you mean to visit <a href=\"${redirectPath}\">${redirectPath}</a> instead?`);\r\n            return;\r\n        }\r\n        next();\r\n    };\r\n}\r\n\r\nvar httpProxy$3 = {exports: {}};\r\n\r\nvar httpProxy$2 = {exports: {}};\r\n\r\nvar eventemitter3 = {exports: {}};\r\n\r\n(function (module) {\r\n\r\n\tvar has = Object.prototype.hasOwnProperty\r\n\t  , prefix = '~';\r\n\r\n\t/**\r\n\t * Constructor to create a storage for our `EE` objects.\r\n\t * An `Events` instance is a plain object whose properties are event names.\r\n\t *\r\n\t * @constructor\r\n\t * @private\r\n\t */\r\n\tfunction Events() {}\r\n\r\n\t//\r\n\t// We try to not inherit from `Object.prototype`. In some engines creating an\r\n\t// instance in this way is faster than calling `Object.create(null)` directly.\r\n\t// If `Object.create(null)` is not supported we prefix the event names with a\r\n\t// character to make sure that the built-in object properties are not\r\n\t// overridden or used as an attack vector.\r\n\t//\r\n\tif (Object.create) {\r\n\t  Events.prototype = Object.create(null);\r\n\r\n\t  //\r\n\t  // This hack is needed because the `__proto__` property is still inherited in\r\n\t  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\r\n\t  //\r\n\t  if (!new Events().__proto__) prefix = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Representation of a single event listener.\r\n\t *\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} context The context to invoke the listener with.\r\n\t * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\r\n\t * @constructor\r\n\t * @private\r\n\t */\r\n\tfunction EE(fn, context, once) {\r\n\t  this.fn = fn;\r\n\t  this.context = context;\r\n\t  this.once = once || false;\r\n\t}\r\n\r\n\t/**\r\n\t * Add a listener for a given event.\r\n\t *\r\n\t * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} context The context to invoke the listener with.\r\n\t * @param {Boolean} once Specify if the listener is a one-time listener.\r\n\t * @returns {EventEmitter}\r\n\t * @private\r\n\t */\r\n\tfunction addListener(emitter, event, fn, context, once) {\r\n\t  if (typeof fn !== 'function') {\r\n\t    throw new TypeError('The listener must be a function');\r\n\t  }\r\n\r\n\t  var listener = new EE(fn, context || emitter, once)\r\n\t    , evt = prefix ? prefix + event : event;\r\n\r\n\t  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\r\n\t  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\r\n\t  else emitter._events[evt] = [emitter._events[evt], listener];\r\n\r\n\t  return emitter;\r\n\t}\r\n\r\n\t/**\r\n\t * Clear event by name.\r\n\t *\r\n\t * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n\t * @param {(String|Symbol)} evt The Event name.\r\n\t * @private\r\n\t */\r\n\tfunction clearEvent(emitter, evt) {\r\n\t  if (--emitter._eventsCount === 0) emitter._events = new Events();\r\n\t  else delete emitter._events[evt];\r\n\t}\r\n\r\n\t/**\r\n\t * Minimal `EventEmitter` interface that is molded against the Node.js\r\n\t * `EventEmitter` interface.\r\n\t *\r\n\t * @constructor\r\n\t * @public\r\n\t */\r\n\tfunction EventEmitter() {\r\n\t  this._events = new Events();\r\n\t  this._eventsCount = 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Return an array listing the events for which the emitter has registered\r\n\t * listeners.\r\n\t *\r\n\t * @returns {Array}\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.eventNames = function eventNames() {\r\n\t  var names = []\r\n\t    , events\r\n\t    , name;\r\n\r\n\t  if (this._eventsCount === 0) return names;\r\n\r\n\t  for (name in (events = this._events)) {\r\n\t    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\r\n\t  }\r\n\r\n\t  if (Object.getOwnPropertySymbols) {\r\n\t    return names.concat(Object.getOwnPropertySymbols(events));\r\n\t  }\r\n\r\n\t  return names;\r\n\t};\r\n\r\n\t/**\r\n\t * Return the listeners registered for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @returns {Array} The registered listeners.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.listeners = function listeners(event) {\r\n\t  var evt = prefix ? prefix + event : event\r\n\t    , handlers = this._events[evt];\r\n\r\n\t  if (!handlers) return [];\r\n\t  if (handlers.fn) return [handlers.fn];\r\n\r\n\t  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\r\n\t    ee[i] = handlers[i].fn;\r\n\t  }\r\n\r\n\t  return ee;\r\n\t};\r\n\r\n\t/**\r\n\t * Return the number of listeners listening to a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @returns {Number} The number of listeners.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.listenerCount = function listenerCount(event) {\r\n\t  var evt = prefix ? prefix + event : event\r\n\t    , listeners = this._events[evt];\r\n\r\n\t  if (!listeners) return 0;\r\n\t  if (listeners.fn) return 1;\r\n\t  return listeners.length;\r\n\t};\r\n\r\n\t/**\r\n\t * Calls each of the listeners registered for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @returns {Boolean} `true` if the event had listeners, else `false`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\r\n\t  var evt = prefix ? prefix + event : event;\r\n\r\n\t  if (!this._events[evt]) return false;\r\n\r\n\t  var listeners = this._events[evt]\r\n\t    , len = arguments.length\r\n\t    , args\r\n\t    , i;\r\n\r\n\t  if (listeners.fn) {\r\n\t    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\r\n\r\n\t    switch (len) {\r\n\t      case 1: return listeners.fn.call(listeners.context), true;\r\n\t      case 2: return listeners.fn.call(listeners.context, a1), true;\r\n\t      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\r\n\t      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\r\n\t      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\r\n\t      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\r\n\t    }\r\n\r\n\t    for (i = 1, args = new Array(len -1); i < len; i++) {\r\n\t      args[i - 1] = arguments[i];\r\n\t    }\r\n\r\n\t    listeners.fn.apply(listeners.context, args);\r\n\t  } else {\r\n\t    var length = listeners.length\r\n\t      , j;\r\n\r\n\t    for (i = 0; i < length; i++) {\r\n\t      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\r\n\r\n\t      switch (len) {\r\n\t        case 1: listeners[i].fn.call(listeners[i].context); break;\r\n\t        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\r\n\t        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\r\n\t        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\r\n\t        default:\r\n\t          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\r\n\t            args[j - 1] = arguments[j];\r\n\t          }\r\n\r\n\t          listeners[i].fn.apply(listeners[i].context, args);\r\n\t      }\r\n\t    }\r\n\t  }\r\n\r\n\t  return true;\r\n\t};\r\n\r\n\t/**\r\n\t * Add a listener for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} [context=this] The context to invoke the listener with.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.on = function on(event, fn, context) {\r\n\t  return addListener(this, event, fn, context, false);\r\n\t};\r\n\r\n\t/**\r\n\t * Add a one-time listener for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} [context=this] The context to invoke the listener with.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.once = function once(event, fn, context) {\r\n\t  return addListener(this, event, fn, context, true);\r\n\t};\r\n\r\n\t/**\r\n\t * Remove the listeners of a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn Only remove the listeners that match this function.\r\n\t * @param {*} context Only remove the listeners that have this context.\r\n\t * @param {Boolean} once Only remove one-time listeners.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\r\n\t  var evt = prefix ? prefix + event : event;\r\n\r\n\t  if (!this._events[evt]) return this;\r\n\t  if (!fn) {\r\n\t    clearEvent(this, evt);\r\n\t    return this;\r\n\t  }\r\n\r\n\t  var listeners = this._events[evt];\r\n\r\n\t  if (listeners.fn) {\r\n\t    if (\r\n\t      listeners.fn === fn &&\r\n\t      (!once || listeners.once) &&\r\n\t      (!context || listeners.context === context)\r\n\t    ) {\r\n\t      clearEvent(this, evt);\r\n\t    }\r\n\t  } else {\r\n\t    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\r\n\t      if (\r\n\t        listeners[i].fn !== fn ||\r\n\t        (once && !listeners[i].once) ||\r\n\t        (context && listeners[i].context !== context)\r\n\t      ) {\r\n\t        events.push(listeners[i]);\r\n\t      }\r\n\t    }\r\n\r\n\t    //\r\n\t    // Reset the array, or remove it completely if we have no more listeners.\r\n\t    //\r\n\t    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\r\n\t    else clearEvent(this, evt);\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove all listeners, or those of the specified event.\r\n\t *\r\n\t * @param {(String|Symbol)} [event] The event name.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\r\n\t  var evt;\r\n\r\n\t  if (event) {\r\n\t    evt = prefix ? prefix + event : event;\r\n\t    if (this._events[evt]) clearEvent(this, evt);\r\n\t  } else {\r\n\t    this._events = new Events();\r\n\t    this._eventsCount = 0;\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t//\r\n\t// Alias methods names because people roll like that.\r\n\t//\r\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\r\n\tEventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n\t//\r\n\t// Expose the prefix.\r\n\t//\r\n\tEventEmitter.prefixed = prefix;\r\n\r\n\t//\r\n\t// Allow `EventEmitter` to be imported as module namespace.\r\n\t//\r\n\tEventEmitter.EventEmitter = EventEmitter;\r\n\r\n\t//\r\n\t// Expose the module.\r\n\t//\r\n\t{\r\n\t  module.exports = EventEmitter;\r\n\t}\r\n} (eventemitter3));\r\n\r\nvar common$3 = {};\r\n\r\n/**\r\n * Check if we're required to add a port number.\r\n *\r\n * @see https://url.spec.whatwg.org/#default-port\r\n * @param {Number|String} port Port number we need to check\r\n * @param {String} protocol Protocol we need to check against.\r\n * @returns {Boolean} Is it a default port for the given protocol\r\n * @api private\r\n */\r\nvar requiresPort = function required(port, protocol) {\r\n  protocol = protocol.split(':')[0];\r\n  port = +port;\r\n\r\n  if (!port) return false;\r\n\r\n  switch (protocol) {\r\n    case 'http':\r\n    case 'ws':\r\n    return port !== 80;\r\n\r\n    case 'https':\r\n    case 'wss':\r\n    return port !== 443;\r\n\r\n    case 'ftp':\r\n    return port !== 21;\r\n\r\n    case 'gopher':\r\n    return port !== 70;\r\n\r\n    case 'file':\r\n    return false;\r\n  }\r\n\r\n  return port !== 0;\r\n};\r\n\r\n(function (exports) {\r\n\tvar common   = exports,\r\n\t    url      = require$$0$9,\r\n\t    extend   = require$$0$6._extend,\r\n\t    required = requiresPort;\r\n\r\n\tvar upgradeHeader = /(^|,)\\s*upgrade\\s*($|,)/i,\r\n\t    isSSL = /^https|wss/;\r\n\r\n\t/**\r\n\t * Simple Regex for testing if protocol is https\r\n\t */\r\n\tcommon.isSSL = isSSL;\r\n\t/**\r\n\t * Copies the right headers from `options` and `req` to\r\n\t * `outgoing` which is then used to fire the proxied\r\n\t * request.\r\n\t *\r\n\t * Examples:\r\n\t *\r\n\t *    common.setupOutgoing(outgoing, options, req)\r\n\t *    // => { host: ..., hostname: ...}\r\n\t *\r\n\t * @param {Object} Outgoing Base object to be filled with required properties\r\n\t * @param {Object} Options Config object passed to the proxy\r\n\t * @param {ClientRequest} Req Request Object\r\n\t * @param {String} Forward String to select forward or target\r\n\t *\u00A0\r\n\t * @return {Object} Outgoing Object with all required properties set\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tcommon.setupOutgoing = function(outgoing, options, req, forward) {\r\n\t  outgoing.port = options[forward || 'target'].port ||\r\n\t                  (isSSL.test(options[forward || 'target'].protocol) ? 443 : 80);\r\n\r\n\t  ['host', 'hostname', 'socketPath', 'pfx', 'key',\r\n\t    'passphrase', 'cert', 'ca', 'ciphers', 'secureProtocol'].forEach(\r\n\t    function(e) { outgoing[e] = options[forward || 'target'][e]; }\r\n\t  );\r\n\r\n\t  outgoing.method = options.method || req.method;\r\n\t  outgoing.headers = extend({}, req.headers);\r\n\r\n\t  if (options.headers){\r\n\t    extend(outgoing.headers, options.headers);\r\n\t  }\r\n\r\n\t  if (options.auth) {\r\n\t    outgoing.auth = options.auth;\r\n\t  }\r\n\t  \r\n\t  if (options.ca) {\r\n\t      outgoing.ca = options.ca;\r\n\t  }\r\n\r\n\t  if (isSSL.test(options[forward || 'target'].protocol)) {\r\n\t    outgoing.rejectUnauthorized = (typeof options.secure === \"undefined\") ? true : options.secure;\r\n\t  }\r\n\r\n\r\n\t  outgoing.agent = options.agent || false;\r\n\t  outgoing.localAddress = options.localAddress;\r\n\r\n\t  //\r\n\t  // Remark: If we are false and not upgrading, set the connection: close. This is the right thing to do\r\n\t  // as node core doesn't handle this COMPLETELY properly yet.\r\n\t  //\r\n\t  if (!outgoing.agent) {\r\n\t    outgoing.headers = outgoing.headers || {};\r\n\t    if (typeof outgoing.headers.connection !== 'string'\r\n\t        || !upgradeHeader.test(outgoing.headers.connection)\r\n\t       ) { outgoing.headers.connection = 'close'; }\r\n\t  }\r\n\r\n\r\n\t  // the final path is target path + relative path requested by user:\r\n\t  var target = options[forward || 'target'];\r\n\t  var targetPath = target && options.prependPath !== false\r\n\t    ? (target.path || '')\r\n\t    : '';\r\n\r\n\t  //\r\n\t  // Remark: Can we somehow not use url.parse as a perf optimization?\r\n\t  //\r\n\t  var outgoingPath = !options.toProxy\r\n\t    ? (url.parse(req.url).path || '')\r\n\t    : req.url;\r\n\r\n\t  //\r\n\t  // Remark: ignorePath will just straight up ignore whatever the request's\r\n\t  // path is. This can be labeled as FOOT-GUN material if you do not know what\r\n\t  // you are doing and are using conflicting options.\r\n\t  //\r\n\t  outgoingPath = !options.ignorePath ? outgoingPath : '';\r\n\r\n\t  outgoing.path = common.urlJoin(targetPath, outgoingPath);\r\n\r\n\t  if (options.changeOrigin) {\r\n\t    outgoing.headers.host =\r\n\t      required(outgoing.port, options[forward || 'target'].protocol) && !hasPort(outgoing.host)\r\n\t        ? outgoing.host + ':' + outgoing.port\r\n\t        : outgoing.host;\r\n\t  }\r\n\t  return outgoing;\r\n\t};\r\n\r\n\t/**\r\n\t * Set the proper configuration for sockets,\r\n\t * set no delay and set keep alive, also set\r\n\t * the timeout to 0.\r\n\t *\r\n\t * Examples:\r\n\t *\r\n\t *    common.setupSocket(socket)\r\n\t *    // => Socket\r\n\t *\r\n\t * @param {Socket} Socket instance to setup\r\n\t *\u00A0\r\n\t * @return {Socket} Return the configured socket.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tcommon.setupSocket = function(socket) {\r\n\t  socket.setTimeout(0);\r\n\t  socket.setNoDelay(true);\r\n\r\n\t  socket.setKeepAlive(true, 0);\r\n\r\n\t  return socket;\r\n\t};\r\n\r\n\t/**\r\n\t * Get the port number from the host. Or guess it based on the connection type.\r\n\t *\r\n\t * @param {Request} req Incoming HTTP request.\r\n\t *\r\n\t * @return {String} The port number.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tcommon.getPort = function(req) {\r\n\t  var res = req.headers.host ? req.headers.host.match(/:(\\d+)/) : '';\r\n\r\n\t  return res ?\r\n\t    res[1] :\r\n\t    common.hasEncryptedConnection(req) ? '443' : '80';\r\n\t};\r\n\r\n\t/**\r\n\t * Check if the request has an encrypted connection.\r\n\t *\r\n\t * @param {Request} req Incoming HTTP request.\r\n\t *\r\n\t * @return {Boolean} Whether the connection is encrypted or not.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tcommon.hasEncryptedConnection = function(req) {\r\n\t  return Boolean(req.connection.encrypted || req.connection.pair);\r\n\t};\r\n\r\n\t/**\r\n\t * OS-agnostic join (doesn't break on URLs like path.join does on Windows)>\r\n\t *\r\n\t * @return {String} The generated path.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tcommon.urlJoin = function() {\r\n\t    //\r\n\t    // We do not want to mess with the query string. All we want to touch is the path.\r\n\t    //\r\n\t  var args = Array.prototype.slice.call(arguments),\r\n\t      lastIndex = args.length - 1,\r\n\t      last = args[lastIndex],\r\n\t      lastSegs = last.split('?'),\r\n\t      retSegs;\r\n\r\n\t  args[lastIndex] = lastSegs.shift();\r\n\r\n\t  //\r\n\t  // Join all strings, but remove empty strings so we don't get extra slashes from\r\n\t  // joining e.g. ['', 'am']\r\n\t  //\r\n\t  retSegs = [\r\n\t    args.filter(Boolean).join('/')\r\n\t        .replace(/\\/+/g, '/')\r\n\t        .replace('http:/', 'http://')\r\n\t        .replace('https:/', 'https://')\r\n\t  ];\r\n\r\n\t  // Only join the query string if it exists so we don't have trailing a '?'\r\n\t  // on every request\r\n\r\n\t  // Handle case where there could be multiple ? in the URL.\r\n\t  retSegs.push.apply(retSegs, lastSegs);\r\n\r\n\t  return retSegs.join('?')\r\n\t};\r\n\r\n\t/**\r\n\t * Rewrites or removes the domain of a cookie header\r\n\t *\r\n\t * @param {String|Array} Header\r\n\t * @param {Object} Config, mapping of domain to rewritten domain.\r\n\t *                 '*' key to match any domain, null value to remove the domain.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tcommon.rewriteCookieProperty = function rewriteCookieProperty(header, config, property) {\r\n\t  if (Array.isArray(header)) {\r\n\t    return header.map(function (headerElement) {\r\n\t      return rewriteCookieProperty(headerElement, config, property);\r\n\t    });\r\n\t  }\r\n\t  return header.replace(new RegExp(\"(;\\\\s*\" + property + \"=)([^;]+)\", 'i'), function(match, prefix, previousValue) {\r\n\t    var newValue;\r\n\t    if (previousValue in config) {\r\n\t      newValue = config[previousValue];\r\n\t    } else if ('*' in config) {\r\n\t      newValue = config['*'];\r\n\t    } else {\r\n\t      //no match, return previous value\r\n\t      return match;\r\n\t    }\r\n\t    if (newValue) {\r\n\t      //replace value\r\n\t      return prefix + newValue;\r\n\t    } else {\r\n\t      //remove value\r\n\t      return '';\r\n\t    }\r\n\t  });\r\n\t};\r\n\r\n\t/**\r\n\t * Check the host and see if it potentially has a port in it (keep it simple)\r\n\t *\r\n\t * @returns {Boolean} Whether we have one or not\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tfunction hasPort(host) {\r\n\t  return !!~host.indexOf(':');\r\n\t}} (common$3));\r\n\r\nvar url$1    = require$$0$9,\r\n    common$2 = common$3;\r\n\r\n\r\nvar redirectRegex = /^201|30(1|2|7|8)$/;\r\n\r\n/*!\r\n * Array of passes.\r\n *\r\n * A `pass` is just a function that is executed on `req, res, options`\r\n * so that you can easily add new checks while still keeping the base\r\n * flexible.\r\n */\r\n\r\nvar webOutgoing = { // <--\r\n\r\n  /**\r\n   * If is a HTTP 1.0 request, remove chunk headers\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   *\r\n   * @api private\r\n   */\r\n  removeChunked: function removeChunked(req, res, proxyRes) {\r\n    if (req.httpVersion === '1.0') {\r\n      delete proxyRes.headers['transfer-encoding'];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * If is a HTTP 1.0 request, set the correct connection header\r\n   * or if connection header not present, then use `keep-alive`\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   *\r\n   * @api private\r\n   */\r\n  setConnection: function setConnection(req, res, proxyRes) {\r\n    if (req.httpVersion === '1.0') {\r\n      proxyRes.headers.connection = req.headers.connection || 'close';\r\n    } else if (req.httpVersion !== '2.0' && !proxyRes.headers.connection) {\r\n      proxyRes.headers.connection = req.headers.connection || 'keep-alive';\r\n    }\r\n  },\r\n\r\n  setRedirectHostRewrite: function setRedirectHostRewrite(req, res, proxyRes, options) {\r\n    if ((options.hostRewrite || options.autoRewrite || options.protocolRewrite)\r\n        && proxyRes.headers['location']\r\n        && redirectRegex.test(proxyRes.statusCode)) {\r\n      var target = url$1.parse(options.target);\r\n      var u = url$1.parse(proxyRes.headers['location']);\r\n\r\n      // make sure the redirected host matches the target host before rewriting\r\n      if (target.host != u.host) {\r\n        return;\r\n      }\r\n\r\n      if (options.hostRewrite) {\r\n        u.host = options.hostRewrite;\r\n      } else if (options.autoRewrite) {\r\n        u.host = req.headers['host'];\r\n      }\r\n      if (options.protocolRewrite) {\r\n        u.protocol = options.protocolRewrite;\r\n      }\r\n\r\n      proxyRes.headers['location'] = u.format();\r\n    }\r\n  },\r\n  /**\r\n   * Copy headers from proxyResponse to response\r\n   * set each header in response object.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   * @param {Object} Options options.cookieDomainRewrite: Config to rewrite cookie domain\r\n   *\r\n   * @api private\r\n   */\r\n  writeHeaders: function writeHeaders(req, res, proxyRes, options) {\r\n    var rewriteCookieDomainConfig = options.cookieDomainRewrite,\r\n        rewriteCookiePathConfig = options.cookiePathRewrite,\r\n        preserveHeaderKeyCase = options.preserveHeaderKeyCase,\r\n        rawHeaderKeyMap,\r\n        setHeader = function(key, header) {\r\n          if (header == undefined) return;\r\n          if (rewriteCookieDomainConfig && key.toLowerCase() === 'set-cookie') {\r\n            header = common$2.rewriteCookieProperty(header, rewriteCookieDomainConfig, 'domain');\r\n          }\r\n          if (rewriteCookiePathConfig && key.toLowerCase() === 'set-cookie') {\r\n            header = common$2.rewriteCookieProperty(header, rewriteCookiePathConfig, 'path');\r\n          }\r\n          res.setHeader(String(key).trim(), header);\r\n        };\r\n\r\n    if (typeof rewriteCookieDomainConfig === 'string') { //also test for ''\r\n      rewriteCookieDomainConfig = { '*': rewriteCookieDomainConfig };\r\n    }\r\n\r\n    if (typeof rewriteCookiePathConfig === 'string') { //also test for ''\r\n      rewriteCookiePathConfig = { '*': rewriteCookiePathConfig };\r\n    }\r\n\r\n    // message.rawHeaders is added in: v0.11.6\r\n    // https://nodejs.org/api/http.html#http_message_rawheaders\r\n    if (preserveHeaderKeyCase && proxyRes.rawHeaders != undefined) {\r\n      rawHeaderKeyMap = {};\r\n      for (var i = 0; i < proxyRes.rawHeaders.length; i += 2) {\r\n        var key = proxyRes.rawHeaders[i];\r\n        rawHeaderKeyMap[key.toLowerCase()] = key;\r\n      }\r\n    }\r\n\r\n    Object.keys(proxyRes.headers).forEach(function(key) {\r\n      var header = proxyRes.headers[key];\r\n      if (preserveHeaderKeyCase && rawHeaderKeyMap) {\r\n        key = rawHeaderKeyMap[key] || key;\r\n      }\r\n      setHeader(key, header);\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Set the statusCode from the proxyResponse\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   *\r\n   * @api private\r\n   */\r\n  writeStatusCode: function writeStatusCode(req, res, proxyRes) {\r\n    // From Node.js docs: response.writeHead(statusCode[, statusMessage][, headers])\r\n    if(proxyRes.statusMessage) {\r\n      res.statusCode = proxyRes.statusCode;\r\n      res.statusMessage = proxyRes.statusMessage;\r\n    } else {\r\n      res.statusCode = proxyRes.statusCode;\r\n    }\r\n  }\r\n\r\n};\r\n\r\nvar followRedirects$1 = {exports: {}};\r\n\r\nvar debug$3;\r\n\r\nvar debug_1 = function () {\r\n  if (!debug$3) {\r\n    try {\r\n      /* eslint global-require: off */\r\n      debug$3 = require(\"debug\")(\"follow-redirects\");\r\n    }\r\n    catch (error) { /* */ }\r\n    if (typeof debug$3 !== \"function\") {\r\n      debug$3 = function () { /* */ };\r\n    }\r\n  }\r\n  debug$3.apply(null, arguments);\r\n};\r\n\r\nvar url = require$$0$9;\r\nvar URL$1 = url.URL;\r\nvar http$1 = require$$1$2;\r\nvar https$1 = require$$1$3;\r\nvar Writable = require$$0$7.Writable;\r\nvar assert = assert$1;\r\nvar debug$2 = debug_1;\r\n\r\n// Create handlers that pass events from native requests\r\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\r\nvar eventHandlers = Object.create(null);\r\nevents.forEach(function (event) {\r\n  eventHandlers[event] = function (arg1, arg2, arg3) {\r\n    this._redirectable.emit(event, arg1, arg2, arg3);\r\n  };\r\n});\r\n\r\n// Error types with codes\r\nvar RedirectionError = createErrorType(\r\n  \"ERR_FR_REDIRECTION_FAILURE\",\r\n  \"Redirected request failed\"\r\n);\r\nvar TooManyRedirectsError = createErrorType(\r\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\r\n  \"Maximum number of redirects exceeded\"\r\n);\r\nvar MaxBodyLengthExceededError = createErrorType(\r\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\r\n  \"Request body larger than maxBodyLength limit\"\r\n);\r\nvar WriteAfterEndError = createErrorType(\r\n  \"ERR_STREAM_WRITE_AFTER_END\",\r\n  \"write after end\"\r\n);\r\n\r\n// An HTTP(S) request that can be redirected\r\nfunction RedirectableRequest(options, responseCallback) {\r\n  // Initialize the request\r\n  Writable.call(this);\r\n  this._sanitizeOptions(options);\r\n  this._options = options;\r\n  this._ended = false;\r\n  this._ending = false;\r\n  this._redirectCount = 0;\r\n  this._redirects = [];\r\n  this._requestBodyLength = 0;\r\n  this._requestBodyBuffers = [];\r\n\r\n  // Attach a callback if passed\r\n  if (responseCallback) {\r\n    this.on(\"response\", responseCallback);\r\n  }\r\n\r\n  // React to responses of native requests\r\n  var self = this;\r\n  this._onNativeResponse = function (response) {\r\n    self._processResponse(response);\r\n  };\r\n\r\n  // Perform the first request\r\n  this._performRequest();\r\n}\r\nRedirectableRequest.prototype = Object.create(Writable.prototype);\r\n\r\nRedirectableRequest.prototype.abort = function () {\r\n  abortRequest(this._currentRequest);\r\n  this.emit(\"abort\");\r\n};\r\n\r\n// Writes buffered data to the current native request\r\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\r\n  // Writing is not allowed if end has been called\r\n  if (this._ending) {\r\n    throw new WriteAfterEndError();\r\n  }\r\n\r\n  // Validate input and shift parameters if necessary\r\n  if (!(typeof data === \"string\" || typeof data === \"object\" && (\"length\" in data))) {\r\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\r\n  }\r\n  if (typeof encoding === \"function\") {\r\n    callback = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  // Ignore empty buffers, since writing them doesn't invoke the callback\r\n  // https://github.com/nodejs/node/issues/22066\r\n  if (data.length === 0) {\r\n    if (callback) {\r\n      callback();\r\n    }\r\n    return;\r\n  }\r\n  // Only write when we don't exceed the maximum body length\r\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\r\n    this._requestBodyLength += data.length;\r\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\r\n    this._currentRequest.write(data, encoding, callback);\r\n  }\r\n  // Error when we exceed the maximum body length\r\n  else {\r\n    this.emit(\"error\", new MaxBodyLengthExceededError());\r\n    this.abort();\r\n  }\r\n};\r\n\r\n// Ends the current native request\r\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\r\n  // Shift parameters if necessary\r\n  if (typeof data === \"function\") {\r\n    callback = data;\r\n    data = encoding = null;\r\n  }\r\n  else if (typeof encoding === \"function\") {\r\n    callback = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  // Write data if needed and end\r\n  if (!data) {\r\n    this._ended = this._ending = true;\r\n    this._currentRequest.end(null, null, callback);\r\n  }\r\n  else {\r\n    var self = this;\r\n    var currentRequest = this._currentRequest;\r\n    this.write(data, encoding, function () {\r\n      self._ended = true;\r\n      currentRequest.end(null, null, callback);\r\n    });\r\n    this._ending = true;\r\n  }\r\n};\r\n\r\n// Sets a header value on the current native request\r\nRedirectableRequest.prototype.setHeader = function (name, value) {\r\n  this._options.headers[name] = value;\r\n  this._currentRequest.setHeader(name, value);\r\n};\r\n\r\n// Clears a header value on the current native request\r\nRedirectableRequest.prototype.removeHeader = function (name) {\r\n  delete this._options.headers[name];\r\n  this._currentRequest.removeHeader(name);\r\n};\r\n\r\n// Global timeout for all underlying requests\r\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\r\n  var self = this;\r\n\r\n  // Destroys the socket on timeout\r\n  function destroyOnTimeout(socket) {\r\n    socket.setTimeout(msecs);\r\n    socket.removeListener(\"timeout\", socket.destroy);\r\n    socket.addListener(\"timeout\", socket.destroy);\r\n  }\r\n\r\n  // Sets up a timer to trigger a timeout event\r\n  function startTimer(socket) {\r\n    if (self._timeout) {\r\n      clearTimeout(self._timeout);\r\n    }\r\n    self._timeout = setTimeout(function () {\r\n      self.emit(\"timeout\");\r\n      clearTimer();\r\n    }, msecs);\r\n    destroyOnTimeout(socket);\r\n  }\r\n\r\n  // Stops a timeout from triggering\r\n  function clearTimer() {\r\n    // Clear the timeout\r\n    if (self._timeout) {\r\n      clearTimeout(self._timeout);\r\n      self._timeout = null;\r\n    }\r\n\r\n    // Clean up all attached listeners\r\n    self.removeListener(\"abort\", clearTimer);\r\n    self.removeListener(\"error\", clearTimer);\r\n    self.removeListener(\"response\", clearTimer);\r\n    if (callback) {\r\n      self.removeListener(\"timeout\", callback);\r\n    }\r\n    if (!self.socket) {\r\n      self._currentRequest.removeListener(\"socket\", startTimer);\r\n    }\r\n  }\r\n\r\n  // Attach callback if passed\r\n  if (callback) {\r\n    this.on(\"timeout\", callback);\r\n  }\r\n\r\n  // Start the timer if or when the socket is opened\r\n  if (this.socket) {\r\n    startTimer(this.socket);\r\n  }\r\n  else {\r\n    this._currentRequest.once(\"socket\", startTimer);\r\n  }\r\n\r\n  // Clean up on events\r\n  this.on(\"socket\", destroyOnTimeout);\r\n  this.on(\"abort\", clearTimer);\r\n  this.on(\"error\", clearTimer);\r\n  this.on(\"response\", clearTimer);\r\n\r\n  return this;\r\n};\r\n\r\n// Proxy all other public ClientRequest methods\r\n[\r\n  \"flushHeaders\", \"getHeader\",\r\n  \"setNoDelay\", \"setSocketKeepAlive\",\r\n].forEach(function (method) {\r\n  RedirectableRequest.prototype[method] = function (a, b) {\r\n    return this._currentRequest[method](a, b);\r\n  };\r\n});\r\n\r\n// Proxy all public ClientRequest properties\r\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\r\n  Object.defineProperty(RedirectableRequest.prototype, property, {\r\n    get: function () { return this._currentRequest[property]; },\r\n  });\r\n});\r\n\r\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\r\n  // Ensure headers are always present\r\n  if (!options.headers) {\r\n    options.headers = {};\r\n  }\r\n\r\n  // Since http.request treats host as an alias of hostname,\r\n  // but the url module interprets host as hostname plus port,\r\n  // eliminate the host property to avoid confusion.\r\n  if (options.host) {\r\n    // Use hostname if set, because it has precedence\r\n    if (!options.hostname) {\r\n      options.hostname = options.host;\r\n    }\r\n    delete options.host;\r\n  }\r\n\r\n  // Complete the URL object when necessary\r\n  if (!options.pathname && options.path) {\r\n    var searchPos = options.path.indexOf(\"?\");\r\n    if (searchPos < 0) {\r\n      options.pathname = options.path;\r\n    }\r\n    else {\r\n      options.pathname = options.path.substring(0, searchPos);\r\n      options.search = options.path.substring(searchPos);\r\n    }\r\n  }\r\n};\r\n\r\n\r\n// Executes the next native request (initial or redirect)\r\nRedirectableRequest.prototype._performRequest = function () {\r\n  // Load the native protocol\r\n  var protocol = this._options.protocol;\r\n  var nativeProtocol = this._options.nativeProtocols[protocol];\r\n  if (!nativeProtocol) {\r\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\r\n    return;\r\n  }\r\n\r\n  // If specified, use the agent corresponding to the protocol\r\n  // (HTTP and HTTPS use different types of agents)\r\n  if (this._options.agents) {\r\n    var scheme = protocol.slice(0, -1);\r\n    this._options.agent = this._options.agents[scheme];\r\n  }\r\n\r\n  // Create the native request\r\n  var request = this._currentRequest =\r\n        nativeProtocol.request(this._options, this._onNativeResponse);\r\n  this._currentUrl = url.format(this._options);\r\n\r\n  // Set up event handlers\r\n  request._redirectable = this;\r\n  for (var e = 0; e < events.length; e++) {\r\n    request.on(events[e], eventHandlers[events[e]]);\r\n  }\r\n\r\n  // End a redirected request\r\n  // (The first request must be ended explicitly with RedirectableRequest#end)\r\n  if (this._isRedirect) {\r\n    // Write the request entity and end.\r\n    var i = 0;\r\n    var self = this;\r\n    var buffers = this._requestBodyBuffers;\r\n    (function writeNext(error) {\r\n      // Only write if this request has not been redirected yet\r\n      /* istanbul ignore else */\r\n      if (request === self._currentRequest) {\r\n        // Report any write errors\r\n        /* istanbul ignore if */\r\n        if (error) {\r\n          self.emit(\"error\", error);\r\n        }\r\n        // Write the next buffer if there are still left\r\n        else if (i < buffers.length) {\r\n          var buffer = buffers[i++];\r\n          /* istanbul ignore else */\r\n          if (!request.finished) {\r\n            request.write(buffer.data, buffer.encoding, writeNext);\r\n          }\r\n        }\r\n        // End the request if `end` has been called on us\r\n        else if (self._ended) {\r\n          request.end();\r\n        }\r\n      }\r\n    }());\r\n  }\r\n};\r\n\r\n// Processes a response from the current native request\r\nRedirectableRequest.prototype._processResponse = function (response) {\r\n  // Store the redirected response\r\n  var statusCode = response.statusCode;\r\n  if (this._options.trackRedirects) {\r\n    this._redirects.push({\r\n      url: this._currentUrl,\r\n      headers: response.headers,\r\n      statusCode: statusCode,\r\n    });\r\n  }\r\n\r\n  // RFC7231\u00A76.4: The 3xx (Redirection) class of status code indicates\r\n  // that further action needs to be taken by the user agent in order to\r\n  // fulfill the request. If a Location header field is provided,\r\n  // the user agent MAY automatically redirect its request to the URI\r\n  // referenced by the Location field value,\r\n  // even if the specific status code is not understood.\r\n\r\n  // If the response is not a redirect; return it as-is\r\n  var location = response.headers.location;\r\n  if (!location || this._options.followRedirects === false ||\r\n      statusCode < 300 || statusCode >= 400) {\r\n    response.responseUrl = this._currentUrl;\r\n    response.redirects = this._redirects;\r\n    this.emit(\"response\", response);\r\n\r\n    // Clean up\r\n    this._requestBodyBuffers = [];\r\n    return;\r\n  }\r\n\r\n  // The response is a redirect, so abort the current request\r\n  abortRequest(this._currentRequest);\r\n  // Discard the remainder of the response to avoid waiting for data\r\n  response.destroy();\r\n\r\n  // RFC7231\u00A76.4: A client SHOULD detect and intervene\r\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\r\n  if (++this._redirectCount > this._options.maxRedirects) {\r\n    this.emit(\"error\", new TooManyRedirectsError());\r\n    return;\r\n  }\r\n\r\n  // Store the request headers if applicable\r\n  var requestHeaders;\r\n  var beforeRedirect = this._options.beforeRedirect;\r\n  if (beforeRedirect) {\r\n    requestHeaders = Object.assign({\r\n      // The Host header was set by nativeProtocol.request\r\n      Host: response.req.getHeader(\"host\"),\r\n    }, this._options.headers);\r\n  }\r\n\r\n  // RFC7231\u00A76.4: Automatic redirection needs to done with\r\n  // care for methods not known to be safe, [\u2026]\r\n  // RFC7231\u00A76.4.2\u20133: For historical reasons, a user agent MAY change\r\n  // the request method from POST to GET for the subsequent request.\r\n  var method = this._options.method;\r\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\r\n      // RFC7231\u00A76.4.4: The 303 (See Other) status code indicates that\r\n      // the server is redirecting the user agent to a different resource [\u2026]\r\n      // A user agent can perform a retrieval request targeting that URI\r\n      // (a GET or HEAD request if using HTTP) [\u2026]\r\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\r\n    this._options.method = \"GET\";\r\n    // Drop a possible entity and headers related to it\r\n    this._requestBodyBuffers = [];\r\n    removeMatchingHeaders(/^content-/i, this._options.headers);\r\n  }\r\n\r\n  // Drop the Host header, as the redirect might lead to a different host\r\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\r\n\r\n  // If the redirect is relative, carry over the host of the last request\r\n  var currentUrlParts = url.parse(this._currentUrl);\r\n  var currentHost = currentHostHeader || currentUrlParts.host;\r\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\r\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\r\n\r\n  // Determine the URL of the redirection\r\n  var redirectUrl;\r\n  try {\r\n    redirectUrl = url.resolve(currentUrl, location);\r\n  }\r\n  catch (cause) {\r\n    this.emit(\"error\", new RedirectionError(cause));\r\n    return;\r\n  }\r\n\r\n  // Create the redirected request\r\n  debug$2(\"redirecting to\", redirectUrl);\r\n  this._isRedirect = true;\r\n  var redirectUrlParts = url.parse(redirectUrl);\r\n  Object.assign(this._options, redirectUrlParts);\r\n\r\n  // Drop confidential headers when redirecting to a less secure protocol\r\n  // or to a different domain that is not a superdomain\r\n  if (redirectUrlParts.protocol !== currentUrlParts.protocol &&\r\n     redirectUrlParts.protocol !== \"https:\" ||\r\n     redirectUrlParts.host !== currentHost &&\r\n     !isSubdomain(redirectUrlParts.host, currentHost)) {\r\n    removeMatchingHeaders(/^(?:authorization|cookie)$/i, this._options.headers);\r\n  }\r\n\r\n  // Evaluate the beforeRedirect callback\r\n  if (typeof beforeRedirect === \"function\") {\r\n    var responseDetails = {\r\n      headers: response.headers,\r\n      statusCode: statusCode,\r\n    };\r\n    var requestDetails = {\r\n      url: currentUrl,\r\n      method: method,\r\n      headers: requestHeaders,\r\n    };\r\n    try {\r\n      beforeRedirect(this._options, responseDetails, requestDetails);\r\n    }\r\n    catch (err) {\r\n      this.emit(\"error\", err);\r\n      return;\r\n    }\r\n    this._sanitizeOptions(this._options);\r\n  }\r\n\r\n  // Perform the redirected request\r\n  try {\r\n    this._performRequest();\r\n  }\r\n  catch (cause) {\r\n    this.emit(\"error\", new RedirectionError(cause));\r\n  }\r\n};\r\n\r\n// Wraps the key/value object of protocols with redirect functionality\r\nfunction wrap(protocols) {\r\n  // Default settings\r\n  var exports = {\r\n    maxRedirects: 21,\r\n    maxBodyLength: 10 * 1024 * 1024,\r\n  };\r\n\r\n  // Wrap each protocol\r\n  var nativeProtocols = {};\r\n  Object.keys(protocols).forEach(function (scheme) {\r\n    var protocol = scheme + \":\";\r\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\r\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\r\n\r\n    // Executes a request, following redirects\r\n    function request(input, options, callback) {\r\n      // Parse parameters\r\n      if (typeof input === \"string\") {\r\n        var urlStr = input;\r\n        try {\r\n          input = urlToOptions(new URL$1(urlStr));\r\n        }\r\n        catch (err) {\r\n          /* istanbul ignore next */\r\n          input = url.parse(urlStr);\r\n        }\r\n      }\r\n      else if (URL$1 && (input instanceof URL$1)) {\r\n        input = urlToOptions(input);\r\n      }\r\n      else {\r\n        callback = options;\r\n        options = input;\r\n        input = { protocol: protocol };\r\n      }\r\n      if (typeof options === \"function\") {\r\n        callback = options;\r\n        options = null;\r\n      }\r\n\r\n      // Set defaults\r\n      options = Object.assign({\r\n        maxRedirects: exports.maxRedirects,\r\n        maxBodyLength: exports.maxBodyLength,\r\n      }, input, options);\r\n      options.nativeProtocols = nativeProtocols;\r\n\r\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\r\n      debug$2(\"options\", options);\r\n      return new RedirectableRequest(options, callback);\r\n    }\r\n\r\n    // Executes a GET request, following redirects\r\n    function get(input, options, callback) {\r\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\r\n      wrappedRequest.end();\r\n      return wrappedRequest;\r\n    }\r\n\r\n    // Expose the properties on the wrapped protocol\r\n    Object.defineProperties(wrappedProtocol, {\r\n      request: { value: request, configurable: true, enumerable: true, writable: true },\r\n      get: { value: get, configurable: true, enumerable: true, writable: true },\r\n    });\r\n  });\r\n  return exports;\r\n}\r\n\r\n/* istanbul ignore next */\r\nfunction noop$1() { /* empty */ }\r\n\r\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\r\nfunction urlToOptions(urlObject) {\r\n  var options = {\r\n    protocol: urlObject.protocol,\r\n    hostname: urlObject.hostname.startsWith(\"[\") ?\r\n      /* istanbul ignore next */\r\n      urlObject.hostname.slice(1, -1) :\r\n      urlObject.hostname,\r\n    hash: urlObject.hash,\r\n    search: urlObject.search,\r\n    pathname: urlObject.pathname,\r\n    path: urlObject.pathname + urlObject.search,\r\n    href: urlObject.href,\r\n  };\r\n  if (urlObject.port !== \"\") {\r\n    options.port = Number(urlObject.port);\r\n  }\r\n  return options;\r\n}\r\n\r\nfunction removeMatchingHeaders(regex, headers) {\r\n  var lastValue;\r\n  for (var header in headers) {\r\n    if (regex.test(header)) {\r\n      lastValue = headers[header];\r\n      delete headers[header];\r\n    }\r\n  }\r\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\r\n    undefined : String(lastValue).trim();\r\n}\r\n\r\nfunction createErrorType(code, defaultMessage) {\r\n  function CustomError(cause) {\r\n    Error.captureStackTrace(this, this.constructor);\r\n    if (!cause) {\r\n      this.message = defaultMessage;\r\n    }\r\n    else {\r\n      this.message = defaultMessage + \": \" + cause.message;\r\n      this.cause = cause;\r\n    }\r\n  }\r\n  CustomError.prototype = new Error();\r\n  CustomError.prototype.constructor = CustomError;\r\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\r\n  CustomError.prototype.code = code;\r\n  return CustomError;\r\n}\r\n\r\nfunction abortRequest(request) {\r\n  for (var e = 0; e < events.length; e++) {\r\n    request.removeListener(events[e], eventHandlers[events[e]]);\r\n  }\r\n  request.on(\"error\", noop$1);\r\n  request.abort();\r\n}\r\n\r\nfunction isSubdomain(subdomain, domain) {\r\n  const dot = subdomain.length - domain.length - 1;\r\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\r\n}\r\n\r\n// Exports\r\nfollowRedirects$1.exports = wrap({ http: http$1, https: https$1 });\r\nfollowRedirects$1.exports.wrap = wrap;\r\n\r\nvar httpNative   = require$$1$2,\r\n    httpsNative  = require$$1$3,\r\n    web_o  = webOutgoing,\r\n    common$1 = common$3,\r\n    followRedirects = followRedirects$1.exports;\r\n\r\nweb_o = Object.keys(web_o).map(function(pass) {\r\n  return web_o[pass];\r\n});\r\n\r\nvar nativeAgents = { http: httpNative, https: httpsNative };\r\n\r\n/*!\r\n * Array of passes.\r\n *\r\n * A `pass` is just a function that is executed on `req, res, options`\r\n * so that you can easily add new checks while still keeping the base\r\n * flexible.\r\n */\r\n\r\n\r\nvar webIncoming = {\r\n\r\n  /**\r\n   * Sets `content-length` to '0' if request is of DELETE type.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  deleteLength: function deleteLength(req, res, options) {\r\n    if((req.method === 'DELETE' || req.method === 'OPTIONS')\r\n       && !req.headers['content-length']) {\r\n      req.headers['content-length'] = '0';\r\n      delete req.headers['transfer-encoding'];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets timeout in request socket if it was specified in options.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  timeout: function timeout(req, res, options) {\r\n    if(options.timeout) {\r\n      req.socket.setTimeout(options.timeout);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets `x-forwarded-*` headers if specified in config.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  XHeaders: function XHeaders(req, res, options) {\r\n    if(!options.xfwd) return;\r\n\r\n    var encrypted = req.isSpdy || common$1.hasEncryptedConnection(req);\r\n    var values = {\r\n      for  : req.connection.remoteAddress || req.socket.remoteAddress,\r\n      port : common$1.getPort(req),\r\n      proto: encrypted ? 'https' : 'http'\r\n    };\r\n\r\n    ['for', 'port', 'proto'].forEach(function(header) {\r\n      req.headers['x-forwarded-' + header] =\r\n        (req.headers['x-forwarded-' + header] || '') +\r\n        (req.headers['x-forwarded-' + header] ? ',' : '') +\r\n        values[header];\r\n    });\r\n\r\n    req.headers['x-forwarded-host'] = req.headers['x-forwarded-host'] || req.headers['host'] || '';\r\n  },\r\n\r\n  /**\r\n   * Does the actual proxying. If `forward` is enabled fires up\r\n   * a ForwardStream, same happens for ProxyStream. The request\r\n   * just dies otherwise.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  stream: function stream(req, res, options, _, server, clb) {\r\n\r\n    // And we begin!\r\n    server.emit('start', req, res, options.target || options.forward);\r\n\r\n    var agents = options.followRedirects ? followRedirects : nativeAgents;\r\n    var http = agents.http;\r\n    var https = agents.https;\r\n\r\n    if(options.forward) {\r\n      // If forward enable, so just pipe the request\r\n      var forwardReq = (options.forward.protocol === 'https:' ? https : http).request(\r\n        common$1.setupOutgoing(options.ssl || {}, options, req, 'forward')\r\n      );\r\n\r\n      // error handler (e.g. ECONNRESET, ECONNREFUSED)\r\n      // Handle errors on incoming request as well as it makes sense to\r\n      var forwardError = createErrorHandler(forwardReq, options.forward);\r\n      req.on('error', forwardError);\r\n      forwardReq.on('error', forwardError);\r\n\r\n      (options.buffer || req).pipe(forwardReq);\r\n      if(!options.target) { return res.end(); }\r\n    }\r\n\r\n    // Request initalization\r\n    var proxyReq = (options.target.protocol === 'https:' ? https : http).request(\r\n      common$1.setupOutgoing(options.ssl || {}, options, req)\r\n    );\r\n\r\n    // Enable developers to modify the proxyReq before headers are sent\r\n    proxyReq.on('socket', function(socket) {\r\n      if(server && !proxyReq.getHeader('expect')) {\r\n        server.emit('proxyReq', proxyReq, req, res, options);\r\n      }\r\n    });\r\n\r\n    // allow outgoing socket to timeout so that we could\r\n    // show an error page at the initial request\r\n    if(options.proxyTimeout) {\r\n      proxyReq.setTimeout(options.proxyTimeout, function() {\r\n         proxyReq.abort();\r\n      });\r\n    }\r\n\r\n    // Ensure we abort proxy if request is aborted\r\n    req.on('aborted', function () {\r\n      proxyReq.abort();\r\n    });\r\n\r\n    // handle errors in proxy and incoming request, just like for forward proxy\r\n    var proxyError = createErrorHandler(proxyReq, options.target);\r\n    req.on('error', proxyError);\r\n    proxyReq.on('error', proxyError);\r\n\r\n    function createErrorHandler(proxyReq, url) {\r\n      return function proxyError(err) {\r\n        if (req.socket.destroyed && err.code === 'ECONNRESET') {\r\n          server.emit('econnreset', err, req, res, url);\r\n          return proxyReq.abort();\r\n        }\r\n\r\n        if (clb) {\r\n          clb(err, req, res, url);\r\n        } else {\r\n          server.emit('error', err, req, res, url);\r\n        }\r\n      }\r\n    }\r\n\r\n    (options.buffer || req).pipe(proxyReq);\r\n\r\n    proxyReq.on('response', function(proxyRes) {\r\n      if(server) { server.emit('proxyRes', proxyRes, req, res); }\r\n\r\n      if(!res.headersSent && !options.selfHandleResponse) {\r\n        for(var i=0; i < web_o.length; i++) {\r\n          if(web_o[i](req, res, proxyRes, options)) { break; }\r\n        }\r\n      }\r\n\r\n      if (!res.finished) {\r\n        // Allow us to listen when the proxy has completed\r\n        proxyRes.on('end', function () {\r\n          if (server) server.emit('end', req, res, proxyRes);\r\n        });\r\n        // We pipe to the response unless its expected to be handled by the user\r\n        if (!options.selfHandleResponse) proxyRes.pipe(res);\r\n      } else {\r\n        if (server) server.emit('end', req, res, proxyRes);\r\n      }\r\n    });\r\n  }\r\n\r\n};\r\n\r\nvar http   = require$$1$2,\r\n    https  = require$$1$3,\r\n    common = common$3;\r\n\r\n/*!\r\n * Array of passes.\r\n *\r\n * A `pass` is just a function that is executed on `req, socket, options`\r\n * so that you can easily add new checks while still keeping the base\r\n * flexible.\r\n */\r\n\r\n/*\r\n * Websockets Passes\r\n *\r\n */\r\n\r\n\r\nvar wsIncoming = {\r\n  /**\r\n   * WebSocket requests must have the `GET` method and\r\n   * the `upgrade:websocket` header\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {Socket} Websocket\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  checkMethodAndHeader : function checkMethodAndHeader(req, socket) {\r\n    if (req.method !== 'GET' || !req.headers.upgrade) {\r\n      socket.destroy();\r\n      return true;\r\n    }\r\n\r\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\r\n      socket.destroy();\r\n      return true;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets `x-forwarded-*` headers if specified in config.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {Socket} Websocket\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  XHeaders : function XHeaders(req, socket, options) {\r\n    if(!options.xfwd) return;\r\n\r\n    var values = {\r\n      for  : req.connection.remoteAddress || req.socket.remoteAddress,\r\n      port : common.getPort(req),\r\n      proto: common.hasEncryptedConnection(req) ? 'wss' : 'ws'\r\n    };\r\n\r\n    ['for', 'port', 'proto'].forEach(function(header) {\r\n      req.headers['x-forwarded-' + header] =\r\n        (req.headers['x-forwarded-' + header] || '') +\r\n        (req.headers['x-forwarded-' + header] ? ',' : '') +\r\n        values[header];\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Does the actual proxying. Make the request and upgrade it\r\n   * send the Switching Protocols request and pipe the sockets.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   *\u00A0@param {Socket} Websocket\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n  stream : function stream(req, socket, options, head, server, clb) {\r\n\r\n    var createHttpHeader = function(line, headers) {\r\n      return Object.keys(headers).reduce(function (head, key) {\r\n        var value = headers[key];\r\n\r\n        if (!Array.isArray(value)) {\r\n          head.push(key + ': ' + value);\r\n          return head;\r\n        }\r\n\r\n        for (var i = 0; i < value.length; i++) {\r\n          head.push(key + ': ' + value[i]);\r\n        }\r\n        return head;\r\n      }, [line])\r\n      .join('\\r\\n') + '\\r\\n\\r\\n';\r\n    };\r\n\r\n    common.setupSocket(socket);\r\n\r\n    if (head && head.length) socket.unshift(head);\r\n\r\n\r\n    var proxyReq = (common.isSSL.test(options.target.protocol) ? https : http).request(\r\n      common.setupOutgoing(options.ssl || {}, options, req)\r\n    );\r\n\r\n    // Enable developers to modify the proxyReq before headers are sent\r\n    if (server) { server.emit('proxyReqWs', proxyReq, req, socket, options, head); }\r\n\r\n    // Error Handler\r\n    proxyReq.on('error', onOutgoingError);\r\n    proxyReq.on('response', function (res) {\r\n      // if upgrade event isn't going to happen, close the socket\r\n      if (!res.upgrade) {\r\n        socket.write(createHttpHeader('HTTP/' + res.httpVersion + ' ' + res.statusCode + ' ' + res.statusMessage, res.headers));\r\n        res.pipe(socket);\r\n      }\r\n    });\r\n\r\n    proxyReq.on('upgrade', function(proxyRes, proxySocket, proxyHead) {\r\n      proxySocket.on('error', onOutgoingError);\r\n\r\n      // Allow us to listen when the websocket has completed\r\n      proxySocket.on('end', function () {\r\n        server.emit('close', proxyRes, proxySocket, proxyHead);\r\n      });\r\n\r\n      // The pipe below will end proxySocket if socket closes cleanly, but not\r\n      // if it errors (eg, vanishes from the net and starts returning\r\n      // EHOSTUNREACH). We need to do that explicitly.\r\n      socket.on('error', function () {\r\n        proxySocket.end();\r\n      });\r\n\r\n      common.setupSocket(proxySocket);\r\n\r\n      if (proxyHead && proxyHead.length) proxySocket.unshift(proxyHead);\r\n\r\n      //\r\n      // Remark: Handle writing the headers to the socket when switching protocols\r\n      // Also handles when a header is an array\r\n      //\r\n      socket.write(createHttpHeader('HTTP/1.1 101 Switching Protocols', proxyRes.headers));\r\n\r\n      proxySocket.pipe(socket).pipe(proxySocket);\r\n\r\n      server.emit('open', proxySocket);\r\n      server.emit('proxySocket', proxySocket);  //DEPRECATED.\r\n    });\r\n\r\n    return proxyReq.end(); // XXX: CHECK IF THIS IS THIS CORRECT\r\n\r\n    function onOutgoingError(err) {\r\n      if (clb) {\r\n        clb(err, req, socket);\r\n      } else {\r\n        server.emit('error', err, req, socket);\r\n      }\r\n      socket.end();\r\n    }\r\n  }\r\n};\r\n\r\n(function (module) {\r\n\tvar httpProxy = module.exports,\r\n\t    extend    = require$$0$6._extend,\r\n\t    parse_url = require$$0$9.parse,\r\n\t    EE3       = eventemitter3.exports,\r\n\t    http      = require$$1$2,\r\n\t    https     = require$$1$3,\r\n\t    web       = webIncoming,\r\n\t    ws        = wsIncoming;\r\n\r\n\thttpProxy.Server = ProxyServer;\r\n\r\n\t/**\r\n\t * Returns a function that creates the loader for\r\n\t * either `ws` or `web`'s  passes.\r\n\t *\r\n\t * Examples:\r\n\t *\r\n\t *    httpProxy.createRightProxy('ws')\r\n\t *    // => [Function]\r\n\t *\r\n\t * @param {String} Type Either 'ws' or 'web'\r\n\t *\u00A0\r\n\t * @return {Function} Loader Function that when called returns an iterator for the right passes\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction createRightProxy(type) {\r\n\r\n\t  return function(options) {\r\n\t    return function(req, res /*, [head], [opts] */) {\r\n\t      var passes = (type === 'ws') ? this.wsPasses : this.webPasses,\r\n\t          args = [].slice.call(arguments),\r\n\t          cntr = args.length - 1,\r\n\t          head, cbl;\r\n\r\n\t      /* optional args parse begin */\r\n\t      if(typeof args[cntr] === 'function') {\r\n\t        cbl = args[cntr];\r\n\r\n\t        cntr--;\r\n\t      }\r\n\r\n\t      var requestOptions = options;\r\n\t      if(\r\n\t        !(args[cntr] instanceof Buffer) &&\r\n\t        args[cntr] !== res\r\n\t      ) {\r\n\t        //Copy global options\r\n\t        requestOptions = extend({}, options);\r\n\t        //Overwrite with request options\r\n\t        extend(requestOptions, args[cntr]);\r\n\r\n\t        cntr--;\r\n\t      }\r\n\r\n\t      if(args[cntr] instanceof Buffer) {\r\n\t        head = args[cntr];\r\n\t      }\r\n\r\n\t      /* optional args parse end */\r\n\r\n\t      ['target', 'forward'].forEach(function(e) {\r\n\t        if (typeof requestOptions[e] === 'string')\r\n\t          requestOptions[e] = parse_url(requestOptions[e]);\r\n\t      });\r\n\r\n\t      if (!requestOptions.target && !requestOptions.forward) {\r\n\t        return this.emit('error', new Error('Must provide a proper URL as target'));\r\n\t      }\r\n\r\n\t      for(var i=0; i < passes.length; i++) {\r\n\t        /**\r\n\t         * Call of passes functions\r\n\t         * pass(req, res, options, head)\r\n\t         *\r\n\t         * In WebSockets case the `res` variable\r\n\t         * refer to the connection socket\r\n\t         * pass(req, socket, options, head)\r\n\t         */\r\n\t        if(passes[i](req, res, requestOptions, head, this, cbl)) { // passes can return a truthy value to halt the loop\r\n\t          break;\r\n\t        }\r\n\t      }\r\n\t    };\r\n\t  };\r\n\t}\r\n\thttpProxy.createRightProxy = createRightProxy;\r\n\r\n\tfunction ProxyServer(options) {\r\n\t  EE3.call(this);\r\n\r\n\t  options = options || {};\r\n\t  options.prependPath = options.prependPath === false ? false : true;\r\n\r\n\t  this.web = this.proxyRequest           = createRightProxy('web')(options);\r\n\t  this.ws  = this.proxyWebsocketRequest  = createRightProxy('ws')(options);\r\n\t  this.options = options;\r\n\r\n\t  this.webPasses = Object.keys(web).map(function(pass) {\r\n\t    return web[pass];\r\n\t  });\r\n\r\n\t  this.wsPasses = Object.keys(ws).map(function(pass) {\r\n\t    return ws[pass];\r\n\t  });\r\n\r\n\t  this.on('error', this.onError, this);\r\n\r\n\t}\r\n\r\n\trequire$$0$6.inherits(ProxyServer, EE3);\r\n\r\n\tProxyServer.prototype.onError = function (err) {\r\n\t  //\r\n\t  // Remark: Replicate node core behavior using EE3\r\n\t  // so we force people to handle their own errors\r\n\t  //\r\n\t  if(this.listeners('error').length === 1) {\r\n\t    throw err;\r\n\t  }\r\n\t};\r\n\r\n\tProxyServer.prototype.listen = function(port, hostname) {\r\n\t  var self    = this,\r\n\t      closure = function(req, res) { self.web(req, res); };\r\n\r\n\t  this._server  = this.options.ssl ?\r\n\t    https.createServer(this.options.ssl, closure) :\r\n\t    http.createServer(closure);\r\n\r\n\t  if(this.options.ws) {\r\n\t    this._server.on('upgrade', function(req, socket, head) { self.ws(req, socket, head); });\r\n\t  }\r\n\r\n\t  this._server.listen(port, hostname);\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\tProxyServer.prototype.close = function(callback) {\r\n\t  var self = this;\r\n\t  if (this._server) {\r\n\t    this._server.close(done);\r\n\t  }\r\n\r\n\t  // Wrap callback to nullify server after all open connections are closed.\r\n\t  function done() {\r\n\t    self._server = null;\r\n\t    if (callback) {\r\n\t      callback.apply(null, arguments);\r\n\t    }\r\n\t  }\t};\r\n\r\n\tProxyServer.prototype.before = function(type, passName, callback) {\r\n\t  if (type !== 'ws' && type !== 'web') {\r\n\t    throw new Error('type must be `web` or `ws`');\r\n\t  }\r\n\t  var passes = (type === 'ws') ? this.wsPasses : this.webPasses,\r\n\t      i = false;\r\n\r\n\t  passes.forEach(function(v, idx) {\r\n\t    if(v.name === passName) i = idx;\r\n\t  });\r\n\r\n\t  if(i === false) throw new Error('No such pass');\r\n\r\n\t  passes.splice(i, 0, callback);\r\n\t};\r\n\tProxyServer.prototype.after = function(type, passName, callback) {\r\n\t  if (type !== 'ws' && type !== 'web') {\r\n\t    throw new Error('type must be `web` or `ws`');\r\n\t  }\r\n\t  var passes = (type === 'ws') ? this.wsPasses : this.webPasses,\r\n\t      i = false;\r\n\r\n\t  passes.forEach(function(v, idx) {\r\n\t    if(v.name === passName) i = idx;\r\n\t  });\r\n\r\n\t  if(i === false) throw new Error('No such pass');\r\n\r\n\t  passes.splice(i++, 0, callback);\r\n\t};\r\n} (httpProxy$2));\r\n\r\n// Use explicit /index.js to help browserify negociation in require '/lib/http-proxy' (!)\r\nvar ProxyServer = httpProxy$2.exports.Server;\r\n\r\n\r\n/**\r\n * Creates the proxy server.\r\n *\r\n * Examples:\r\n *\r\n *    httpProxy.createProxyServer({ .. }, 8000)\r\n *    // => '{ web: [Function], ws: [Function] ... }'\r\n *\r\n * @param {Object} Options Config object passed to the proxy\r\n *\r\n * @return {Object} Proxy Proxy object with handlers for `ws` and `web` requests\r\n *\r\n * @api public\r\n */\r\n\r\n\r\nfunction createProxyServer(options) {\r\n  /*\r\n   *  `options` is needed and it must have the following layout:\r\n   *\r\n   *  {\r\n   *    target : <url string to be parsed with the url module>\r\n   *    forward: <url string to be parsed with the url module>\r\n   *    agent  : <object to be passed to http(s).request>\r\n   *    ssl    : <object to be passed to https.createServer()>\r\n   *    ws     : <true/false, if you want to proxy websockets>\r\n   *    xfwd   : <true/false, adds x-forward headers>\r\n   *    secure : <true/false, verify SSL certificate>\r\n   *    toProxy: <true/false, explicitly specify if we are proxying to another proxy>\r\n   *    prependPath: <true/false, Default: true - specify whether you want to prepend the target's path to the proxy path>\r\n   *    ignorePath: <true/false, Default: false - specify whether you want to ignore the proxy path of the incoming request>\r\n   *    localAddress : <Local interface string to bind for outgoing connections>\r\n   *    changeOrigin: <true/false, Default: false - changes the origin of the host header to the target URL>\r\n   *    preserveHeaderKeyCase: <true/false, Default: false - specify whether you want to keep letter case of response header key >\r\n   *    auth   : Basic authentication i.e. 'user:password' to compute an Authorization header.\r\n   *    hostRewrite: rewrites the location hostname on (201/301/302/307/308) redirects, Default: null.\r\n   *    autoRewrite: rewrites the location host/port on (201/301/302/307/308) redirects based on requested host/port. Default: false.\r\n   *    protocolRewrite: rewrites the location protocol on (201/301/302/307/308) redirects to 'http' or 'https'. Default: null.\r\n   *  }\r\n   *\r\n   *  NOTE: `options.ws` and `options.ssl` are optional.\r\n   *    `options.target and `options.forward` cannot be\r\n   *    both missing\r\n   *  }\r\n   */\r\n\r\n  return new ProxyServer(options);\r\n}\r\n\r\n\r\nProxyServer.createProxyServer = createProxyServer;\r\nProxyServer.createServer      = createProxyServer;\r\nProxyServer.createProxy       = createProxyServer;\r\n\r\n\r\n\r\n\r\n/**\r\n * Export the proxy \"Server\" as the main export.\r\n */\r\nvar httpProxy$1 = ProxyServer;\r\n\r\n/*!\r\n * Caron dimonio, con occhi di bragia\r\n * loro accennando, tutte le raccoglie;\r\n * batte col remo qualunque s\u2019adagia \r\n *\r\n * Charon the demon, with the eyes of glede,\r\n * Beckoning to them, collects them all together,\r\n * Beats with his oar whoever lags behind\r\n *          \r\n *          Dante - The Divine Comedy (Canto III)\r\n */\r\n\r\n(function (module) {\r\n\tmodule.exports = httpProxy$1;\r\n} (httpProxy$3));\r\n\r\nvar httpProxy = /*@__PURE__*/getDefaultExportFromCjs(httpProxy$3.exports);\r\n\r\nconst debug$1 = createDebugger('vite:proxy');\r\nfunction proxyMiddleware(httpServer, options, config) {\r\n    // lazy require only when proxy is used\r\n    const proxies = {};\r\n    Object.keys(options).forEach((context) => {\r\n        let opts = options[context];\r\n        if (!opts) {\r\n            return;\r\n        }\r\n        if (typeof opts === 'string') {\r\n            opts = { target: opts, changeOrigin: true };\r\n        }\r\n        const proxy = httpProxy.createProxyServer(opts);\r\n        proxy.on('error', (err, req, originalRes) => {\r\n            // When it is ws proxy, res is net.Socket\r\n            const res = originalRes;\r\n            if ('req' in res) {\r\n                config.logger.error(`${picocolors.exports.red(`http proxy error:`)}\\n${err.stack}`, {\r\n                    timestamp: true,\r\n                    error: err\r\n                });\r\n                if (!res.headersSent && !res.writableEnded) {\r\n                    res\r\n                        .writeHead(500, {\r\n                        'Content-Type': 'text/plain'\r\n                    })\r\n                        .end();\r\n                }\r\n            }\r\n            else {\r\n                config.logger.error(`${picocolors.exports.red(`ws proxy error:`)}\\n${err.stack}`, {\r\n                    timestamp: true,\r\n                    error: err\r\n                });\r\n                res.end();\r\n            }\r\n        });\r\n        if (opts.configure) {\r\n            opts.configure(proxy, opts);\r\n        }\r\n        // clone before saving because http-proxy mutates the options\r\n        proxies[context] = [proxy, { ...opts }];\r\n    });\r\n    if (httpServer) {\r\n        httpServer.on('upgrade', (req, socket, head) => {\r\n            const url = req.url;\r\n            for (const context in proxies) {\r\n                if (doesProxyContextMatchUrl(context, url)) {\r\n                    const [proxy, opts] = proxies[context];\r\n                    if ((opts.ws || opts.target?.toString().startsWith('ws:')) &&\r\n                        req.headers['sec-websocket-protocol'] !== HMR_HEADER) {\r\n                        if (opts.rewrite) {\r\n                            req.url = opts.rewrite(url);\r\n                        }\r\n                        debug$1(`${req.url} -> ws ${opts.target}`);\r\n                        proxy.ws(req, socket, head);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteProxyMiddleware(req, res, next) {\r\n        const url = req.url;\r\n        for (const context in proxies) {\r\n            if (doesProxyContextMatchUrl(context, url)) {\r\n                const [proxy, opts] = proxies[context];\r\n                const options = {};\r\n                if (opts.bypass) {\r\n                    const bypassResult = opts.bypass(req, res, opts);\r\n                    if (typeof bypassResult === 'string') {\r\n                        req.url = bypassResult;\r\n                        debug$1(`bypass: ${req.url} -> ${bypassResult}`);\r\n                        return next();\r\n                    }\r\n                    else if (isObject$2(bypassResult)) {\r\n                        Object.assign(options, bypassResult);\r\n                        debug$1(`bypass: ${req.url} use modified options: %O`, options);\r\n                        return next();\r\n                    }\r\n                    else if (bypassResult === false) {\r\n                        debug$1(`bypass: ${req.url} -> 404`);\r\n                        return res.end(404);\r\n                    }\r\n                }\r\n                debug$1(`${req.url} -> ${opts.target || opts.forward}`);\r\n                if (opts.rewrite) {\r\n                    req.url = opts.rewrite(req.url);\r\n                }\r\n                proxy.web(req, res, options);\r\n                return;\r\n            }\r\n        }\r\n        next();\r\n    };\r\n}\r\nfunction doesProxyContextMatchUrl(context, url) {\r\n    return ((context.startsWith('^') && new RegExp(context).test(url)) ||\r\n        url.startsWith(context));\r\n}\r\n\r\nvar lib$1 = {exports: {}};\r\n\r\n(function (module, exports) {\r\n\r\n\tvar url = require$$0$9;\r\n\r\n\tmodule.exports = function historyApiFallback(options) {\r\n\t  options = options || {};\r\n\t  var logger = getLogger(options);\r\n\r\n\t  return function(req, res, next) {\r\n\t    var headers = req.headers;\r\n\t    if (req.method !== 'GET' && req.method !== 'HEAD') {\r\n\t      logger(\r\n\t        'Not rewriting',\r\n\t        req.method,\r\n\t        req.url,\r\n\t        'because the method is not GET or HEAD.'\r\n\t      );\r\n\t      return next();\r\n\t    } else if (!headers || typeof headers.accept !== 'string') {\r\n\t      logger(\r\n\t        'Not rewriting',\r\n\t        req.method,\r\n\t        req.url,\r\n\t        'because the client did not send an HTTP accept header.'\r\n\t      );\r\n\t      return next();\r\n\t    } else if (headers.accept.indexOf('application/json') === 0) {\r\n\t      logger(\r\n\t        'Not rewriting',\r\n\t        req.method,\r\n\t        req.url,\r\n\t        'because the client prefers JSON.'\r\n\t      );\r\n\t      return next();\r\n\t    } else if (!acceptsHtml(headers.accept, options)) {\r\n\t      logger(\r\n\t        'Not rewriting',\r\n\t        req.method,\r\n\t        req.url,\r\n\t        'because the client does not accept HTML.'\r\n\t      );\r\n\t      return next();\r\n\t    }\r\n\r\n\t    var parsedUrl = url.parse(req.url);\r\n\t    var rewriteTarget;\r\n\t    options.rewrites = options.rewrites || [];\r\n\t    for (var i = 0; i < options.rewrites.length; i++) {\r\n\t      var rewrite = options.rewrites[i];\r\n\t      var match = parsedUrl.pathname.match(rewrite.from);\r\n\t      if (match !== null) {\r\n\t        rewriteTarget = evaluateRewriteRule(parsedUrl, match, rewrite.to, req);\r\n\r\n\t        if(rewriteTarget.charAt(0) !== '/') {\r\n\t          logger(\r\n\t            'We recommend using an absolute path for the rewrite target.',\r\n\t            'Received a non-absolute rewrite target',\r\n\t            rewriteTarget,\r\n\t            'for URL',\r\n\t            req.url\r\n\t          );\r\n\t        }\r\n\r\n\t        logger('Rewriting', req.method, req.url, 'to', rewriteTarget);\r\n\t        req.url = rewriteTarget;\r\n\t        return next();\r\n\t      }\r\n\t    }\r\n\r\n\t    var pathname = parsedUrl.pathname;\r\n\t    if (pathname.lastIndexOf('.') > pathname.lastIndexOf('/') &&\r\n\t        options.disableDotRule !== true) {\r\n\t      logger(\r\n\t        'Not rewriting',\r\n\t        req.method,\r\n\t        req.url,\r\n\t        'because the path includes a dot (.) character.'\r\n\t      );\r\n\t      return next();\r\n\t    }\r\n\r\n\t    rewriteTarget = options.index || '/index.html';\r\n\t    logger('Rewriting', req.method, req.url, 'to', rewriteTarget);\r\n\t    req.url = rewriteTarget;\r\n\t    next();\r\n\t  };\r\n\t};\r\n\r\n\tfunction evaluateRewriteRule(parsedUrl, match, rule, req) {\r\n\t  if (typeof rule === 'string') {\r\n\t    return rule;\r\n\t  } else if (typeof rule !== 'function') {\r\n\t    throw new Error('Rewrite rule can only be of type string or function.');\r\n\t  }\r\n\r\n\t  return rule({\r\n\t    parsedUrl: parsedUrl,\r\n\t    match: match,\r\n\t    request: req\r\n\t  });\r\n\t}\r\n\r\n\tfunction acceptsHtml(header, options) {\r\n\t  options.htmlAcceptHeaders = options.htmlAcceptHeaders || ['text/html', '*/*'];\r\n\t  for (var i = 0; i < options.htmlAcceptHeaders.length; i++) {\r\n\t    if (header.indexOf(options.htmlAcceptHeaders[i]) !== -1) {\r\n\t      return true;\r\n\t    }\r\n\t  }\r\n\t  return false;\r\n\t}\r\n\r\n\tfunction getLogger(options) {\r\n\t  if (options && options.logger) {\r\n\t    return options.logger;\r\n\t  } else if (options && options.verbose) {\r\n\t    // eslint-disable-next-line no-console\r\n\t    return console.log.bind(console);\r\n\t  }\r\n\t  return function(){};\r\n\t}\r\n} (lib$1));\r\n\r\nvar history = lib$1.exports;\r\n\r\nfunction spaFallbackMiddleware(root) {\r\n    const historySpaFallbackMiddleware = history({\r\n        logger: createDebugger('vite:spa-fallback'),\r\n        // support /dir/ without explicit index.html\r\n        rewrites: [\r\n            {\r\n                from: /\\/$/,\r\n                to({ parsedUrl }) {\r\n                    const rewritten = decodeURIComponent(parsedUrl.pathname) + 'index.html';\r\n                    if (fs$l.existsSync(path$n.join(root, rewritten))) {\r\n                        return rewritten;\r\n                    }\r\n                    else {\r\n                        return `/index.html`;\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    });\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteSpaFallbackMiddleware(req, res, next) {\r\n        return historySpaFallbackMiddleware(req, res, next);\r\n    };\r\n}\r\n\r\nconst alias = {\r\n    js: 'application/javascript',\r\n    css: 'text/css',\r\n    html: 'text/html',\r\n    json: 'application/json'\r\n};\r\nfunction send(req, res, content, type, options) {\r\n    const { etag = etag_1(content, { weak: true }), cacheControl = 'no-cache', headers, map } = options;\r\n    if (res.writableEnded) {\r\n        return;\r\n    }\r\n    if (req.headers['if-none-match'] === etag) {\r\n        res.statusCode = 304;\r\n        res.end();\r\n        return;\r\n    }\r\n    res.setHeader('Content-Type', alias[type] || type);\r\n    res.setHeader('Cache-Control', cacheControl);\r\n    res.setHeader('Etag', etag);\r\n    if (headers) {\r\n        for (const name in headers) {\r\n            res.setHeader(name, headers[name]);\r\n        }\r\n    }\r\n    // inject source map reference\r\n    if (map && map.mappings) {\r\n        if (type === 'js' || type === 'css') {\r\n            content = getCodeWithSourcemap(type, content.toString(), map);\r\n        }\r\n    }\r\n    res.statusCode = 200;\r\n    res.end(content);\r\n    return;\r\n}\r\n\r\nconst debugCache = createDebugger('vite:cache');\r\nconst isDebug = !!process.env.DEBUG;\r\nconst knownIgnoreList = new Set(['/', '/favicon.ico']);\r\nfunction transformMiddleware(server) {\r\n    const { config: { root, logger }, moduleGraph } = server;\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return async function viteTransformMiddleware(req, res, next) {\r\n        if (req.method !== 'GET' || knownIgnoreList.has(req.url)) {\r\n            return next();\r\n        }\r\n        let url;\r\n        try {\r\n            url = decodeURI(removeTimestampQuery(req.url)).replace(NULL_BYTE_PLACEHOLDER, '\\0');\r\n        }\r\n        catch (e) {\r\n            return next(e);\r\n        }\r\n        const withoutQuery = cleanUrl(url);\r\n        try {\r\n            const isSourceMap = withoutQuery.endsWith('.map');\r\n            // since we generate source map references, handle those requests here\r\n            if (isSourceMap) {\r\n                const depsOptimizer = getDepsOptimizer(server.config, false); // non-ssr\r\n                if (depsOptimizer?.isOptimizedDepUrl(url)) {\r\n                    // If the browser is requesting a source map for an optimized dep, it\r\n                    // means that the dependency has already been pre-bundled and loaded\r\n                    const mapFile = url.startsWith(FS_PREFIX)\r\n                        ? fsPathFromId(url)\r\n                        : normalizePath$3(ensureVolumeInPath(path$n.resolve(root, url.slice(1))));\r\n                    try {\r\n                        const map = await promises$2.readFile(mapFile, 'utf-8');\r\n                        return send(req, res, map, 'json', {\r\n                            headers: server.config.server.headers\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        // Outdated source map request for optimized deps, this isn't an error\r\n                        // but part of the normal flow when re-optimizing after missing deps\r\n                        // Send back an empty source map so the browser doesn't issue warnings\r\n                        const dummySourceMap = {\r\n                            version: 3,\r\n                            file: mapFile.replace(/\\.map$/, ''),\r\n                            sources: [],\r\n                            sourcesContent: [],\r\n                            names: [],\r\n                            mappings: ';;;;;;;;;'\r\n                        };\r\n                        return send(req, res, JSON.stringify(dummySourceMap), 'json', {\r\n                            cacheControl: 'no-cache',\r\n                            headers: server.config.server.headers\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    const originalUrl = url.replace(/\\.map($|\\?)/, '$1');\r\n                    const map = (await moduleGraph.getModuleByUrl(originalUrl, false))\r\n                        ?.transformResult?.map;\r\n                    if (map) {\r\n                        return send(req, res, JSON.stringify(map), 'json', {\r\n                            headers: server.config.server.headers\r\n                        });\r\n                    }\r\n                    else {\r\n                        return next();\r\n                    }\r\n                }\r\n            }\r\n            // check if public dir is inside root dir\r\n            const publicDir = normalizePath$3(server.config.publicDir);\r\n            const rootDir = normalizePath$3(server.config.root);\r\n            if (publicDir.startsWith(rootDir)) {\r\n                const publicPath = `${publicDir.slice(rootDir.length)}/`;\r\n                // warn explicit public paths\r\n                if (url.startsWith(publicPath)) {\r\n                    let warning;\r\n                    if (isImportRequest(url)) {\r\n                        const rawUrl = removeImportQuery(url);\r\n                        warning =\r\n                            'Assets in public cannot be imported from JavaScript.\\n' +\r\n                                `Instead of ${picocolors.exports.cyan(rawUrl)}, put the file in the src directory, and use ${picocolors.exports.cyan(rawUrl.replace(publicPath, '/src/'))} instead.`;\r\n                    }\r\n                    else {\r\n                        warning =\r\n                            `files in the public directory are served at the root path.\\n` +\r\n                                `Instead of ${picocolors.exports.cyan(url)}, use ${picocolors.exports.cyan(url.replace(publicPath, '/'))}.`;\r\n                    }\r\n                    logger.warn(picocolors.exports.yellow(warning));\r\n                }\r\n            }\r\n            if (isJSRequest(url) ||\r\n                isImportRequest(url) ||\r\n                isCSSRequest(url) ||\r\n                isHTMLProxy(url)) {\r\n                // strip ?import\r\n                url = removeImportQuery(url);\r\n                // Strip valid id prefix. This is prepended to resolved Ids that are\r\n                // not valid browser import specifiers by the importAnalysis plugin.\r\n                url = unwrapId(url);\r\n                // for CSS, we need to differentiate between normal CSS requests and\r\n                // imports\r\n                if (isCSSRequest(url) &&\r\n                    !isDirectRequest(url) &&\r\n                    req.headers.accept?.includes('text/css')) {\r\n                    url = injectQuery(url, 'direct');\r\n                }\r\n                // check if we can return 304 early\r\n                const ifNoneMatch = req.headers['if-none-match'];\r\n                if (ifNoneMatch &&\r\n                    (await moduleGraph.getModuleByUrl(url, false))?.transformResult\r\n                        ?.etag === ifNoneMatch) {\r\n                    isDebug && debugCache(`[304] ${prettifyUrl(url, root)}`);\r\n                    res.statusCode = 304;\r\n                    return res.end();\r\n                }\r\n                // resolve, load and transform using the plugin container\r\n                const result = await transformRequest(url, server, {\r\n                    html: req.headers.accept?.includes('text/html')\r\n                });\r\n                if (result) {\r\n                    const depsOptimizer = getDepsOptimizer(server.config, false); // non-ssr\r\n                    const type = isDirectCSSRequest(url) ? 'css' : 'js';\r\n                    const isDep = DEP_VERSION_RE.test(url) || depsOptimizer?.isOptimizedDepUrl(url);\r\n                    return send(req, res, result.code, type, {\r\n                        etag: result.etag,\r\n                        // allow browser to cache npm deps!\r\n                        cacheControl: isDep ? 'max-age=31536000,immutable' : 'no-cache',\r\n                        headers: server.config.server.headers,\r\n                        map: result.map\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (e?.code === ERR_OPTIMIZE_DEPS_PROCESSING_ERROR) {\r\n                // Skip if response has already been sent\r\n                if (!res.writableEnded) {\r\n                    res.statusCode = 504; // status code request timeout\r\n                    res.end();\r\n                }\r\n                // This timeout is unexpected\r\n                logger.error(e.message);\r\n                return;\r\n            }\r\n            if (e?.code === ERR_OUTDATED_OPTIMIZED_DEP) {\r\n                // Skip if response has already been sent\r\n                if (!res.writableEnded) {\r\n                    res.statusCode = 504; // status code request timeout\r\n                    res.end();\r\n                }\r\n                // We don't need to log an error in this case, the request\r\n                // is outdated because new dependencies were discovered and\r\n                // the new pre-bundle dependencies have changed.\r\n                // A full-page reload has been issued, and these old requests\r\n                // can't be properly fulfilled. This isn't an unexpected\r\n                // error but a normal part of the missing deps discovery flow\r\n                return;\r\n            }\r\n            return next(e);\r\n        }\r\n        next();\r\n    };\r\n}\r\n\r\nfunction createDevHtmlTransformFn(server) {\r\n    const [preHooks, postHooks] = resolveHtmlTransforms(server.config.plugins);\r\n    return (url, html, originalUrl) => {\r\n        return applyHtmlTransforms(html, [...preHooks, devHtmlHook, ...postHooks], {\r\n            path: url,\r\n            filename: getHtmlFilename(url, server),\r\n            server,\r\n            originalUrl\r\n        });\r\n    };\r\n}\r\nfunction getHtmlFilename(url, server) {\r\n    if (url.startsWith(FS_PREFIX)) {\r\n        return decodeURIComponent(fsPathFromId(url));\r\n    }\r\n    else {\r\n        return decodeURIComponent(normalizePath$3(path$n.join(server.config.root, url.slice(1))));\r\n    }\r\n}\r\nconst startsWithSingleSlashRE = /^\\/(?!\\/)/;\r\nconst processNodeUrl = (node, s, config, htmlPath, originalUrl, moduleGraph) => {\r\n    let url = node.value?.content || '';\r\n    if (moduleGraph) {\r\n        const mod = moduleGraph.urlToModuleMap.get(url);\r\n        if (mod && mod.lastHMRTimestamp > 0) {\r\n            url = injectQuery(url, `t=${mod.lastHMRTimestamp}`);\r\n        }\r\n    }\r\n    const devBase = config.base;\r\n    if (startsWithSingleSlashRE.test(url)) {\r\n        // prefix with base (dev only, base is never relative)\r\n        s.overwrite(node.value.loc.start.offset, node.value.loc.end.offset, `\"${devBase + url.slice(1)}\"`, { contentOnly: true });\r\n    }\r\n    else if (url.startsWith('.') &&\r\n        originalUrl &&\r\n        originalUrl !== '/' &&\r\n        htmlPath === '/index.html') {\r\n        const replacer = (url) => path$n.posix.join(devBase, path$n.posix.relative(originalUrl, devBase), url.slice(1));\r\n        // #3230 if some request url (localhost:3000/a/b) return to fallback html, the relative assets\r\n        // path will add `/a/` prefix, it will caused 404.\r\n        // rewrite before `./index.js` -> `localhost:5173/a/index.js`.\r\n        // rewrite after `../index.js` -> `localhost:5173/index.js`.\r\n        s.overwrite(node.value.loc.start.offset, node.value.loc.end.offset, node.name === 'srcset'\r\n            ? `\"${processSrcSetSync(url, ({ url }) => replacer(url))}\"`\r\n            : `\"${replacer(url)}\"`);\r\n    }\r\n};\r\nconst devHtmlHook = async (html, { path: htmlPath, filename, server, originalUrl }) => {\r\n    const { config, moduleGraph, watcher } = server;\r\n    const base = config.base || '/';\r\n    let proxyModulePath;\r\n    let proxyModuleUrl;\r\n    const trailingSlash = htmlPath.endsWith('/');\r\n    if (!trailingSlash && fs$l.existsSync(filename)) {\r\n        proxyModulePath = htmlPath;\r\n        proxyModuleUrl = base + htmlPath.slice(1);\r\n    }\r\n    else {\r\n        // There are users of vite.transformIndexHtml calling it with url '/'\r\n        // for SSR integrations #7993, filename is root for this case\r\n        // A user may also use a valid name for a virtual html file\r\n        // Mark the path as virtual in both cases so sourcemaps aren't processed\r\n        // and ids are properly handled\r\n        const validPath = `${htmlPath}${trailingSlash ? 'index.html' : ''}`;\r\n        proxyModulePath = `\\0${validPath}`;\r\n        proxyModuleUrl = `${VALID_ID_PREFIX}${NULL_BYTE_PLACEHOLDER}${validPath}`;\r\n    }\r\n    const s = new MagicString(html);\r\n    let inlineModuleIndex = -1;\r\n    const proxyCacheUrl = cleanUrl(proxyModulePath).replace(normalizePath$3(config.root), '');\r\n    const styleUrl = [];\r\n    const addInlineModule = (node, ext) => {\r\n        inlineModuleIndex++;\r\n        const contentNode = node.children[0];\r\n        const code = contentNode.content;\r\n        let map;\r\n        if (!proxyModulePath.startsWith('\\0')) {\r\n            map = new MagicString(html)\r\n                .snip(contentNode.loc.start.offset, contentNode.loc.end.offset)\r\n                .generateMap({ hires: true });\r\n            map.sources = [filename];\r\n            map.file = filename;\r\n        }\r\n        // add HTML Proxy to Map\r\n        addToHTMLProxyCache(config, proxyCacheUrl, inlineModuleIndex, { code, map });\r\n        // inline js module. convert to src=\"proxy\" (dev only, base is never relative)\r\n        const modulePath = `${proxyModuleUrl}?html-proxy&index=${inlineModuleIndex}.${ext}`;\r\n        // invalidate the module so the newly cached contents will be served\r\n        const module = server?.moduleGraph.getModuleById(modulePath);\r\n        if (module) {\r\n            server?.moduleGraph.invalidateModule(module);\r\n        }\r\n        s.overwrite(node.loc.start.offset, node.loc.end.offset, `<script type=\"module\" src=\"${modulePath}\"></script>`, { contentOnly: true });\r\n    };\r\n    await traverseHtml(html, htmlPath, (node) => {\r\n        if (node.type !== 1 /* ELEMENT */) {\r\n            return;\r\n        }\r\n        // script tags\r\n        if (node.tag === 'script') {\r\n            const { src, isModule } = getScriptInfo(node);\r\n            if (src) {\r\n                processNodeUrl(src, s, config, htmlPath, originalUrl, moduleGraph);\r\n            }\r\n            else if (isModule && node.children.length) {\r\n                addInlineModule(node, 'js');\r\n            }\r\n        }\r\n        if (node.tag === 'style' && node.children.length) {\r\n            const children = node.children[0];\r\n            styleUrl.push({\r\n                start: children.loc.start.offset,\r\n                end: children.loc.end.offset,\r\n                code: children.content\r\n            });\r\n        }\r\n        // elements with [href/src] attrs\r\n        const assetAttrs = assetAttrsConfig[node.tag];\r\n        if (assetAttrs) {\r\n            for (const p of node.props) {\r\n                if (p.type === 6 /* ATTRIBUTE */ &&\r\n                    p.value &&\r\n                    assetAttrs.includes(p.name)) {\r\n                    processNodeUrl(p, s, config, htmlPath, originalUrl);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    await Promise.all(styleUrl.map(async ({ start, end, code }, index) => {\r\n        const url = `${proxyModulePath}?html-proxy&direct&index=${index}.css`;\r\n        // ensure module in graph after successful load\r\n        const mod = await moduleGraph.ensureEntryFromUrl(url, false);\r\n        ensureWatchedFile(watcher, mod.file, config.root);\r\n        const result = await server.pluginContainer.transform(code, mod.id);\r\n        s.overwrite(start, end, result?.code || '');\r\n    }));\r\n    html = s.toString();\r\n    return {\r\n        html,\r\n        tags: [\r\n            {\r\n                tag: 'script',\r\n                attrs: {\r\n                    type: 'module',\r\n                    src: path$n.posix.join(base, CLIENT_PUBLIC_PATH)\r\n                },\r\n                injectTo: 'head-prepend'\r\n            }\r\n        ]\r\n    };\r\n};\r\nfunction indexHtmlMiddleware(server) {\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return async function viteIndexHtmlMiddleware(req, res, next) {\r\n        if (res.writableEnded) {\r\n            return next();\r\n        }\r\n        const url = req.url && cleanUrl(req.url);\r\n        // spa-fallback always redirects to /index.html\r\n        if (url?.endsWith('.html') && req.headers['sec-fetch-dest'] !== 'script') {\r\n            const filename = getHtmlFilename(url, server);\r\n            if (fs$l.existsSync(filename)) {\r\n                try {\r\n                    let html = fs$l.readFileSync(filename, 'utf-8');\r\n                    html = await server.transformIndexHtml(url, html, req.originalUrl);\r\n                    return send(req, res, html, 'html', {\r\n                        headers: server.config.server.headers\r\n                    });\r\n                }\r\n                catch (e) {\r\n                    return next(e);\r\n                }\r\n            }\r\n        }\r\n        next();\r\n    };\r\n}\r\n\r\nconst logTime = createDebugger('vite:time');\r\nfunction timeMiddleware(root) {\r\n    // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n    return function viteTimeMiddleware(req, res, next) {\r\n        const start = performance.now();\r\n        const end = res.end;\r\n        res.end = (...args) => {\r\n            logTime(`${timeFrom(start)} ${prettifyUrl(req.url, root)}`);\r\n            // @ts-ignore\r\n            return end.call(res, ...args);\r\n        };\r\n        next();\r\n    };\r\n}\r\n\r\nclass ModuleNode {\r\n    /**\r\n     * @param setIsSelfAccepting - set `false` to set `isSelfAccepting` later. e.g. #7870\r\n     */\r\n    constructor(url, setIsSelfAccepting = true) {\r\n        /**\r\n         * Resolved file system path + query\r\n         */\r\n        this.id = null;\r\n        this.file = null;\r\n        this.importers = new Set();\r\n        this.importedModules = new Set();\r\n        this.acceptedHmrDeps = new Set();\r\n        this.acceptedHmrExports = null;\r\n        this.importedBindings = null;\r\n        this.transformResult = null;\r\n        this.ssrTransformResult = null;\r\n        this.ssrModule = null;\r\n        this.ssrError = null;\r\n        this.lastHMRTimestamp = 0;\r\n        this.lastInvalidationTimestamp = 0;\r\n        this.url = url;\r\n        this.type = isDirectCSSRequest(url) ? 'css' : 'js';\r\n        if (setIsSelfAccepting) {\r\n            this.isSelfAccepting = false;\r\n        }\r\n    }\r\n}\r\nfunction invalidateSSRModule(mod, seen) {\r\n    if (seen.has(mod)) {\r\n        return;\r\n    }\r\n    seen.add(mod);\r\n    mod.ssrModule = null;\r\n    mod.ssrError = null;\r\n    mod.importers.forEach((importer) => invalidateSSRModule(importer, seen));\r\n}\r\nclass ModuleGraph {\r\n    constructor(resolveId) {\r\n        this.resolveId = resolveId;\r\n        this.urlToModuleMap = new Map();\r\n        this.idToModuleMap = new Map();\r\n        // a single file may corresponds to multiple modules with different queries\r\n        this.fileToModulesMap = new Map();\r\n        this.safeModulesPath = new Set();\r\n    }\r\n    async getModuleByUrl(rawUrl, ssr) {\r\n        const [url] = await this.resolveUrl(rawUrl, ssr);\r\n        return this.urlToModuleMap.get(url);\r\n    }\r\n    getModuleById(id) {\r\n        return this.idToModuleMap.get(removeTimestampQuery(id));\r\n    }\r\n    getModulesByFile(file) {\r\n        return this.fileToModulesMap.get(file);\r\n    }\r\n    onFileChange(file) {\r\n        const mods = this.getModulesByFile(file);\r\n        if (mods) {\r\n            const seen = new Set();\r\n            mods.forEach((mod) => {\r\n                this.invalidateModule(mod, seen);\r\n            });\r\n        }\r\n    }\r\n    invalidateModule(mod, seen = new Set(), timestamp = Date.now()) {\r\n        // Save the timestamp for this invalidation, so we can avoid caching the result of possible already started\r\n        // processing being done for this module\r\n        mod.lastInvalidationTimestamp = timestamp;\r\n        // Don't invalidate mod.info and mod.meta, as they are part of the processing pipeline\r\n        // Invalidating the transform result is enough to ensure this module is re-processed next time it is requested\r\n        mod.transformResult = null;\r\n        mod.ssrTransformResult = null;\r\n        invalidateSSRModule(mod, seen);\r\n    }\r\n    invalidateAll() {\r\n        const timestamp = Date.now();\r\n        const seen = new Set();\r\n        this.idToModuleMap.forEach((mod) => {\r\n            this.invalidateModule(mod, seen, timestamp);\r\n        });\r\n    }\r\n    /**\r\n     * Update the module graph based on a module's updated imports information\r\n     * If there are dependencies that no longer have any importers, they are\r\n     * returned as a Set.\r\n     */\r\n    async updateModuleInfo(mod, importedModules, importedBindings, acceptedModules, acceptedExports, isSelfAccepting, ssr) {\r\n        mod.isSelfAccepting = isSelfAccepting;\r\n        const prevImports = mod.importedModules;\r\n        const nextImports = (mod.importedModules = new Set());\r\n        let noLongerImported;\r\n        // update import graph\r\n        for (const imported of importedModules) {\r\n            const dep = typeof imported === 'string'\r\n                ? await this.ensureEntryFromUrl(imported, ssr)\r\n                : imported;\r\n            dep.importers.add(mod);\r\n            nextImports.add(dep);\r\n        }\r\n        // remove the importer from deps that were imported but no longer are.\r\n        prevImports.forEach((dep) => {\r\n            if (!nextImports.has(dep)) {\r\n                dep.importers.delete(mod);\r\n                if (!dep.importers.size) {\r\n                    (noLongerImported || (noLongerImported = new Set())).add(dep);\r\n                }\r\n            }\r\n        });\r\n        // update accepted hmr deps\r\n        const deps = (mod.acceptedHmrDeps = new Set());\r\n        for (const accepted of acceptedModules) {\r\n            const dep = typeof accepted === 'string'\r\n                ? await this.ensureEntryFromUrl(accepted, ssr)\r\n                : accepted;\r\n            deps.add(dep);\r\n        }\r\n        // update accepted hmr exports\r\n        mod.acceptedHmrExports = acceptedExports;\r\n        mod.importedBindings = importedBindings;\r\n        return noLongerImported;\r\n    }\r\n    async ensureEntryFromUrl(rawUrl, ssr, setIsSelfAccepting = true) {\r\n        const [url, resolvedId, meta] = await this.resolveUrl(rawUrl, ssr);\r\n        let mod = this.urlToModuleMap.get(url);\r\n        if (!mod) {\r\n            mod = new ModuleNode(url, setIsSelfAccepting);\r\n            if (meta)\r\n                mod.meta = meta;\r\n            this.urlToModuleMap.set(url, mod);\r\n            mod.id = resolvedId;\r\n            this.idToModuleMap.set(resolvedId, mod);\r\n            const file = (mod.file = cleanUrl(resolvedId));\r\n            let fileMappedModules = this.fileToModulesMap.get(file);\r\n            if (!fileMappedModules) {\r\n                fileMappedModules = new Set();\r\n                this.fileToModulesMap.set(file, fileMappedModules);\r\n            }\r\n            fileMappedModules.add(mod);\r\n        }\r\n        return mod;\r\n    }\r\n    // some deps, like a css file referenced via @import, don't have its own\r\n    // url because they are inlined into the main css import. But they still\r\n    // need to be represented in the module graph so that they can trigger\r\n    // hmr in the importing css file.\r\n    createFileOnlyEntry(file) {\r\n        file = normalizePath$3(file);\r\n        let fileMappedModules = this.fileToModulesMap.get(file);\r\n        if (!fileMappedModules) {\r\n            fileMappedModules = new Set();\r\n            this.fileToModulesMap.set(file, fileMappedModules);\r\n        }\r\n        const url = `${FS_PREFIX}${file}`;\r\n        for (const m of fileMappedModules) {\r\n            if (m.url === url || m.id === file) {\r\n                return m;\r\n            }\r\n        }\r\n        const mod = new ModuleNode(url);\r\n        mod.file = file;\r\n        fileMappedModules.add(mod);\r\n        return mod;\r\n    }\r\n    // for incoming urls, it is important to:\r\n    // 1. remove the HMR timestamp query (?t=xxxx)\r\n    // 2. resolve its extension so that urls with or without extension all map to\r\n    // the same module\r\n    async resolveUrl(url, ssr) {\r\n        url = removeImportQuery(removeTimestampQuery(url));\r\n        const resolved = await this.resolveId(url, !!ssr);\r\n        const resolvedId = resolved?.id || url;\r\n        if (url !== resolvedId &&\r\n            !url.includes('\\0') &&\r\n            !url.startsWith(`virtual:`)) {\r\n            const ext = extname$1(cleanUrl(resolvedId));\r\n            const { pathname, search, hash } = new URL(url, 'relative://');\r\n            if (ext && !pathname.endsWith(ext)) {\r\n                url = pathname + ext + search + hash;\r\n            }\r\n        }\r\n        return [url, resolvedId, resolved?.meta];\r\n    }\r\n}\r\n\r\nvar isWsl$2 = {exports: {}};\r\n\r\nconst fs$4 = require$$0__default;\r\n\r\nlet isDocker$2;\r\n\r\nfunction hasDockerEnv() {\r\n\ttry {\r\n\t\tfs$4.statSync('/.dockerenv');\r\n\t\treturn true;\r\n\t} catch (_) {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction hasDockerCGroup() {\r\n\ttry {\r\n\t\treturn fs$4.readFileSync('/proc/self/cgroup', 'utf8').includes('docker');\r\n\t} catch (_) {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nvar isDocker_1 = () => {\r\n\tif (isDocker$2 === undefined) {\r\n\t\tisDocker$2 = hasDockerEnv() || hasDockerCGroup();\r\n\t}\r\n\r\n\treturn isDocker$2;\r\n};\r\n\r\nconst os$1 = require$$1;\r\nconst fs$3 = require$$0__default;\r\nconst isDocker$1 = isDocker_1;\r\n\r\nconst isWsl$1 = () => {\r\n\tif (process.platform !== 'linux') {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (os$1.release().toLowerCase().includes('microsoft')) {\r\n\t\tif (isDocker$1()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\ttry {\r\n\t\treturn fs$3.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft') ?\r\n\t\t\t!isDocker$1() : false;\r\n\t} catch (_) {\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nif (process.env.__IS_WSL_TEST__) {\r\n\tisWsl$2.exports = isWsl$1;\r\n} else {\r\n\tisWsl$2.exports = isWsl$1();\r\n}\r\n\r\nvar defineLazyProp = (object, propertyName, fn) => {\r\n\tconst define = value => Object.defineProperty(object, propertyName, {value, enumerable: true, writable: true});\r\n\r\n\tObject.defineProperty(object, propertyName, {\r\n\t\tconfigurable: true,\r\n\t\tenumerable: true,\r\n\t\tget() {\r\n\t\t\tconst result = fn();\r\n\t\t\tdefine(result);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tset(value) {\r\n\t\t\tdefine(value);\r\n\t\t}\r\n\t});\r\n\r\n\treturn object;\r\n};\r\n\r\nconst path$4 = require$$0$4;\r\nconst childProcess = require$$2;\r\nconst {promises: fs$2, constants: fsConstants} = require$$0__default;\r\nconst isWsl = isWsl$2.exports;\r\nconst isDocker = isDocker_1;\r\nconst defineLazyProperty = defineLazyProp;\r\n\r\n// Path to included `xdg-open`.\r\nconst localXdgOpenPath = path$4.join(__dirname, 'xdg-open');\r\n\r\nconst {platform, arch} = process;\r\n\r\n/**\r\nGet the mount point for fixed drives in WSL.\r\n\r\n@inner\r\n@returns {string} The mount point.\r\n*/\r\nconst getWslDrivesMountPoint = (() => {\r\n\t// Default value for \"root\" param\r\n\t// according to https://docs.microsoft.com/en-us/windows/wsl/wsl-config\r\n\tconst defaultMountPoint = '/mnt/';\r\n\r\n\tlet mountPoint;\r\n\r\n\treturn async function () {\r\n\t\tif (mountPoint) {\r\n\t\t\t// Return memoized mount point value\r\n\t\t\treturn mountPoint;\r\n\t\t}\r\n\r\n\t\tconst configFilePath = '/etc/wsl.conf';\r\n\r\n\t\tlet isConfigFileExists = false;\r\n\t\ttry {\r\n\t\t\tawait fs$2.access(configFilePath, fsConstants.F_OK);\r\n\t\t\tisConfigFileExists = true;\r\n\t\t} catch {}\r\n\r\n\t\tif (!isConfigFileExists) {\r\n\t\t\treturn defaultMountPoint;\r\n\t\t}\r\n\r\n\t\tconst configContent = await fs$2.readFile(configFilePath, {encoding: 'utf8'});\r\n\t\tconst configMountPoint = /(?<!#.*)root\\s*=\\s*(?<mountPoint>.*)/g.exec(configContent);\r\n\r\n\t\tif (!configMountPoint) {\r\n\t\t\treturn defaultMountPoint;\r\n\t\t}\r\n\r\n\t\tmountPoint = configMountPoint.groups.mountPoint.trim();\r\n\t\tmountPoint = mountPoint.endsWith('/') ? mountPoint : `${mountPoint}/`;\r\n\r\n\t\treturn mountPoint;\r\n\t};\r\n})();\r\n\r\nconst pTryEach = async (array, mapper) => {\r\n\tlet latestError;\r\n\r\n\tfor (const item of array) {\r\n\t\ttry {\r\n\t\t\treturn await mapper(item); // eslint-disable-line no-await-in-loop\r\n\t\t} catch (error) {\r\n\t\t\tlatestError = error;\r\n\t\t}\r\n\t}\r\n\r\n\tthrow latestError;\r\n};\r\n\r\nconst baseOpen = async options => {\r\n\toptions = {\r\n\t\twait: false,\r\n\t\tbackground: false,\r\n\t\tnewInstance: false,\r\n\t\tallowNonzeroExitCode: false,\r\n\t\t...options\r\n\t};\r\n\r\n\tif (Array.isArray(options.app)) {\r\n\t\treturn pTryEach(options.app, singleApp => baseOpen({\r\n\t\t\t...options,\r\n\t\t\tapp: singleApp\r\n\t\t}));\r\n\t}\r\n\r\n\tlet {name: app, arguments: appArguments = []} = options.app || {};\r\n\tappArguments = [...appArguments];\r\n\r\n\tif (Array.isArray(app)) {\r\n\t\treturn pTryEach(app, appName => baseOpen({\r\n\t\t\t...options,\r\n\t\t\tapp: {\r\n\t\t\t\tname: appName,\r\n\t\t\t\targuments: appArguments\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\n\tlet command;\r\n\tconst cliArguments = [];\r\n\tconst childProcessOptions = {};\r\n\r\n\tif (platform === 'darwin') {\r\n\t\tcommand = 'open';\r\n\r\n\t\tif (options.wait) {\r\n\t\t\tcliArguments.push('--wait-apps');\r\n\t\t}\r\n\r\n\t\tif (options.background) {\r\n\t\t\tcliArguments.push('--background');\r\n\t\t}\r\n\r\n\t\tif (options.newInstance) {\r\n\t\t\tcliArguments.push('--new');\r\n\t\t}\r\n\r\n\t\tif (app) {\r\n\t\t\tcliArguments.push('-a', app);\r\n\t\t}\r\n\t} else if (platform === 'win32' || (isWsl && !isDocker())) {\r\n\t\tconst mountPoint = await getWslDrivesMountPoint();\r\n\r\n\t\tcommand = isWsl ?\r\n\t\t\t`${mountPoint}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe` :\r\n\t\t\t`${process.env.SYSTEMROOT}\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`;\r\n\r\n\t\tcliArguments.push(\r\n\t\t\t'-NoProfile',\r\n\t\t\t'-NonInteractive',\r\n\t\t\t'\u2013ExecutionPolicy',\r\n\t\t\t'Bypass',\r\n\t\t\t'-EncodedCommand'\r\n\t\t);\r\n\r\n\t\tif (!isWsl) {\r\n\t\t\tchildProcessOptions.windowsVerbatimArguments = true;\r\n\t\t}\r\n\r\n\t\tconst encodedArguments = ['Start'];\r\n\r\n\t\tif (options.wait) {\r\n\t\t\tencodedArguments.push('-Wait');\r\n\t\t}\r\n\r\n\t\tif (app) {\r\n\t\t\t// Double quote with double quotes to ensure the inner quotes are passed through.\r\n\t\t\t// Inner quotes are delimited for PowerShell interpretation with backticks.\r\n\t\t\tencodedArguments.push(`\"\\`\"${app}\\`\"\"`, '-ArgumentList');\r\n\t\t\tif (options.target) {\r\n\t\t\t\tappArguments.unshift(options.target);\r\n\t\t\t}\r\n\t\t} else if (options.target) {\r\n\t\t\tencodedArguments.push(`\"${options.target}\"`);\r\n\t\t}\r\n\r\n\t\tif (appArguments.length > 0) {\r\n\t\t\tappArguments = appArguments.map(arg => `\"\\`\"${arg}\\`\"\"`);\r\n\t\t\tencodedArguments.push(appArguments.join(','));\r\n\t\t}\r\n\r\n\t\t// Using Base64-encoded command, accepted by PowerShell, to allow special characters.\r\n\t\toptions.target = Buffer.from(encodedArguments.join(' '), 'utf16le').toString('base64');\r\n\t} else {\r\n\t\tif (app) {\r\n\t\t\tcommand = app;\r\n\t\t} else {\r\n\t\t\t// When bundled by Webpack, there's no actual package file path and no local `xdg-open`.\r\n\t\t\tconst isBundled = !__dirname || __dirname === '/';\r\n\r\n\t\t\t// Check if local `xdg-open` exists and is executable.\r\n\t\t\tlet exeLocalXdgOpen = false;\r\n\t\t\ttry {\r\n\t\t\t\tawait fs$2.access(localXdgOpenPath, fsConstants.X_OK);\r\n\t\t\t\texeLocalXdgOpen = true;\r\n\t\t\t} catch {}\r\n\r\n\t\t\tconst useSystemXdgOpen = process.versions.electron ||\r\n\t\t\t\tplatform === 'android' || isBundled || !exeLocalXdgOpen;\r\n\t\t\tcommand = useSystemXdgOpen ? 'xdg-open' : localXdgOpenPath;\r\n\t\t}\r\n\r\n\t\tif (appArguments.length > 0) {\r\n\t\t\tcliArguments.push(...appArguments);\r\n\t\t}\r\n\r\n\t\tif (!options.wait) {\r\n\t\t\t// `xdg-open` will block the process unless stdio is ignored\r\n\t\t\t// and it's detached from the parent even if it's unref'd.\r\n\t\t\tchildProcessOptions.stdio = 'ignore';\r\n\t\t\tchildProcessOptions.detached = true;\r\n\t\t}\r\n\t}\r\n\r\n\tif (options.target) {\r\n\t\tcliArguments.push(options.target);\r\n\t}\r\n\r\n\tif (platform === 'darwin' && appArguments.length > 0) {\r\n\t\tcliArguments.push('--args', ...appArguments);\r\n\t}\r\n\r\n\tconst subprocess = childProcess.spawn(command, cliArguments, childProcessOptions);\r\n\r\n\tif (options.wait) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tsubprocess.once('error', reject);\r\n\r\n\t\t\tsubprocess.once('close', exitCode => {\r\n\t\t\t\tif (options.allowNonzeroExitCode && exitCode > 0) {\r\n\t\t\t\t\treject(new Error(`Exited with code ${exitCode}`));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve(subprocess);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsubprocess.unref();\r\n\r\n\treturn subprocess;\r\n};\r\n\r\nconst open = (target, options) => {\r\n\tif (typeof target !== 'string') {\r\n\t\tthrow new TypeError('Expected a `target`');\r\n\t}\r\n\r\n\treturn baseOpen({\r\n\t\t...options,\r\n\t\ttarget\r\n\t});\r\n};\r\n\r\nconst openApp = (name, options) => {\r\n\tif (typeof name !== 'string') {\r\n\t\tthrow new TypeError('Expected a `name`');\r\n\t}\r\n\r\n\tconst {arguments: appArguments = []} = options || {};\r\n\tif (appArguments !== undefined && appArguments !== null && !Array.isArray(appArguments)) {\r\n\t\tthrow new TypeError('Expected `appArguments` as Array type');\r\n\t}\r\n\r\n\treturn baseOpen({\r\n\t\t...options,\r\n\t\tapp: {\r\n\t\t\tname,\r\n\t\t\targuments: appArguments\r\n\t\t}\r\n\t});\r\n};\r\n\r\nfunction detectArchBinary(binary) {\r\n\tif (typeof binary === 'string' || Array.isArray(binary)) {\r\n\t\treturn binary;\r\n\t}\r\n\r\n\tconst {[arch]: archBinary} = binary;\r\n\r\n\tif (!archBinary) {\r\n\t\tthrow new Error(`${arch} is not supported`);\r\n\t}\r\n\r\n\treturn archBinary;\r\n}\r\n\r\nfunction detectPlatformBinary({[platform]: platformBinary}, {wsl}) {\r\n\tif (wsl && isWsl) {\r\n\t\treturn detectArchBinary(wsl);\r\n\t}\r\n\r\n\tif (!platformBinary) {\r\n\t\tthrow new Error(`${platform} is not supported`);\r\n\t}\r\n\r\n\treturn detectArchBinary(platformBinary);\r\n}\r\n\r\nconst apps = {};\r\n\r\ndefineLazyProperty(apps, 'chrome', () => detectPlatformBinary({\r\n\tdarwin: 'google chrome',\r\n\twin32: 'chrome',\r\n\tlinux: ['google-chrome', 'google-chrome-stable', 'chromium']\r\n}, {\r\n\twsl: {\r\n\t\tia32: '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe',\r\n\t\tx64: ['/mnt/c/Program Files/Google/Chrome/Application/chrome.exe', '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe']\r\n\t}\r\n}));\r\n\r\ndefineLazyProperty(apps, 'firefox', () => detectPlatformBinary({\r\n\tdarwin: 'firefox',\r\n\twin32: 'C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe',\r\n\tlinux: 'firefox'\r\n}, {\r\n\twsl: '/mnt/c/Program Files/Mozilla Firefox/firefox.exe'\r\n}));\r\n\r\ndefineLazyProperty(apps, 'edge', () => detectPlatformBinary({\r\n\tdarwin: 'microsoft edge',\r\n\twin32: 'msedge',\r\n\tlinux: ['microsoft-edge', 'microsoft-edge-dev']\r\n}, {\r\n\twsl: '/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe'\r\n}));\r\n\r\nopen.apps = apps;\r\nopen.openApp = openApp;\r\n\r\nvar open_1 = open;\r\n\r\nvar crossSpawn = {exports: {}};\r\n\r\nvar windows;\r\nvar hasRequiredWindows;\r\n\r\nfunction requireWindows () {\r\n\tif (hasRequiredWindows) return windows;\r\n\thasRequiredWindows = 1;\r\n\twindows = isexe;\r\n\tisexe.sync = sync;\r\n\r\n\tvar fs = require$$0__default;\r\n\r\n\tfunction checkPathExt (path, options) {\r\n\t  var pathext = options.pathExt !== undefined ?\r\n\t    options.pathExt : process.env.PATHEXT;\r\n\r\n\t  if (!pathext) {\r\n\t    return true\r\n\t  }\r\n\r\n\t  pathext = pathext.split(';');\r\n\t  if (pathext.indexOf('') !== -1) {\r\n\t    return true\r\n\t  }\r\n\t  for (var i = 0; i < pathext.length; i++) {\r\n\t    var p = pathext[i].toLowerCase();\r\n\t    if (p && path.substr(-p.length).toLowerCase() === p) {\r\n\t      return true\r\n\t    }\r\n\t  }\r\n\t  return false\r\n\t}\r\n\r\n\tfunction checkStat (stat, path, options) {\r\n\t  if (!stat.isSymbolicLink() && !stat.isFile()) {\r\n\t    return false\r\n\t  }\r\n\t  return checkPathExt(path, options)\r\n\t}\r\n\r\n\tfunction isexe (path, options, cb) {\r\n\t  fs.stat(path, function (er, stat) {\r\n\t    cb(er, er ? false : checkStat(stat, path, options));\r\n\t  });\r\n\t}\r\n\r\n\tfunction sync (path, options) {\r\n\t  return checkStat(fs.statSync(path), path, options)\r\n\t}\r\n\treturn windows;\r\n}\r\n\r\nvar mode;\r\nvar hasRequiredMode;\r\n\r\nfunction requireMode () {\r\n\tif (hasRequiredMode) return mode;\r\n\thasRequiredMode = 1;\r\n\tmode = isexe;\r\n\tisexe.sync = sync;\r\n\r\n\tvar fs = require$$0__default;\r\n\r\n\tfunction isexe (path, options, cb) {\r\n\t  fs.stat(path, function (er, stat) {\r\n\t    cb(er, er ? false : checkStat(stat, options));\r\n\t  });\r\n\t}\r\n\r\n\tfunction sync (path, options) {\r\n\t  return checkStat(fs.statSync(path), options)\r\n\t}\r\n\r\n\tfunction checkStat (stat, options) {\r\n\t  return stat.isFile() && checkMode(stat, options)\r\n\t}\r\n\r\n\tfunction checkMode (stat, options) {\r\n\t  var mod = stat.mode;\r\n\t  var uid = stat.uid;\r\n\t  var gid = stat.gid;\r\n\r\n\t  var myUid = options.uid !== undefined ?\r\n\t    options.uid : process.getuid && process.getuid();\r\n\t  var myGid = options.gid !== undefined ?\r\n\t    options.gid : process.getgid && process.getgid();\r\n\r\n\t  var u = parseInt('100', 8);\r\n\t  var g = parseInt('010', 8);\r\n\t  var o = parseInt('001', 8);\r\n\t  var ug = u | g;\r\n\r\n\t  var ret = (mod & o) ||\r\n\t    (mod & g) && gid === myGid ||\r\n\t    (mod & u) && uid === myUid ||\r\n\t    (mod & ug) && myUid === 0;\r\n\r\n\t  return ret\r\n\t}\r\n\treturn mode;\r\n}\r\n\r\nvar core;\r\nif (process.platform === 'win32' || commonjsGlobal.TESTING_WINDOWS) {\r\n  core = requireWindows();\r\n} else {\r\n  core = requireMode();\r\n}\r\n\r\nvar isexe_1 = isexe$1;\r\nisexe$1.sync = sync;\r\n\r\nfunction isexe$1 (path, options, cb) {\r\n  if (typeof options === 'function') {\r\n    cb = options;\r\n    options = {};\r\n  }\r\n\r\n  if (!cb) {\r\n    if (typeof Promise !== 'function') {\r\n      throw new TypeError('callback not provided')\r\n    }\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      isexe$1(path, options || {}, function (er, is) {\r\n        if (er) {\r\n          reject(er);\r\n        } else {\r\n          resolve(is);\r\n        }\r\n      });\r\n    })\r\n  }\r\n\r\n  core(path, options || {}, function (er, is) {\r\n    // ignore EACCES because that just means we aren't allowed to run it\r\n    if (er) {\r\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\r\n        er = null;\r\n        is = false;\r\n      }\r\n    }\r\n    cb(er, is);\r\n  });\r\n}\r\n\r\nfunction sync (path, options) {\r\n  // my kingdom for a filtered catch\r\n  try {\r\n    return core.sync(path, options || {})\r\n  } catch (er) {\r\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\r\n      return false\r\n    } else {\r\n      throw er\r\n    }\r\n  }\r\n}\r\n\r\nconst isWindows = process.platform === 'win32' ||\r\n    process.env.OSTYPE === 'cygwin' ||\r\n    process.env.OSTYPE === 'msys';\r\n\r\nconst path$3 = require$$0$4;\r\nconst COLON = isWindows ? ';' : ':';\r\nconst isexe = isexe_1;\r\n\r\nconst getNotFoundError = (cmd) =>\r\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' });\r\n\r\nconst getPathInfo = (cmd, opt) => {\r\n  const colon = opt.colon || COLON;\r\n\r\n  // If it has a slash, then we don't bother searching the pathenv.\r\n  // just check the file itself, and that's it.\r\n  const pathEnv = cmd.match(/\\//) || isWindows && cmd.match(/\\\\/) ? ['']\r\n    : (\r\n      [\r\n        // windows always checks the cwd first\r\n        ...(isWindows ? [process.cwd()] : []),\r\n        ...(opt.path || process.env.PATH ||\r\n          /* istanbul ignore next: very unusual */ '').split(colon),\r\n      ]\r\n    );\r\n  const pathExtExe = isWindows\r\n    ? opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM'\r\n    : '';\r\n  const pathExt = isWindows ? pathExtExe.split(colon) : [''];\r\n\r\n  if (isWindows) {\r\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\r\n      pathExt.unshift('');\r\n  }\r\n\r\n  return {\r\n    pathEnv,\r\n    pathExt,\r\n    pathExtExe,\r\n  }\r\n};\r\n\r\nconst which$1 = (cmd, opt, cb) => {\r\n  if (typeof opt === 'function') {\r\n    cb = opt;\r\n    opt = {};\r\n  }\r\n  if (!opt)\r\n    opt = {};\r\n\r\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt);\r\n  const found = [];\r\n\r\n  const step = i => new Promise((resolve, reject) => {\r\n    if (i === pathEnv.length)\r\n      return opt.all && found.length ? resolve(found)\r\n        : reject(getNotFoundError(cmd))\r\n\r\n    const ppRaw = pathEnv[i];\r\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw;\r\n\r\n    const pCmd = path$3.join(pathPart, cmd);\r\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\r\n      : pCmd;\r\n\r\n    resolve(subStep(p, i, 0));\r\n  });\r\n\r\n  const subStep = (p, i, ii) => new Promise((resolve, reject) => {\r\n    if (ii === pathExt.length)\r\n      return resolve(step(i + 1))\r\n    const ext = pathExt[ii];\r\n    isexe(p + ext, { pathExt: pathExtExe }, (er, is) => {\r\n      if (!er && is) {\r\n        if (opt.all)\r\n          found.push(p + ext);\r\n        else\r\n          return resolve(p + ext)\r\n      }\r\n      return resolve(subStep(p, i, ii + 1))\r\n    });\r\n  });\r\n\r\n  return cb ? step(0).then(res => cb(null, res), cb) : step(0)\r\n};\r\n\r\nconst whichSync = (cmd, opt) => {\r\n  opt = opt || {};\r\n\r\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt);\r\n  const found = [];\r\n\r\n  for (let i = 0; i < pathEnv.length; i ++) {\r\n    const ppRaw = pathEnv[i];\r\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw;\r\n\r\n    const pCmd = path$3.join(pathPart, cmd);\r\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\r\n      : pCmd;\r\n\r\n    for (let j = 0; j < pathExt.length; j ++) {\r\n      const cur = p + pathExt[j];\r\n      try {\r\n        const is = isexe.sync(cur, { pathExt: pathExtExe });\r\n        if (is) {\r\n          if (opt.all)\r\n            found.push(cur);\r\n          else\r\n            return cur\r\n        }\r\n      } catch (ex) {}\r\n    }\r\n  }\r\n\r\n  if (opt.all && found.length)\r\n    return found\r\n\r\n  if (opt.nothrow)\r\n    return null\r\n\r\n  throw getNotFoundError(cmd)\r\n};\r\n\r\nvar which_1 = which$1;\r\nwhich$1.sync = whichSync;\r\n\r\nvar pathKey$1 = {exports: {}};\r\n\r\nconst pathKey = (options = {}) => {\r\n\tconst environment = options.env || process.env;\r\n\tconst platform = options.platform || process.platform;\r\n\r\n\tif (platform !== 'win32') {\r\n\t\treturn 'PATH';\r\n\t}\r\n\r\n\treturn Object.keys(environment).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\r\n};\r\n\r\npathKey$1.exports = pathKey;\r\n// TODO: Remove this for the next major release\r\npathKey$1.exports.default = pathKey;\r\n\r\nconst path$2 = require$$0$4;\r\nconst which = which_1;\r\nconst getPathKey = pathKey$1.exports;\r\n\r\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\r\n    const env = parsed.options.env || process.env;\r\n    const cwd = process.cwd();\r\n    const hasCustomCwd = parsed.options.cwd != null;\r\n    // Worker threads do not have process.chdir()\r\n    const shouldSwitchCwd = hasCustomCwd && process.chdir !== undefined && !process.chdir.disabled;\r\n\r\n    // If a custom `cwd` was specified, we need to change the process cwd\r\n    // because `which` will do stat calls but does not support a custom cwd\r\n    if (shouldSwitchCwd) {\r\n        try {\r\n            process.chdir(parsed.options.cwd);\r\n        } catch (err) {\r\n            /* Empty */\r\n        }\r\n    }\r\n\r\n    let resolved;\r\n\r\n    try {\r\n        resolved = which.sync(parsed.command, {\r\n            path: env[getPathKey({ env })],\r\n            pathExt: withoutPathExt ? path$2.delimiter : undefined,\r\n        });\r\n    } catch (e) {\r\n        /* Empty */\r\n    } finally {\r\n        if (shouldSwitchCwd) {\r\n            process.chdir(cwd);\r\n        }\r\n    }\r\n\r\n    // If we successfully resolved, ensure that an absolute path is returned\r\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\r\n    if (resolved) {\r\n        resolved = path$2.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\r\n    }\r\n\r\n    return resolved;\r\n}\r\n\r\nfunction resolveCommand$1(parsed) {\r\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\r\n}\r\n\r\nvar resolveCommand_1 = resolveCommand$1;\r\n\r\nvar _escape = {};\r\n\r\n// See http://www.robvanderwoude.com/escapechars.php\r\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\r\n\r\nfunction escapeCommand(arg) {\r\n    // Escape meta chars\r\n    arg = arg.replace(metaCharsRegExp, '^$1');\r\n\r\n    return arg;\r\n}\r\n\r\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\r\n    // Convert to string\r\n    arg = `${arg}`;\r\n\r\n    // Algorithm below is based on https://qntm.org/cmd\r\n\r\n    // Sequence of backslashes followed by a double quote:\r\n    // double up all the backslashes and escape the double quote\r\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"');\r\n\r\n    // Sequence of backslashes followed by the end of the string\r\n    // (which will become a double quote later):\r\n    // double up all the backslashes\r\n    arg = arg.replace(/(\\\\*)$/, '$1$1');\r\n\r\n    // All other backslashes occur literally\r\n\r\n    // Quote the whole thing:\r\n    arg = `\"${arg}\"`;\r\n\r\n    // Escape meta chars\r\n    arg = arg.replace(metaCharsRegExp, '^$1');\r\n\r\n    // Double escape meta chars if necessary\r\n    if (doubleEscapeMetaChars) {\r\n        arg = arg.replace(metaCharsRegExp, '^$1');\r\n    }\r\n\r\n    return arg;\r\n}\r\n\r\n_escape.command = escapeCommand;\r\n_escape.argument = escapeArgument;\r\n\r\nvar shebangRegex$1 = /^#!(.*)/;\r\n\r\nconst shebangRegex = shebangRegex$1;\r\n\r\nvar shebangCommand$1 = (string = '') => {\r\n\tconst match = string.match(shebangRegex);\r\n\r\n\tif (!match) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst [path, argument] = match[0].replace(/#! ?/, '').split(' ');\r\n\tconst binary = path.split('/').pop();\r\n\r\n\tif (binary === 'env') {\r\n\t\treturn argument;\r\n\t}\r\n\r\n\treturn argument ? `${binary} ${argument}` : binary;\r\n};\r\n\r\nconst fs$1 = require$$0__default;\r\nconst shebangCommand = shebangCommand$1;\r\n\r\nfunction readShebang$1(command) {\r\n    // Read the first 150 bytes from the file\r\n    const size = 150;\r\n    const buffer = Buffer.alloc(size);\r\n\r\n    let fd;\r\n\r\n    try {\r\n        fd = fs$1.openSync(command, 'r');\r\n        fs$1.readSync(fd, buffer, 0, size, 0);\r\n        fs$1.closeSync(fd);\r\n    } catch (e) { /* Empty */ }\r\n\r\n    // Attempt to extract shebang (null is returned if not a shebang)\r\n    return shebangCommand(buffer.toString());\r\n}\r\n\r\nvar readShebang_1 = readShebang$1;\r\n\r\nconst path$1 = require$$0$4;\r\nconst resolveCommand = resolveCommand_1;\r\nconst escape$1 = _escape;\r\nconst readShebang = readShebang_1;\r\n\r\nconst isWin$1 = process.platform === 'win32';\r\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\r\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\r\n\r\nfunction detectShebang(parsed) {\r\n    parsed.file = resolveCommand(parsed);\r\n\r\n    const shebang = parsed.file && readShebang(parsed.file);\r\n\r\n    if (shebang) {\r\n        parsed.args.unshift(parsed.file);\r\n        parsed.command = shebang;\r\n\r\n        return resolveCommand(parsed);\r\n    }\r\n\r\n    return parsed.file;\r\n}\r\n\r\nfunction parseNonShell(parsed) {\r\n    if (!isWin$1) {\r\n        return parsed;\r\n    }\r\n\r\n    // Detect & add support for shebangs\r\n    const commandFile = detectShebang(parsed);\r\n\r\n    // We don't need a shell if the command filename is an executable\r\n    const needsShell = !isExecutableRegExp.test(commandFile);\r\n\r\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\r\n    // Note that `forceShell` is an hidden option used only in tests\r\n    if (parsed.options.forceShell || needsShell) {\r\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\r\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\r\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\r\n        // we need to double escape them\r\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\r\n\r\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\r\n        // This is necessary otherwise it will always fail with ENOENT in those cases\r\n        parsed.command = path$1.normalize(parsed.command);\r\n\r\n        // Escape command & arguments\r\n        parsed.command = escape$1.command(parsed.command);\r\n        parsed.args = parsed.args.map((arg) => escape$1.argument(arg, needsDoubleEscapeMetaChars));\r\n\r\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\r\n\r\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\r\n        parsed.command = process.env.comspec || 'cmd.exe';\r\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\r\n    }\r\n\r\n    return parsed;\r\n}\r\n\r\nfunction parse$3(command, args, options) {\r\n    // Normalize arguments, similar to nodejs\r\n    if (args && !Array.isArray(args)) {\r\n        options = args;\r\n        args = null;\r\n    }\r\n\r\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\r\n    options = Object.assign({}, options); // Clone object to avoid changing the original\r\n\r\n    // Build our parsed object\r\n    const parsed = {\r\n        command,\r\n        args,\r\n        options,\r\n        file: undefined,\r\n        original: {\r\n            command,\r\n            args,\r\n        },\r\n    };\r\n\r\n    // Delegate further parsing to shell or non-shell\r\n    return options.shell ? parsed : parseNonShell(parsed);\r\n}\r\n\r\nvar parse_1 = parse$3;\r\n\r\nconst isWin = process.platform === 'win32';\r\n\r\nfunction notFoundError(original, syscall) {\r\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\r\n        code: 'ENOENT',\r\n        errno: 'ENOENT',\r\n        syscall: `${syscall} ${original.command}`,\r\n        path: original.command,\r\n        spawnargs: original.args,\r\n    });\r\n}\r\n\r\nfunction hookChildProcess(cp, parsed) {\r\n    if (!isWin) {\r\n        return;\r\n    }\r\n\r\n    const originalEmit = cp.emit;\r\n\r\n    cp.emit = function (name, arg1) {\r\n        // If emitting \"exit\" event and exit code is 1, we need to check if\r\n        // the command exists and emit an \"error\" instead\r\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\r\n        if (name === 'exit') {\r\n            const err = verifyENOENT(arg1, parsed);\r\n\r\n            if (err) {\r\n                return originalEmit.call(cp, 'error', err);\r\n            }\r\n        }\r\n\r\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\r\n    };\r\n}\r\n\r\nfunction verifyENOENT(status, parsed) {\r\n    if (isWin && status === 1 && !parsed.file) {\r\n        return notFoundError(parsed.original, 'spawn');\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction verifyENOENTSync(status, parsed) {\r\n    if (isWin && status === 1 && !parsed.file) {\r\n        return notFoundError(parsed.original, 'spawnSync');\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nvar enoent$1 = {\r\n    hookChildProcess,\r\n    verifyENOENT,\r\n    verifyENOENTSync,\r\n    notFoundError,\r\n};\r\n\r\nconst cp = require$$2;\r\nconst parse$2 = parse_1;\r\nconst enoent = enoent$1;\r\n\r\nfunction spawn(command, args, options) {\r\n    // Parse the arguments\r\n    const parsed = parse$2(command, args, options);\r\n\r\n    // Spawn the child process\r\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\r\n\r\n    // Hook into child process \"exit\" event to emit an error if the command\r\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\r\n    enoent.hookChildProcess(spawned, parsed);\r\n\r\n    return spawned;\r\n}\r\n\r\nfunction spawnSync(command, args, options) {\r\n    // Parse the arguments\r\n    const parsed = parse$2(command, args, options);\r\n\r\n    // Spawn the child process\r\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\r\n\r\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\r\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\r\n\r\n    return result;\r\n}\r\n\r\ncrossSpawn.exports = spawn;\r\ncrossSpawn.exports.spawn = spawn;\r\ncrossSpawn.exports.sync = spawnSync;\r\n\r\ncrossSpawn.exports._parse = parse$2;\r\ncrossSpawn.exports._enoent = enoent;\r\n\r\n/**\r\n * The following is modified based on source found in\r\n * https://github.com/facebook/create-react-app\r\n *\r\n * MIT Licensed\r\n * Copyright (c) 2015-present, Facebook, Inc.\r\n * https://github.com/facebook/create-react-app/blob/master/LICENSE\r\n *\r\n */\r\n// https://github.com/sindresorhus/open#app\r\nconst OSX_CHROME = 'google chrome';\r\n/**\r\n * Reads the BROWSER environment variable and decides what to do with it.\r\n * Returns true if it opened a browser or ran a node.js script, otherwise false.\r\n */\r\nfunction openBrowser(url, opt, logger) {\r\n    // The browser executable to open.\r\n    // See https://github.com/sindresorhus/open#app for documentation.\r\n    const browser = typeof opt === 'string' ? opt : process.env.BROWSER || '';\r\n    if (browser.toLowerCase().endsWith('.js')) {\r\n        return executeNodeScript(browser, url, logger);\r\n    }\r\n    else if (browser.toLowerCase() !== 'none') {\r\n        return startBrowserProcess(browser, url);\r\n    }\r\n    return false;\r\n}\r\nfunction executeNodeScript(scriptPath, url, logger) {\r\n    const extraArgs = process.argv.slice(2);\r\n    const child = crossSpawn.exports(process.execPath, [scriptPath, ...extraArgs, url], {\r\n        stdio: 'inherit'\r\n    });\r\n    child.on('close', (code) => {\r\n        if (code !== 0) {\r\n            logger.error(picocolors.exports.red(`\\nThe script specified as BROWSER environment variable failed.\\n\\n${picocolors.exports.cyan(scriptPath)} exited with code ${code}.`), { error: null });\r\n        }\r\n    });\r\n    return true;\r\n}\r\nfunction startBrowserProcess(browser, url) {\r\n    // If we're on OS X, the user hasn't specifically\r\n    // requested a different browser, we can try opening\r\n    // Chrome with AppleScript. This lets us reuse an\r\n    // existing tab when possible instead of creating a new one.\r\n    const shouldTryOpenChromeWithAppleScript = process.platform === 'darwin' && (browser === '' || browser === OSX_CHROME);\r\n    if (shouldTryOpenChromeWithAppleScript) {\r\n        try {\r\n            // Try our best to reuse existing tab\r\n            // on OS X Google Chrome with AppleScript\r\n            execSync('ps cax | grep \"Google Chrome\"');\r\n            execSync('osascript openChrome.applescript \"' + encodeURI(url) + '\"', {\r\n                cwd: join$2(VITE_PACKAGE_DIR, 'bin'),\r\n                stdio: 'ignore'\r\n            });\r\n            return true;\r\n        }\r\n        catch (err) {\r\n            // Ignore errors\r\n        }\r\n    }\r\n    // Another special case: on OS X, check if BROWSER has been set to \"open\".\r\n    // In this case, instead of passing the string `open` to `open` function (which won't work),\r\n    // just ignore it (thus ensuring the intended behavior, i.e. opening the system browser):\r\n    // https://github.com/facebook/create-react-app/pull/1690#issuecomment-283518768\r\n    if (process.platform === 'darwin' && browser === 'open') {\r\n        browser = undefined;\r\n    }\r\n    // Fallback to open\r\n    // (It will always open new tab)\r\n    try {\r\n        const options = browser ? { app: { name: browser } } : {};\r\n        open_1(url, options).catch(() => { }); // Prevent `unhandledRejection` error.\r\n        return true;\r\n    }\r\n    catch (err) {\r\n        return false;\r\n    }\r\n}\r\n\r\n// https://github.com/vitejs/vite/issues/2820#issuecomment-812495079\r\nconst ROOT_FILES = [\r\n    // '.git',\r\n    // https://pnpm.js.org/workspaces/\r\n    'pnpm-workspace.yaml',\r\n    // https://rushjs.io/pages/advanced/config_files/\r\n    // 'rush.json',\r\n    // https://nx.dev/latest/react/getting-started/nx-setup\r\n    // 'workspace.json',\r\n    // 'nx.json',\r\n    // https://github.com/lerna/lerna#lernajson\r\n    'lerna.json'\r\n];\r\n// npm: https://docs.npmjs.com/cli/v7/using-npm/workspaces#installing-workspaces\r\n// yarn: https://classic.yarnpkg.com/en/docs/workspaces/#toc-how-to-use-it\r\nfunction hasWorkspacePackageJSON(root) {\r\n    const path = join$2(root, 'package.json');\r\n    if (!isFileReadable(path)) {\r\n        return false;\r\n    }\r\n    const content = JSON.parse(fs$l.readFileSync(path, 'utf-8')) || {};\r\n    return !!content.workspaces;\r\n}\r\nfunction hasRootFile(root) {\r\n    return ROOT_FILES.some((file) => fs$l.existsSync(join$2(root, file)));\r\n}\r\nfunction hasPackageJSON(root) {\r\n    const path = join$2(root, 'package.json');\r\n    return fs$l.existsSync(path);\r\n}\r\n/**\r\n * Search up for the nearest `package.json`\r\n */\r\nfunction searchForPackageRoot(current, root = current) {\r\n    if (hasPackageJSON(current))\r\n        return current;\r\n    const dir = dirname$2(current);\r\n    // reach the fs root\r\n    if (!dir || dir === current)\r\n        return root;\r\n    return searchForPackageRoot(dir, root);\r\n}\r\n/**\r\n * Search up for the nearest workspace root\r\n */\r\nfunction searchForWorkspaceRoot(current, root = searchForPackageRoot(current)) {\r\n    if (hasRootFile(current))\r\n        return current;\r\n    if (hasWorkspacePackageJSON(current))\r\n        return current;\r\n    const dir = dirname$2(current);\r\n    // reach the fs root\r\n    if (!dir || dir === current)\r\n        return root;\r\n    return searchForWorkspaceRoot(dir, root);\r\n}\r\n\r\nasync function createServer(inlineConfig = {}) {\r\n    const config = await resolveConfig(inlineConfig, 'serve', 'development');\r\n    const { root, server: serverConfig } = config;\r\n    const httpsOptions = await resolveHttpsConfig(config.server.https);\r\n    const { middlewareMode } = serverConfig;\r\n    const resolvedWatchOptions = resolveChokidarOptions({\r\n        disableGlobbing: true,\r\n        ...serverConfig.watch\r\n    });\r\n    const middlewares = connect();\r\n    const httpServer = middlewareMode\r\n        ? null\r\n        : await resolveHttpServer(serverConfig, middlewares, httpsOptions);\r\n    const ws = createWebSocketServer(httpServer, config, httpsOptions);\r\n    if (httpServer) {\r\n        setClientErrorHandler(httpServer, config.logger);\r\n    }\r\n    const watcher = chokidar.watch(path$n.resolve(root), resolvedWatchOptions);\r\n    const moduleGraph = new ModuleGraph((url, ssr) => container.resolveId(url, undefined, { ssr }));\r\n    const container = await createPluginContainer(config, moduleGraph, watcher);\r\n    const closeHttpServer = createServerCloseFn(httpServer);\r\n    let exitProcess;\r\n    const server = {\r\n        config,\r\n        middlewares,\r\n        httpServer,\r\n        watcher,\r\n        pluginContainer: container,\r\n        ws,\r\n        moduleGraph,\r\n        resolvedUrls: null,\r\n        ssrTransform(code, inMap, url) {\r\n            return ssrTransform(code, inMap, url, code, server.config);\r\n        },\r\n        transformRequest(url, options) {\r\n            return transformRequest(url, server, options);\r\n        },\r\n        transformIndexHtml: null,\r\n        async ssrLoadModule(url, opts) {\r\n            if (isDepsOptimizerEnabled(config, true)) {\r\n                await initDevSsrDepsOptimizer(config, server);\r\n            }\r\n            await updateCjsSsrExternals(server);\r\n            return ssrLoadModule(url, server, undefined, undefined, opts?.fixStacktrace);\r\n        },\r\n        ssrFixStacktrace(e) {\r\n            if (e.stack) {\r\n                const stacktrace = ssrRewriteStacktrace(e.stack, moduleGraph);\r\n                rebindErrorStacktrace(e, stacktrace);\r\n            }\r\n        },\r\n        ssrRewriteStacktrace(stack) {\r\n            return ssrRewriteStacktrace(stack, moduleGraph);\r\n        },\r\n        async listen(port, isRestart) {\r\n            await startServer(server, port, isRestart);\r\n            if (httpServer) {\r\n                server.resolvedUrls = await resolveServerUrls(httpServer, config.server, config);\r\n            }\r\n            return server;\r\n        },\r\n        async close() {\r\n            if (!middlewareMode) {\r\n                process.off('SIGTERM', exitProcess);\r\n                if (process.env.CI !== 'true') {\r\n                    process.stdin.off('end', exitProcess);\r\n                }\r\n            }\r\n            await Promise.all([\r\n                watcher.close(),\r\n                ws.close(),\r\n                container.close(),\r\n                closeHttpServer()\r\n            ]);\r\n            server.resolvedUrls = null;\r\n        },\r\n        printUrls() {\r\n            if (server.resolvedUrls) {\r\n                printServerUrls(server.resolvedUrls, serverConfig.host, config.logger.info);\r\n            }\r\n            else if (middlewareMode) {\r\n                throw new Error('cannot print server URLs in middleware mode.');\r\n            }\r\n            else {\r\n                throw new Error('cannot print server URLs before server.listen is called.');\r\n            }\r\n        },\r\n        async restart(forceOptimize) {\r\n            if (!server._restartPromise) {\r\n                server._forceOptimizeOnRestart = !!forceOptimize;\r\n                server._restartPromise = restartServer(server).finally(() => {\r\n                    server._restartPromise = null;\r\n                    server._forceOptimizeOnRestart = false;\r\n                });\r\n            }\r\n            return server._restartPromise;\r\n        },\r\n        _ssrExternals: null,\r\n        _restartPromise: null,\r\n        _importGlobMap: new Map(),\r\n        _forceOptimizeOnRestart: false,\r\n        _pendingRequests: new Map()\r\n    };\r\n    server.transformIndexHtml = createDevHtmlTransformFn(server);\r\n    if (!middlewareMode) {\r\n        exitProcess = async () => {\r\n            try {\r\n                await server.close();\r\n            }\r\n            finally {\r\n                process.exit();\r\n            }\r\n        };\r\n        process.once('SIGTERM', exitProcess);\r\n        if (process.env.CI !== 'true') {\r\n            process.stdin.on('end', exitProcess);\r\n        }\r\n    }\r\n    const { packageCache } = config;\r\n    const setPackageData = packageCache.set.bind(packageCache);\r\n    packageCache.set = (id, pkg) => {\r\n        if (id.endsWith('.json')) {\r\n            watcher.add(id);\r\n        }\r\n        return setPackageData(id, pkg);\r\n    };\r\n    watcher.on('change', async (file) => {\r\n        file = normalizePath$3(file);\r\n        if (file.endsWith('/package.json')) {\r\n            return invalidatePackageData(packageCache, file);\r\n        }\r\n        // invalidate module graph cache on file change\r\n        moduleGraph.onFileChange(file);\r\n        if (serverConfig.hmr !== false) {\r\n            try {\r\n                await handleHMRUpdate(file, server);\r\n            }\r\n            catch (err) {\r\n                ws.send({\r\n                    type: 'error',\r\n                    err: prepareError(err)\r\n                });\r\n            }\r\n        }\r\n    });\r\n    watcher.on('add', (file) => {\r\n        handleFileAddUnlink(normalizePath$3(file), server);\r\n    });\r\n    watcher.on('unlink', (file) => {\r\n        handleFileAddUnlink(normalizePath$3(file), server);\r\n    });\r\n    if (!middlewareMode && httpServer) {\r\n        httpServer.once('listening', () => {\r\n            // update actual port since this may be different from initial value\r\n            serverConfig.port = httpServer.address().port;\r\n        });\r\n    }\r\n    // apply server configuration hooks from plugins\r\n    const postHooks = [];\r\n    for (const plugin of config.plugins) {\r\n        if (plugin.configureServer) {\r\n            postHooks.push(await plugin.configureServer(server));\r\n        }\r\n    }\r\n    // Internal middlewares ------------------------------------------------------\r\n    // request timer\r\n    if (process.env.DEBUG) {\r\n        middlewares.use(timeMiddleware(root));\r\n    }\r\n    // cors (enabled by default)\r\n    const { cors } = serverConfig;\r\n    if (cors !== false) {\r\n        middlewares.use(lib$2.exports(typeof cors === 'boolean' ? {} : cors));\r\n    }\r\n    // proxy\r\n    const { proxy } = serverConfig;\r\n    if (proxy) {\r\n        middlewares.use(proxyMiddleware(httpServer, proxy, config));\r\n    }\r\n    // base\r\n    const devBase = config.base;\r\n    if (devBase !== '/') {\r\n        middlewares.use(baseMiddleware(server));\r\n    }\r\n    // open in editor support\r\n    middlewares.use('/__open-in-editor', launchEditorMiddleware());\r\n    // serve static files under /public\r\n    // this applies before the transform middleware so that these files are served\r\n    // as-is without transforms.\r\n    if (config.publicDir) {\r\n        middlewares.use(servePublicMiddleware(config.publicDir, config.server.headers));\r\n    }\r\n    // main transform middleware\r\n    middlewares.use(transformMiddleware(server));\r\n    // serve static files\r\n    middlewares.use(serveRawFsMiddleware(server));\r\n    middlewares.use(serveStaticMiddleware(root, server));\r\n    // spa fallback\r\n    if (config.appType === 'spa') {\r\n        middlewares.use(spaFallbackMiddleware(root));\r\n    }\r\n    // run post config hooks\r\n    // This is applied before the html middleware so that user middleware can\r\n    // serve custom content instead of index.html.\r\n    postHooks.forEach((fn) => fn && fn());\r\n    if (config.appType === 'spa' || config.appType === 'mpa') {\r\n        // transform index.html\r\n        middlewares.use(indexHtmlMiddleware(server));\r\n        // handle 404s\r\n        // Keep the named function. The name is visible in debug logs via `DEBUG=connect:dispatcher ...`\r\n        middlewares.use(function vite404Middleware(_, res) {\r\n            res.statusCode = 404;\r\n            res.end();\r\n        });\r\n    }\r\n    // error handler\r\n    middlewares.use(errorMiddleware(server, middlewareMode));\r\n    let initingServer;\r\n    let serverInited = false;\r\n    const initServer = async () => {\r\n        if (serverInited) {\r\n            return;\r\n        }\r\n        if (initingServer) {\r\n            return initingServer;\r\n        }\r\n        initingServer = (async function () {\r\n            await container.buildStart({});\r\n            if (isDepsOptimizerEnabled(config, false)) {\r\n                // non-ssr\r\n                await initDepsOptimizer(config, server);\r\n            }\r\n            initingServer = undefined;\r\n            serverInited = true;\r\n        })();\r\n        return initingServer;\r\n    };\r\n    if (!middlewareMode && httpServer) {\r\n        // overwrite listen to init optimizer before server start\r\n        const listen = httpServer.listen.bind(httpServer);\r\n        httpServer.listen = (async (port, ...args) => {\r\n            try {\r\n                await initServer();\r\n            }\r\n            catch (e) {\r\n                httpServer.emit('error', e);\r\n                return;\r\n            }\r\n            return listen(port, ...args);\r\n        });\r\n    }\r\n    else {\r\n        await initServer();\r\n    }\r\n    return server;\r\n}\r\nasync function startServer(server, inlinePort, isRestart = false) {\r\n    const httpServer = server.httpServer;\r\n    if (!httpServer) {\r\n        throw new Error('Cannot call server.listen in middleware mode.');\r\n    }\r\n    const options = server.config.server;\r\n    const port = inlinePort ?? options.port ?? 5173;\r\n    const hostname = await resolveHostname(options.host);\r\n    const protocol = options.https ? 'https' : 'http';\r\n    const info = server.config.logger.info;\r\n    const devBase = server.config.base;\r\n    const serverPort = await httpServerStart(httpServer, {\r\n        port,\r\n        strictPort: options.strictPort,\r\n        host: hostname.host,\r\n        logger: server.config.logger\r\n    });\r\n    // @ts-ignore\r\n    const profileSession = global.__vite_profile_session;\r\n    if (profileSession) {\r\n        profileSession.post('Profiler.stop', (err, { profile }) => {\r\n            // Write profile to disk, upload, etc.\r\n            if (!err) {\r\n                const outPath = path$n.resolve('./vite-profile.cpuprofile');\r\n                fs$l.writeFileSync(outPath, JSON.stringify(profile));\r\n                info(picocolors.exports.yellow(`  CPU profile written to ${picocolors.exports.white(picocolors.exports.dim(outPath))}\\n`));\r\n            }\r\n            else {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    if (options.open && !isRestart) {\r\n        const path = typeof options.open === 'string' ? options.open : devBase;\r\n        openBrowser(path.startsWith('http')\r\n            ? path\r\n            : `${protocol}://${hostname.name}:${serverPort}${path}`, true, server.config.logger);\r\n    }\r\n}\r\nfunction createServerCloseFn(server) {\r\n    if (!server) {\r\n        return () => { };\r\n    }\r\n    let hasListened = false;\r\n    const openSockets = new Set();\r\n    server.on('connection', (socket) => {\r\n        openSockets.add(socket);\r\n        socket.on('close', () => {\r\n            openSockets.delete(socket);\r\n        });\r\n    });\r\n    server.once('listening', () => {\r\n        hasListened = true;\r\n    });\r\n    return () => new Promise((resolve, reject) => {\r\n        openSockets.forEach((s) => s.destroy());\r\n        if (hasListened) {\r\n            server.close((err) => {\r\n                if (err) {\r\n                    reject(err);\r\n                }\r\n                else {\r\n                    resolve();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    });\r\n}\r\nfunction resolvedAllowDir(root, dir) {\r\n    return normalizePath$3(path$n.resolve(root, dir));\r\n}\r\nfunction resolveServerOptions(root, raw, logger) {\r\n    const server = {\r\n        preTransformRequests: true,\r\n        ...raw,\r\n        middlewareMode: !!raw?.middlewareMode\r\n    };\r\n    let allowDirs = server.fs?.allow;\r\n    const deny = server.fs?.deny || ['.env', '.env.*', '*.{crt,pem}'];\r\n    if (!allowDirs) {\r\n        allowDirs = [searchForWorkspaceRoot(root)];\r\n    }\r\n    allowDirs = allowDirs.map((i) => resolvedAllowDir(root, i));\r\n    // only push client dir when vite itself is outside-of-root\r\n    const resolvedClientDir = resolvedAllowDir(root, CLIENT_DIR);\r\n    if (!allowDirs.some((dir) => isParentDirectory(dir, resolvedClientDir))) {\r\n        allowDirs.push(resolvedClientDir);\r\n    }\r\n    server.fs = {\r\n        strict: server.fs?.strict ?? true,\r\n        allow: allowDirs,\r\n        deny\r\n    };\r\n    if (server.origin?.endsWith('/')) {\r\n        server.origin = server.origin.slice(0, -1);\r\n        logger.warn(picocolors.exports.yellow(`${picocolors.exports.bold('(!)')} server.origin should not end with \"/\". Using \"${server.origin}\" instead.`));\r\n    }\r\n    return server;\r\n}\r\nasync function restartServer(server) {\r\n    // @ts-ignore\r\n    global.__vite_start_time = performance.now();\r\n    const { port: prevPort, host: prevHost } = server.config.server;\r\n    await server.close();\r\n    let inlineConfig = server.config.inlineConfig;\r\n    if (server._forceOptimizeOnRestart) {\r\n        inlineConfig = mergeConfig(inlineConfig, {\r\n            optimizeDeps: {\r\n                force: true\r\n            }\r\n        });\r\n    }\r\n    let newServer = null;\r\n    try {\r\n        newServer = await createServer(inlineConfig);\r\n    }\r\n    catch (err) {\r\n        server.config.logger.error(err.message, {\r\n            timestamp: true\r\n        });\r\n        return;\r\n    }\r\n    for (const key in newServer) {\r\n        if (key === '_restartPromise') {\r\n            // prevent new server `restart` function from calling\r\n            // @ts-ignore\r\n            newServer[key] = server[key];\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            server[key] = newServer[key];\r\n        }\r\n    }\r\n    const { logger, server: { port, host, middlewareMode } } = server.config;\r\n    if (!middlewareMode) {\r\n        await server.listen(port, true);\r\n        logger.info('server restarted.', { timestamp: true });\r\n        if (port !== prevPort || host !== prevHost) {\r\n            logger.info('');\r\n            server.printUrls();\r\n        }\r\n    }\r\n    else {\r\n        logger.info('server restarted.', { timestamp: true });\r\n    }\r\n    // new server (the current server) can restart now\r\n    newServer._restartPromise = null;\r\n}\r\nasync function updateCjsSsrExternals(server) {\r\n    if (!server._ssrExternals) {\r\n        let knownImports = [];\r\n        // Important! We use the non-ssr optimized deps to find known imports\r\n        // Only the explicitly defined deps are optimized during dev SSR, so\r\n        // we use the generated list from the scanned deps in regular dev.\r\n        // This is part of the v2 externalization heuristics and it is kept\r\n        // for backwards compatibility in case user needs to fallback to the\r\n        // legacy scheme. It may be removed in a future v3 minor.\r\n        const depsOptimizer = getDepsOptimizer(server.config, false); // non-ssr\r\n        if (depsOptimizer) {\r\n            await depsOptimizer.scanProcessing;\r\n            knownImports = [\r\n                ...Object.keys(depsOptimizer.metadata.optimized),\r\n                ...Object.keys(depsOptimizer.metadata.discovered)\r\n            ];\r\n        }\r\n        server._ssrExternals = cjsSsrResolveExternals(server.config, knownImports);\r\n    }\r\n}\r\n\r\nvar index = {\r\n\t__proto__: null,\r\n\tcreateServer: createServer,\r\n\tresolveServerOptions: resolveServerOptions,\r\n\tsearchForWorkspaceRoot: searchForWorkspaceRoot\r\n};\r\n\r\n//@ts-nocheck\r\n/* global Buffer */\r\nconst noop = () => { };\r\nconst mimes = /text|javascript|\\/json|xml/i;\r\nconst threshold = 1024;\r\nconst level = -1;\r\nlet brotli = false;\r\nconst getChunkSize = (chunk, enc) => (chunk ? Buffer.byteLength(chunk, enc) : 0);\r\nfunction compression() {\r\n    const brotliOpts = (typeof brotli === 'object' && brotli) || {};\r\n    const gzipOpts = {};\r\n    // disable Brotli on Node<12.7 where it is unsupported:\r\n    if (!zlib$1.createBrotliCompress)\r\n        brotli = false;\r\n    return (req, res, next = noop) => {\r\n        const accept = req.headers['accept-encoding'] + '';\r\n        const encoding = ((brotli && accept.match(/\\bbr\\b/)) ||\r\n            (accept.match(/\\bgzip\\b/)) ||\r\n            [])[0];\r\n        // skip if no response body or no supported encoding:\r\n        if (req.method === 'HEAD' || !encoding)\r\n            return next();\r\n        /** @type {zlib.Gzip | zlib.BrotliCompress} */\r\n        let compress;\r\n        let pendingStatus;\r\n        /** @type {[string, function][]?} */\r\n        let pendingListeners = [];\r\n        let started = false;\r\n        let size = 0;\r\n        function start() {\r\n            started = true;\r\n            // @ts-ignore\r\n            size = res.getHeader('Content-Length') | 0 || size;\r\n            const compressible = mimes.test(String(res.getHeader('Content-Type') || 'text/plain'));\r\n            const cleartext = !res.getHeader('Content-Encoding');\r\n            const listeners = pendingListeners || [];\r\n            if (compressible && cleartext && size >= threshold) {\r\n                res.setHeader('Content-Encoding', encoding);\r\n                res.removeHeader('Content-Length');\r\n                if (encoding === 'br') {\r\n                    const params = {\r\n                        [zlib$1.constants.BROTLI_PARAM_QUALITY]: level,\r\n                        [zlib$1.constants.BROTLI_PARAM_SIZE_HINT]: size\r\n                    };\r\n                    compress = zlib$1.createBrotliCompress({\r\n                        params: Object.assign(params, brotliOpts)\r\n                    });\r\n                }\r\n                else {\r\n                    compress = zlib$1.createGzip(Object.assign({ level }, gzipOpts));\r\n                }\r\n                // backpressure\r\n                compress.on('data', (chunk) => write.call(res, chunk) === false && compress.pause());\r\n                on.call(res, 'drain', () => compress.resume());\r\n                compress.on('end', () => end.call(res));\r\n                listeners.forEach((p) => compress.on.apply(compress, p));\r\n            }\r\n            else {\r\n                pendingListeners = null;\r\n                listeners.forEach((p) => on.apply(res, p));\r\n            }\r\n            writeHead.call(res, pendingStatus || res.statusCode);\r\n        }\r\n        const { end, write, on, writeHead } = res;\r\n        res.writeHead = function (status, reason, headers) {\r\n            if (typeof reason !== 'string')\r\n                [headers, reason] = [reason, headers];\r\n            if (headers)\r\n                for (let i in headers)\r\n                    res.setHeader(i, headers[i]);\r\n            pendingStatus = status;\r\n            return this;\r\n        };\r\n        res.write = function (chunk, enc, cb) {\r\n            size += getChunkSize(chunk, enc);\r\n            if (!started)\r\n                start();\r\n            if (!compress)\r\n                return write.apply(this, arguments);\r\n            return compress.write.apply(compress, arguments);\r\n        };\r\n        res.end = function (chunk, enc, cb) {\r\n            if (arguments.length > 0 && typeof chunk !== 'function') {\r\n                size += getChunkSize(chunk, enc);\r\n            }\r\n            if (!started)\r\n                start();\r\n            if (!compress)\r\n                return end.apply(this, arguments);\r\n            return compress.end.apply(compress, arguments);\r\n        };\r\n        res.on = function (type, listener) {\r\n            if (!pendingListeners || type !== 'drain')\r\n                on.call(this, type, listener);\r\n            else if (compress)\r\n                compress.on(type, listener);\r\n            else\r\n                pendingListeners.push([type, listener]);\r\n            return this;\r\n        };\r\n        next();\r\n    };\r\n}\r\n\r\nfunction resolvePreviewOptions(preview, server) {\r\n    // The preview server inherits every CommonServerOption from the `server` config\r\n    // except for the port to enable having both the dev and preview servers running\r\n    // at the same time without extra configuration\r\n    return {\r\n        port: preview?.port,\r\n        strictPort: preview?.strictPort ?? server.strictPort,\r\n        host: preview?.host ?? server.host,\r\n        https: preview?.https ?? server.https,\r\n        open: preview?.open ?? server.open,\r\n        proxy: preview?.proxy ?? server.proxy,\r\n        cors: preview?.cors ?? server.cors,\r\n        headers: preview?.headers ?? server.headers\r\n    };\r\n}\r\n/**\r\n * Starts the Vite server in preview mode, to simulate a production deployment\r\n */\r\nasync function preview(inlineConfig = {}) {\r\n    const config = await resolveConfig(inlineConfig, 'serve', 'production');\r\n    const app = connect();\r\n    const httpServer = await resolveHttpServer(config.preview, app, await resolveHttpsConfig(config.preview?.https));\r\n    setClientErrorHandler(httpServer, config.logger);\r\n    // apply server hooks from plugins\r\n    const postHooks = [];\r\n    for (const plugin of config.plugins) {\r\n        if (plugin.configurePreviewServer) {\r\n            postHooks.push(await plugin.configurePreviewServer({ middlewares: app, httpServer }));\r\n        }\r\n    }\r\n    // cors\r\n    const { cors } = config.preview;\r\n    if (cors !== false) {\r\n        app.use(lib$2.exports(typeof cors === 'boolean' ? {} : cors));\r\n    }\r\n    // proxy\r\n    const { proxy } = config.preview;\r\n    if (proxy) {\r\n        app.use(proxyMiddleware(httpServer, proxy, config));\r\n    }\r\n    app.use(compression());\r\n    const previewBase = config.base === './' || config.base === '' ? '/' : config.base;\r\n    // static assets\r\n    const distDir = path$n.resolve(config.root, config.build.outDir);\r\n    app.use(previewBase, sirv(distDir, {\r\n        etag: true,\r\n        dev: true,\r\n        single: config.appType === 'spa'\r\n    }));\r\n    // apply post server hooks from plugins\r\n    postHooks.forEach((fn) => fn && fn());\r\n    const options = config.preview;\r\n    const hostname = await resolveHostname(options.host);\r\n    const port = options.port ?? 4173;\r\n    const protocol = options.https ? 'https' : 'http';\r\n    const logger = config.logger;\r\n    const serverPort = await httpServerStart(httpServer, {\r\n        port,\r\n        strictPort: options.strictPort,\r\n        host: hostname.host,\r\n        logger\r\n    });\r\n    const resolvedUrls = await resolveServerUrls(httpServer, config.preview, config);\r\n    if (options.open) {\r\n        const path = typeof options.open === 'string' ? options.open : previewBase;\r\n        openBrowser(path.startsWith('http')\r\n            ? path\r\n            : `${protocol}://${hostname.name}:${serverPort}${path}`, true, logger);\r\n    }\r\n    return {\r\n        config,\r\n        httpServer,\r\n        resolvedUrls,\r\n        printUrls() {\r\n            printServerUrls(resolvedUrls, options.host, logger.info);\r\n        }\r\n    };\r\n}\r\n\r\nvar preview$1 = {\r\n\t__proto__: null,\r\n\tresolvePreviewOptions: resolvePreviewOptions,\r\n\tpreview: preview\r\n};\r\n\r\n// ids in transform are normalized to unix style\r\nconst normalizedClientEntry = normalizePath$3(CLIENT_ENTRY);\r\nconst normalizedEnvEntry = normalizePath$3(ENV_ENTRY);\r\n/**\r\n * some values used by the client needs to be dynamically injected by the server\r\n * @server-only\r\n */\r\nfunction clientInjectionsPlugin(config) {\r\n    return {\r\n        name: 'vite:client-inject',\r\n        async transform(code, id, options) {\r\n            if (id === normalizedClientEntry || id === normalizedEnvEntry) {\r\n                const resolvedServerHostname = (await resolveHostname(config.server.host)).name;\r\n                const resolvedServerPort = config.server.port;\r\n                const devBase = config.base;\r\n                const serverHost = `${resolvedServerHostname}:${resolvedServerPort}${devBase}`;\r\n                let hmrConfig = config.server.hmr;\r\n                hmrConfig = isObject$2(hmrConfig) ? hmrConfig : undefined;\r\n                const host = hmrConfig?.host || null;\r\n                const protocol = hmrConfig?.protocol || null;\r\n                const timeout = hmrConfig?.timeout || 30000;\r\n                const overlay = hmrConfig?.overlay !== false;\r\n                // hmr.clientPort -> hmr.port\r\n                // -> (24678 if middleware mode) -> new URL(import.meta.url).port\r\n                let port = hmrConfig?.clientPort || hmrConfig?.port || null;\r\n                if (config.server.middlewareMode) {\r\n                    port || (port = 24678);\r\n                }\r\n                let directTarget = hmrConfig?.host || resolvedServerHostname;\r\n                directTarget += `:${hmrConfig?.port || resolvedServerPort}`;\r\n                directTarget += devBase;\r\n                let hmrBase = devBase;\r\n                if (hmrConfig?.path) {\r\n                    hmrBase = path$n.posix.join(hmrBase, hmrConfig.path);\r\n                }\r\n                return code\r\n                    .replace(`__MODE__`, JSON.stringify(config.mode))\r\n                    .replace(`__BASE__`, JSON.stringify(devBase))\r\n                    .replace(`__DEFINES__`, serializeDefine(config.define || {}))\r\n                    .replace(`__SERVER_HOST__`, JSON.stringify(serverHost))\r\n                    .replace(`__HMR_PROTOCOL__`, JSON.stringify(protocol))\r\n                    .replace(`__HMR_HOSTNAME__`, JSON.stringify(host))\r\n                    .replace(`__HMR_PORT__`, JSON.stringify(port))\r\n                    .replace(`__HMR_DIRECT_TARGET__`, JSON.stringify(directTarget))\r\n                    .replace(`__HMR_BASE__`, JSON.stringify(hmrBase))\r\n                    .replace(`__HMR_TIMEOUT__`, JSON.stringify(timeout))\r\n                    .replace(`__HMR_ENABLE_OVERLAY__`, JSON.stringify(overlay));\r\n            }\r\n            else if (!options?.ssr && code.includes('process.env.NODE_ENV')) {\r\n                // replace process.env.NODE_ENV instead of defining a global\r\n                // for it to avoid shimming a `process` object during dev,\r\n                // avoiding inconsistencies between dev and build\r\n                return code.replace(/\\bprocess\\.env\\.NODE_ENV\\b/g, config.define?.['process.env.NODE_ENV'] ||\r\n                    JSON.stringify(process.env.NODE_ENV || config.mode));\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction serializeDefine(define) {\r\n    let res = `{`;\r\n    for (const key in define) {\r\n        const val = define[key];\r\n        res += `${JSON.stringify(key)}: ${typeof val === 'string' ? `(${val})` : JSON.stringify(val)}, `;\r\n    }\r\n    return res + `}`;\r\n}\r\n\r\nconst wasmHelperId = '/__vite-wasm-helper';\r\nconst wasmHelper = async (opts = {}, url) => {\r\n    let result;\r\n    if (url.startsWith('data:')) {\r\n        const urlContent = url.replace(/^data:.*?base64,/, '');\r\n        let bytes;\r\n        if (typeof Buffer === 'function' && typeof Buffer.from === 'function') {\r\n            bytes = Buffer.from(urlContent, 'base64');\r\n        }\r\n        else if (typeof atob === 'function') {\r\n            // @ts-ignore\r\n            const binaryString = atob(urlContent);\r\n            bytes = new Uint8Array(binaryString.length);\r\n            for (let i = 0; i < binaryString.length; i++) {\r\n                bytes[i] = binaryString.charCodeAt(i);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error('Failed to decode base64-encoded data URL, Buffer and atob are not supported');\r\n        }\r\n        // @ts-ignore\r\n        result = await WebAssembly.instantiate(bytes, opts);\r\n    }\r\n    else {\r\n        // https://github.com/mdn/webassembly-examples/issues/5\r\n        // WebAssembly.instantiateStreaming requires the server to provide the\r\n        // correct MIME type for .wasm files, which unfortunately doesn't work for\r\n        // a lot of static file servers, so we just work around it by getting the\r\n        // raw buffer.\r\n        // @ts-ignore\r\n        const response = await fetch(url);\r\n        const contentType = response.headers.get('Content-Type') || '';\r\n        if (\r\n        // @ts-ignore\r\n        'instantiateStreaming' in WebAssembly &&\r\n            contentType.startsWith('application/wasm')) {\r\n            // @ts-ignore\r\n            result = await WebAssembly.instantiateStreaming(response, opts);\r\n        }\r\n        else {\r\n            const buffer = await response.arrayBuffer();\r\n            // @ts-ignore\r\n            result = await WebAssembly.instantiate(buffer, opts);\r\n        }\r\n    }\r\n    return result.instance;\r\n};\r\nconst wasmHelperCode = wasmHelper.toString();\r\nconst wasmHelperPlugin = (config) => {\r\n    return {\r\n        name: 'vite:wasm-helper',\r\n        resolveId(id) {\r\n            if (id === wasmHelperId) {\r\n                return id;\r\n            }\r\n        },\r\n        async load(id) {\r\n            if (id === wasmHelperId) {\r\n                return `export default ${wasmHelperCode}`;\r\n            }\r\n            if (!id.endsWith('.wasm?init')) {\r\n                return;\r\n            }\r\n            const url = await fileToUrl(id, config, this);\r\n            return `\r\nimport initWasm from \"${wasmHelperId}\"\r\nexport default opts => initWasm(opts, ${JSON.stringify(url)})\r\n`;\r\n        }\r\n    };\r\n};\r\nconst wasmFallbackPlugin = () => {\r\n    return {\r\n        name: 'vite:wasm-fallback',\r\n        async load(id) {\r\n            if (!id.endsWith('.wasm')) {\r\n                return;\r\n            }\r\n            throw new Error('\"ESM integration proposal for Wasm\" is not supported currently. ' +\r\n                'Use vite-plugin-wasm or other community plugins to handle this. ' +\r\n                'Alternatively, you can use `.wasm?init` or `.wasm?url`. ' +\r\n                'See https://vitejs.dev/guide/features.html#webassembly for more details.');\r\n        }\r\n    };\r\n};\r\n\r\nconst WORKER_FILE_ID = 'worker_file';\r\nconst workerCache = new WeakMap();\r\nfunction saveEmitWorkerAsset(config, asset) {\r\n    const fileName = asset.fileName;\r\n    const workerMap = workerCache.get(config.mainConfig || config);\r\n    workerMap.assets.set(fileName, asset);\r\n}\r\nasync function bundleWorkerEntry(config, id, query) {\r\n    // bundle the file as entry to support imports\r\n    const { rollup } = await import('rollup');\r\n    const { plugins, rollupOptions, format } = config.worker;\r\n    const bundle = await rollup({\r\n        ...rollupOptions,\r\n        input: cleanUrl(id),\r\n        plugins,\r\n        onwarn(warning, warn) {\r\n            onRollupWarning(warning, warn, config);\r\n        },\r\n        preserveEntrySignatures: false\r\n    });\r\n    let chunk;\r\n    try {\r\n        const workerOutputConfig = config.worker.rollupOptions.output;\r\n        const workerConfig = workerOutputConfig\r\n            ? Array.isArray(workerOutputConfig)\r\n                ? workerOutputConfig[0] || {}\r\n                : workerOutputConfig\r\n            : {};\r\n        const { output: [outputChunk, ...outputChunks] } = await bundle.generate({\r\n            entryFileNames: path$n.posix.join(config.build.assetsDir, '[name].[hash].js'),\r\n            chunkFileNames: path$n.posix.join(config.build.assetsDir, '[name].[hash].js'),\r\n            assetFileNames: path$n.posix.join(config.build.assetsDir, '[name].[hash].[ext]'),\r\n            ...workerConfig,\r\n            format,\r\n            sourcemap: config.build.sourcemap\r\n        });\r\n        chunk = outputChunk;\r\n        outputChunks.forEach((outputChunk) => {\r\n            if (outputChunk.type === 'asset') {\r\n                saveEmitWorkerAsset(config, outputChunk);\r\n            }\r\n            else if (outputChunk.type === 'chunk') {\r\n                saveEmitWorkerAsset(config, {\r\n                    fileName: outputChunk.fileName,\r\n                    source: outputChunk.code,\r\n                    type: 'asset'\r\n                });\r\n            }\r\n        });\r\n    }\r\n    finally {\r\n        await bundle.close();\r\n    }\r\n    return emitSourcemapForWorkerEntry(config, query, chunk);\r\n}\r\nfunction emitSourcemapForWorkerEntry(config, query, chunk) {\r\n    const { map: sourcemap } = chunk;\r\n    if (sourcemap) {\r\n        if (config.build.sourcemap === 'inline') {\r\n            // Manually add the sourcemap to the code if configured for inline sourcemaps.\r\n            // TODO: Remove when https://github.com/rollup/rollup/issues/3913 is resolved\r\n            // Currently seems that it won't be resolved until Rollup 3\r\n            const dataUrl = sourcemap.toUrl();\r\n            chunk.code += `//# sourceMappingURL=${dataUrl}`;\r\n        }\r\n        else if (config.build.sourcemap === 'hidden' ||\r\n            config.build.sourcemap === true) {\r\n            const data = sourcemap.toString();\r\n            const mapFileName = chunk.fileName + '.map';\r\n            saveEmitWorkerAsset(config, {\r\n                fileName: mapFileName,\r\n                type: 'asset',\r\n                source: data\r\n            });\r\n            // Emit the comment that tells the JS debugger where it can find the\r\n            // sourcemap file.\r\n            // 'hidden' causes the sourcemap file to be created but\r\n            // the comment in the file to be omitted.\r\n            if (config.build.sourcemap === true) {\r\n                // inline web workers need to use the full sourcemap path\r\n                // non-inline web workers can use a relative path\r\n                const sourceMapUrl = query?.inline != null\r\n                    ? mapFileName\r\n                    : path$n.relative(config.build.assetsDir, mapFileName);\r\n                chunk.code += `//# sourceMappingURL=${sourceMapUrl}`;\r\n            }\r\n        }\r\n    }\r\n    return chunk;\r\n}\r\nconst workerAssetUrlRE = /__VITE_WORKER_ASSET__([a-z\\d]{8})__/g;\r\nfunction encodeWorkerAssetFileName(fileName, workerCache) {\r\n    const { fileNameHash } = workerCache;\r\n    const hash = getHash(fileName);\r\n    if (!fileNameHash.get(hash)) {\r\n        fileNameHash.set(hash, fileName);\r\n    }\r\n    return `__VITE_WORKER_ASSET__${hash}__`;\r\n}\r\nasync function workerFileToUrl(config, id, query) {\r\n    const workerMap = workerCache.get(config.mainConfig || config);\r\n    let fileName = workerMap.bundle.get(id);\r\n    if (!fileName) {\r\n        const outputChunk = await bundleWorkerEntry(config, id, query);\r\n        fileName = outputChunk.fileName;\r\n        saveEmitWorkerAsset(config, {\r\n            fileName,\r\n            source: outputChunk.code,\r\n            type: 'asset'\r\n        });\r\n        workerMap.bundle.set(id, fileName);\r\n    }\r\n    return encodeWorkerAssetFileName(fileName, workerMap);\r\n}\r\nfunction webWorkerPlugin(config) {\r\n    const isBuild = config.command === 'build';\r\n    let server;\r\n    const isWorker = config.isWorker;\r\n    return {\r\n        name: 'vite:worker',\r\n        configureServer(_server) {\r\n            server = _server;\r\n        },\r\n        buildStart() {\r\n            if (isWorker) {\r\n                return;\r\n            }\r\n            workerCache.set(config, {\r\n                assets: new Map(),\r\n                bundle: new Map(),\r\n                fileNameHash: new Map()\r\n            });\r\n        },\r\n        load(id) {\r\n            if (isBuild) {\r\n                const parsedQuery = parseRequest(id);\r\n                if (parsedQuery &&\r\n                    (parsedQuery.worker ?? parsedQuery.sharedworker) != null) {\r\n                    return '';\r\n                }\r\n            }\r\n        },\r\n        async transform(raw, id, options) {\r\n            const ssr = options?.ssr === true;\r\n            const query = parseRequest(id);\r\n            if (query && query[WORKER_FILE_ID] != null) {\r\n                // if import worker by worker constructor will had query.type\r\n                // other type will be import worker by esm\r\n                const workerType = query['type'];\r\n                let injectEnv = '';\r\n                if (workerType === 'classic') {\r\n                    injectEnv = `importScripts('${ENV_PUBLIC_PATH}')\\n`;\r\n                }\r\n                else if (workerType === 'module') {\r\n                    injectEnv = `import '${ENV_PUBLIC_PATH}'\\n`;\r\n                }\r\n                else if (workerType === 'ignore') {\r\n                    if (isBuild) {\r\n                        injectEnv = '';\r\n                    }\r\n                    else if (server) {\r\n                        // dynamic worker type we can't know how import the env\r\n                        // so we copy /@vite/env code of server transform result into file header\r\n                        const { moduleGraph } = server;\r\n                        const module = moduleGraph.getModuleById(ENV_ENTRY);\r\n                        injectEnv = module?.transformResult?.code || '';\r\n                    }\r\n                }\r\n                return {\r\n                    code: injectEnv + raw\r\n                };\r\n            }\r\n            if (query == null ||\r\n                (query && (query.worker ?? query.sharedworker) == null)) {\r\n                return;\r\n            }\r\n            // stringified url or `new URL(...)`\r\n            let url;\r\n            const { format } = config.worker;\r\n            const workerConstructor = query.sharedworker != null ? 'SharedWorker' : 'Worker';\r\n            const workerType = isBuild\r\n                ? format === 'es'\r\n                    ? 'module'\r\n                    : 'classic'\r\n                : 'module';\r\n            const workerOptions = workerType === 'classic' ? '' : ',{type: \"module\"}';\r\n            if (isBuild) {\r\n                getDepsOptimizer(config, ssr)?.registerWorkersSource(id);\r\n                if (query.inline != null) {\r\n                    const chunk = await bundleWorkerEntry(config, id, query);\r\n                    // inline as blob data url\r\n                    return {\r\n                        code: `const encodedJs = \"${Buffer.from(chunk.code).toString('base64')}\";\r\n            const blob = typeof window !== \"undefined\" && window.Blob && new Blob([atob(encodedJs)], { type: \"text/javascript;charset=utf-8\" });\r\n            export default function WorkerWrapper() {\r\n              const objURL = blob && (window.URL || window.webkitURL).createObjectURL(blob);\r\n              try {\r\n                return objURL ? new ${workerConstructor}(objURL) : new ${workerConstructor}(\"data:application/javascript;base64,\" + encodedJs${workerOptions});\r\n              } finally {\r\n                objURL && (window.URL || window.webkitURL).revokeObjectURL(objURL);\r\n              }\r\n            }`,\r\n                        // Empty sourcemap to suppress Rollup warning\r\n                        map: { mappings: '' }\r\n                    };\r\n                }\r\n                else {\r\n                    url = await workerFileToUrl(config, id, query);\r\n                }\r\n            }\r\n            else {\r\n                url = await fileToUrl(cleanUrl(id), config, this);\r\n                url = injectQuery(url, WORKER_FILE_ID);\r\n                url = injectQuery(url, `type=${workerType}`);\r\n            }\r\n            if (query.url != null) {\r\n                return {\r\n                    code: `export default ${JSON.stringify(url)}`,\r\n                    map: { mappings: '' } // Empty sourcemap to suppress Rollup warning\r\n                };\r\n            }\r\n            return {\r\n                code: `export default function WorkerWrapper() {\r\n          return new ${workerConstructor}(${JSON.stringify(url)}${workerOptions})\r\n        }`,\r\n                map: { mappings: '' } // Empty sourcemap to suppress Rollup warning\r\n            };\r\n        },\r\n        renderChunk(code, chunk, outputOptions) {\r\n            let s;\r\n            const result = () => {\r\n                return (s && {\r\n                    code: s.toString(),\r\n                    map: config.build.sourcemap ? s.generateMap({ hires: true }) : null\r\n                });\r\n            };\r\n            if (code.match(workerAssetUrlRE) || code.includes('import.meta.url')) {\r\n                let match;\r\n                s = new MagicString(code);\r\n                // Replace \"__VITE_WORKER_ASSET__5aa0ddc0__\" using relative paths\r\n                const workerMap = workerCache.get(config.mainConfig || config);\r\n                const { fileNameHash } = workerMap;\r\n                while ((match = workerAssetUrlRE.exec(code))) {\r\n                    const [full, hash] = match;\r\n                    const filename = fileNameHash.get(hash);\r\n                    const replacement = toOutputFilePathInString(filename, 'asset', chunk.fileName, 'js', config, outputOptions.format);\r\n                    const replacementString = typeof replacement === 'string'\r\n                        ? JSON.stringify(replacement).slice(1, -1)\r\n                        : `\"+${replacement.runtime}+\"`;\r\n                    s.overwrite(match.index, match.index + full.length, replacementString, {\r\n                        contentOnly: true\r\n                    });\r\n                }\r\n            }\r\n            return result();\r\n        },\r\n        generateBundle(opts) {\r\n            // @ts-ignore asset emits are skipped in legacy bundle\r\n            if (opts.__vite_skip_asset_emit__ || isWorker) {\r\n                return;\r\n            }\r\n            const workerMap = workerCache.get(config);\r\n            workerMap.assets.forEach((asset) => {\r\n                this.emitFile(asset);\r\n                workerMap.assets.delete(asset.fileName);\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * A plugin to avoid an aliased AND optimized dep from being aliased in src\r\n */\r\nfunction preAliasPlugin(config) {\r\n    const findPatterns = getAliasPatterns(config.resolve.alias);\r\n    const isConfiguredAsExternal = createIsConfiguredAsSsrExternal(config);\r\n    const isBuild = config.command === 'build';\r\n    return {\r\n        name: 'vite:pre-alias',\r\n        async resolveId(id, importer, options) {\r\n            const ssr = options?.ssr === true;\r\n            const depsOptimizer = getDepsOptimizer(config, ssr);\r\n            if (importer &&\r\n                depsOptimizer &&\r\n                bareImportRE.test(id) &&\r\n                !options?.scan &&\r\n                id !== '@vite/client' &&\r\n                id !== '@vite/env') {\r\n                if (findPatterns.find((pattern) => matches(pattern, id))) {\r\n                    const optimizedId = await tryOptimizedResolve(depsOptimizer, id, importer);\r\n                    if (optimizedId) {\r\n                        return optimizedId; // aliased dep already optimized\r\n                    }\r\n                    const resolved = await this.resolve(id, importer, {\r\n                        skipSelf: true,\r\n                        ...options\r\n                    });\r\n                    if (resolved && !depsOptimizer.isOptimizedDepFile(resolved.id)) {\r\n                        const optimizeDeps = depsOptimizer.options;\r\n                        const resolvedId = resolved.id;\r\n                        const isVirtual = resolvedId === id || resolvedId.includes('\\0');\r\n                        if (!isVirtual &&\r\n                            fs$l.existsSync(resolvedId) &&\r\n                            !moduleListContains(optimizeDeps.exclude, id) &&\r\n                            path$n.isAbsolute(resolvedId) &&\r\n                            (resolvedId.includes('node_modules') ||\r\n                                optimizeDeps.include?.includes(id)) &&\r\n                            isOptimizable(resolvedId, optimizeDeps) &&\r\n                            !(isBuild && ssr && isConfiguredAsExternal(id)) &&\r\n                            (!ssr || optimizeAliasReplacementForSSR(resolvedId, optimizeDeps))) {\r\n                            // aliased dep has not yet been optimized\r\n                            const optimizedInfo = depsOptimizer.registerMissingImport(id, resolvedId);\r\n                            return { id: depsOptimizer.getOptimizedDepId(optimizedInfo) };\r\n                        }\r\n                    }\r\n                    return resolved;\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction optimizeAliasReplacementForSSR(id, optimizeDeps) {\r\n    if (optimizeDeps.include?.includes(id)) {\r\n        return true;\r\n    }\r\n    // In the regular resolution, the default for non-external modules is to\r\n    // be optimized if they are CJS. Here, we don't have the package id but\r\n    // only the replacement file path. We could find the package.json from\r\n    // the id and respect the same default in the future.\r\n    // Default to not optimize an aliased replacement for now, forcing the\r\n    // user to explicitly add it to the ssr.optimizeDeps.include list.\r\n    return false;\r\n}\r\n// In sync with rollup plugin alias logic\r\nfunction matches(pattern, importee) {\r\n    if (pattern instanceof RegExp) {\r\n        return pattern.test(importee);\r\n    }\r\n    if (importee.length < pattern.length) {\r\n        return false;\r\n    }\r\n    if (importee === pattern) {\r\n        return true;\r\n    }\r\n    return importee.startsWith(pattern + '/');\r\n}\r\nfunction getAliasPatterns(entries) {\r\n    if (!entries) {\r\n        return [];\r\n    }\r\n    if (Array.isArray(entries)) {\r\n        return entries.map((entry) => entry.find);\r\n    }\r\n    return Object.entries(entries).map(([find]) => find);\r\n}\r\n\r\nconst nonJsRe = /\\.(json)($|\\?)/;\r\nconst isNonJsRequest = (request) => nonJsRe.test(request);\r\nfunction definePlugin(config) {\r\n    const isBuild = config.command === 'build';\r\n    const isBuildLib = isBuild && config.build.lib;\r\n    // ignore replace process.env in lib build\r\n    const processEnv = {};\r\n    const processNodeEnv = {};\r\n    if (!isBuildLib) {\r\n        const nodeEnv = process.env.NODE_ENV || config.mode;\r\n        Object.assign(processEnv, {\r\n            'process.env.': `({}).`,\r\n            'global.process.env.': `({}).`,\r\n            'globalThis.process.env.': `({}).`\r\n        });\r\n        Object.assign(processNodeEnv, {\r\n            'process.env.NODE_ENV': JSON.stringify(nodeEnv),\r\n            'global.process.env.NODE_ENV': JSON.stringify(nodeEnv),\r\n            'globalThis.process.env.NODE_ENV': JSON.stringify(nodeEnv),\r\n            __vite_process_env_NODE_ENV: JSON.stringify(nodeEnv)\r\n        });\r\n    }\r\n    const userDefine = {};\r\n    for (const key in config.define) {\r\n        const val = config.define[key];\r\n        userDefine[key] = typeof val === 'string' ? val : JSON.stringify(val);\r\n    }\r\n    // during dev, import.meta properties are handled by importAnalysis plugin.\r\n    // ignore replace import.meta.env in lib build\r\n    const importMetaKeys = {};\r\n    const importMetaFallbackKeys = {};\r\n    if (isBuild) {\r\n        const env = {\r\n            ...config.env,\r\n            SSR: !!config.build.ssr\r\n        };\r\n        for (const key in env) {\r\n            importMetaKeys[`import.meta.env.${key}`] = JSON.stringify(env[key]);\r\n        }\r\n        Object.assign(importMetaFallbackKeys, {\r\n            'import.meta.env.': `({}).`,\r\n            'import.meta.env': JSON.stringify(config.env),\r\n            'import.meta.hot': `false`\r\n        });\r\n    }\r\n    function generatePattern(ssr) {\r\n        const replaceProcessEnv = !ssr || config.ssr?.target === 'webworker';\r\n        const replacements = {\r\n            ...(replaceProcessEnv ? processNodeEnv : {}),\r\n            ...importMetaKeys,\r\n            ...userDefine,\r\n            ...importMetaFallbackKeys,\r\n            ...(replaceProcessEnv ? processEnv : {})\r\n        };\r\n        if (isBuild && !replaceProcessEnv) {\r\n            replacements['__vite_process_env_NODE_ENV'] = 'process.env.NODE_ENV';\r\n        }\r\n        const replacementsKeys = Object.keys(replacements);\r\n        const pattern = replacementsKeys.length\r\n            ? new RegExp(\r\n            // Mustn't be preceded by a char that can be part of an identifier\r\n            // or a '.' that isn't part of a spread operator\r\n            '(?<![\\\\p{L}\\\\p{N}_$]|(?<!\\\\.\\\\.)\\\\.)(' +\r\n                replacementsKeys\r\n                    .map((str) => {\r\n                    return str.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\r\n                })\r\n                    .join('|') +\r\n                // Mustn't be followed by a char that can be part of an identifier\r\n                // or an assignment (but allow equality operators)\r\n                ')(?![\\\\p{L}\\\\p{N}_$]|\\\\s*?=[^=])', 'gu')\r\n            : null;\r\n        return [replacements, pattern];\r\n    }\r\n    const defaultPattern = generatePattern(false);\r\n    const ssrPattern = generatePattern(true);\r\n    return {\r\n        name: 'vite:define',\r\n        transform(code, id, options) {\r\n            const ssr = options?.ssr === true;\r\n            if (!ssr && !isBuild) {\r\n                // for dev we inject actual global defines in the vite client to\r\n                // avoid the transform cost.\r\n                return;\r\n            }\r\n            if (\r\n            // exclude html, css and static assets for performance\r\n            isHTMLRequest(id) ||\r\n                isCSSRequest(id) ||\r\n                isNonJsRequest(id) ||\r\n                config.assetsInclude(id)) {\r\n                return;\r\n            }\r\n            const [replacements, pattern] = ssr ? ssrPattern : defaultPattern;\r\n            if (!pattern) {\r\n                return null;\r\n            }\r\n            if (ssr && !isBuild) {\r\n                // ssr + dev, simple replace\r\n                return code.replace(pattern, (_, match) => {\r\n                    return '' + replacements[match];\r\n                });\r\n            }\r\n            const s = new MagicString(code);\r\n            let hasReplaced = false;\r\n            let match;\r\n            while ((match = pattern.exec(code))) {\r\n                hasReplaced = true;\r\n                const start = match.index;\r\n                const end = start + match[0].length;\r\n                const replacement = '' + replacements[match[1]];\r\n                s.overwrite(start, end, replacement, { contentOnly: true });\r\n            }\r\n            if (!hasReplaced) {\r\n                return null;\r\n            }\r\n            return transformStableResult(s, id, config);\r\n        }\r\n    };\r\n}\r\n\r\n// This is a generated file. Do not edit.\r\nvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\r\nvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\r\nvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\r\n\r\nvar unicode = {\r\n\tSpace_Separator: Space_Separator,\r\n\tID_Start: ID_Start,\r\n\tID_Continue: ID_Continue\r\n};\r\n\r\nvar util = {\r\n    isSpaceSeparator (c) {\r\n        return typeof c === 'string' && unicode.Space_Separator.test(c)\r\n    },\r\n\r\n    isIdStartChar (c) {\r\n        return typeof c === 'string' && (\r\n            (c >= 'a' && c <= 'z') ||\r\n        (c >= 'A' && c <= 'Z') ||\r\n        (c === '$') || (c === '_') ||\r\n        unicode.ID_Start.test(c)\r\n        )\r\n    },\r\n\r\n    isIdContinueChar (c) {\r\n        return typeof c === 'string' && (\r\n            (c >= 'a' && c <= 'z') ||\r\n        (c >= 'A' && c <= 'Z') ||\r\n        (c >= '0' && c <= '9') ||\r\n        (c === '$') || (c === '_') ||\r\n        (c === '\\u200C') || (c === '\\u200D') ||\r\n        unicode.ID_Continue.test(c)\r\n        )\r\n    },\r\n\r\n    isDigit (c) {\r\n        return typeof c === 'string' && /[0-9]/.test(c)\r\n    },\r\n\r\n    isHexDigit (c) {\r\n        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\r\n    },\r\n};\r\n\r\nlet source;\r\nlet parseState;\r\nlet stack;\r\nlet pos;\r\nlet line;\r\nlet column;\r\nlet token;\r\nlet key;\r\nlet root;\r\n\r\nvar parse$1 = function parse (text, reviver) {\r\n    source = String(text);\r\n    parseState = 'start';\r\n    stack = [];\r\n    pos = 0;\r\n    line = 1;\r\n    column = 0;\r\n    token = undefined;\r\n    key = undefined;\r\n    root = undefined;\r\n\r\n    do {\r\n        token = lex();\r\n\r\n        // This code is unreachable.\r\n        // if (!parseStates[parseState]) {\r\n        //     throw invalidParseState()\r\n        // }\r\n\r\n        parseStates[parseState]();\r\n    } while (token.type !== 'eof')\r\n\r\n    if (typeof reviver === 'function') {\r\n        return internalize({'': root}, '', reviver)\r\n    }\r\n\r\n    return root\r\n};\r\n\r\nfunction internalize (holder, name, reviver) {\r\n    const value = holder[name];\r\n    if (value != null && typeof value === 'object') {\r\n        for (const key in value) {\r\n            const replacement = internalize(value, key, reviver);\r\n            if (replacement === undefined) {\r\n                delete value[key];\r\n            } else {\r\n                value[key] = replacement;\r\n            }\r\n        }\r\n    }\r\n\r\n    return reviver.call(holder, name, value)\r\n}\r\n\r\nlet lexState;\r\nlet buffer;\r\nlet doubleQuote;\r\nlet sign;\r\nlet c;\r\n\r\nfunction lex () {\r\n    lexState = 'default';\r\n    buffer = '';\r\n    doubleQuote = false;\r\n    sign = 1;\r\n\r\n    for (;;) {\r\n        c = peek();\r\n\r\n        // This code is unreachable.\r\n        // if (!lexStates[lexState]) {\r\n        //     throw invalidLexState(lexState)\r\n        // }\r\n\r\n        const token = lexStates[lexState]();\r\n        if (token) {\r\n            return token\r\n        }\r\n    }\r\n}\r\n\r\nfunction peek () {\r\n    if (source[pos]) {\r\n        return String.fromCodePoint(source.codePointAt(pos))\r\n    }\r\n}\r\n\r\nfunction read () {\r\n    const c = peek();\r\n\r\n    if (c === '\\n') {\r\n        line++;\r\n        column = 0;\r\n    } else if (c) {\r\n        column += c.length;\r\n    } else {\r\n        column++;\r\n    }\r\n\r\n    if (c) {\r\n        pos += c.length;\r\n    }\r\n\r\n    return c\r\n}\r\n\r\nconst lexStates = {\r\n    default () {\r\n        switch (c) {\r\n        case '\\t':\r\n        case '\\v':\r\n        case '\\f':\r\n        case ' ':\r\n        case '\\u00A0':\r\n        case '\\uFEFF':\r\n        case '\\n':\r\n        case '\\r':\r\n        case '\\u2028':\r\n        case '\\u2029':\r\n            read();\r\n            return\r\n\r\n        case '/':\r\n            read();\r\n            lexState = 'comment';\r\n            return\r\n\r\n        case undefined:\r\n            read();\r\n            return newToken('eof')\r\n        }\r\n\r\n        if (util.isSpaceSeparator(c)) {\r\n            read();\r\n            return\r\n        }\r\n\r\n        // This code is unreachable.\r\n        // if (!lexStates[parseState]) {\r\n        //     throw invalidLexState(parseState)\r\n        // }\r\n\r\n        return lexStates[parseState]()\r\n    },\r\n\r\n    comment () {\r\n        switch (c) {\r\n        case '*':\r\n            read();\r\n            lexState = 'multiLineComment';\r\n            return\r\n\r\n        case '/':\r\n            read();\r\n            lexState = 'singleLineComment';\r\n            return\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    multiLineComment () {\r\n        switch (c) {\r\n        case '*':\r\n            read();\r\n            lexState = 'multiLineCommentAsterisk';\r\n            return\r\n\r\n        case undefined:\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        read();\r\n    },\r\n\r\n    multiLineCommentAsterisk () {\r\n        switch (c) {\r\n        case '*':\r\n            read();\r\n            return\r\n\r\n        case '/':\r\n            read();\r\n            lexState = 'default';\r\n            return\r\n\r\n        case undefined:\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        read();\r\n        lexState = 'multiLineComment';\r\n    },\r\n\r\n    singleLineComment () {\r\n        switch (c) {\r\n        case '\\n':\r\n        case '\\r':\r\n        case '\\u2028':\r\n        case '\\u2029':\r\n            read();\r\n            lexState = 'default';\r\n            return\r\n\r\n        case undefined:\r\n            read();\r\n            return newToken('eof')\r\n        }\r\n\r\n        read();\r\n    },\r\n\r\n    value () {\r\n        switch (c) {\r\n        case '{':\r\n        case '[':\r\n            return newToken('punctuator', read())\r\n\r\n        case 'n':\r\n            read();\r\n            literal('ull');\r\n            return newToken('null', null)\r\n\r\n        case 't':\r\n            read();\r\n            literal('rue');\r\n            return newToken('boolean', true)\r\n\r\n        case 'f':\r\n            read();\r\n            literal('alse');\r\n            return newToken('boolean', false)\r\n\r\n        case '-':\r\n        case '+':\r\n            if (read() === '-') {\r\n                sign = -1;\r\n            }\r\n\r\n            lexState = 'sign';\r\n            return\r\n\r\n        case '.':\r\n            buffer = read();\r\n            lexState = 'decimalPointLeading';\r\n            return\r\n\r\n        case '0':\r\n            buffer = read();\r\n            lexState = 'zero';\r\n            return\r\n\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n            buffer = read();\r\n            lexState = 'decimalInteger';\r\n            return\r\n\r\n        case 'I':\r\n            read();\r\n            literal('nfinity');\r\n            return newToken('numeric', Infinity)\r\n\r\n        case 'N':\r\n            read();\r\n            literal('aN');\r\n            return newToken('numeric', NaN)\r\n\r\n        case '\"':\r\n        case \"'\":\r\n            doubleQuote = (read() === '\"');\r\n            buffer = '';\r\n            lexState = 'string';\r\n            return\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    identifierNameStartEscape () {\r\n        if (c !== 'u') {\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        read();\r\n        const u = unicodeEscape();\r\n        switch (u) {\r\n        case '$':\r\n        case '_':\r\n            break\r\n\r\n        default:\r\n            if (!util.isIdStartChar(u)) {\r\n                throw invalidIdentifier()\r\n            }\r\n\r\n            break\r\n        }\r\n\r\n        buffer += u;\r\n        lexState = 'identifierName';\r\n    },\r\n\r\n    identifierName () {\r\n        switch (c) {\r\n        case '$':\r\n        case '_':\r\n        case '\\u200C':\r\n        case '\\u200D':\r\n            buffer += read();\r\n            return\r\n\r\n        case '\\\\':\r\n            read();\r\n            lexState = 'identifierNameEscape';\r\n            return\r\n        }\r\n\r\n        if (util.isIdContinueChar(c)) {\r\n            buffer += read();\r\n            return\r\n        }\r\n\r\n        return newToken('identifier', buffer)\r\n    },\r\n\r\n    identifierNameEscape () {\r\n        if (c !== 'u') {\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        read();\r\n        const u = unicodeEscape();\r\n        switch (u) {\r\n        case '$':\r\n        case '_':\r\n        case '\\u200C':\r\n        case '\\u200D':\r\n            break\r\n\r\n        default:\r\n            if (!util.isIdContinueChar(u)) {\r\n                throw invalidIdentifier()\r\n            }\r\n\r\n            break\r\n        }\r\n\r\n        buffer += u;\r\n        lexState = 'identifierName';\r\n    },\r\n\r\n    sign () {\r\n        switch (c) {\r\n        case '.':\r\n            buffer = read();\r\n            lexState = 'decimalPointLeading';\r\n            return\r\n\r\n        case '0':\r\n            buffer = read();\r\n            lexState = 'zero';\r\n            return\r\n\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n            buffer = read();\r\n            lexState = 'decimalInteger';\r\n            return\r\n\r\n        case 'I':\r\n            read();\r\n            literal('nfinity');\r\n            return newToken('numeric', sign * Infinity)\r\n\r\n        case 'N':\r\n            read();\r\n            literal('aN');\r\n            return newToken('numeric', NaN)\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    zero () {\r\n        switch (c) {\r\n        case '.':\r\n            buffer += read();\r\n            lexState = 'decimalPoint';\r\n            return\r\n\r\n        case 'e':\r\n        case 'E':\r\n            buffer += read();\r\n            lexState = 'decimalExponent';\r\n            return\r\n\r\n        case 'x':\r\n        case 'X':\r\n            buffer += read();\r\n            lexState = 'hexadecimal';\r\n            return\r\n        }\r\n\r\n        return newToken('numeric', sign * 0)\r\n    },\r\n\r\n    decimalInteger () {\r\n        switch (c) {\r\n        case '.':\r\n            buffer += read();\r\n            lexState = 'decimalPoint';\r\n            return\r\n\r\n        case 'e':\r\n        case 'E':\r\n            buffer += read();\r\n            lexState = 'decimalExponent';\r\n            return\r\n        }\r\n\r\n        if (util.isDigit(c)) {\r\n            buffer += read();\r\n            return\r\n        }\r\n\r\n        return newToken('numeric', sign * Number(buffer))\r\n    },\r\n\r\n    decimalPointLeading () {\r\n        if (util.isDigit(c)) {\r\n            buffer += read();\r\n            lexState = 'decimalFraction';\r\n            return\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    decimalPoint () {\r\n        switch (c) {\r\n        case 'e':\r\n        case 'E':\r\n            buffer += read();\r\n            lexState = 'decimalExponent';\r\n            return\r\n        }\r\n\r\n        if (util.isDigit(c)) {\r\n            buffer += read();\r\n            lexState = 'decimalFraction';\r\n            return\r\n        }\r\n\r\n        return newToken('numeric', sign * Number(buffer))\r\n    },\r\n\r\n    decimalFraction () {\r\n        switch (c) {\r\n        case 'e':\r\n        case 'E':\r\n            buffer += read();\r\n            lexState = 'decimalExponent';\r\n            return\r\n        }\r\n\r\n        if (util.isDigit(c)) {\r\n            buffer += read();\r\n            return\r\n        }\r\n\r\n        return newToken('numeric', sign * Number(buffer))\r\n    },\r\n\r\n    decimalExponent () {\r\n        switch (c) {\r\n        case '+':\r\n        case '-':\r\n            buffer += read();\r\n            lexState = 'decimalExponentSign';\r\n            return\r\n        }\r\n\r\n        if (util.isDigit(c)) {\r\n            buffer += read();\r\n            lexState = 'decimalExponentInteger';\r\n            return\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    decimalExponentSign () {\r\n        if (util.isDigit(c)) {\r\n            buffer += read();\r\n            lexState = 'decimalExponentInteger';\r\n            return\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    decimalExponentInteger () {\r\n        if (util.isDigit(c)) {\r\n            buffer += read();\r\n            return\r\n        }\r\n\r\n        return newToken('numeric', sign * Number(buffer))\r\n    },\r\n\r\n    hexadecimal () {\r\n        if (util.isHexDigit(c)) {\r\n            buffer += read();\r\n            lexState = 'hexadecimalInteger';\r\n            return\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    hexadecimalInteger () {\r\n        if (util.isHexDigit(c)) {\r\n            buffer += read();\r\n            return\r\n        }\r\n\r\n        return newToken('numeric', sign * Number(buffer))\r\n    },\r\n\r\n    string () {\r\n        switch (c) {\r\n        case '\\\\':\r\n            read();\r\n            buffer += escape();\r\n            return\r\n\r\n        case '\"':\r\n            if (doubleQuote) {\r\n                read();\r\n                return newToken('string', buffer)\r\n            }\r\n\r\n            buffer += read();\r\n            return\r\n\r\n        case \"'\":\r\n            if (!doubleQuote) {\r\n                read();\r\n                return newToken('string', buffer)\r\n            }\r\n\r\n            buffer += read();\r\n            return\r\n\r\n        case '\\n':\r\n        case '\\r':\r\n            throw invalidChar(read())\r\n\r\n        case '\\u2028':\r\n        case '\\u2029':\r\n            separatorChar(c);\r\n            break\r\n\r\n        case undefined:\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        buffer += read();\r\n    },\r\n\r\n    start () {\r\n        switch (c) {\r\n        case '{':\r\n        case '[':\r\n            return newToken('punctuator', read())\r\n\r\n        // This code is unreachable since the default lexState handles eof.\r\n        // case undefined:\r\n        //     return newToken('eof')\r\n        }\r\n\r\n        lexState = 'value';\r\n    },\r\n\r\n    beforePropertyName () {\r\n        switch (c) {\r\n        case '$':\r\n        case '_':\r\n            buffer = read();\r\n            lexState = 'identifierName';\r\n            return\r\n\r\n        case '\\\\':\r\n            read();\r\n            lexState = 'identifierNameStartEscape';\r\n            return\r\n\r\n        case '}':\r\n            return newToken('punctuator', read())\r\n\r\n        case '\"':\r\n        case \"'\":\r\n            doubleQuote = (read() === '\"');\r\n            lexState = 'string';\r\n            return\r\n        }\r\n\r\n        if (util.isIdStartChar(c)) {\r\n            buffer += read();\r\n            lexState = 'identifierName';\r\n            return\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    afterPropertyName () {\r\n        if (c === ':') {\r\n            return newToken('punctuator', read())\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    beforePropertyValue () {\r\n        lexState = 'value';\r\n    },\r\n\r\n    afterPropertyValue () {\r\n        switch (c) {\r\n        case ',':\r\n        case '}':\r\n            return newToken('punctuator', read())\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    beforeArrayValue () {\r\n        if (c === ']') {\r\n            return newToken('punctuator', read())\r\n        }\r\n\r\n        lexState = 'value';\r\n    },\r\n\r\n    afterArrayValue () {\r\n        switch (c) {\r\n        case ',':\r\n        case ']':\r\n            return newToken('punctuator', read())\r\n        }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n\r\n    end () {\r\n        // This code is unreachable since it's handled by the default lexState.\r\n        // if (c === undefined) {\r\n        //     read()\r\n        //     return newToken('eof')\r\n        // }\r\n\r\n        throw invalidChar(read())\r\n    },\r\n};\r\n\r\nfunction newToken (type, value) {\r\n    return {\r\n        type,\r\n        value,\r\n        line,\r\n        column,\r\n    }\r\n}\r\n\r\nfunction literal (s) {\r\n    for (const c of s) {\r\n        const p = peek();\r\n\r\n        if (p !== c) {\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        read();\r\n    }\r\n}\r\n\r\nfunction escape () {\r\n    const c = peek();\r\n    switch (c) {\r\n    case 'b':\r\n        read();\r\n        return '\\b'\r\n\r\n    case 'f':\r\n        read();\r\n        return '\\f'\r\n\r\n    case 'n':\r\n        read();\r\n        return '\\n'\r\n\r\n    case 'r':\r\n        read();\r\n        return '\\r'\r\n\r\n    case 't':\r\n        read();\r\n        return '\\t'\r\n\r\n    case 'v':\r\n        read();\r\n        return '\\v'\r\n\r\n    case '0':\r\n        read();\r\n        if (util.isDigit(peek())) {\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        return '\\0'\r\n\r\n    case 'x':\r\n        read();\r\n        return hexEscape()\r\n\r\n    case 'u':\r\n        read();\r\n        return unicodeEscape()\r\n\r\n    case '\\n':\r\n    case '\\u2028':\r\n    case '\\u2029':\r\n        read();\r\n        return ''\r\n\r\n    case '\\r':\r\n        read();\r\n        if (peek() === '\\n') {\r\n            read();\r\n        }\r\n\r\n        return ''\r\n\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n        throw invalidChar(read())\r\n\r\n    case undefined:\r\n        throw invalidChar(read())\r\n    }\r\n\r\n    return read()\r\n}\r\n\r\nfunction hexEscape () {\r\n    let buffer = '';\r\n    let c = peek();\r\n\r\n    if (!util.isHexDigit(c)) {\r\n        throw invalidChar(read())\r\n    }\r\n\r\n    buffer += read();\r\n\r\n    c = peek();\r\n    if (!util.isHexDigit(c)) {\r\n        throw invalidChar(read())\r\n    }\r\n\r\n    buffer += read();\r\n\r\n    return String.fromCodePoint(parseInt(buffer, 16))\r\n}\r\n\r\nfunction unicodeEscape () {\r\n    let buffer = '';\r\n    let count = 4;\r\n\r\n    while (count-- > 0) {\r\n        const c = peek();\r\n        if (!util.isHexDigit(c)) {\r\n            throw invalidChar(read())\r\n        }\r\n\r\n        buffer += read();\r\n    }\r\n\r\n    return String.fromCodePoint(parseInt(buffer, 16))\r\n}\r\n\r\nconst parseStates = {\r\n    start () {\r\n        if (token.type === 'eof') {\r\n            throw invalidEOF()\r\n        }\r\n\r\n        push();\r\n    },\r\n\r\n    beforePropertyName () {\r\n        switch (token.type) {\r\n        case 'identifier':\r\n        case 'string':\r\n            key = token.value;\r\n            parseState = 'afterPropertyName';\r\n            return\r\n\r\n        case 'punctuator':\r\n            // This code is unreachable since it's handled by the lexState.\r\n            // if (token.value !== '}') {\r\n            //     throw invalidToken()\r\n            // }\r\n\r\n            pop();\r\n            return\r\n\r\n        case 'eof':\r\n            throw invalidEOF()\r\n        }\r\n\r\n        // This code is unreachable since it's handled by the lexState.\r\n        // throw invalidToken()\r\n    },\r\n\r\n    afterPropertyName () {\r\n        // This code is unreachable since it's handled by the lexState.\r\n        // if (token.type !== 'punctuator' || token.value !== ':') {\r\n        //     throw invalidToken()\r\n        // }\r\n\r\n        if (token.type === 'eof') {\r\n            throw invalidEOF()\r\n        }\r\n\r\n        parseState = 'beforePropertyValue';\r\n    },\r\n\r\n    beforePropertyValue () {\r\n        if (token.type === 'eof') {\r\n            throw invalidEOF()\r\n        }\r\n\r\n        push();\r\n    },\r\n\r\n    beforeArrayValue () {\r\n        if (token.type === 'eof') {\r\n            throw invalidEOF()\r\n        }\r\n\r\n        if (token.type === 'punctuator' && token.value === ']') {\r\n            pop();\r\n            return\r\n        }\r\n\r\n        push();\r\n    },\r\n\r\n    afterPropertyValue () {\r\n        // This code is unreachable since it's handled by the lexState.\r\n        // if (token.type !== 'punctuator') {\r\n        //     throw invalidToken()\r\n        // }\r\n\r\n        if (token.type === 'eof') {\r\n            throw invalidEOF()\r\n        }\r\n\r\n        switch (token.value) {\r\n        case ',':\r\n            parseState = 'beforePropertyName';\r\n            return\r\n\r\n        case '}':\r\n            pop();\r\n        }\r\n\r\n        // This code is unreachable since it's handled by the lexState.\r\n        // throw invalidToken()\r\n    },\r\n\r\n    afterArrayValue () {\r\n        // This code is unreachable since it's handled by the lexState.\r\n        // if (token.type !== 'punctuator') {\r\n        //     throw invalidToken()\r\n        // }\r\n\r\n        if (token.type === 'eof') {\r\n            throw invalidEOF()\r\n        }\r\n\r\n        switch (token.value) {\r\n        case ',':\r\n            parseState = 'beforeArrayValue';\r\n            return\r\n\r\n        case ']':\r\n            pop();\r\n        }\r\n\r\n        // This code is unreachable since it's handled by the lexState.\r\n        // throw invalidToken()\r\n    },\r\n\r\n    end () {\r\n        // This code is unreachable since it's handled by the lexState.\r\n        // if (token.type !== 'eof') {\r\n        //     throw invalidToken()\r\n        // }\r\n    },\r\n};\r\n\r\nfunction push () {\r\n    let value;\r\n\r\n    switch (token.type) {\r\n    case 'punctuator':\r\n        switch (token.value) {\r\n        case '{':\r\n            value = {};\r\n            break\r\n\r\n        case '[':\r\n            value = [];\r\n            break\r\n        }\r\n\r\n        break\r\n\r\n    case 'null':\r\n    case 'boolean':\r\n    case 'numeric':\r\n    case 'string':\r\n        value = token.value;\r\n        break\r\n\r\n    // This code is unreachable.\r\n    // default:\r\n    //     throw invalidToken()\r\n    }\r\n\r\n    if (root === undefined) {\r\n        root = value;\r\n    } else {\r\n        const parent = stack[stack.length - 1];\r\n        if (Array.isArray(parent)) {\r\n            parent.push(value);\r\n        } else {\r\n            parent[key] = value;\r\n        }\r\n    }\r\n\r\n    if (value !== null && typeof value === 'object') {\r\n        stack.push(value);\r\n\r\n        if (Array.isArray(value)) {\r\n            parseState = 'beforeArrayValue';\r\n        } else {\r\n            parseState = 'beforePropertyName';\r\n        }\r\n    } else {\r\n        const current = stack[stack.length - 1];\r\n        if (current == null) {\r\n            parseState = 'end';\r\n        } else if (Array.isArray(current)) {\r\n            parseState = 'afterArrayValue';\r\n        } else {\r\n            parseState = 'afterPropertyValue';\r\n        }\r\n    }\r\n}\r\n\r\nfunction pop () {\r\n    stack.pop();\r\n\r\n    const current = stack[stack.length - 1];\r\n    if (current == null) {\r\n        parseState = 'end';\r\n    } else if (Array.isArray(current)) {\r\n        parseState = 'afterArrayValue';\r\n    } else {\r\n        parseState = 'afterPropertyValue';\r\n    }\r\n}\r\n\r\n// This code is unreachable.\r\n// function invalidParseState () {\r\n//     return new Error(`JSON5: invalid parse state '${parseState}'`)\r\n// }\r\n\r\n// This code is unreachable.\r\n// function invalidLexState (state) {\r\n//     return new Error(`JSON5: invalid lex state '${state}'`)\r\n// }\r\n\r\nfunction invalidChar (c) {\r\n    if (c === undefined) {\r\n        return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\r\n    }\r\n\r\n    return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\r\n}\r\n\r\nfunction invalidEOF () {\r\n    return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\r\n}\r\n\r\n// This code is unreachable.\r\n// function invalidToken () {\r\n//     if (token.type === 'eof') {\r\n//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\r\n//     }\r\n\r\n//     const c = String.fromCodePoint(token.value.codePointAt(0))\r\n//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\r\n// }\r\n\r\nfunction invalidIdentifier () {\r\n    column -= 5;\r\n    return syntaxError(`JSON5: invalid identifier character at ${line}:${column}`)\r\n}\r\n\r\nfunction separatorChar (c) {\r\n    console.warn(`JSON5: '${formatChar(c)}' in strings is not valid ECMAScript; consider escaping`);\r\n}\r\n\r\nfunction formatChar (c) {\r\n    const replacements = {\r\n        \"'\": \"\\\\'\",\r\n        '\"': '\\\\\"',\r\n        '\\\\': '\\\\\\\\',\r\n        '\\b': '\\\\b',\r\n        '\\f': '\\\\f',\r\n        '\\n': '\\\\n',\r\n        '\\r': '\\\\r',\r\n        '\\t': '\\\\t',\r\n        '\\v': '\\\\v',\r\n        '\\0': '\\\\0',\r\n        '\\u2028': '\\\\u2028',\r\n        '\\u2029': '\\\\u2029',\r\n    };\r\n\r\n    if (replacements[c]) {\r\n        return replacements[c]\r\n    }\r\n\r\n    if (c < ' ') {\r\n        const hexString = c.charCodeAt(0).toString(16);\r\n        return '\\\\x' + ('00' + hexString).substring(hexString.length)\r\n    }\r\n\r\n    return c\r\n}\r\n\r\nfunction syntaxError (message) {\r\n    const err = new SyntaxError(message);\r\n    err.lineNumber = line;\r\n    err.columnNumber = column;\r\n    return err\r\n}\r\n\r\nvar stringify = function stringify (value, replacer, space) {\r\n    const stack = [];\r\n    let indent = '';\r\n    let propertyList;\r\n    let replacerFunc;\r\n    let gap = '';\r\n    let quote;\r\n\r\n    if (\r\n        replacer != null &&\r\n        typeof replacer === 'object' &&\r\n        !Array.isArray(replacer)\r\n    ) {\r\n        space = replacer.space;\r\n        quote = replacer.quote;\r\n        replacer = replacer.replacer;\r\n    }\r\n\r\n    if (typeof replacer === 'function') {\r\n        replacerFunc = replacer;\r\n    } else if (Array.isArray(replacer)) {\r\n        propertyList = [];\r\n        for (const v of replacer) {\r\n            let item;\r\n\r\n            if (typeof v === 'string') {\r\n                item = v;\r\n            } else if (\r\n                typeof v === 'number' ||\r\n                v instanceof String ||\r\n                v instanceof Number\r\n            ) {\r\n                item = String(v);\r\n            }\r\n\r\n            if (item !== undefined && propertyList.indexOf(item) < 0) {\r\n                propertyList.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (space instanceof Number) {\r\n        space = Number(space);\r\n    } else if (space instanceof String) {\r\n        space = String(space);\r\n    }\r\n\r\n    if (typeof space === 'number') {\r\n        if (space > 0) {\r\n            space = Math.min(10, Math.floor(space));\r\n            gap = '          '.substr(0, space);\r\n        }\r\n    } else if (typeof space === 'string') {\r\n        gap = space.substr(0, 10);\r\n    }\r\n\r\n    return serializeProperty('', {'': value})\r\n\r\n    function serializeProperty (key, holder) {\r\n        let value = holder[key];\r\n        if (value != null) {\r\n            if (typeof value.toJSON5 === 'function') {\r\n                value = value.toJSON5(key);\r\n            } else if (typeof value.toJSON === 'function') {\r\n                value = value.toJSON(key);\r\n            }\r\n        }\r\n\r\n        if (replacerFunc) {\r\n            value = replacerFunc.call(holder, key, value);\r\n        }\r\n\r\n        if (value instanceof Number) {\r\n            value = Number(value);\r\n        } else if (value instanceof String) {\r\n            value = String(value);\r\n        } else if (value instanceof Boolean) {\r\n            value = value.valueOf();\r\n        }\r\n\r\n        switch (value) {\r\n        case null: return 'null'\r\n        case true: return 'true'\r\n        case false: return 'false'\r\n        }\r\n\r\n        if (typeof value === 'string') {\r\n            return quoteString(value)\r\n        }\r\n\r\n        if (typeof value === 'number') {\r\n            return String(value)\r\n        }\r\n\r\n        if (typeof value === 'object') {\r\n            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\r\n        }\r\n\r\n        return undefined\r\n    }\r\n\r\n    function quoteString (value) {\r\n        const quotes = {\r\n            \"'\": 0.1,\r\n            '\"': 0.2,\r\n        };\r\n\r\n        const replacements = {\r\n            \"'\": \"\\\\'\",\r\n            '\"': '\\\\\"',\r\n            '\\\\': '\\\\\\\\',\r\n            '\\b': '\\\\b',\r\n            '\\f': '\\\\f',\r\n            '\\n': '\\\\n',\r\n            '\\r': '\\\\r',\r\n            '\\t': '\\\\t',\r\n            '\\v': '\\\\v',\r\n            '\\0': '\\\\0',\r\n            '\\u2028': '\\\\u2028',\r\n            '\\u2029': '\\\\u2029',\r\n        };\r\n\r\n        let product = '';\r\n\r\n        for (let i = 0; i < value.length; i++) {\r\n            const c = value[i];\r\n            switch (c) {\r\n            case \"'\":\r\n            case '\"':\r\n                quotes[c]++;\r\n                product += c;\r\n                continue\r\n\r\n            case '\\0':\r\n                if (util.isDigit(value[i + 1])) {\r\n                    product += '\\\\x00';\r\n                    continue\r\n                }\r\n            }\r\n\r\n            if (replacements[c]) {\r\n                product += replacements[c];\r\n                continue\r\n            }\r\n\r\n            if (c < ' ') {\r\n                let hexString = c.charCodeAt(0).toString(16);\r\n                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\r\n                continue\r\n            }\r\n\r\n            product += c;\r\n        }\r\n\r\n        const quoteChar = quote || Object.keys(quotes).reduce((a, b) => (quotes[a] < quotes[b]) ? a : b);\r\n\r\n        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\r\n\r\n        return quoteChar + product + quoteChar\r\n    }\r\n\r\n    function serializeObject (value) {\r\n        if (stack.indexOf(value) >= 0) {\r\n            throw TypeError('Converting circular structure to JSON5')\r\n        }\r\n\r\n        stack.push(value);\r\n\r\n        let stepback = indent;\r\n        indent = indent + gap;\r\n\r\n        let keys = propertyList || Object.keys(value);\r\n        let partial = [];\r\n        for (const key of keys) {\r\n            const propertyString = serializeProperty(key, value);\r\n            if (propertyString !== undefined) {\r\n                let member = serializeKey(key) + ':';\r\n                if (gap !== '') {\r\n                    member += ' ';\r\n                }\r\n                member += propertyString;\r\n                partial.push(member);\r\n            }\r\n        }\r\n\r\n        let final;\r\n        if (partial.length === 0) {\r\n            final = '{}';\r\n        } else {\r\n            let properties;\r\n            if (gap === '') {\r\n                properties = partial.join(',');\r\n                final = '{' + properties + '}';\r\n            } else {\r\n                let separator = ',\\n' + indent;\r\n                properties = partial.join(separator);\r\n                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\r\n            }\r\n        }\r\n\r\n        stack.pop();\r\n        indent = stepback;\r\n        return final\r\n    }\r\n\r\n    function serializeKey (key) {\r\n        if (key.length === 0) {\r\n            return quoteString(key)\r\n        }\r\n\r\n        const firstChar = String.fromCodePoint(key.codePointAt(0));\r\n        if (!util.isIdStartChar(firstChar)) {\r\n            return quoteString(key)\r\n        }\r\n\r\n        for (let i = firstChar.length; i < key.length; i++) {\r\n            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\r\n                return quoteString(key)\r\n            }\r\n        }\r\n\r\n        return key\r\n    }\r\n\r\n    function serializeArray (value) {\r\n        if (stack.indexOf(value) >= 0) {\r\n            throw TypeError('Converting circular structure to JSON5')\r\n        }\r\n\r\n        stack.push(value);\r\n\r\n        let stepback = indent;\r\n        indent = indent + gap;\r\n\r\n        let partial = [];\r\n        for (let i = 0; i < value.length; i++) {\r\n            const propertyString = serializeProperty(String(i), value);\r\n            partial.push((propertyString !== undefined) ? propertyString : 'null');\r\n        }\r\n\r\n        let final;\r\n        if (partial.length === 0) {\r\n            final = '[]';\r\n        } else {\r\n            if (gap === '') {\r\n                let properties = partial.join(',');\r\n                final = '[' + properties + ']';\r\n            } else {\r\n                let separator = ',\\n' + indent;\r\n                let properties = partial.join(separator);\r\n                final = '[\\n' + indent + properties + ',\\n' + stepback + ']';\r\n            }\r\n        }\r\n\r\n        stack.pop();\r\n        indent = stepback;\r\n        return final\r\n    }\r\n};\r\n\r\nconst JSON5 = {\r\n    parse: parse$1,\r\n    stringify,\r\n};\r\n\r\nvar lib = JSON5;\r\n\r\nconst ignoreFlagRE = /\\/\\*\\s*@vite-ignore\\s*\\*\\//;\r\nfunction getWorkerType(raw, clean, i) {\r\n    function err(e, pos) {\r\n        const error = new Error(e);\r\n        error.pos = pos;\r\n        throw error;\r\n    }\r\n    const commaIndex = clean.indexOf(',', i);\r\n    if (commaIndex === -1) {\r\n        return 'classic';\r\n    }\r\n    const endIndex = clean.indexOf(')', i);\r\n    // case: ') ... ,' mean no worker options params\r\n    if (commaIndex > endIndex) {\r\n        return 'classic';\r\n    }\r\n    // need to find in comment code\r\n    const workerOptString = raw.substring(commaIndex + 1, endIndex);\r\n    const hasViteIgnore = ignoreFlagRE.test(workerOptString);\r\n    if (hasViteIgnore) {\r\n        return 'ignore';\r\n    }\r\n    // need to find in no comment code\r\n    const cleanWorkerOptString = clean.substring(commaIndex + 1, endIndex);\r\n    if (!cleanWorkerOptString.trim().length) {\r\n        return 'classic';\r\n    }\r\n    let workerOpts = { type: 'classic' };\r\n    try {\r\n        workerOpts = lib.parse(workerOptString);\r\n    }\r\n    catch (e) {\r\n        // can't parse by JSON5, so the worker options had unexpect char.\r\n        err('Vite is unable to parse the worker options as the value is not static.' +\r\n            'To ignore this error, please use /* @vite-ignore */ in the worker options.', commaIndex + 1);\r\n    }\r\n    if (['classic', 'module'].includes(workerOpts.type)) {\r\n        return workerOpts.type;\r\n    }\r\n    return 'classic';\r\n}\r\nfunction workerImportMetaUrlPlugin(config) {\r\n    const isBuild = config.command === 'build';\r\n    return {\r\n        name: 'vite:worker-import-meta-url',\r\n        async transform(code, id, options) {\r\n            const ssr = options?.ssr === true;\r\n            if (!options?.ssr &&\r\n                (code.includes('new Worker') || code.includes('new SharedWorker')) &&\r\n                code.includes('new URL') &&\r\n                code.includes(`import.meta.url`)) {\r\n                const query = parseRequest(id);\r\n                let s;\r\n                const cleanString = stripLiteral(code);\r\n                const workerImportMetaUrlRE = /\\bnew\\s+(Worker|SharedWorker)\\s*\\(\\s*(new\\s+URL\\s*\\(\\s*('[^']+'|\"[^\"]+\"|`[^`]+`)\\s*,\\s*import\\.meta\\.url\\s*\\))/g;\r\n                let match;\r\n                while ((match = workerImportMetaUrlRE.exec(cleanString))) {\r\n                    const { 0: allExp, 2: exp, 3: emptyUrl, index } = match;\r\n                    const urlIndex = allExp.indexOf(exp) + index;\r\n                    const urlStart = cleanString.indexOf(emptyUrl, index);\r\n                    const urlEnd = urlStart + emptyUrl.length;\r\n                    const rawUrl = code.slice(urlStart, urlEnd);\r\n                    // potential dynamic template string\r\n                    if (rawUrl[0] === '`' && /\\$\\{/.test(rawUrl)) {\r\n                        this.error(`\\`new URL(url, import.meta.url)\\` is not supported in dynamic template string.`, urlIndex);\r\n                    }\r\n                    s || (s = new MagicString(code));\r\n                    const workerType = getWorkerType(code, cleanString, index + allExp.length);\r\n                    const file = normalizePath$3(path$n.resolve(path$n.dirname(id), rawUrl.slice(1, -1)));\r\n                    let url;\r\n                    if (isBuild) {\r\n                        getDepsOptimizer(config, ssr)?.registerWorkersSource(id);\r\n                        url = await workerFileToUrl(config, file, query);\r\n                    }\r\n                    else {\r\n                        url = await fileToUrl(cleanUrl(file), config, this);\r\n                        url = injectQuery(url, WORKER_FILE_ID);\r\n                        url = injectQuery(url, `type=${workerType}`);\r\n                    }\r\n                    s.overwrite(urlIndex, urlIndex + exp.length, JSON.stringify(url), {\r\n                        contentOnly: true\r\n                    });\r\n                }\r\n                if (s) {\r\n                    return transformStableResult(s, id, config);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * Prepares the rendered chunks to contain additional metadata during build.\r\n */\r\nfunction metadataPlugin() {\r\n    return {\r\n        name: 'vite:build-metadata',\r\n        async renderChunk(_code, chunk) {\r\n            chunk.viteMetadata = {\r\n                importedAssets: new Set(),\r\n                importedCss: new Set()\r\n            };\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\nclass VariableDynamicImportError extends Error {}\r\n\r\n/* eslint-disable-next-line no-template-curly-in-string */\r\nconst example = 'For example: import(`./foo/${bar}.js`).';\r\n\r\nfunction sanitizeString(str) {\r\n  if (str.includes('*')) {\r\n    throw new VariableDynamicImportError('A dynamic import cannot contain * characters.');\r\n  }\r\n  return str;\r\n}\r\n\r\nfunction templateLiteralToGlob(node) {\r\n  let glob = '';\r\n\r\n  for (let i = 0; i < node.quasis.length; i += 1) {\r\n    glob += sanitizeString(node.quasis[i].value.raw);\r\n    if (node.expressions[i]) {\r\n      glob += expressionToGlob(node.expressions[i]);\r\n    }\r\n  }\r\n\r\n  return glob;\r\n}\r\n\r\nfunction callExpressionToGlob(node) {\r\n  const { callee } = node;\r\n  if (\r\n    callee.type === 'MemberExpression' &&\r\n    callee.property.type === 'Identifier' &&\r\n    callee.property.name === 'concat'\r\n  ) {\r\n    return `${expressionToGlob(callee.object)}${node.arguments.map(expressionToGlob).join('')}`;\r\n  }\r\n  return '*';\r\n}\r\n\r\nfunction binaryExpressionToGlob(node) {\r\n  if (node.operator !== '+') {\r\n    throw new VariableDynamicImportError(`${node.operator} operator is not supported.`);\r\n  }\r\n\r\n  return `${expressionToGlob(node.left)}${expressionToGlob(node.right)}`;\r\n}\r\n\r\nfunction expressionToGlob(node) {\r\n  switch (node.type) {\r\n    case 'TemplateLiteral':\r\n      return templateLiteralToGlob(node);\r\n    case 'CallExpression':\r\n      return callExpressionToGlob(node);\r\n    case 'BinaryExpression':\r\n      return binaryExpressionToGlob(node);\r\n    case 'Literal': {\r\n      return sanitizeString(node.value);\r\n    }\r\n    default:\r\n      return '*';\r\n  }\r\n}\r\n\r\nconst defaultProtocol = 'file:';\r\nconst ignoredProtocols = ['data:', 'http:', 'https:'];\r\n\r\nfunction shouldIgnore(glob) {\r\n  const containsAsterisk = glob.includes('*');\r\n\r\n  const globURL = new URL(glob, defaultProtocol);\r\n\r\n  const containsIgnoredProtocol = ignoredProtocols.some(\r\n    (ignoredProtocol) => ignoredProtocol === globURL.protocol\r\n  );\r\n\r\n  return !containsAsterisk || containsIgnoredProtocol;\r\n}\r\n\r\nfunction dynamicImportToGlob(node, sourceString) {\r\n  let glob = expressionToGlob(node);\r\n\r\n  if (shouldIgnore(glob)) {\r\n    return null;\r\n  }\r\n\r\n  glob = glob.replace(/\\*\\*/g, '*');\r\n\r\n  if (glob.startsWith('*')) {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". It cannot be statically analyzed. Variable dynamic imports must start with ./ and be limited to a specific directory. ${example}`\r\n    );\r\n  }\r\n\r\n  if (glob.startsWith('/')) {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". Variable absolute imports are not supported, imports must start with ./ in the static part of the import. ${example}`\r\n    );\r\n  }\r\n\r\n  if (!glob.startsWith('./') && !glob.startsWith('../')) {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". Variable bare imports are not supported, imports must start with ./ in the static part of the import. ${example}`\r\n    );\r\n  }\r\n\r\n  // Disallow ./*.ext\r\n  const ownDirectoryStarExtension = /^\\.\\/\\*\\.[\\w]+$/;\r\n  if (ownDirectoryStarExtension.test(glob)) {\r\n    throw new VariableDynamicImportError(\r\n      `${\r\n        `invalid import \"${sourceString}\". Variable imports cannot import their own directory, ` +\r\n        'place imports in a separate directory or make the import filename more specific. '\r\n      }${example}`\r\n    );\r\n  }\r\n\r\n  if (require$$0$4.extname(glob) === '') {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". A file extension must be included in the static part of the import. ${example}`\r\n    );\r\n  }\r\n\r\n  return glob;\r\n}\r\n\r\nconst dynamicImportHelperId = '/@vite/dynamic-import-helper';\r\nconst dynamicImportHelper = (glob, path) => {\r\n    const v = glob[path];\r\n    if (v) {\r\n        return typeof v === 'function' ? v() : Promise.resolve(v);\r\n    }\r\n    return new Promise((_, reject) => {\r\n        (typeof queueMicrotask === 'function' ? queueMicrotask : setTimeout)(reject.bind(null, new Error('Unknown variable dynamic import: ' + path)));\r\n    });\r\n};\r\nfunction parseDynamicImportPattern(strings) {\r\n    const filename = strings.slice(1, -1);\r\n    const rawQuery = parseRequest(filename);\r\n    let globParams = null;\r\n    const ast = parse$c(strings, {\r\n        ecmaVersion: 'latest',\r\n        sourceType: 'module'\r\n    }).body[0].expression;\r\n    const userPatternQuery = dynamicImportToGlob(ast, filename);\r\n    if (!userPatternQuery) {\r\n        return null;\r\n    }\r\n    const [userPattern] = userPatternQuery.split(requestQuerySplitRE, 2);\r\n    const [rawPattern] = filename.split(requestQuerySplitRE, 2);\r\n    if (rawQuery?.raw !== undefined) {\r\n        globParams = { as: 'raw' };\r\n    }\r\n    return {\r\n        globParams,\r\n        userPattern,\r\n        rawPattern\r\n    };\r\n}\r\nasync function transformDynamicImport(importSource, importer, resolve, root) {\r\n    if (importSource[1] !== '.' && importSource[1] !== '/') {\r\n        const resolvedFileName = await resolve(importSource.slice(1, -1), importer);\r\n        if (!resolvedFileName) {\r\n            return null;\r\n        }\r\n        const relativeFileName = posix$2.relative(posix$2.dirname(normalizePath$3(importer)), normalizePath$3(resolvedFileName));\r\n        importSource = normalizePath$3('`' + (relativeFileName[0] === '.' ? '' : './') + relativeFileName + '`');\r\n    }\r\n    const dynamicImportPattern = parseDynamicImportPattern(importSource);\r\n    if (!dynamicImportPattern) {\r\n        return null;\r\n    }\r\n    const { globParams, rawPattern, userPattern } = dynamicImportPattern;\r\n    const params = globParams\r\n        ? `, ${JSON.stringify({ ...globParams, import: '*' })}`\r\n        : '';\r\n    let newRawPattern = posix$2.relative(posix$2.dirname(importer), await toAbsoluteGlob(rawPattern, root, importer, resolve));\r\n    if (!/^\\.{1,2}\\//.test(newRawPattern)) {\r\n        newRawPattern = `./${newRawPattern}`;\r\n    }\r\n    const exp = `(import.meta.glob(${JSON.stringify(userPattern)}${params}))`;\r\n    return {\r\n        rawPattern: newRawPattern,\r\n        pattern: userPattern,\r\n        glob: exp\r\n    };\r\n}\r\nfunction dynamicImportVarsPlugin(config) {\r\n    const resolve = config.createResolver({\r\n        preferRelative: true,\r\n        tryIndex: false,\r\n        extensions: []\r\n    });\r\n    const { include, exclude, warnOnError } = config.build.dynamicImportVarsOptions;\r\n    const filter = createFilter(include, exclude);\r\n    return {\r\n        name: 'vite:dynamic-import-vars',\r\n        resolveId(id) {\r\n            if (id === dynamicImportHelperId) {\r\n                return id;\r\n            }\r\n        },\r\n        load(id) {\r\n            if (id === dynamicImportHelperId) {\r\n                return 'export default ' + dynamicImportHelper.toString();\r\n            }\r\n        },\r\n        async transform(source, importer) {\r\n            if (!filter(importer)) {\r\n                return;\r\n            }\r\n            await init;\r\n            let imports = [];\r\n            try {\r\n                imports = parse$b(source)[0];\r\n            }\r\n            catch (e) {\r\n                // ignore as it might not be a JS file, the subsequent plugins will catch the error\r\n                return null;\r\n            }\r\n            if (!imports.length) {\r\n                return null;\r\n            }\r\n            let s;\r\n            let needDynamicImportHelper = false;\r\n            for (let index = 0; index < imports.length; index++) {\r\n                const { s: start, e: end, ss: expStart, se: expEnd, d: dynamicIndex } = imports[index];\r\n                if (dynamicIndex === -1 || source[start] !== '`') {\r\n                    continue;\r\n                }\r\n                s || (s = new MagicString(source));\r\n                let result;\r\n                try {\r\n                    // When import string is using backticks, es-module-lexer `end` captures\r\n                    // until the closing parenthesis, instead of the closing backtick.\r\n                    // There may be inline comments between the backtick and the closing\r\n                    // parenthesis, so we manually remove them for now.\r\n                    // See https://github.com/guybedford/es-module-lexer/issues/118\r\n                    const importSource = removeComments(source.slice(start, end)).trim();\r\n                    result = await transformDynamicImport(importSource, importer, resolve, config.root);\r\n                }\r\n                catch (error) {\r\n                    if (warnOnError) {\r\n                        this.warn(error);\r\n                    }\r\n                    else {\r\n                        this.error(error);\r\n                    }\r\n                }\r\n                if (!result) {\r\n                    continue;\r\n                }\r\n                const { rawPattern, glob } = result;\r\n                needDynamicImportHelper = true;\r\n                s.overwrite(expStart, expEnd, `__variableDynamicImportRuntimeHelper(${glob}, \\`${rawPattern}\\`)`);\r\n            }\r\n            if (s) {\r\n                if (needDynamicImportHelper) {\r\n                    s.prepend(`import __variableDynamicImportRuntimeHelper from \"${dynamicImportHelperId}\";`);\r\n                }\r\n                return transformStableResult(s, importer, config);\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nasync function resolvePlugins(config, prePlugins, normalPlugins, postPlugins) {\r\n    const isBuild = config.command === 'build';\r\n    const isWatch = isBuild && !!config.build.watch;\r\n    const buildPlugins = isBuild\r\n        ? (await Promise.resolve().then(function () { return build$1; })).resolveBuildPlugins(config)\r\n        : { pre: [], post: [] };\r\n    return [\r\n        isWatch ? ensureWatchPlugin() : null,\r\n        isBuild ? metadataPlugin() : null,\r\n        preAliasPlugin(config),\r\n        alias$1({ entries: config.resolve.alias }),\r\n        ...prePlugins,\r\n        config.build.polyfillModulePreload\r\n            ? modulePreloadPolyfillPlugin(config)\r\n            : null,\r\n        ...(isDepsOptimizerEnabled(config, false) ||\r\n            isDepsOptimizerEnabled(config, true)\r\n            ? [\r\n                isBuild\r\n                    ? optimizedDepsBuildPlugin(config)\r\n                    : optimizedDepsPlugin(config)\r\n            ]\r\n            : []),\r\n        resolvePlugin({\r\n            ...config.resolve,\r\n            root: config.root,\r\n            isProduction: config.isProduction,\r\n            isBuild,\r\n            packageCache: config.packageCache,\r\n            ssrConfig: config.ssr,\r\n            asSrc: true,\r\n            getDepsOptimizer: (ssr) => getDepsOptimizer(config, ssr),\r\n            shouldExternalize: isBuild && config.build.ssr && config.ssr?.format !== 'cjs'\r\n                ? (id) => shouldExternalizeForSSR(id, config)\r\n                : undefined\r\n        }),\r\n        htmlInlineProxyPlugin(config),\r\n        cssPlugin(config),\r\n        config.esbuild !== false ? esbuildPlugin(config.esbuild) : null,\r\n        jsonPlugin({\r\n            namedExports: true,\r\n            ...config.json\r\n        }, isBuild),\r\n        wasmHelperPlugin(config),\r\n        webWorkerPlugin(config),\r\n        assetPlugin(config),\r\n        ...normalPlugins,\r\n        wasmFallbackPlugin(),\r\n        definePlugin(config),\r\n        cssPostPlugin(config),\r\n        isBuild && config.build.ssr ? ssrRequireHookPlugin(config) : null,\r\n        isBuild && buildHtmlPlugin(config),\r\n        workerImportMetaUrlPlugin(config),\r\n        ...buildPlugins.pre,\r\n        dynamicImportVarsPlugin(config),\r\n        importGlobPlugin(config),\r\n        ...postPlugins,\r\n        ...buildPlugins.post,\r\n        // internal server-only plugins are always applied after everything else\r\n        ...(isBuild\r\n            ? []\r\n            : [clientInjectionsPlugin(config), importAnalysisPlugin(config)])\r\n    ].filter(Boolean);\r\n}\r\n\r\nvar main$1 = {exports: {}};\r\n\r\nconst fs = require$$0__default;\r\nconst path = require$$0$4;\r\nconst os = require$$1;\r\n\r\nfunction log (message) {\r\n  console.log(`[dotenv][DEBUG] ${message}`);\r\n}\r\n\r\nconst NEWLINE = '\\n';\r\nconst RE_INI_KEY_VAL = /^\\s*([\\w.-]+)\\s*=\\s*(\"[^\"]*\"|'[^']*'|.*?)(\\s+#.*)?$/;\r\nconst RE_NEWLINES = /\\\\n/g;\r\nconst NEWLINES_MATCH = /\\r\\n|\\n|\\r/;\r\n\r\n// Parses src into an Object\r\nfunction parse (src, options) {\r\n  const debug = Boolean(options && options.debug);\r\n  const multiline = Boolean(options && options.multiline);\r\n  const obj = {};\r\n\r\n  // convert Buffers before splitting into lines and processing\r\n  const lines = src.toString().split(NEWLINES_MATCH);\r\n\r\n  for (let idx = 0; idx < lines.length; idx++) {\r\n    let line = lines[idx];\r\n\r\n    // matching \"KEY' and 'VAL' in 'KEY=VAL'\r\n    const keyValueArr = line.match(RE_INI_KEY_VAL);\r\n    // matched?\r\n    if (keyValueArr != null) {\r\n      const key = keyValueArr[1];\r\n      // default undefined or missing values to empty string\r\n      let val = (keyValueArr[2] || '');\r\n      let end = val.length - 1;\r\n      const isDoubleQuoted = val[0] === '\"' && val[end] === '\"';\r\n      const isSingleQuoted = val[0] === \"'\" && val[end] === \"'\";\r\n\r\n      const isMultilineDoubleQuoted = val[0] === '\"' && val[end] !== '\"';\r\n      const isMultilineSingleQuoted = val[0] === \"'\" && val[end] !== \"'\";\r\n\r\n      // if parsing line breaks and the value starts with a quote\r\n      if (multiline && (isMultilineDoubleQuoted || isMultilineSingleQuoted)) {\r\n        const quoteChar = isMultilineDoubleQuoted ? '\"' : \"'\";\r\n\r\n        val = val.substring(1);\r\n\r\n        while (idx++ < lines.length - 1) {\r\n          line = lines[idx];\r\n          end = line.length - 1;\r\n          if (line[end] === quoteChar) {\r\n            val += NEWLINE + line.substring(0, end);\r\n            break\r\n          }\r\n          val += NEWLINE + line;\r\n        }\r\n      // if single or double quoted, remove quotes\r\n      } else if (isSingleQuoted || isDoubleQuoted) {\r\n        val = val.substring(1, end);\r\n\r\n        // if double quoted, expand newlines\r\n        if (isDoubleQuoted) {\r\n          val = val.replace(RE_NEWLINES, NEWLINE);\r\n        }\r\n      } else {\r\n        // remove surrounding whitespace\r\n        val = val.trim();\r\n      }\r\n\r\n      obj[key] = val;\r\n    } else if (debug) {\r\n      const trimmedLine = line.trim();\r\n\r\n      // ignore empty and commented lines\r\n      if (trimmedLine.length && trimmedLine[0] !== '#') {\r\n        log(`Failed to match key and value when parsing line ${idx + 1}: ${line}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  return obj\r\n}\r\n\r\nfunction resolveHome (envPath) {\r\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\r\n}\r\n\r\n// Populates process.env from .env file\r\nfunction config (options) {\r\n  let dotenvPath = path.resolve(process.cwd(), '.env');\r\n  let encoding = 'utf8';\r\n  const debug = Boolean(options && options.debug);\r\n  const override = Boolean(options && options.override);\r\n  const multiline = Boolean(options && options.multiline);\r\n\r\n  if (options) {\r\n    if (options.path != null) {\r\n      dotenvPath = resolveHome(options.path);\r\n    }\r\n    if (options.encoding != null) {\r\n      encoding = options.encoding;\r\n    }\r\n  }\r\n\r\n  try {\r\n    // specifying an encoding returns a string instead of a buffer\r\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }), { debug, multiline });\r\n\r\n    Object.keys(parsed).forEach(function (key) {\r\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\r\n        process.env[key] = parsed[key];\r\n      } else {\r\n        if (override === true) {\r\n          process.env[key] = parsed[key];\r\n        }\r\n\r\n        if (debug) {\r\n          if (override === true) {\r\n            log(`\"${key}\" is already defined in \\`process.env\\` and WAS overwritten`);\r\n          } else {\r\n            log(`\"${key}\" is already defined in \\`process.env\\` and was NOT overwritten`);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    return { parsed }\r\n  } catch (e) {\r\n    if (debug) {\r\n      log(`Failed to load ${dotenvPath} ${e.message}`);\r\n    }\r\n\r\n    return { error: e }\r\n  }\r\n}\r\n\r\nconst DotenvModule = {\r\n  config,\r\n  parse\r\n};\r\n\r\nmain$1.exports.config = DotenvModule.config;\r\nmain$1.exports.parse = DotenvModule.parse;\r\nmain$1.exports = DotenvModule;\r\n\r\nvar dotenvExpand = function (config) {\r\n  // if ignoring process.env, use a blank object\r\n  var environment = config.ignoreProcessEnv ? {} : process.env;\r\n\r\n  var interpolate = function (envValue) {\r\n    var matches = envValue.match(/(.?\\${?(?:[a-zA-Z0-9_]+)?}?)/g) || [];\r\n\r\n    return matches.reduce(function (newEnv, match) {\r\n      var parts = /(.?)\\${?([a-zA-Z0-9_]+)?}?/g.exec(match);\r\n      var prefix = parts[1];\r\n\r\n      var value, replacePart;\r\n\r\n      if (prefix === '\\\\') {\r\n        replacePart = parts[0];\r\n        value = replacePart.replace('\\\\$', '$');\r\n      } else {\r\n        var key = parts[2];\r\n        replacePart = parts[0].substring(prefix.length);\r\n        // process.env value 'wins' over .env file's value\r\n        value = environment.hasOwnProperty(key) ? environment[key] : (config.parsed[key] || '');\r\n\r\n        // Resolve recursive interpolations\r\n        value = interpolate(value);\r\n      }\r\n\r\n      return newEnv.replace(replacePart, value)\r\n    }, envValue)\r\n  };\r\n\r\n  for (var configKey in config.parsed) {\r\n    var value = environment.hasOwnProperty(configKey) ? environment[configKey] : config.parsed[configKey];\r\n\r\n    config.parsed[configKey] = interpolate(value);\r\n  }\r\n\r\n  for (var processKey in config.parsed) {\r\n    environment[processKey] = config.parsed[processKey];\r\n  }\r\n\r\n  return config\r\n};\r\n\r\nvar main = dotenvExpand;\r\n\r\nfunction loadEnv(mode, envDir, prefixes = 'VITE_') {\r\n    if (mode === 'local') {\r\n        throw new Error(`\"local\" cannot be used as a mode name because it conflicts with ` +\r\n            `the .local postfix for .env files.`);\r\n    }\r\n    prefixes = arraify(prefixes);\r\n    const env = {};\r\n    const envFiles = [\r\n        /** mode local file */ `.env.${mode}.local`,\r\n        /** mode file */ `.env.${mode}`,\r\n        /** local file */ `.env.local`,\r\n        /** default file */ `.env`\r\n    ];\r\n    // check if there are actual env variables starting with VITE_*\r\n    // these are typically provided inline and should be prioritized\r\n    for (const key in process.env) {\r\n        if (prefixes.some((prefix) => key.startsWith(prefix)) &&\r\n            env[key] === undefined) {\r\n            env[key] = process.env[key];\r\n        }\r\n    }\r\n    for (const file of envFiles) {\r\n        const path = lookupFile(envDir, [file], { pathOnly: true, rootDir: envDir });\r\n        if (path) {\r\n            const parsed = main$1.exports.parse(fs$l.readFileSync(path), {\r\n                debug: process.env.DEBUG?.includes('vite:dotenv') || undefined\r\n            });\r\n            // let environment variables use each other\r\n            main({\r\n                parsed,\r\n                // prevent process.env mutation\r\n                ignoreProcessEnv: true\r\n            });\r\n            // only keys that start with prefix are exposed to client\r\n            for (const [key, value] of Object.entries(parsed)) {\r\n                if (prefixes.some((prefix) => key.startsWith(prefix)) &&\r\n                    env[key] === undefined) {\r\n                    env[key] = value;\r\n                }\r\n                else if (key === 'NODE_ENV' &&\r\n                    process.env.VITE_USER_NODE_ENV === undefined) {\r\n                    // NODE_ENV override in .env file\r\n                    process.env.VITE_USER_NODE_ENV = value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return env;\r\n}\r\nfunction resolveEnvPrefix({ envPrefix = 'VITE_' }) {\r\n    envPrefix = arraify(envPrefix);\r\n    if (envPrefix.some((prefix) => prefix === '')) {\r\n        throw new Error(`envPrefix option contains value '', which could lead unexpected exposure of sensitive information.`);\r\n    }\r\n    return envPrefix;\r\n}\r\n\r\nfunction resolveSSROptions(ssr, buildSsrCjsExternalHeuristics, preserveSymlinks) {\r\n    ssr ?? (ssr = {});\r\n    const optimizeDeps = ssr.optimizeDeps ?? {};\r\n    let format = 'esm';\r\n    let target = 'node';\r\n    if (buildSsrCjsExternalHeuristics) {\r\n        if (ssr) {\r\n            format = 'cjs';\r\n        }\r\n        else {\r\n            target = 'node';\r\n            format = 'cjs';\r\n        }\r\n    }\r\n    return {\r\n        format,\r\n        target,\r\n        ...ssr,\r\n        optimizeDeps: {\r\n            disabled: true,\r\n            ...optimizeDeps,\r\n            esbuildOptions: {\r\n                preserveSymlinks,\r\n                ...optimizeDeps.esbuildOptions\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nconst debug = createDebugger('vite:config');\r\n/**\r\n * Type helper to make it easier to use vite.config.ts\r\n * accepts a direct {@link UserConfig} object, or a function that returns it.\r\n * The function receives a {@link ConfigEnv} object that exposes two properties:\r\n * `command` (either `'build'` or `'serve'`), and `mode`.\r\n */\r\nfunction defineConfig(config) {\r\n    return config;\r\n}\r\nasync function resolveConfig(inlineConfig, command, defaultMode = 'development') {\r\n    let config = inlineConfig;\r\n    let configFileDependencies = [];\r\n    let mode = inlineConfig.mode || defaultMode;\r\n    // some dependencies e.g. @vue/compiler-* relies on NODE_ENV for getting\r\n    // production-specific behavior, so set it here even though we haven't\r\n    // resolve the final mode yet\r\n    if (mode === 'production') {\r\n        process.env.NODE_ENV = 'production';\r\n    }\r\n    // production env would not work in serve, fallback to development\r\n    if (command === 'serve' && process.env.NODE_ENV === 'production') {\r\n        process.env.NODE_ENV = 'development';\r\n    }\r\n    const configEnv = {\r\n        mode,\r\n        command,\r\n        ssrBuild: !!config.build?.ssr\r\n    };\r\n    let { configFile } = config;\r\n    if (configFile !== false) {\r\n        const loadResult = await loadConfigFromFile(configEnv, configFile, config.root, config.logLevel);\r\n        if (loadResult) {\r\n            config = mergeConfig(loadResult.config, config);\r\n            configFile = loadResult.path;\r\n            configFileDependencies = loadResult.dependencies;\r\n        }\r\n    }\r\n    // Define logger\r\n    const logger = createLogger(config.logLevel, {\r\n        allowClearScreen: config.clearScreen,\r\n        customLogger: config.customLogger\r\n    });\r\n    // user config may provide an alternative mode. But --mode has a higher priority\r\n    mode = inlineConfig.mode || config.mode || mode;\r\n    configEnv.mode = mode;\r\n    // Some plugins that aren't intended to work in the bundling of workers (doing post-processing at build time for example).\r\n    // And Plugins may also have cached that could be corrupted by being used in these extra rollup calls.\r\n    // So we need to separate the worker plugin from the plugin that vite needs to run.\r\n    const rawWorkerUserPlugins = (await asyncFlatten(config.worker?.plugins || [])).filter((p) => {\r\n        if (!p) {\r\n            return false;\r\n        }\r\n        else if (!p.apply) {\r\n            return true;\r\n        }\r\n        else if (typeof p.apply === 'function') {\r\n            return p.apply({ ...config, mode }, configEnv);\r\n        }\r\n        else {\r\n            return p.apply === command;\r\n        }\r\n    });\r\n    // resolve plugins\r\n    const rawUserPlugins = (await asyncFlatten(config.plugins || [])).filter((p) => {\r\n        if (!p) {\r\n            return false;\r\n        }\r\n        else if (!p.apply) {\r\n            return true;\r\n        }\r\n        else if (typeof p.apply === 'function') {\r\n            return p.apply({ ...config, mode }, configEnv);\r\n        }\r\n        else {\r\n            return p.apply === command;\r\n        }\r\n    });\r\n    const [prePlugins, normalPlugins, postPlugins] = sortUserPlugins(rawUserPlugins);\r\n    // run config hooks\r\n    const userPlugins = [...prePlugins, ...normalPlugins, ...postPlugins];\r\n    for (const p of userPlugins) {\r\n        if (p.config) {\r\n            const res = await p.config(config, configEnv);\r\n            if (res) {\r\n                config = mergeConfig(config, res);\r\n            }\r\n        }\r\n    }\r\n    if (process.env.VITE_TEST_WITHOUT_PLUGIN_COMMONJS) {\r\n        config = mergeConfig(config, {\r\n            optimizeDeps: { disabled: false },\r\n            ssr: { optimizeDeps: { disabled: false } }\r\n        });\r\n        config.build ?? (config.build = {});\r\n        config.build.commonjsOptions = { include: [] };\r\n    }\r\n    // resolve root\r\n    const resolvedRoot = normalizePath$3(config.root ? path$n.resolve(config.root) : process.cwd());\r\n    const clientAlias = [\r\n        { find: /^[\\/]?@vite\\/env/, replacement: () => ENV_ENTRY },\r\n        { find: /^[\\/]?@vite\\/client/, replacement: () => CLIENT_ENTRY }\r\n    ];\r\n    // resolve alias with internal client alias\r\n    const resolvedAlias = normalizeAlias(mergeAlias(\r\n    // @ts-ignore because @rollup/plugin-alias' type doesn't allow function\r\n    // replacement, but its implementation does work with function values.\r\n    clientAlias, config.resolve?.alias || []));\r\n    const resolveOptions = {\r\n        ...config.resolve,\r\n        alias: resolvedAlias\r\n    };\r\n    // load .env files\r\n    const envDir = config.envDir\r\n        ? normalizePath$3(path$n.resolve(resolvedRoot, config.envDir))\r\n        : resolvedRoot;\r\n    const userEnv = inlineConfig.envFile !== false &&\r\n        loadEnv(mode, envDir, resolveEnvPrefix(config));\r\n    // Note it is possible for user to have a custom mode, e.g. `staging` where\r\n    // production-like behavior is expected. This is indicated by NODE_ENV=production\r\n    // loaded from `.staging.env` and set by us as VITE_USER_NODE_ENV\r\n    const isProduction = (process.env.NODE_ENV || process.env.VITE_USER_NODE_ENV || mode) ===\r\n        'production';\r\n    if (isProduction) {\r\n        // in case default mode was not production and is overwritten\r\n        process.env.NODE_ENV = 'production';\r\n    }\r\n    // resolve public base url\r\n    const isBuild = command === 'build';\r\n    const relativeBaseShortcut = config.base === '' || config.base === './';\r\n    // During dev, we ignore relative base and fallback to '/'\r\n    // For the SSR build, relative base isn't possible by means\r\n    // of import.meta.url.\r\n    const resolvedBase = relativeBaseShortcut\r\n        ? !isBuild || config.build?.ssr\r\n            ? '/'\r\n            : './'\r\n        : resolveBaseUrl(config.base, isBuild, logger) ?? '/';\r\n    const resolvedBuildOptions = resolveBuildOptions(config.build);\r\n    // resolve cache directory\r\n    const pkgPath = lookupFile(resolvedRoot, [`package.json`], { pathOnly: true });\r\n    const cacheDir = config.cacheDir\r\n        ? path$n.resolve(resolvedRoot, config.cacheDir)\r\n        : pkgPath\r\n            ? path$n.join(path$n.dirname(pkgPath), `node_modules/.vite`)\r\n            : path$n.join(resolvedRoot, `.vite`);\r\n    const assetsFilter = config.assetsInclude\r\n        ? createFilter(config.assetsInclude)\r\n        : () => false;\r\n    // create an internal resolver to be used in special scenarios, e.g.\r\n    // optimizer & handling css @imports\r\n    const createResolver = (options) => {\r\n        let aliasContainer;\r\n        let resolverContainer;\r\n        return async (id, importer, aliasOnly, ssr) => {\r\n            let container;\r\n            if (aliasOnly) {\r\n                container =\r\n                    aliasContainer ||\r\n                        (aliasContainer = await createPluginContainer({\r\n                            ...resolved,\r\n                            plugins: [alias$1({ entries: resolved.resolve.alias })]\r\n                        }));\r\n            }\r\n            else {\r\n                container =\r\n                    resolverContainer ||\r\n                        (resolverContainer = await createPluginContainer({\r\n                            ...resolved,\r\n                            plugins: [\r\n                                alias$1({ entries: resolved.resolve.alias }),\r\n                                resolvePlugin({\r\n                                    ...resolved.resolve,\r\n                                    root: resolvedRoot,\r\n                                    isProduction,\r\n                                    isBuild: command === 'build',\r\n                                    ssrConfig: resolved.ssr,\r\n                                    asSrc: true,\r\n                                    preferRelative: false,\r\n                                    tryIndex: true,\r\n                                    ...options\r\n                                })\r\n                            ]\r\n                        }));\r\n            }\r\n            return (await container.resolveId(id, importer, { ssr, scan: options?.scan }))?.id;\r\n        };\r\n    };\r\n    const { publicDir } = config;\r\n    const resolvedPublicDir = publicDir !== false && publicDir !== ''\r\n        ? path$n.resolve(resolvedRoot, typeof publicDir === 'string' ? publicDir : 'public')\r\n        : '';\r\n    const server = resolveServerOptions(resolvedRoot, config.server, logger);\r\n    const ssr = resolveSSROptions(config.ssr, config.legacy?.buildSsrCjsExternalHeuristics, config.resolve?.preserveSymlinks);\r\n    const middlewareMode = config?.server?.middlewareMode;\r\n    const optimizeDeps = config.optimizeDeps || {};\r\n    const BASE_URL = resolvedBase;\r\n    // resolve worker\r\n    let workerConfig = mergeConfig({}, config);\r\n    const [workerPrePlugins, workerNormalPlugins, workerPostPlugins] = sortUserPlugins(rawWorkerUserPlugins);\r\n    // run config hooks\r\n    const workerUserPlugins = [\r\n        ...workerPrePlugins,\r\n        ...workerNormalPlugins,\r\n        ...workerPostPlugins\r\n    ];\r\n    for (const p of workerUserPlugins) {\r\n        if (p.config) {\r\n            const res = await p.config(workerConfig, configEnv);\r\n            if (res) {\r\n                workerConfig = mergeConfig(workerConfig, res);\r\n            }\r\n        }\r\n    }\r\n    const resolvedWorkerOptions = {\r\n        format: workerConfig.worker?.format || 'iife',\r\n        plugins: [],\r\n        rollupOptions: workerConfig.worker?.rollupOptions || {}\r\n    };\r\n    const resolvedConfig = {\r\n        configFile: configFile ? normalizePath$3(configFile) : undefined,\r\n        configFileDependencies: configFileDependencies.map((name) => normalizePath$3(path$n.resolve(name))),\r\n        inlineConfig,\r\n        root: resolvedRoot,\r\n        base: resolvedBase,\r\n        resolve: resolveOptions,\r\n        publicDir: resolvedPublicDir,\r\n        cacheDir,\r\n        command,\r\n        mode,\r\n        ssr,\r\n        isWorker: false,\r\n        mainConfig: null,\r\n        isProduction,\r\n        plugins: userPlugins,\r\n        server,\r\n        build: resolvedBuildOptions,\r\n        preview: resolvePreviewOptions(config.preview, server),\r\n        env: {\r\n            ...userEnv,\r\n            BASE_URL,\r\n            MODE: mode,\r\n            DEV: !isProduction,\r\n            PROD: isProduction\r\n        },\r\n        assetsInclude(file) {\r\n            return DEFAULT_ASSETS_RE.test(file) || assetsFilter(file);\r\n        },\r\n        logger,\r\n        packageCache: new Map(),\r\n        createResolver,\r\n        optimizeDeps: {\r\n            disabled: 'build',\r\n            ...optimizeDeps,\r\n            esbuildOptions: {\r\n                preserveSymlinks: config.resolve?.preserveSymlinks,\r\n                ...optimizeDeps.esbuildOptions\r\n            }\r\n        },\r\n        worker: resolvedWorkerOptions,\r\n        appType: config.appType ?? (middlewareMode === 'ssr' ? 'custom' : 'spa'),\r\n        experimental: {\r\n            importGlobRestoreExtension: false,\r\n            hmrPartialAccept: false,\r\n            ...config.experimental\r\n        }\r\n    };\r\n    const resolved = {\r\n        ...config,\r\n        ...resolvedConfig\r\n    };\r\n    resolved.plugins = await resolvePlugins(resolved, prePlugins, normalPlugins, postPlugins);\r\n    const workerResolved = {\r\n        ...workerConfig,\r\n        ...resolvedConfig,\r\n        isWorker: true,\r\n        mainConfig: resolved\r\n    };\r\n    resolvedConfig.worker.plugins = await resolvePlugins(workerResolved, workerPrePlugins, workerNormalPlugins, workerPostPlugins);\r\n    // call configResolved hooks\r\n    await Promise.all(userPlugins\r\n        .map((p) => p.configResolved?.(resolved))\r\n        .concat(resolvedConfig.worker.plugins.map((p) => p.configResolved?.(workerResolved))));\r\n    // validate config\r\n    if (middlewareMode === 'ssr') {\r\n        logger.warn(picocolors.exports.yellow(`Setting server.middlewareMode to 'ssr' is deprecated, set server.middlewareMode to \\`true\\`${config.appType === 'custom' ? '' : ` and appType to 'custom'`} instead`));\r\n    }\r\n    if (middlewareMode === 'html') {\r\n        logger.warn(picocolors.exports.yellow(`Setting server.middlewareMode to 'html' is deprecated, set server.middlewareMode to \\`true\\` instead`));\r\n    }\r\n    if (config.server?.force &&\r\n        !isBuild &&\r\n        config.optimizeDeps?.force === undefined) {\r\n        resolved.optimizeDeps.force = true;\r\n        logger.warn(picocolors.exports.yellow(`server.force is deprecated, use optimizeDeps.force instead`));\r\n    }\r\n    if (process.env.DEBUG) {\r\n        debug(`using resolved config: %O`, {\r\n            ...resolved,\r\n            plugins: resolved.plugins.map((p) => p.name),\r\n            worker: {\r\n                ...resolved.worker,\r\n                plugins: resolved.worker.plugins.map((p) => p.name)\r\n            }\r\n        });\r\n    }\r\n    if (config.build?.terserOptions && config.build.minify !== 'terser') {\r\n        logger.warn(picocolors.exports.yellow(`build.terserOptions is specified but build.minify is not set to use Terser. ` +\r\n            `Note Vite now defaults to use esbuild for minification. If you still ` +\r\n            `prefer Terser, set build.minify to \"terser\".`));\r\n    }\r\n    // Check if all assetFileNames have the same reference.\r\n    // If not, display a warn for user.\r\n    const outputOption = config.build?.rollupOptions?.output ?? [];\r\n    // Use isArray to narrow its type to array\r\n    if (Array.isArray(outputOption)) {\r\n        const assetFileNamesList = outputOption.map((output) => output.assetFileNames);\r\n        if (assetFileNamesList.length > 1) {\r\n            const firstAssetFileNames = assetFileNamesList[0];\r\n            const hasDifferentReference = assetFileNamesList.some((assetFileNames) => assetFileNames !== firstAssetFileNames);\r\n            if (hasDifferentReference) {\r\n                resolved.logger.warn(picocolors.exports.yellow(`\r\nassetFileNames isn't equal for every build.rollupOptions.output. A single pattern across all outputs is supported by Vite.\r\n`));\r\n            }\r\n        }\r\n    }\r\n    return resolved;\r\n}\r\n/**\r\n * Resolve base url. Note that some users use Vite to build for non-web targets like\r\n * electron or expects to deploy\r\n */\r\nfunction resolveBaseUrl(base = '/', isBuild, logger) {\r\n    if (base.startsWith('.')) {\r\n        logger.warn(picocolors.exports.yellow(picocolors.exports.bold(`(!) invalid \"base\" option: ${base}. The value can only be an absolute ` +\r\n            `URL, ./, or an empty string.`)));\r\n        base = '/';\r\n    }\r\n    // external URL\r\n    if (isExternalUrl(base)) {\r\n        if (!isBuild) {\r\n            // get base from full url during dev\r\n            const parsed = parse$k(base);\r\n            base = parsed.pathname || '/';\r\n        }\r\n    }\r\n    else {\r\n        // ensure leading slash\r\n        if (!base.startsWith('/')) {\r\n            logger.warn(picocolors.exports.yellow(picocolors.exports.bold(`(!) \"base\" option should start with a slash.`)));\r\n            base = '/' + base;\r\n        }\r\n    }\r\n    // ensure ending slash\r\n    if (!base.endsWith('/')) {\r\n        logger.warn(picocolors.exports.yellow(picocolors.exports.bold(`(!) \"base\" option should end with a slash.`)));\r\n        base += '/';\r\n    }\r\n    return base;\r\n}\r\nfunction sortUserPlugins(plugins) {\r\n    const prePlugins = [];\r\n    const postPlugins = [];\r\n    const normalPlugins = [];\r\n    if (plugins) {\r\n        plugins.flat().forEach((p) => {\r\n            if (p.enforce === 'pre')\r\n                prePlugins.push(p);\r\n            else if (p.enforce === 'post')\r\n                postPlugins.push(p);\r\n            else\r\n                normalPlugins.push(p);\r\n        });\r\n    }\r\n    return [prePlugins, normalPlugins, postPlugins];\r\n}\r\nasync function loadConfigFromFile(configEnv, configFile, configRoot = process.cwd(), logLevel) {\r\n    const start = performance.now();\r\n    const getTime = () => `${(performance.now() - start).toFixed(2)}ms`;\r\n    let resolvedPath;\r\n    if (configFile) {\r\n        // explicit config path is always resolved from cwd\r\n        resolvedPath = path$n.resolve(configFile);\r\n    }\r\n    else {\r\n        // implicit config file loaded from inline root (if present)\r\n        // otherwise from cwd\r\n        for (const filename of DEFAULT_CONFIG_FILES) {\r\n            const filePath = path$n.resolve(configRoot, filename);\r\n            if (!fs$l.existsSync(filePath))\r\n                continue;\r\n            resolvedPath = filePath;\r\n            break;\r\n        }\r\n    }\r\n    if (!resolvedPath) {\r\n        debug('no config file found.');\r\n        return null;\r\n    }\r\n    let isESM = false;\r\n    if (/\\.m[jt]s$/.test(resolvedPath)) {\r\n        isESM = true;\r\n    }\r\n    else if (/\\.c[jt]s$/.test(resolvedPath)) {\r\n        isESM = false;\r\n    }\r\n    else {\r\n        // check package.json for type: \"module\" and set `isESM` to true\r\n        try {\r\n            const pkg = lookupFile(configRoot, ['package.json']);\r\n            isESM = !!pkg && JSON.parse(pkg).type === 'module';\r\n        }\r\n        catch (e) { }\r\n    }\r\n    try {\r\n        const bundled = await bundleConfigFile(resolvedPath, isESM);\r\n        const userConfig = await loadConfigFromBundledFile(resolvedPath, bundled.code, isESM);\r\n        debug(`bundled config file loaded in ${getTime()}`);\r\n        const config = await (typeof userConfig === 'function'\r\n            ? userConfig(configEnv)\r\n            : userConfig);\r\n        if (!isObject$2(config)) {\r\n            throw new Error(`config must export or return an object.`);\r\n        }\r\n        return {\r\n            path: normalizePath$3(resolvedPath),\r\n            config,\r\n            dependencies: bundled.dependencies\r\n        };\r\n    }\r\n    catch (e) {\r\n        createLogger(logLevel).error(picocolors.exports.red(`failed to load config from ${resolvedPath}`), { error: e });\r\n        throw e;\r\n    }\r\n}\r\nasync function bundleConfigFile(fileName, isESM) {\r\n    const dirnameVarName = '__vite_injected_original_dirname';\r\n    const filenameVarName = '__vite_injected_original_filename';\r\n    const importMetaUrlVarName = '__vite_injected_original_import_meta_url';\r\n    const result = await build$3({\r\n        absWorkingDir: process.cwd(),\r\n        entryPoints: [fileName],\r\n        outfile: 'out.js',\r\n        write: false,\r\n        target: ['node14.18', 'node16'],\r\n        platform: 'node',\r\n        bundle: true,\r\n        format: isESM ? 'esm' : 'cjs',\r\n        sourcemap: 'inline',\r\n        metafile: true,\r\n        define: {\r\n            __dirname: dirnameVarName,\r\n            __filename: filenameVarName,\r\n            'import.meta.url': importMetaUrlVarName\r\n        },\r\n        plugins: [\r\n            {\r\n                name: 'externalize-deps',\r\n                setup(build) {\r\n                    build.onResolve({ filter: /.*/ }, ({ path: id, importer }) => {\r\n                        // externalize bare imports\r\n                        if (id[0] !== '.' && !path$n.isAbsolute(id)) {\r\n                            return {\r\n                                external: true\r\n                            };\r\n                        }\r\n                        // bundle the rest and make sure that the we can also access\r\n                        // it's third-party dependencies. externalize if not.\r\n                        // monorepo/\r\n                        // \u251C\u2500 package.json\r\n                        // \u251C\u2500 utils.js -----------> bundle (share same node_modules)\r\n                        // \u251C\u2500 vite-project/\r\n                        // \u2502  \u251C\u2500 vite.config.js --> entry\r\n                        // \u2502  \u251C\u2500 package.json\r\n                        // \u251C\u2500 foo-project/\r\n                        // \u2502  \u251C\u2500 utils.js --------> external (has own node_modules)\r\n                        // \u2502  \u251C\u2500 package.json\r\n                        const idFsPath = path$n.resolve(path$n.dirname(importer), id);\r\n                        const idPkgPath = lookupFile(idFsPath, [`package.json`], {\r\n                            pathOnly: true\r\n                        });\r\n                        if (idPkgPath) {\r\n                            const idPkgDir = path$n.dirname(idPkgPath);\r\n                            // if this file needs to go up one or more directory to reach the vite config,\r\n                            // that means it has it's own node_modules (e.g. foo-project)\r\n                            if (path$n.relative(idPkgDir, fileName).startsWith('..')) {\r\n                                return {\r\n                                    // normalize actual import after bundled as a single vite config\r\n                                    path: isESM ? pathToFileURL(idFsPath).href : idFsPath,\r\n                                    external: true\r\n                                };\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            {\r\n                name: 'inject-file-scope-variables',\r\n                setup(build) {\r\n                    build.onLoad({ filter: /\\.[cm]?[jt]s$/ }, async (args) => {\r\n                        const contents = await fs$l.promises.readFile(args.path, 'utf8');\r\n                        const injectValues = `const ${dirnameVarName} = ${JSON.stringify(path$n.dirname(args.path))};` +\r\n                            `const ${filenameVarName} = ${JSON.stringify(args.path)};` +\r\n                            `const ${importMetaUrlVarName} = ${JSON.stringify(pathToFileURL(args.path).href)};`;\r\n                        return {\r\n                            loader: args.path.endsWith('ts') ? 'ts' : 'js',\r\n                            contents: injectValues + contents\r\n                        };\r\n                    });\r\n                }\r\n            }\r\n        ]\r\n    });\r\n    const { text } = result.outputFiles[0];\r\n    return {\r\n        code: text,\r\n        dependencies: result.metafile ? Object.keys(result.metafile.inputs) : []\r\n    };\r\n}\r\nconst _require = createRequire$1(import.meta.url);\r\nasync function loadConfigFromBundledFile(fileName, bundledCode, isESM) {\r\n    // for esm, before we can register loaders without requiring users to run node\r\n    // with --experimental-loader themselves, we have to do a hack here:\r\n    // write it to disk, load it with native Node ESM, then delete the file.\r\n    if (isESM) {\r\n        const fileBase = `${fileName}.timestamp-${Date.now()}`;\r\n        const fileNameTmp = `${fileBase}.mjs`;\r\n        const fileUrl = `${pathToFileURL(fileBase)}.mjs`;\r\n        fs$l.writeFileSync(fileNameTmp, bundledCode);\r\n        try {\r\n            return (await dynamicImport(fileUrl)).default;\r\n        }\r\n        finally {\r\n            try {\r\n                fs$l.unlinkSync(fileNameTmp);\r\n            }\r\n            catch {\r\n                // already removed if this function is called twice simultaneously\r\n            }\r\n        }\r\n    }\r\n    // for cjs, we can register a custom loader via `_require.extensions`\r\n    else {\r\n        const extension = path$n.extname(fileName);\r\n        const realFileName = fs$l.realpathSync(fileName);\r\n        const loaderExt = extension in _require.extensions ? extension : '.js';\r\n        const defaultLoader = _require.extensions[loaderExt];\r\n        _require.extensions[loaderExt] = (module, filename) => {\r\n            if (filename === realFileName) {\r\n                module._compile(bundledCode, filename);\r\n            }\r\n            else {\r\n                defaultLoader(module, filename);\r\n            }\r\n        };\r\n        // clear cache in case of server restart\r\n        delete _require.cache[_require.resolve(fileName)];\r\n        const raw = _require(fileName);\r\n        _require.extensions[loaderExt] = defaultLoader;\r\n        return raw.__esModule ? raw.default : raw;\r\n    }\r\n}\r\nfunction getDepOptimizationConfig(config, ssr) {\r\n    return ssr ? config.ssr.optimizeDeps : config.optimizeDeps;\r\n}\r\nfunction isDepsOptimizerEnabled(config, ssr) {\r\n    const { command } = config;\r\n    const { disabled } = getDepOptimizationConfig(config, ssr);\r\n    return !(disabled === true ||\r\n        (command === 'build' && disabled === 'build') ||\r\n        (command === 'serve' && disabled === 'dev'));\r\n}\r\n\r\nexport { getAugmentedNamespace as A, getDefaultExportFromCjs as B, index$1 as C, build$1 as D, index as E, preview$1 as F, resolvePackageData as a, build as b, createServer as c, defineConfig as d, resolveConfig as e, formatPostcssSourceMap as f, resolveBaseUrl as g, getDepOptimizationConfig as h, isDepsOptimizerEnabled as i, mergeAlias as j, createFilter as k, loadConfigFromFile as l, mergeConfig as m, normalizePath$3 as n, optimizeDeps as o, preview as p, send as q, resolvePackageEntry as r, sortUserPlugins as s, transformWithEsbuild as t, createLogger as u, searchForWorkspaceRoot as v, loadEnv as w, resolveEnvPrefix as x, picocolors as y, commonjsGlobal as z };\r\n", "import path, { resolve } from 'node:path';\r\nimport { fileURLToPath } from 'node:url';\r\n\r\nvar version = \"3.0.9\";\r\n\r\nconst VERSION = version;\r\nconst DEFAULT_MAIN_FIELDS = [\r\n    'module',\r\n    'jsnext:main',\r\n    'jsnext'\r\n];\r\n// Baseline support browserslist\r\n// \"defaults and supports es6-module and supports es6-module-dynamic-import\"\r\n// Higher browser versions may be needed for extra features.\r\nconst ESBUILD_MODULES_TARGET = [\r\n    'es2020',\r\n    'edge88',\r\n    'firefox78',\r\n    'chrome87',\r\n    'safari13' // transpile nullish coalescing\r\n];\r\nconst DEFAULT_EXTENSIONS = [\r\n    '.mjs',\r\n    '.js',\r\n    '.mts',\r\n    '.ts',\r\n    '.jsx',\r\n    '.tsx',\r\n    '.json'\r\n];\r\nconst DEFAULT_CONFIG_FILES = [\r\n    'vite.config.js',\r\n    'vite.config.mjs',\r\n    'vite.config.ts',\r\n    'vite.config.cjs',\r\n    'vite.config.mts',\r\n    'vite.config.cts'\r\n];\r\nconst JS_TYPES_RE = /\\.(?:j|t)sx?$|\\.mjs$/;\r\nconst OPTIMIZABLE_ENTRY_RE = /\\.(?:[cm]?[jt]s)$/;\r\nconst SPECIAL_QUERY_RE = /[\\?&](?:worker|sharedworker|raw|url)\\b/;\r\n/**\r\n * Prefix for resolved fs paths, since windows paths may not be valid as URLs.\r\n */\r\nconst FS_PREFIX = `/@fs/`;\r\n/**\r\n * Prefix for resolved Ids that are not valid browser import specifiers\r\n */\r\nconst VALID_ID_PREFIX = `/@id/`;\r\n/**\r\n * Plugins that use 'virtual modules' (e.g. for helper functions), prefix the\r\n * module ID with `\\0`, a convention from the rollup ecosystem.\r\n * This prevents other plugins from trying to process the id (like node resolution),\r\n * and core features like sourcemaps can use this info to differentiate between\r\n * virtual modules and regular files.\r\n * `\\0` is not a permitted char in import URLs so we have to replace them during\r\n * import analysis. The id will be decoded back before entering the plugins pipeline.\r\n * These encoded virtual ids are also prefixed by the VALID_ID_PREFIX, so virtual\r\n * modules in the browser end up encoded as `/@id/__x00__{id}`\r\n */\r\nconst NULL_BYTE_PLACEHOLDER = `__x00__`;\r\nconst CLIENT_PUBLIC_PATH = `/@vite/client`;\r\nconst ENV_PUBLIC_PATH = `/@vite/env`;\r\nconst VITE_PACKAGE_DIR = resolve(\r\n// import.meta.url is `dist/node/constants.js` after bundle\r\nfileURLToPath(import.meta.url), '../../..');\r\nconst CLIENT_ENTRY = resolve(VITE_PACKAGE_DIR, 'dist/client/client.mjs');\r\nconst ENV_ENTRY = resolve(VITE_PACKAGE_DIR, 'dist/client/env.mjs');\r\nconst CLIENT_DIR = path.dirname(CLIENT_ENTRY);\r\n// ** READ THIS ** before editing `KNOWN_ASSET_TYPES`.\r\n//   If you add an asset to `KNOWN_ASSET_TYPES`, make sure to also add it\r\n//   to the TypeScript declaration file `packages/vite/client.d.ts` and\r\n//   add a mime type to the `registerCustomMime` in\r\n//   `packages/vite/src/node/plugin/assets.ts` if mime type cannot be\r\n//   looked up by mrmime.\r\nconst KNOWN_ASSET_TYPES = [\r\n    // images\r\n    'png',\r\n    'jpe?g',\r\n    'jfif',\r\n    'pjpeg',\r\n    'pjp',\r\n    'gif',\r\n    'svg',\r\n    'ico',\r\n    'webp',\r\n    'avif',\r\n    // media\r\n    'mp4',\r\n    'webm',\r\n    'ogg',\r\n    'mp3',\r\n    'wav',\r\n    'flac',\r\n    'aac',\r\n    // fonts\r\n    'woff2?',\r\n    'eot',\r\n    'ttf',\r\n    'otf',\r\n    // other\r\n    'webmanifest',\r\n    'pdf',\r\n    'txt'\r\n];\r\nconst DEFAULT_ASSETS_RE = new RegExp(`\\\\.(` + KNOWN_ASSET_TYPES.join('|') + `)(\\\\?.*)?$`);\r\nconst DEP_VERSION_RE = /[\\?&](v=[\\w\\.-]+)\\b/;\r\nconst loopbackHosts = new Set([\r\n    'localhost',\r\n    '127.0.0.1',\r\n    '::1',\r\n    '0000:0000:0000:0000:0000:0000:0000:0001'\r\n]);\r\nconst wildcardHosts = new Set([\r\n    '0.0.0.0',\r\n    '::',\r\n    '0000:0000:0000:0000:0000:0000:0000:0000'\r\n]);\r\n\r\nexport { CLIENT_DIR, CLIENT_ENTRY, CLIENT_PUBLIC_PATH, DEFAULT_ASSETS_RE, DEFAULT_CONFIG_FILES, DEFAULT_EXTENSIONS, DEFAULT_MAIN_FIELDS, DEP_VERSION_RE, ENV_ENTRY, ENV_PUBLIC_PATH, ESBUILD_MODULES_TARGET, FS_PREFIX, JS_TYPES_RE, KNOWN_ASSET_TYPES, NULL_BYTE_PLACEHOLDER, OPTIMIZABLE_ENTRY_RE, SPECIAL_QUERY_RE, VALID_ID_PREFIX, VERSION, VITE_PACKAGE_DIR, loopbackHosts, wildcardHosts };\r\n"],
  "mappings": "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GAAG,MAAM,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,OAAO,GAAG,MAAM,IAAI,GAAG,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,KAAK,GAAG,MAAM,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,IAAI,MAAM,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,IAAI,GAAG,KAAK,GAAG,IAAI,IAAI,MAAM,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,QAAQ,GAAG;AAG98B,IAAI,6BAA6B,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,KAAK,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG,GAAG,IAAI,IAAI,GAAG,IAAI,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,KAAK,IAAI,KAAK,GAAG,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,MAAM,IAAI,IAAI,MAAM,MAAM,KAAK,MAAM,KAAK,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,IAAI,KAAK,IAAI,KAAK,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,MAAM,GAAG,MAAM,IAAI,GAAG,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,IAAI,GAAG,IAAI,GAAG,GAAG,KAAK,MAAM,KAAK,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,MAAM,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,G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;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA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",
  "names": ["module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "__defProp", "__hasOwnProp", "key", "build", "formatMessages", "transform", "version", "visit", "clone", "offset", "length", "buffer", "options", "format", "platform", "watch", "resolveExtensions", "path3", "ext", "error", "plugins", "resolve", "resolve2", "promise", "filter", "transform2", "formatMessages2", "messages", "map", "at", "line", "match", "column", "index", "binary", "fs", "os", "path", "crypto", "path2", "fs2", "os2", "tty", "status", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "module", "key", "import_node_path", "import_node_url", "path", "import_node_url", "import_node_path", "import_node_module", "__filename", "__cjs_fileURLToPath", "__dirname", "__cjs_dirname", "require", "__cjs_createRequire", "__require", "n", "require$$0$3", "open", "close", "replace", "string", "index", "nextIndex", "pattern", "entry", "key", "options", "require$$0$4", "chars", "win32", "path", "match", "prepend", "append", "token", "length", "isGlob", "isExtglob", "braces", "peek", "advance", "DOT_LITERAL", "PLUS_LITERAL", "SLASH_LITERAL", "ONE_CHAR", "DOTS_SLASH", "NO_DOT", "NO_DOT_SLASH", "NO_DOTS_SLASH", "QMARK", "QMARK_NO_DOT", "STAR", "START_ANCHOR", "opts", "star", "stack", "value", "push", "first", "rest", "posix", "escaped", "range", "out", "NO_DOTS", "source", "isMatch", "state", "isIgnored", "matcher", "format", "patterns", "module", "node", "extractAssignedNames", "attachScopes", "resolve$4", "posix$1", "require$$0__default", "pos", "current", "stat", "err", "base", "realpathSync", "pad", "c", "set", "minimatch", "Minimatch", "filter", "makeRe", "braceExpand", "debug", "self", "partial", "inherits", "util", "matches", "literal", "m", "slash", "assert", "assert$1", "isAbsolute", "common", "setopts", "ownProp", "childrenIgnored", "read", "lstat", "error", "cb", "array", "require$$0$5", "inflight", "once", "extend", "add", "sync", "found", "er", "line", "toString", "min", "i", "column", "appendLeft", "appendRight", "clone", "prependLeft", "prependRight", "remove", "trimEnd", "trimStart", "parse", "basename$1", "dirname$1", "relative$1", "join$1", "statSync$1", "extension", "extensions", "commonjs", "replacement", "requireNode", "mode", "plugins", "url", "map", "isString", "version", "seg", "insert", "depth", "ctx", "ms", "env", "formatter", "split", "load", "warned", "tty", "require$$0$6", "init", "log", "useColors", "win32$1", "isAbsolute$1", "createFilter", "makeLegalIdentifier", "indent", "dataToEsm", "data", "optimizeDeps", "ext", "createRequire$1", "resolve$5", "fs$l", "os$3", "path$n", "URL$3", "root", "offset", "promisify$4", "src", "server", "config", "createHash$2", "find", "alias", "readline", "level", "isMap", "promises$1", "DEFAULT_EXTENSIONS", "ref", "createRequire$2", "key2", "transform$2", "require$$1", "require$$1$1", "resolve", "terserPath", "stringify", "wrap", "isPadded", "zeros", "max", "contains", "walk", "queue", "basename", "require$$0$7", "slice", "stream", "settings", "tasks", "fs", "statSync", "get", "context", "resume", "provider", "os", "Settings", "FastGlob", "isDynamicPattern", "getOptions", "transform", "isEmpty", "yaml", "handle", "res", "_a", "schema", "end", "qs", "comment", "str", "overwrite", "seq", "buffer", "pairs", "omap", "sign", "merge", "comma", "composeNode", "composeEmptyNode", "sep", "CN", "ok", "tag", "cst", "ch", "lastChar", "start", "parser", "require$$0$8", "require$$0$9", "BitSet", "Chunk", "SourceMap", "Mappings", "MagicString", "matchAll", "promises$2", "TokenType", "Position", "SourceLocation", "async", "Parser", "DestructuringErrors", "node$1", "TokContext", "Scope", "Node", "RegExpValidationState", "unicode", "Token", "parseExpressionAt", "tokenizer", "extname", "parse$k", "E", "A", "Q", "B", "g", "I", "o", "D", "J", "C", "browser", "ParseOptions", "format$2", "pathToFileURL$1", "isRequire", "id", "pkgId", "processResult", "resolved", "build", "escape", "isDebug", "_require", "resolve$6", "join$2", "scan", "posix$2", "staticImports", "filePath", "isAbsolute$2", "build$3", "seen", "_b", "deps", "timeout", "timestamp", "platform", "promise", "needsInterop", "imports", "exports", "facade", "ssr", "require$$5", "require$$0$a", "Buffer", "fill", "parent", "req", "setHeaders", "lookup", "scriptRel", "assetsURL", "chunk", "file", "markerStartPos", "p", "filename", "isHTMLProxy", "chunkCSS", "relative", "promises", "importer", "less", "rootFile", "resolvers", "relative$2", "dirname$2", "basename$2", "warn", "watch", "generate", "isExternal", "URL", "fd", "net", "require$$3$1", "fn", "listener", "statuses", "codes", "status", "require$$1$2", "vary", "testString", "returnIndex", "main", "rawEmitter", "dirname", "newStats", "at", "realpath", "stats", "maj", "isDirectory", "pp", "globParent", "normalizePath", "threshold", "now", "s", "require$$2", "guessEditor", "getArgumentsForPosition", "launchEditorMiddleware", "createServer", "https", "mod", "bufferUtil", "require$$0$b", "isValidUTF8", "require$$1$3", "require$$4", "receiver", "websocket", "protocol", "createServer$2", "has", "EventEmitter", "events", "required", "http", "proxyReq", "proxyError", "XHeaders", "head", "httpProxy", "ProxyServer", "etag", "extname$1", "binary", "isexe", "cp", "listen", "zlib$1", "preview", "outputChunk", "workerCache", "workerType", "serializeArray", "serializeObject", "configFile"]
}
